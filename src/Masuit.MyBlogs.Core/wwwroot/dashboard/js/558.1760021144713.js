(self["webpackChunkcimo"]=self["webpackChunkcimo"]||[]).push([[558],{13986:function(e,t,o){"use strict";var a=o(13719),l=o.n(a),r=o(27454),n=o.n(r),c=o(76661),s=o(57695);const i=l().create({baseURL:c.c.baseURL,timeout:c.c.timeOut});i.interceptors.request.use(e=>{const t=sessionStorage.getItem("access_token");if(t&&(e.headers.Authorization="Bearer "+t),e.type)switch(e.type){case"FORM-DATA":e.transformRequest=[e=>"args="+JSON.stringify(e)];break;case"FORM":e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=n().stringify(e.data);break;default:break}return e},e=>Promise.reject(e)),i.interceptors.response.use(e=>("object"==typeof e.data&&Object.keys(e.data).includes("Success")&&!0!==e.data.Success&&s.oR.error(e.data.Message||`请求失败:${e.request.responseURL}`,{autoClose:3e3,position:"top-center"}),e.data),e=>{if("ECONNABORTED"===e.code||e.message&&-1!==e.message.indexOf("timeout")||"Network Error"===e.message)return s.oR.error("网络异常",{autoClose:3e3,position:"top-center"}),Promise.reject(e);if(e.response)switch(e.response.status){case 400:s.oR.error("请求错误:"+e.response.data.Message||0,{autoClose:3e3,position:"top-center"});break;case 403:s.oR.error("拒绝访问(403)",{autoClose:3e3,position:"top-center"});break;case 404:s.oR.error("资源不存在(404)",{autoClose:3e3,position:"top-center"});break;case 408:s.oR.error("请求超时(408)",{autoClose:3e3,position:"top-center"});break;case 500:s.oR.error("服务器错误(500)",{autoClose:3e3,position:"top-center"});break;case 501:s.oR.error("服务未实现(501)",{autoClose:3e3,position:"top-center"});break;case 502:s.oR.error("网络错误(502)",{autoClose:3e3,position:"top-center"});break;case 503:s.oR.error("服务不可用(503)",{autoClose:3e3,position:"top-center"});break;case 504:s.oR.error("网络超时(504)",{autoClose:3e3,position:"top-center"});break;case 505:s.oR.error("HTTP版本不受支持(505)",{autoClose:3e3,position:"top-center"});break;default:break}return Promise.reject(e)}),t.A=i},19165:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return qe}});var a=o(74061),l=o(57695),r=o(13986),n=o(76661);const c={class:"menu-container"},s={class:"q-mb-lg"},i={class:"row items-center justify-between"},d={class:"col-auto"},u={class:"q-gutter-sm"},m={class:"col-auto"},p={class:"row items-center full-width menu-node"},v={class:"col"},V={class:"row items-center q-gutter-sm"},N={class:"text-weight-bold"},C=["href"],h={key:1,class:"text-grey-8"},f={class:"text-caption text-grey-7 q-mt-xs"},x={key:0},w={key:1,class:"q-ml-md"},g={key:2,class:"q-ml-md"},y=["src"],b={class:"col-auto"},k={class:"q-gutter-xs"},E={class:"text-subtitle2"},q={class:"row"},_={class:"col text-h6 flex items-center"},I={class:"form-section"},R={class:"section-title"},U={class:"row q-gutter-md q-mb-md"},A={class:"col-12"},T={class:"row q-gutter-md q-mb-md"},S={class:"col-12"},B={class:"row q-gutter-md q-mb-md"},D={class:"col-12"},M={class:"text-caption"},Q={class:"form-section"},L={class:"section-title"},P={class:"row q-gutter-md q-mb-md"},z={class:"col"},O={class:"col"},j={class:"row q-mb-md"},F={class:"col-12"},$={class:"row items-center"},W={class:"form-section"},H={class:"section-title"},J={class:"row q-gutter-md q-mb-md"},G={class:"col"},K={key:0,class:"icon-preview-card"},X={class:"icon-preview-container"},Y=["src"],Z={class:"text-caption text-grey-6 q-mt-sm"},ee={key:1,class:"text-center q-py-md"};var te=(0,a.defineComponent)({__name:"index",setup(e){const t=(0,a.ref)(!1),o=(0,a.ref)(!1),te=(0,a.ref)(!1),oe=(0,a.ref)(""),ae=(0,a.ref)([]),le=(0,a.ref)([]),re=(0,a.ref)(!1),ne=(0,a.ref)(!1),ce=(0,a.ref)(""),se=(0,a.ref)({}),ie=(0,a.ref)(!1),de=(0,a.ref)(null),ue=(0,a.ref)([]),me=(0,a.ref)([]),pe=(0,a.ref)(null),ve=(0,a.computed)(()=>oe.value?Ve(ae.value,oe.value):ae.value),Ve=(e,t)=>e.reduce((e,o)=>{const a=o.Name.toLowerCase().includes(t.toLowerCase()),l=o.Children?Ve(o.Children,t):[];return(a||l.length>0)&&e.push({...o,Children:l}),e},[]),Ne=(e,t)=>e.Name.toLowerCase().includes(t.toLowerCase()),Ce=e=>{const t=ue.value.find(t=>t.e===e);return t?t.name:"未知"},he=(e,t)=>{for(const o of e){if(o.Id===t)return o;if(o.Children){const e=he(o.Children,t);if(e)return e}}return null},fe=(e,t,o)=>{const a=he(o,e);if(!a||!a.Children)return!1;for(const l of a.Children){if(l.Id===t)return!0;if(l.Children&&fe(l.Id,t,o))return!0}return!1},xe=e=>{const t=[{label:"无（根级菜单）",value:null}],o=(a,l=[])=>{a.forEach(a=>{const r=[...l,a.Name];if(e&&a.Id===e)a.Children&&a.Children.length>0&&o(a.Children,r);else if(!e||!fe(e,a.Id,ae.value)){if(!a.Url||"#"===a.Url){const e=r.join(" > ");t.push({label:`${e}`,value:a.Id})}a.Children&&a.Children.length>0&&o(a.Children,r)}})};return o(ae.value),t},we=async()=>{t.value=!0;try{const e=await r.A.get("/menu/getmenus");e?.Data&&(ae.value=e.Data,0===le.value.length&&(le.value=ae.value.map(e=>e.Id)))}catch(e){console.error("加载菜单失败:",e),l.oR.error("加载菜单失败",{autoClose:3e3,position:"top-center"})}finally{t.value=!1}},ge=async()=>{try{const e=await r.A.get("/menu/getmenutype");e?.Data&&(ue.value=e.Data)}catch(e){console.error("加载菜单类型失败:",e),l.oR.error("加载菜单类型失败",{autoClose:3e3,position:"top-center"})}},ye=()=>{const e=[],t=o=>{o.forEach(o=>{e.push(o.Id),o.Children&&t(o.Children)})};t(ae.value),le.value=e},be=()=>{te.value=!te.value,te.value?ye():le.value=[]},ke=e=>{le.value=e},Ee=()=>{},qe=(e,t,o=null)=>{for(let a=0;a<e.length;a++){if(e[a].Id===t)return{menu:e[a],parent:o,siblings:e,index:a};if(e[a].Children){const o=qe(e[a].Children,t,e[a]);if(o)return o}}return null},_e=async(e,t)=>{try{const o={...e,Sort:t},a=await r.A.post("/menu/save",o);!0!==a?.Success&&l.oR.error("排序更新失败",{autoClose:3e3,position:"top-center"})}catch(o){console.error("更新排序失败:",o),l.oR.error("更新排序失败",{autoClose:3e3,position:"top-center"})}},Ie=async e=>{const t=qe(ae.value,e.Id);if(!t||0===t.index)return;const{siblings:o,index:a}=t,l=o[a-1],r=e.Sort;await _e(e,l.Sort),await _e(l,r),we()},Re=async e=>{const t=qe(ae.value,e.Id);if(!t||t.index===t.siblings.length-1)return;const{siblings:o,index:a}=t,l=o[a+1],r=e.Sort;await _e(e,l.Sort),await _e(l,r),we()},Ue=()=>{const e=ae.value[ae.value.length-1];se.value={Name:"",Url:"",Sort:e?e.Sort+10*(e.Children?.length||1):10,MenuType:0,NewTab:!1,Icon:"",ParentId:null},me.value=xe(),ce.value="新增根菜单",re.value=!0},Ae=e=>{e.Url&&"#"!==e.Url?l.oR.error(`菜单【${e.Name}】是一个有链接的菜单，不能作为父级菜单`,{autoClose:3e3,position:"top-center"}):(se.value={Name:"",Url:"",Sort:10*(e.Sort+(e.Children?.length||0)+1),MenuType:e.MenuType,NewTab:!1,Icon:"",ParentId:e.Id},me.value=xe(),ce.value=`新增子菜单到 "${e.Name}"`,re.value=!0)},Te=e=>{se.value={...e},me.value=xe(e.Id),ce.value="编辑菜单",re.value=!0},Se=()=>{re.value=!1,se.value={}},Be=async()=>{if(se.value.Name?.trim()){if(se.value.ParentId){const e=he(ae.value,se.value.ParentId);if(e&&e.Url&&"#"!==e.Url)return void l.oR.error("所选父级菜单有链接地址，不能作为父级菜单",{autoClose:3e3,position:"top-center"})}o.value=!0;try{se.value.Icon&&""!==se.value.Icon.trim()||(se.value.Icon=null);const e=await r.A.post("/menu/save",se.value);!1!==e?.Success?(l.oR.success(e?.Message||"操作成功",{autoClose:3e3,position:"top-center"}),re.value=!1,se.value={},await we()):l.oR.error(e?.Message||"操作失败",{autoClose:3e3,position:"top-center"})}catch(e){console.error("保存菜单失败:",e),l.oR.error("保存菜单失败",{autoClose:3e3,position:"top-center"})}finally{o.value=!1}}else l.oR.error("请输入菜单名称",{autoClose:3e3,position:"top-center"})},De=async e=>{try{const t=await r.A.post(`/menu/delete/${e.Id}`);l.oR.success(t?.Message||"删除成功",{autoClose:3e3,position:"top-center"}),await we()}catch(t){console.error("删除菜单失败:",t),l.oR.error("删除菜单失败",{autoClose:3e3,position:"top-center"})}},Me=e=>{de.value=e},Qe=e=>{const t=e.target;t.style.display="none"},Le=e=>{const t=e.target;t.style.display="block"},Pe=async()=>{if(de.value){ie.value=!0;try{const e=new FormData;e.append("file",de.value);const t=await r.A.post("/Upload",e,{headers:{"Content-Type":"multipart/form-data"}});t?.Data?(se.value.Icon=t.Data,l.oR.success("图片上传成功",{autoClose:3e3,position:"top-center"}),ne.value=!1,de.value=null):l.oR.error("图片上传失败",{autoClose:3e3,position:"top-center"})}catch(e){console.error("上传图片失败:",e),l.oR.error("上传图片失败",{autoClose:3e3,position:"top-center"})}finally{ie.value=!1}}else l.oR.error("请选择图片文件",{autoClose:3e3,position:"top-center"})};return(0,a.onMounted)(()=>{we(),ge()}),(e,l)=>{const r=(0,a.resolveComponent)("q-btn"),ae=(0,a.resolveComponent)("q-icon"),Ve=(0,a.resolveComponent)("q-input"),he=(0,a.resolveComponent)("q-chip"),fe=(0,a.resolveComponent)("q-tooltip"),xe=(0,a.resolveComponent)("q-card-section"),ge=(0,a.resolveComponent)("q-card-actions"),qe=(0,a.resolveComponent)("q-card"),_e=(0,a.resolveComponent)("q-popup-proxy"),ze=(0,a.resolveComponent)("q-tree"),Oe=(0,a.resolveComponent)("q-item-section"),je=(0,a.resolveComponent)("q-item"),Fe=(0,a.resolveComponent)("q-select"),$e=(0,a.resolveComponent)("q-checkbox"),We=(0,a.resolveComponent)("q-space"),He=(0,a.resolveComponent)("q-form"),Je=(0,a.resolveComponent)("q-separator"),Ge=(0,a.resolveComponent)("q-dialog"),Ke=(0,a.resolveComponent)("q-file"),Xe=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",c,[l[35]||(l[35]=(0,a.createElementVNode)("div",{class:"text-h4 q-mb-lg"},"导航菜单管理",-1)),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",u,[(0,a.createVNode)(r,{color:"positive",icon:"add",label:"新增菜单",onClick:Ue}),(0,a.createVNode)(r,{color:"info",icon:"unfold_more",label:te.value?"收起全部":"展开全部",onClick:be},null,8,["label"]),(0,a.createVNode)(r,{color:"primary",icon:"refresh",label:"刷新",onClick:we,loading:t.value},null,8,["loading"])])]),(0,a.createElementVNode)("div",m,[(0,a.createVNode)(Ve,{modelValue:oe.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>oe.value=e),ye],outlined:"",dense:"",placeholder:"搜索菜单名称",autofocus:"",debounce:"100"},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"search"})]),_:1},8,["modelValue"])])])]),(0,a.createVNode)(qe,null,{default:(0,a.withCtx)(()=>[(0,a.createVNode)(xe,null,{default:(0,a.withCtx)(()=>[(0,a.createVNode)(ze,{ref_key:"treeRef",ref:pe,nodes:ve.value,"node-key":"Id","label-key":"Name","children-key":"Children",expanded:le.value,"onUpdate:expanded":[l[2]||(l[2]=e=>le.value=e),ke],filter:oe.value,"filter-method":Ne,"no-connectors":"",onLazyLoad:Ee},{"default-header":(0,a.withCtx)(e=>[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",N,[e.node.Url&&"#"!==e.node.Url?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:e.node.Url.startsWith("http")?e.node.Url:(0,a.unref)(n.A).baseURL+e.node.Url,target:"_blank",class:"text-primary"},(0,a.toDisplayString)(e.node.Id)+"："+(0,a.toDisplayString)(e.node.Name),9,C)):((0,a.openBlock)(),(0,a.createElementBlock)("span",h,(0,a.toDisplayString)(e.node.Id)+"："+(0,a.toDisplayString)(e.node.Name),1))]),void 0!==e.node.MenuType?((0,a.openBlock)(),(0,a.createBlock)(he,{key:0,label:Ce(e.node.MenuType),size:"sm",color:"blue-grey-3","text-color":"white"},null,8,["label"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",f,[e.node.Url?((0,a.openBlock)(),(0,a.createElementBlock)("span",x,"URL："+(0,a.toDisplayString)(e.node.Url),1)):(0,a.createCommentVNode)("",!0),e.node.Sort?((0,a.openBlock)(),(0,a.createElementBlock)("span",w,"排序："+(0,a.toDisplayString)(e.node.Sort),1)):(0,a.createCommentVNode)("",!0),e.node.Icon?((0,a.openBlock)(),(0,a.createElementBlock)("span",g,[(0,a.createElementVNode)("img",{src:e.node.Icon,style:{height:"20px","vertical-align":"middle"},class:"q-mr-xs"},null,8,y),l[15]||(l[15]=(0,a.createTextVNode)(" 图标 ",-1))])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",k,[e.node.Url&&"#"!==e.node.Url?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(r,{key:0,size:"sm",color:"primary",icon:"add",dense:"",round:"",onClick:(0,a.withModifiers)(t=>Ae(e.node),["stop"])},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(fe,null,{default:(0,a.withCtx)(()=>[...l[16]||(l[16]=[(0,a.createTextVNode)("添加子菜单",-1)])]),_:1})]),_:1},8,["onClick"])),(0,a.createVNode)(r,{size:"sm",color:"purple",icon:"arrow_upward",dense:"",round:"",class:"sort-btn",onClick:(0,a.withModifiers)(t=>Ie(e.node),["stop"])},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(fe,null,{default:(0,a.withCtx)(()=>[...l[17]||(l[17]=[(0,a.createTextVNode)("上移",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.createVNode)(r,{size:"sm",color:"purple",icon:"arrow_downward",dense:"",round:"",class:"sort-btn",onClick:(0,a.withModifiers)(t=>Re(e.node),["stop"])},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(fe,null,{default:(0,a.withCtx)(()=>[...l[18]||(l[18]=[(0,a.createTextVNode)("下移",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.createVNode)(r,{size:"sm",color:"info",icon:"edit",dense:"",round:"",onClick:(0,a.withModifiers)(t=>Te(e.node),["stop"])},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(fe,null,{default:(0,a.withCtx)(()=>[...l[19]||(l[19]=[(0,a.createTextVNode)("编辑菜单",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.createVNode)(r,{size:"sm",color:"negative",icon:"delete",dense:"",round:"",onClick:l[1]||(l[1]=(0,a.withModifiers)(()=>{},["stop"]))},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(fe,null,{default:(0,a.withCtx)(()=>[...l[20]||(l[20]=[(0,a.createTextVNode)("删除菜单",-1)])]),_:1}),(0,a.createVNode)(_e,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(qe,{style:{"min-width":"300px"}},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(xe,{class:"row items-center"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"warning",color:"red",size:"2rem",class:"q-mr-sm"}),(0,a.createElementVNode)("div",null,[l[23]||(l[23]=(0,a.createElementVNode)("div",{class:"text-h6"},"确认删除",-1)),(0,a.createElementVNode)("div",E,[(0,a.createTextVNode)("确认删除菜单【"+(0,a.toDisplayString)(e.node.Name)+"】吗？",1),l[21]||(l[21]=(0,a.createElementVNode)("br",null,null,-1)),l[22]||(l[22]=(0,a.createTextVNode)("此操作将同时删除其所有子菜单！",-1))])])]),_:2},1024),(0,a.createVNode)(ge,{align:"right"},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createVNode)(r,{flat:"",label:"确认",color:"negative",onClick:t=>De(e.node)},null,8,["onClick"]),[[Xe]]),(0,a.withDirectives)((0,a.createVNode)(r,{flat:"",label:"取消",color:"primary"},null,512),[[Xe]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])])]),_:1},8,["nodes","expanded","filter"])]),_:1})]),_:1}),(0,a.createVNode)(Ge,{modelValue:re.value,"onUpdate:modelValue":l[11]||(l[11]=e=>re.value=e),persistent:""},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(qe,{style:{"min-width":"650px","max-width":"800px"}},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(xe,{class:"bg-primary text-white"},{default:(0,a.withCtx)(()=>[(0,a.createElementVNode)("div",q,[(0,a.createElementVNode)("div",_,[(0,a.createVNode)(ae,{name:"edit",class:"q-mr-sm"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(ce.value),1)]),(0,a.withDirectives)((0,a.createVNode)(r,{color:"primary",round:"",icon:"close",class:"text-right"},null,512),[[Xe]])])]),_:1}),(0,a.createVNode)(xe,{class:"q-pa-lg"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(He,{onSubmit:Be,class:"menu-form"},{default:(0,a.withCtx)(()=>[(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",R,[(0,a.createVNode)(ae,{name:"info",class:"q-mr-xs"}),l[24]||(l[24]=(0,a.createTextVNode)(" 基本信息 ",-1))]),(0,a.createElementVNode)("div",U,[(0,a.createElementVNode)("div",A,[(0,a.createVNode)(Ve,{modelValue:se.value.Name,"onUpdate:modelValue":l[3]||(l[3]=e=>se.value.Name=e),label:"菜单名称",outlined:"",rules:[e=>!!e||"请输入菜单名称"],"lazy-rules":""},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"label"})]),_:1},8,["modelValue","rules"])])]),(0,a.createElementVNode)("div",T,[(0,a.createElementVNode)("div",S,[(0,a.createVNode)(Fe,{modelValue:se.value.ParentId,"onUpdate:modelValue":l[4]||(l[4]=e=>se.value.ParentId=e),options:me.value,"option-label":"label","option-value":"value","emit-value":"","map-options":"",label:"父级菜单",outlined:"",hint:se.value.ParentId?"已选择父级菜单，此菜单将成为子菜单":"未选择父级菜单，此菜单将是根级菜单"},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"account_tree"})]),"no-option":(0,a.withCtx)(()=>[(0,a.createVNode)(je,null,{default:(0,a.withCtx)(()=>[(0,a.createVNode)(Oe,{class:"text-grey"},{default:(0,a.withCtx)(()=>[...l[25]||(l[25]=[(0,a.createTextVNode)(" 暂无可用的父级菜单（只有无链接的菜单才能作为父级） ",-1)])]),_:1})]),_:1})]),"after-options":(0,a.withCtx)(()=>[(0,a.createVNode)(je,null,{default:(0,a.withCtx)(()=>[(0,a.createVNode)(Oe,{class:"text-caption text-blue-grey-6"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"info",size:"xs",class:"q-mr-xs"}),l[26]||(l[26]=(0,a.createTextVNode)(' 提示：只有URL为空或"#"的菜单才能作为父级菜单 ',-1))]),_:1})]),_:1})]),_:1},8,["modelValue","options","hint"])])]),(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",D,[(0,a.createVNode)(Ve,{modelValue:se.value.Url,"onUpdate:modelValue":l[5]||(l[5]=e=>se.value.Url=e),label:"URL地址",outlined:"",hint:"留空或#表示父级菜单"},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"link"})]),hint:(0,a.withCtx)(()=>[(0,a.createElementVNode)("div",M,[(0,a.createVNode)(ae,{name:"info",size:"xs",class:"q-mr-xs"}),l[27]||(l[27]=(0,a.createTextVNode)(' 留空或填写"#"表示这是一个父级菜单，可以包含子菜单 ',-1))])]),_:1},8,["modelValue"])])])]),(0,a.createElementVNode)("div",Q,[(0,a.createElementVNode)("div",L,[(0,a.createVNode)(ae,{name:"settings",class:"q-mr-xs"}),l[28]||(l[28]=(0,a.createTextVNode)(" 配置信息 ",-1))]),(0,a.createElementVNode)("div",P,[(0,a.createElementVNode)("div",z,[(0,a.createVNode)(Ve,{modelValue:se.value.Sort,"onUpdate:modelValue":l[6]||(l[6]=e=>se.value.Sort=e),modelModifiers:{number:!0},label:"排序号",outlined:"",type:"number",min:"0",step:"10"},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"sort"})]),hint:(0,a.withCtx)(()=>[...l[29]||(l[29]=[(0,a.createTextVNode)(" 数值越小排序越靠前 ",-1)])]),_:1},8,["modelValue"])]),(0,a.createElementVNode)("div",O,[(0,a.createVNode)(Fe,{modelValue:se.value.MenuType,"onUpdate:modelValue":l[7]||(l[7]=e=>se.value.MenuType=e),options:ue.value,"option-label":"name","option-value":"e","emit-value":"","map-options":"",label:"菜单类型",outlined:""},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"category"})]),_:1},8,["modelValue","options"])])]),(0,a.createElementVNode)("div",j,[(0,a.createElementVNode)("div",F,[(0,a.createVNode)(qe,{flat:"",bordered:"",class:"bg-grey-1 q-pa-md"},{default:(0,a.withCtx)(()=>[(0,a.createElementVNode)("div",$,[(0,a.createVNode)($e,{modelValue:se.value.NewTab,"onUpdate:modelValue":l[8]||(l[8]=e=>se.value.NewTab=e),label:"在新标签页中打开链接",class:"text-weight-medium"},null,8,["modelValue"]),(0,a.createVNode)(We),(0,a.createVNode)(ae,{name:"open_in_new",color:"grey-6"})]),l[30]||(l[30]=(0,a.createElementVNode)("div",{class:"text-caption text-grey-7 q-mt-xs"}," 启用后，点击此菜单链接将在新的浏览器标签页中打开 ",-1))]),_:1})])])]),(0,a.createElementVNode)("div",W,[(0,a.createElementVNode)("div",H,[(0,a.createVNode)(ae,{name:"image",class:"q-mr-xs"}),l[31]||(l[31]=(0,a.createTextVNode)(" 图标设置 ",-1))]),(0,a.createElementVNode)("div",J,[(0,a.createElementVNode)("div",G,[(0,a.createVNode)(Ve,{modelValue:se.value.Icon,"onUpdate:modelValue":l[10]||(l[10]=e=>se.value.Icon=e),label:"图标地址",outlined:"",hint:"请输入图标URL或上传图片",clearable:""},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"insert_photo"})]),append:(0,a.withCtx)(()=>[(0,a.createVNode)(r,{color:"positive",icon:"upload",label:"上传图片",onClick:l[9]||(l[9]=e=>ne.value=!0)})]),_:1},8,["modelValue"])])]),se.value.Icon?((0,a.openBlock)(),(0,a.createElementBlock)("div",K,[(0,a.createVNode)(qe,{flat:"",bordered:"",class:"bg-grey-1"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(xe,{class:"text-center q-py-md"},{default:(0,a.withCtx)(()=>[l[32]||(l[32]=(0,a.createElementVNode)("div",{class:"text-caption text-grey-7 q-mb-sm"},"图标预览",-1)),(0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("img",{src:se.value.Icon?.startsWith("http")?se.value.Icon:(0,a.unref)(n.A).baseURL+se.value.Icon,class:"icon-preview-image",onError:Qe,onLoad:Le,style:{"min-height":"160px","max-width":"100%",height:"auto"}},null,40,Y)]),(0,a.createElementVNode)("div",Z,(0,a.toDisplayString)(se.value.Icon),1)]),_:1})]),_:1})])):((0,a.openBlock)(),(0,a.createElementBlock)("div",ee,[(0,a.createVNode)(ae,{name:"image",size:"48px",color:"grey-4"}),l[33]||(l[33]=(0,a.createElementVNode)("div",{class:"text-caption text-grey-6 q-mt-sm"}," 暂无图标，可上传图片或输入图标URL ",-1))]))])]),_:1})]),_:1}),(0,a.createVNode)(Je),(0,a.createVNode)(ge,{align:"right",class:"q-pa-lg bg-grey-1"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(r,{flat:"",label:"取消",color:"grey-7",onClick:Se,class:"q-mr-sm"}),(0,a.createVNode)(r,{label:"保存",color:"primary",onClick:Be,loading:o.value,unelevated:"",icon:"save"},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,a.createVNode)(Ge,{modelValue:ne.value,"onUpdate:modelValue":l[14]||(l[14]=e=>ne.value=e),persistent:""},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(qe,{style:{"min-width":"400px"}},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(xe,null,{default:(0,a.withCtx)(()=>[...l[34]||(l[34]=[(0,a.createElementVNode)("div",{class:"text-h6"},"上传图标",-1)])]),_:1}),(0,a.createVNode)(xe,{class:"q-pt-none"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(Ke,{modelValue:de.value,"onUpdate:modelValue":l[12]||(l[12]=e=>de.value=e),label:"选择图片文件",outlined:"",accept:"image/*",onInput:Me},{prepend:(0,a.withCtx)(()=>[(0,a.createVNode)(ae,{name:"image"})]),_:1},8,["modelValue"])]),_:1}),(0,a.createVNode)(ge,{align:"right"},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(r,{flat:"",label:"取消",color:"grey",onClick:l[13]||(l[13]=e=>ne.value=!1)}),(0,a.createVNode)(r,{label:"上传",color:"primary",onClick:Pe,loading:ie.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),oe=o(1317),ae=o(20407),le=o(38622),re=o(64503),ne=o(63663),ce=o(17180),se=o(26455),ie=o(97491),de=o(76997),ue=o(34854),me=o(71248),pe=o(51375),ve=o(93483),Ve=o(40975),Ne=o(93359),Ce=o(91484),he=o(78495),fe=o(25915),xe=o(5861),we=o(61929),ge=o(45855),ye=o(60515),be=o(22110),ke=o.n(be);const Ee=(0,oe.A)(te,[["__scopeId","data-v-7e36c16f"]]);var qe=Ee;ke()(te,"components",{QBtn:ae.A,QInput:le.A,QIcon:re.A,QCard:ne.A,QCardSection:ce.A,QTree:se.A,QChip:ie.A,QTooltip:de.A,QPopupProxy:ue.A,QCardActions:me.A,QDialog:pe.A,QForm:ve.A,QSelect:Ve.A,QItem:Ne.A,QItemSection:Ce.A,QCheckbox:he.A,QSpace:fe.A,QSeparator:xe.A,QFile:we.A,QField:ge.A}),ke()(te,"directives",{ClosePopup:ye.A})},42634:function(){}}]);