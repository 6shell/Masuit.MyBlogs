(self["webpackChunkcimo"]=self["webpackChunkcimo"]||[]).push([[328],{8055:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Pe}});var l=a(74220),o=a(46732),s=a(39798),n=a(43557),r=a(97700),u=a(75220),i=Object.assign({name:"base-menu-item"},{__name:"BaseMenuItem",props:["myRouter","initLevel","bgColor","bgColorLevel","duration","basePath"],setup(e){const t=e,a=(0,u.lq)(),o=(0,l.EW)(()=>t.bgColor+"-"+t.bgColorLevel+" base-menu-item"),s=(0,l.EW)(()=>e=>a.fullPath.startsWith(e)?"baseRootItemActive base-menu-item"+o.value:o.value),n=(0,l.EW)(()=>-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")),i=(e,t)=>{const a=void 0===e?t:e+"/"+t;return-1!==a.indexOf("http")?"#":a},c=(e,t)=>{const a=void 0===e?t:e+"/"+t,l=a.indexOf("http");if(-1!==l){const e=document.createElement("a");return e.setAttribute("href",a.slice(l)),e.setAttribute("target","_blank"),e.click(),!1}};return(e,a)=>{const u=(0,l.g2)("q-item-label"),d=(0,l.g2)("q-icon"),b=(0,l.g2)("q-item-section"),m=(0,l.g2)("q-item"),p=(0,l.g2)("base-menu-item",!0),v=(0,l.g2)("q-expansion-item"),k=(0,l.gN)("ripple");return(0,l.uX)(),(0,l.CE)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.myRouter,(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[!0!==e.meta.isHidden?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[e.meta.itemLabel?((0,l.uX)(),(0,l.Wv)(u,{header:"",class:"text-weight-bold text-uppercase",key:e.meta.itemLabel},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.meta.itemLabel),1)]),_:2},1024)):(0,l.Q3)("",!0),e.children?((0,l.uX)(),(0,l.Wv)(v,{duration:t.duration,class:(0,r.C4)(s.value(e.path)),"default-opened":e.meta.isOpen,"header-inset-level":t.initLevel,key:"expand-"+a,icon:e.meta.icon,label:e.meta.title,style:(0,r.Tr)(n.value?" line-height: normal":"")},{default:(0,l.k6)(()=>[(0,l.bF)(p,{"my-router":e.children,"init-level":t.initLevel+.2,"bg-color-level":t.bgColorLevel+1,"bg-color":t.bgColor,"base-path":void 0===t.basePath?e.path:t.basePath+"/"+e.path},null,8,["my-router","init-level","bg-color-level","bg-color","base-path"])]),_:2},1032,["duration","class","default-opened","header-inset-level","icon","label","style"])):(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{clickable:"",key:"item-"+a,exact:"/"===e.path,class:(0,r.C4)(o.value),"inset-level":t.initLevel,style:(0,r.Tr)(n.value?" line-height: normal":""),"active-class":"baseItemActive",to:i(t.basePath,e.path),onClick:a=>c(t.basePath,e.path)},{default:(0,l.k6)(()=>[(0,l.bF)(b,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{name:e.meta.icon},null,8,["name"])]),_:2},1024),(0,l.bF)(b,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.meta.title),1)]),_:2},1024)]),_:2},1032,["exact","class","inset-level","style","to","onClick"])),[[k]])],64)):(0,l.Q3)("",!0)],64))),256))])}}}),c=a(1317),d=a(72473),b=a(93359),m=a(91484),p=a(64503),v=a(77852),k=a(40161),f=a(22110),g=a.n(f);const _=(0,c.A)(i,[["__scopeId","data-v-4f9010bf"]]);var F=_;g()(i,"components",{QItemLabel:d.A,QItem:b.A,QItemSection:m.A,QIcon:p.A,QExpansionItem:v.A}),g()(i,"directives",{Ripple:k.A});var h=a(17315),y=Object.assign({name:"base-menu"},{__name:"BaseMenu",setup(e){(0,u.rd)();const t=(0,o.KR)([]),a=(0,o.KR)("bg-white");return(0,l.sV)(()=>{h.A&&h.A[0]&&h.A[0].children&&(t.value=h.A[0].children)}),(e,s)=>{const r=(0,l.g2)("q-list"),u=(0,l.g2)("q-scroll-area");return(0,l.uX)(),(0,l.Wv)(u,{visible:!1,class:"fit","thumb-style":(0,o.R1)(n.w)},{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(F),{"my-router":t.value,"init-level":0,"bg-color":a.value,duration:300,"bg-color-level":1},null,8,["my-router","bg-color"])]),_:1})])]),_:1},8,["thumb-style"])}}}),R=a(30196),A=a(5668);const x=y;var C=x;g()(y,"components",{QScrollArea:R.A,QList:A.A});var w=a(29445);const q={class:"flex items-center"},W={class:"flex items-center"},L={class:"line-limit-length"};var Q={__name:"TagView",setup(e){const t=(0,w.s)(),a=(0,o.KR)([]),n=(0,l.EW)(()=>t.getTagView),u=(0,l.EW)(()=>-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger"));(0,l.wB)(n,e=>{a.value=e,t.SET_KEEPALIVE_LIST(a.value),window.sessionStorage.setItem("tagView",JSON.stringify(a.value))}),(0,l.sV)(()=>{a.value=t.getTagView});const i=()=>{t.REMOVE_TAG_VIEW()},c=e=>{t.REMOVE_TAG_VIEW(e)},d=e=>{t.REMOVE_TAG_VIEW({side:"left",index:e})},b=e=>{t.REMOVE_TAG_VIEW({side:"right",index:e})},m=e=>{t.REMOVE_TAG_VIEW({side:"others",index:e})};return(e,t)=>{const o=(0,l.g2)("q-icon"),n=(0,l.g2)("q-route-tab"),p=(0,l.g2)("q-item-section"),v=(0,l.g2)("q-item"),k=(0,l.g2)("q-list"),f=(0,l.g2)("q-menu"),g=(0,l.g2)("q-tabs"),_=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)("div",{class:"row",style:(0,r.Tr)({margin:e.$q.screen.gt.sm?"0px 15px 0px 15px":""})},[(0,l.bF)(g,{align:"left","active-color":"primary",class:"bg-white col-12",dense:"",swipeable:"","inline-label":"","indicator-color":"transparent","outside-arrows":!!e.$q.platform.is.electron,breakpoint:0},{default:(0,l.k6)(()=>[(0,l.bF)(n,{class:"tagView",to:"/","no-caps":"","content-class":"tagView-q-router-tab",style:(0,r.Tr)(u.value?" line-height: normal":"")},{default:(0,l.k6)(()=>[(0,l.Lk)("div",q,[(0,l.bF)(o,{size:"1.3rem",name:"home"}),t[0]||(t[0]=(0,l.Lk)("div",{class:"line-limit-length",style:{margin:"0px 5px 0px 5px"}},"主页",-1))])]),_:1},8,["style"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(e,a)=>((0,l.uX)(),(0,l.Wv)(n,{key:e.fullPath+a,class:"tagView",to:e.fullPath,"no-caps":"","content-class":"tagView-q-router-tab",style:(0,r.Tr)(u.value?" line-height: normal":"")},{default:(0,l.k6)(()=>[(0,l.Lk)("div",W,[e.icon?((0,l.uX)(),(0,l.Wv)(o,{key:0,size:"1.3rem",name:e.icon},null,8,["name"])):(0,l.Q3)("",!0),(0,l.Lk)("div",L,(0,r.v_)(e.title),1),(0,l.bF)(o,{class:"tagView-remove-icon",style:{display:"inline-flex"},name:"close",onClick:(0,s.D$)(e=>c(a),["prevent","stop"])},null,8,["onClick"]),(0,l.bF)(f,{"touch-position":"","context-menu":""},{default:(0,l.k6)(()=>[(0,l.bF)(k,{dense:""},{default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(p,{onClick:e=>m(a)},{default:(0,l.k6)(()=>[...t[1]||(t[1]=[(0,l.eW)(" 关闭其他 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)),[[_]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(p,{onClick:e=>b(a)},{default:(0,l.k6)(()=>[...t[2]||(t[2]=[(0,l.eW)(" 关闭右侧 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)),[[_]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(p,{onClick:e=>d(a)},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.eW)(" 关闭左侧 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)),[[_]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(p,{onClick:i},{default:(0,l.k6)(()=>[...t[4]||(t[4]=[(0,l.eW)(" 关闭所有 ",-1)])]),_:1})]),_:1})),[[_]])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["to","style"]))),128))]),_:1},8,["outside-arrows"])],4)}}},V=a(4591),I=a(18202),E=a(14599),X=a(60515);const K=(0,c.A)(Q,[["__scopeId","data-v-5650e5b6"]]);var U=K;g()(Q,"components",{QTabs:V.A,QRouteTab:I.A,QIcon:p.A,QMenu:E.A,QList:A.A,QItem:b.A,QItemSection:m.A}),g()(Q,"directives",{ClosePopup:X.A});a(74564),a(90324);const T={key:0,style:{margin:"0px 8px 0px 8px"}};var S={__name:"Breadcrumbs",setup(e){const t=(0,w.s)(),a=(0,o.KR)([]),n=(0,l.EW)(()=>t.getBreadcrumbs),r=(0,l.EW)(()=>a.value.filter(e=>e.title));return(0,l.sV)(()=>{a.value=t.getBreadcrumbs}),(0,l.wB)(n,e=>{a.value=e}),(e,t)=>{const a=(0,l.g2)("q-breadcrumbs-el"),o=(0,l.g2)("q-breadcrumbs");return(0,l.uX)(),(0,l.Wv)(o,{class:"flex items-center","active-color":"none",style:{transform:"translateX(10px)"}},{default:(0,l.k6)(()=>[(0,l.bF)(s.F,{name:"breadcrumb"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,(e,t)=>((0,l.uX)(),(0,l.Wv)(a,{key:t+e.title,class:"items-center",style:{"vertical-align":"middle"},label:e.title,icon:""===e.icon?void 0:e.icon},{default:(0,l.k6)(()=>[r.value.length!==t+1?((0,l.uX)(),(0,l.CE)("div",T," / ")):(0,l.Q3)("",!0)]),_:2},1032,["label","icon"]))),128))]),_:1})]),_:1})}}},M=a(43259),O=a(29678);const P=S;var N=P;function $(e,t){const a=(0,l.g2)("q-toolbar-title"),o=(0,l.g2)("q-btn");return e.$q.screen.gt.xs?((0,l.uX)(),(0,l.Wv)(o,{key:0,flat:"","no-caps":"","no-wrap":"",class:"q-ml-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(a,{shrink:"",class:"text-weight-bold"},{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.eW)(" 博客管理后台 ",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0)}g()(S,"components",{QBreadcrumbs:M.A,QBreadcrumbsEl:O.A});var B=a(20407),D=a(18283);const z={},j=(0,c.A)(z,[["render",$]]);var G=j;g()(z,"components",{QBtn:B.A,QToolbarTitle:D.A});a(17578);var H=a(42608),J=a(13986),Y=a(76661),Z=a(57695),ee=a(64485);const te={class:"q-gutter-sm row items-center no-wrap"},ae={class:"q-pa-md",style:{"min-width":"300px"}},le={class:"text-center q-mt-sm"},oe={class:"q-pa-md",style:{"min-width":"300px"}},se={class:"text-center q-mt-sm"},ne={class:"q-pa-md",style:{"min-width":"300px"}},re={class:"text-center q-mt-sm"},ue={class:"q-pa-md",style:{"min-width":"350px"}},ie={class:"row items-center q-mb-sm"},ce=["innerHTML"],de={class:"text-center q-mt-sm"},be={class:"q-pa-md"},me={class:"row items-center q-mb-md"},pe=["src"],ve={class:"q-ml-md"},ke={class:"text-subtitle1"},fe={class:"text-caption text-grey"},ge=["src"],_e={key:0,class:"q-mt-md"};var Fe={__name:"ToolbarItemRight",setup(e){const t=(0,o.KR)({}),a=(0,H.A)(),s=(0,o.KR)([]),n=(0,o.KR)([]),u=(0,o.KR)([]),i=(0,o.KR)([]),c=(0,o.KR)(!1),d=(0,o.KR)(!1),b=(0,o.KR)(!1),m=(0,o.KR)(!1),p=(0,o.KR)(!1),v=(0,o.KR)(""),k=(0,o.KR)(""),f=(0,o.KR)(""),g=(0,o.KR)(""),_=(0,o.KR)(""),F=(0,o.KR)(null),h=(0,o.KR)("");let y=null,R=null;const A=()=>{if(!document.hidden)try{y=new EventSource(`${Y.A.baseURL}/dashboard/getmessages`),y.onmessage=e=>{try{const t=JSON.parse(e.data);s.value=t.post||[],n.value=t.comments||[],u.value=t.msgs||[]}catch(t){console.error("解析待审核消息失败:",t)}},y.onerror=e=>{console.error("待审核消息连接错误:",e)},R=new EventSource(`${Y.A.baseURL}/msg/GetUnreadMsgs`),R.onmessage=e=>{try{const t=JSON.parse(e.data);i.value=t||[]}catch(t){console.error("解析未读消息失败:",t)}},R.onerror=e=>{console.error("未读消息连接错误:",e)}}catch(e){console.error("初始化 EventSource 失败:",e)}},x=()=>{y&&(y.close(),y=null),R&&(R.close(),R=null)},C=()=>{document.hidden?x():A()},w=e=>{try{const t=new Date(e);return t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return e}},q=async e=>{try{await J.A.post(`/msg/read/${e.Id}`),e.Link&&window.open(e.Link,"_blank")}catch(t){Z.oR.error("标记消息已读失败:",t)}},W=async()=>{try{if(0===i.value.length)return;const e=Math.max(...i.value.map(e=>e.Id));await J.A.post(`/msg/MarkRead/${e}`),i.value=[],Z.oR.success("所有消息已标记为已读")}catch(e){Z.oR.error("清除通知失败:",e)}},L=()=>{v.value=t.value.Username,c.value=!0},Q=async()=>{if(v.value)try{const e=await J.A.post("/user/changeusername",{id:t.value.Id,username:v.value});e.Success?(t.value.Username=v.value,Z.oR.success("用户名修改成功",{autoClose:2e3,position:"top-center"}),c.value=!1):Z.oR.error(e.Message||"修改失败",{autoClose:2e3,position:"top-center"})}catch(e){Z.oR.error("修改失败",{autoClose:2e3,position:"top-center"})}else Z.oR.error("请输入用户名",{autoClose:2e3,position:"top-center"})},V=()=>{k.value=t.value.NickName,d.value=!0},I=async()=>{if(k.value)try{const e=await J.A.post("/user/changenickname",{id:t.value.Id,username:k.value});e.Success?(t.value.NickName=k.value,Z.oR.success("昵称修改成功",{autoClose:2e3,position:"top-center"}),d.value=!1):Z.oR.error(e.Message||"修改失败",{autoClose:2e3,position:"top-center"})}catch(e){Z.oR.error("修改失败",{autoClose:2e3,position:"top-center"})}else Z.oR.error("请输入昵称",{autoClose:2e3,position:"top-center"})},E=()=>{f.value="",g.value="",_.value="",b.value=!0},X=async()=>{if(f.value)if(g.value)if(_.value)if(g.value===_.value)try{const e=await J.A.post("/user/changepassword",{id:t.value.Id,old:f.value,pwd:g.value,pwd2:_.value});e.Success?(Z.oR.success("密码修改成功",{autoClose:2e3,position:"top-center"}),b.value=!1):Z.oR.error(e.Message||"密码修改失败",{autoClose:2e3,position:"top-center"})}catch(e){Z.oR.error("密码修改失败",{autoClose:2e3,position:"top-center"})}else Z.oR.error("两次输入的密码不一致",{autoClose:2e3,position:"top-center"});else Z.oR.error("请确认新密码",{autoClose:2e3,position:"top-center"});else Z.oR.error("请输入新密码",{autoClose:2e3,position:"top-center"});else Z.oR.error("请输入旧密码",{autoClose:2e3,position:"top-center"})},K=()=>{F.value=null,h.value="",m.value=!0},U=e=>{Z.oR.error("文件大小不能超过5MB",{autoClose:2e3,position:"top-center"})},T=async()=>{if(!F.value)return void Z.oR.error("请选择头像文件",{autoClose:2e3,position:"top-center"});const e=new FormData;e.append("file",F.value);try{const a=await J.A.post("/upload",e,{headers:{"Content-Type":"multipart/form-data"}});if(a.Success){const e=await J.A.post("/user/changeavatar",{id:t.value.Id,path:a.Data});e.Success?(t.value.Avatar=a.Data,Z.oR.success("头像修改成功",{autoClose:2e3,position:"top-center"}),m.value=!1):Z.oR.error("头像修改失败",{autoClose:2e3,position:"top-center"})}}catch(a){Z.oR.error("上传失败",{autoClose:2e3,position:"top-center"})}},S=()=>{p.value=!0},M=async()=>{try{await J.A.post("/passport/logout"),Z.oR.success("退出成功，即将返回网站首页",{autoClose:2e3,position:"top-center"}),p.value=!1,setTimeout(()=>{window.location.href="/"},2e3)}catch(e){Z.oR.error("退出登录失败",{autoClose:2e3,position:"top-center"})}};return(0,l.wB)(F,e=>{if(e){const t=new FileReader;t.onload=e=>{h.value=e.target.result},t.readAsDataURL(e)}else h.value=""}),(0,l.sV)(async()=>{document.addEventListener("visibilitychange",C),A(),t.value=await(0,ee.k)().getUserInfo()}),(0,l.hi)(()=>{document.removeEventListener("visibilitychange",C),x()}),(e,y)=>{const R=(0,l.g2)("q-tooltip"),A=(0,l.g2)("q-btn"),x=(0,l.g2)("q-badge"),C=(0,l.g2)("q-item-label"),O=(0,l.g2)("q-item-section"),P=(0,l.g2)("q-item"),N=(0,l.g2)("q-list"),$=(0,l.g2)("q-menu"),B=(0,l.g2)("q-space"),D=(0,l.g2)("q-avatar"),z=(0,l.g2)("q-icon"),j=(0,l.g2)("q-separator"),G=(0,l.g2)("q-card-section"),H=(0,l.g2)("q-input"),J=(0,l.g2)("q-card-actions"),Z=(0,l.g2)("q-card"),ee=(0,l.g2)("q-dialog"),Fe=(0,l.g2)("q-file"),he=(0,l.g2)("q-img"),ye=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",te,[(0,o.R1)(a).screen.gt.sm?((0,l.uX)(),(0,l.Wv)(A,{key:0,round:"",dense:"",flat:"",icon:"home",href:"/"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{class:"bg-grey"},{default:(0,l.k6)(()=>[...y[11]||(y[11]=[(0,l.eW)("网站首页",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0),(0,o.R1)(a).screen.gt.sm?((0,l.uX)(),(0,l.Wv)(A,{key:1,round:"",dense:"",flat:"",icon:"video_call",to:"/posts/write"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{class:"bg-green"},{default:(0,l.k6)(()=>[...y[12]||(y[12]=[(0,l.eW)("写文章",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0),(0,o.R1)(a).screen.gt.sm?((0,l.uX)(),(0,l.Wv)(A,{key:2,round:"",dense:"",flat:"",icon:"apps",to:"/filemanager"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{class:"bg-blue"},{default:(0,l.k6)(()=>[...y[13]||(y[13]=[(0,l.eW)("文件管理器",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0),(0,o.R1)(a).screen.gt.sm?((0,l.uX)(),(0,l.Wv)(A,{key:3,round:"",dense:"",flat:"",icon:"schedule",to:"/task-center"},{default:(0,l.k6)(()=>[(0,l.bF)(R,{class:"bg-red"},{default:(0,l.k6)(()=>[...y[14]||(y[14]=[(0,l.eW)("任务管理器",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0),s.value.length>0?((0,l.uX)(),(0,l.Wv)(A,{key:4,round:"",dense:"",flat:"",icon:"library_music"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{color:"red",floating:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(s.value.length),1)]),_:1}),(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[15]||(y[15]=[(0,l.eW)("待审核文章",-1)])]),_:1}),(0,l.bF)($,{class:"pending-menu"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ae,[y[17]||(y[17]=(0,l.Lk)("div",{class:"text-subtitle2 q-mb-sm"},"待审核文章",-1)),(0,l.bF)(N,{separator:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,e=>((0,l.uX)(),(0,l.Wv)(P,{key:e.Id,clickable:"",href:`${(0,o.R1)(Y.A).baseURL}/${e.Id}`,class:"q-py-sm",target:"_blank"},{default:(0,l.k6)(()=>[(0,l.bF)(O,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:"text-body2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.Title),1)]),_:2},1024),(0,l.bF)(C,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(w(e.PostDate)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),(0,l.Lk)("div",le,[(0,l.bF)(A,{flat:"",color:"primary",size:"sm",to:"/posts/pending"},{default:(0,l.k6)(()=>[...y[16]||(y[16]=[(0,l.eW)("查看所有",-1)])]),_:1})])])]),_:1})]),_:1})):(0,l.Q3)("",!0),n.value.length>0?((0,l.uX)(),(0,l.Wv)(A,{key:5,round:"",dense:"",flat:"",icon:"comment"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{color:"red",floating:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(n.value.length),1)]),_:1}),(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[18]||(y[18]=[(0,l.eW)("待审核评论",-1)])]),_:1}),(0,l.bF)($,{class:"pending-menu"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",oe,[y[20]||(y[20]=(0,l.Lk)("div",{class:"text-subtitle2 q-mb-sm"},"待审核评论",-1)),(0,l.bF)(N,{separator:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,e=>((0,l.uX)(),(0,l.Wv)(P,{key:e.Id,clickable:"",href:`${(0,o.R1)(Y.A).baseURL}/${e.PostId}?cid=${e.Id}#comment`,target:"_blank",class:"q-py-sm"},{default:(0,l.k6)(()=>[(0,l.bF)(O,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:"text-body2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.NickName),1)]),_:2},1024),(0,l.bF)(C,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(w(e.CommentDate)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),(0,l.Lk)("div",se,[(0,l.bF)(A,{flat:"",color:"primary",size:"sm",to:"/audit/comments"},{default:(0,l.k6)(()=>[...y[19]||(y[19]=[(0,l.eW)("查看所有",-1)])]),_:1})])])]),_:1})]),_:1})):(0,l.Q3)("",!0),u.value.length>0?((0,l.uX)(),(0,l.Wv)(A,{key:6,round:"",dense:"",flat:"",icon:"message"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{color:"red",floating:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(u.value.length),1)]),_:1}),(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[21]||(y[21]=[(0,l.eW)("待审核留言",-1)])]),_:1}),(0,l.bF)($,{class:"pending-menu"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ne,[y[23]||(y[23]=(0,l.Lk)("div",{class:"text-subtitle2 q-mb-sm"},"待审核留言",-1)),(0,l.bF)(N,{separator:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.value,e=>((0,l.uX)(),(0,l.Wv)(P,{key:e.Id,clickable:"",href:`${(0,o.R1)(Y.A).baseURL}/msg?cid=${e.Id}`,target:"_blank",class:"q-py-sm"},{default:(0,l.k6)(()=>[(0,l.bF)(O,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:"text-body2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.NickName),1)]),_:2},1024),(0,l.bF)(C,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(w(e.PostDate)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1}),(0,l.Lk)("div",re,[(0,l.bF)(A,{flat:"",color:"primary",size:"sm",to:"/audit/msgs"},{default:(0,l.k6)(()=>[...y[22]||(y[22]=[(0,l.eW)("查看所有",-1)])]),_:1})])])]),_:1})]),_:1})):(0,l.Q3)("",!0),i.value.length>0?((0,l.uX)(),(0,l.Wv)(A,{key:7,round:"",dense:"",flat:"",icon:"notifications"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{color:"red",floating:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(i.value.length),1)]),_:1}),(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[24]||(y[24]=[(0,l.eW)("未读消息",-1)])]),_:1}),(0,l.bF)($,{class:"pending-menu"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",ue,[(0,l.Lk)("div",ie,[y[26]||(y[26]=(0,l.Lk)("div",{class:"text-subtitle2"},"未读消息",-1)),(0,l.bF)(B),(0,l.bF)(A,{flat:"",dense:"",icon:"check_all",size:"sm",onClick:W,class:"q-ml-sm"},{default:(0,l.k6)(()=>[(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[25]||(y[25]=[(0,l.eW)("全部标记为已读",-1)])]),_:1})]),_:1})]),(0,l.bF)(N,{separator:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,e=>((0,l.uX)(),(0,l.Wv)(P,{key:e.Id,clickable:"",onClick:t=>q(e),class:"q-py-sm"},{default:(0,l.k6)(()=>[(0,l.bF)(O,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:"text-body2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)(e.Title),1)]),_:2},1024),(0,l.bF)(C,{caption:""},{default:(0,l.k6)(()=>[(0,l.Lk)("span",{innerHTML:e.Content},null,8,ce)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),(0,l.Lk)("div",de,[(0,l.bF)(A,{flat:"",color:"primary",size:"sm",to:"/msgs"},{default:(0,l.k6)(()=>[...y[27]||(y[27]=[(0,l.eW)("查看所有消息",-1)])]),_:1})])])]),_:1})]),_:1})):(0,l.Q3)("",!0),(0,l.bF)(A,{round:"",flat:""},{default:(0,l.k6)(()=>[(0,l.bF)($,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",be,[(0,l.Lk)("div",me,[(0,l.bF)(D,{size:"48px"},{default:(0,l.k6)(()=>[(0,l.Lk)("img",{src:t.value.Avatar?.startsWith("http")?t.value.Avatar:(0,o.R1)(Y.A).baseURL+t.value.Avatar},null,8,pe)]),_:1}),(0,l.Lk)("div",ve,[(0,l.Lk)("div",ke,(0,r.v_)(t.value.NickName),1),(0,l.Lk)("div",fe,(0,r.v_)(t.value.Username),1)])]),(0,l.bF)(N,{dense:""},{default:(0,l.k6)(()=>[(0,l.bF)(P,{clickable:"",onClick:L,class:"q-mb-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"account_circle"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[28]||(y[28]=[(0,l.eW)("修改用户名",-1)])]),_:1})]),_:1}),(0,l.bF)(P,{clickable:"",onClick:V,class:"q-mb-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"person"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[29]||(y[29]=[(0,l.eW)("修改昵称",-1)])]),_:1})]),_:1}),(0,l.bF)(P,{clickable:"",onClick:E,class:"q-mb-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"lock"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[30]||(y[30]=[(0,l.eW)("修改密码",-1)])]),_:1})]),_:1}),(0,l.bF)(P,{clickable:"",onClick:K,class:"q-mb-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"photo_camera"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[31]||(y[31]=[(0,l.eW)("修改头像",-1)])]),_:1})]),_:1}),(0,l.bF)(P,{clickable:"",to:"/loginrecord",class:"q-mb-xs"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"history"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[32]||(y[32]=[(0,l.eW)("登录记录",-1)])]),_:1})]),_:1}),(0,l.bF)(j,{class:"q-my-sm"}),(0,l.bF)(P,{clickable:"",onClick:S,class:"text-negative"},{default:(0,l.k6)(()=>[(0,l.bF)(O,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"exit_to_app"})]),_:1}),(0,l.bF)(O,null,{default:(0,l.k6)(()=>[...y[33]||(y[33]=[(0,l.eW)("退出登录",-1)])]),_:1})]),_:1})]),_:1})])]),_:1}),(0,l.bF)(D,{size:"26px"},{default:(0,l.k6)(()=>[(0,l.Lk)("img",{src:t.value.Avatar?.startsWith("http")?t.value.Avatar:(0,o.R1)(Y.A).baseURL+t.value.Avatar},null,8,ge)]),_:1}),(0,l.bF)(R,null,{default:(0,l.k6)(()=>[...y[34]||(y[34]=[(0,l.eW)("账号",-1)])]),_:1})]),_:1})]),(0,l.bF)(ee,{modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=e=>c.value=e),persistent:""},{default:(0,l.k6)(()=>[(0,l.bF)(Z,{style:{"min-width":"350px"}},{default:(0,l.k6)(()=>[(0,l.bF)(G,{class:"row items-center q-pb-none"},{default:(0,l.k6)(()=>[y[35]||(y[35]=(0,l.Lk)("div",{class:"text-h6"},"修改用户名",-1)),(0,l.bF)(B),(0,l.bo)((0,l.bF)(A,{icon:"close",flat:"",round:"",dense:""},null,512),[[ye]])]),_:1}),(0,l.bF)(G,null,{default:(0,l.k6)(()=>[(0,l.bF)(H,{modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=e=>v.value=e),label:"请输入新的用户名",outlined:"",rules:[e=>!!e||"请输入用户名"],autofocus:""},null,8,["modelValue","rules"])]),_:1}),(0,l.bF)(J,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.bF)(A,{flat:"",label:"取消",color:"grey"},null,512),[[ye]]),(0,l.bF)(A,{flat:"",label:"确定",color:"primary",onClick:Q})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(ee,{modelValue:d.value,"onUpdate:modelValue":y[3]||(y[3]=e=>d.value=e),persistent:""},{default:(0,l.k6)(()=>[(0,l.bF)(Z,{style:{"min-width":"350px"}},{default:(0,l.k6)(()=>[(0,l.bF)(G,{class:"row items-center q-pb-none"},{default:(0,l.k6)(()=>[y[36]||(y[36]=(0,l.Lk)("div",{class:"text-h6"},"修改昵称",-1)),(0,l.bF)(B),(0,l.bo)((0,l.bF)(A,{icon:"close",flat:"",round:"",dense:""},null,512),[[ye]])]),_:1}),(0,l.bF)(G,null,{default:(0,l.k6)(()=>[(0,l.bF)(H,{modelValue:k.value,"onUpdate:modelValue":y[2]||(y[2]=e=>k.value=e),label:"请输入新的昵称",outlined:"",rules:[e=>!!e||"请输入昵称"],autofocus:""},null,8,["modelValue","rules"])]),_:1}),(0,l.bF)(J,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.bF)(A,{flat:"",label:"取消",color:"grey"},null,512),[[ye]]),(0,l.bF)(A,{flat:"",label:"确定",color:"primary",onClick:I})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(ee,{modelValue:b.value,"onUpdate:modelValue":y[7]||(y[7]=e=>b.value=e),persistent:""},{default:(0,l.k6)(()=>[(0,l.bF)(Z,{style:{"min-width":"400px"}},{default:(0,l.k6)(()=>[(0,l.bF)(G,{class:"row items-center q-pb-none"},{default:(0,l.k6)(()=>[y[37]||(y[37]=(0,l.Lk)("div",{class:"text-h6"},"修改密码",-1)),(0,l.bF)(B),(0,l.bo)((0,l.bF)(A,{icon:"close",flat:"",round:"",dense:""},null,512),[[ye]])]),_:1}),(0,l.bF)(G,null,{default:(0,l.k6)(()=>[(0,l.bF)(H,{modelValue:f.value,"onUpdate:modelValue":y[4]||(y[4]=e=>f.value=e),type:"password",label:"旧密码",outlined:"",class:"q-mb-md",rules:[e=>!!e||"请输入旧密码"],autofocus:""},null,8,["modelValue","rules"]),(0,l.bF)(H,{modelValue:g.value,"onUpdate:modelValue":y[5]||(y[5]=e=>g.value=e),type:"password",label:"新密码",outlined:"",class:"q-mb-md",rules:[e=>!!e||"请输入新密码"]},null,8,["modelValue","rules"]),(0,l.bF)(H,{modelValue:_.value,"onUpdate:modelValue":y[6]||(y[6]=e=>_.value=e),type:"password",label:"确认新密码",outlined:"",rules:[e=>!!e||"请确认新密码",e=>e===g.value||"两次输入的密码不一致"]},null,8,["modelValue","rules"])]),_:1}),(0,l.bF)(J,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.bF)(A,{flat:"",label:"取消",color:"grey"},null,512),[[ye]]),(0,l.bF)(A,{flat:"",label:"确定",color:"primary",onClick:X})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(ee,{modelValue:m.value,"onUpdate:modelValue":y[9]||(y[9]=e=>m.value=e),persistent:""},{default:(0,l.k6)(()=>[(0,l.bF)(Z,{style:{"min-width":"350px"}},{default:(0,l.k6)(()=>[(0,l.bF)(G,{class:"row items-center q-pb-none"},{default:(0,l.k6)(()=>[y[38]||(y[38]=(0,l.Lk)("div",{class:"text-h6"},"修改头像",-1)),(0,l.bF)(B),(0,l.bo)((0,l.bF)(A,{icon:"close",flat:"",round:"",dense:""},null,512),[[ye]])]),_:1}),(0,l.bF)(G,{class:"text-center"},{default:(0,l.k6)(()=>[y[39]||(y[39]=(0,l.Lk)("div",{class:"q-mb-md"},"请选择新头像文件",-1)),(0,l.bF)(Fe,{modelValue:F.value,"onUpdate:modelValue":y[8]||(y[8]=e=>F.value=e),label:"选择图片文件",outlined:"",accept:"image/*","max-file-size":"5242880",onRejected:U},{prepend:(0,l.k6)(()=>[(0,l.bF)(z,{name:"photo_camera"})]),_:1},8,["modelValue"]),F.value?((0,l.uX)(),(0,l.CE)("div",_e,[(0,l.bF)(he,{src:h.value?.startsWith("http")?h.value:(0,o.R1)(Y.A).baseURL+h.value,style:{height:"100px","max-width":"100px"},class:"rounded-borders"},null,8,["src"])])):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(J,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.bF)(A,{flat:"",label:"取消",color:"grey"},null,512),[[ye]]),(0,l.bF)(A,{flat:"",label:"上传",color:"primary",onClick:T,disable:!F.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(ee,{modelValue:p.value,"onUpdate:modelValue":y[10]||(y[10]=e=>p.value=e),persistent:""},{default:(0,l.k6)(()=>[(0,l.bF)(Z,null,{default:(0,l.k6)(()=>[(0,l.bF)(G,{class:"row items-center"},{default:(0,l.k6)(()=>[(0,l.bF)(z,{name:"warning",color:"red",size:"2rem",class:"q-mr-sm"}),y[40]||(y[40]=(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:"text-h6"},"确认退出"),(0,l.Lk)("div",{class:"text-subtitle2"},"您确定要退出系统吗？")],-1))]),_:1}),(0,l.bF)(J,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.bF)(A,{flat:"",label:"取消",color:"grey"},null,512),[[ye]]),(0,l.bF)(A,{flat:"",label:"确定",color:"negative",onClick:M})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},he=a(76997),ye=a(62373),Re=a(25915),Ae=a(85515),xe=a(5861),Ce=a(51375),we=a(63663),qe=a(17180),We=a(38622),Le=a(71248),Qe=a(61929),Ve=a(45678);const Ie=(0,c.A)(Fe,[["__scopeId","data-v-ee019cd2"]]);var Ee=Ie;g()(Fe,"components",{QBtn:B.A,QTooltip:he.A,QBadge:ye.A,QMenu:E.A,QList:A.A,QItem:b.A,QItemSection:m.A,QItemLabel:d.A,QSpace:Re.A,QAvatar:Ae.A,QIcon:p.A,QSeparator:xe.A,QDialog:Ce.A,QCard:we.A,QCardSection:qe.A,QInput:We.A,QCardActions:Le.A,QFile:Qe.A,QImg:Ve.A}),g()(Fe,"directives",{ClosePopup:X.A});var Xe=Object.assign({name:"index"},{__name:"Index",setup(e){const t=(0,w.s)(),a=(0,l.nI)(),n=(0,o.KR)(a.appContext.config.globalProperties.$SildeBar),r=(0,o.KR)(!1),u=(0,o.KR)(a.appContext.config.globalProperties.$Max_KeepAlive),i=(0,o.KR)(t.getKeepAliveList),c=(0,l.EW)(()=>t.getKeepAliveList);return(0,l.wB)(c,e=>{i.value=e}),(e,t)=>{const a=(0,l.g2)("q-btn"),c=(0,l.g2)("q-space"),d=(0,l.g2)("q-toolbar"),b=(0,l.g2)("q-separator"),m=(0,l.g2)("q-header"),p=(0,l.g2)("q-drawer"),v=(0,l.g2)("router-view"),k=(0,l.g2)("q-page-container"),f=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.Wv)(f,{view:n.value,class:"full-height"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{class:"q-py-xs bg-white text-grey-8","height-hint":"48",style:{"box-shadow":"rgba(0, 0, 0, 0.1) 0px 2px 12px 0px","padding-bottom":"2px"}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{style:{"margin-top":"-5px"}},{default:(0,l.k6)(()=>[(0,l.bF)(a,{flat:"",dense:"",round:"","aria-label":"Menu",icon:!0===r.value?"menu_open":"menu",onClick:t[0]||(t[0]=e=>r.value=!r.value)},null,8,["icon"]),(0,l.bF)((0,o.R1)(G)),e.$q.screen.gt.sm?((0,l.uX)(),(0,l.Wv)((0,o.R1)(N),{key:0})):(0,l.Q3)("",!0),(0,l.bF)(c),(0,l.bF)((0,o.R1)(Ee))]),_:1}),(0,l.bF)(b,{color:"grey-3"}),(0,l.bF)((0,o.R1)(U))]),_:1}),(0,l.bF)(p,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),"show-if-above":"","content-class":"bg-white",width:240},{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(C))]),_:1},8,["modelValue"]),(0,l.bF)(k,{class:"app-main full-height"},{default:(0,l.k6)(()=>[(0,l.bF)(v,null,{default:(0,l.k6)(({Component:t})=>[(0,l.bF)(s.eB,{name:"fade-transform",mode:"out-in"},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.Wv)(l.PR,{max:u.value,include:i.value},[((0,l.uX)(),(0,l.Wv)((0,l.$y)(t),{key:e.$route.fullPath}))],1032,["max","include"]))]),_:2},1024)]),_:1})]),_:1})]),_:1},8,["view"])}}}),Ke=a(25515),Ue=a(2507),Te=a(44285),Se=a(76235),Me=a(66284);const Oe=Xe;var Pe=Oe;g()(Xe,"components",{QLayout:Ke.A,QHeader:Ue.A,QToolbar:Te.A,QBtn:B.A,QSpace:Re.A,QSeparator:xe.A,QDrawer:Se.A,QPageContainer:Me.A})},13986:function(e,t,a){"use strict";var l=a(74413),o=a(27454),s=a.n(o),n=a(76661),r=a(57695);const u=l.A.create({baseURL:n.c.baseURL,timeout:n.c.timeOut});u.interceptors.request.use(e=>{const t=sessionStorage.getItem("access_token");if(t&&(e.headers.Authorization="Bearer "+t),e.type)switch(e.type){case"FORM-DATA":e.transformRequest=[e=>"args="+JSON.stringify(e)];break;case"FORM":e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=s().stringify(e.data);break;default:break}return e},e=>Promise.reject(e)),u.interceptors.response.use(e=>("object"==typeof e.data&&Object.keys(e.data).includes("Success")&&!0!==e.data.Success&&r.oR.error(e.data.Message||`请求失败:${e.request.responseURL}`,{autoClose:3e3,position:"top-center"}),e.data),e=>{if("ECONNABORTED"===e.code||e.message&&-1!==e.message.indexOf("timeout")||"Network Error"===e.message)return r.oR.error("网络异常",{autoClose:3e3,position:"top-center"}),Promise.reject(e);if(e.response)switch(e.response.status){case 400:r.oR.error("请求错误:"+e.response.data.Message||0,{autoClose:3e3,position:"top-center"});break;case 403:r.oR.error("拒绝访问(403)",{autoClose:3e3,position:"top-center"});break;case 404:r.oR.error("资源不存在(404)",{autoClose:3e3,position:"top-center"});break;case 408:r.oR.error("请求超时(408)",{autoClose:3e3,position:"top-center"});break;case 500:r.oR.error("服务器错误(500)",{autoClose:3e3,position:"top-center"});break;case 501:r.oR.error("服务未实现(501)",{autoClose:3e3,position:"top-center"});break;case 502:r.oR.error("网络错误(502)",{autoClose:3e3,position:"top-center"});break;case 503:r.oR.error("服务不可用(503)",{autoClose:3e3,position:"top-center"});break;case 504:r.oR.error("网络超时(504)",{autoClose:3e3,position:"top-center"});break;case 505:r.oR.error("HTTP版本不受支持(505)",{autoClose:3e3,position:"top-center"});break;default:break}return Promise.reject(e)}),t.A=u},42634:function(){},43557:function(e,t,a){"use strict";a.d(t,{W:function(){return l},w:function(){return o}});const l={right:"5px",borderRadius:"5px",backgroundColor:"#616161",width:"5px"},o={borderRadius:"5px",backgroundColor:"rgba(144,147,153,0.9)",padding:"10px",margin:"10px",width:"3px"}},64485:function(e,t,a){"use strict";a.d(t,{k:function(){return r}});var l=a(13986),o=a(76661),s=a(10810),n=a(46732);const r=(0,s.nY)("user",()=>{const e=(0,n.KR)(),t=(0,n.KR)(!1),a=async()=>{if(e.value)return e.value;try{const a=await l.A.get("/passport/getuserinfo");if(a.Data)return e.value=a.Data,t.value=!0,a.Data;window.location.href=o.A.baseURL+"/passport/login?redirect="+encodeURIComponent(window.location.pathname)}catch(a){throw console.error("获取用户信息失败:",a),e.value=null,t.value=!1,a}},s=a=>{e.value=a,t.value=!0},r=()=>{e.value=null,t.value=!1},u=()=>t.value&&null!==e.value;return{getUserInfo:a,setUserInfo:s,clearUserInfo:r,checkLoginStatus:u}})}}]);