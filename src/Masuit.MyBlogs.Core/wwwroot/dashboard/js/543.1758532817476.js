(self["webpackChunkcimo"]=self["webpackChunkcimo"]||[]).push([[543],{13986:function(e,l,a){"use strict";var t=a(74413),o=a(27454),s=a.n(o),i=a(76661),r=a(57695);const u=t.A.create({baseURL:i.c.baseURL,timeout:i.c.timeOut});u.interceptors.request.use(e=>{const l=sessionStorage.getItem("access_token");if(l&&(e.headers.Authorization="Bearer "+l),e.type)switch(e.type){case"FORM-DATA":e.transformRequest=[e=>"args="+JSON.stringify(e)];break;case"FORM":e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=s().stringify(e.data);break;default:break}return e},e=>Promise.reject(e)),u.interceptors.response.use(e=>("object"==typeof e.data&&Object.keys(e.data).includes("Success")&&!0!==e.data.Success&&r.oR.error(e.data.Message||`请求失败:${e.request.responseURL}`,{autoClose:3e3,position:"top-center"}),e.data),e=>{if("ECONNABORTED"===e.code||e.message&&-1!==e.message.indexOf("timeout")||"Network Error"===e.message)return r.oR.error("网络异常",{autoClose:3e3,position:"top-center"}),Promise.reject(e);if(e.response)switch(e.response.status){case 400:r.oR.error("请求错误:"+e.response.data.Message||0,{autoClose:3e3,position:"top-center"});break;case 403:r.oR.error("拒绝访问(403)",{autoClose:3e3,position:"top-center"});break;case 404:r.oR.error("资源不存在(404)",{autoClose:3e3,position:"top-center"});break;case 408:r.oR.error("请求超时(408)",{autoClose:3e3,position:"top-center"});break;case 500:r.oR.error("服务器错误(500)",{autoClose:3e3,position:"top-center"});break;case 501:r.oR.error("服务未实现(501)",{autoClose:3e3,position:"top-center"});break;case 502:r.oR.error("网络错误(502)",{autoClose:3e3,position:"top-center"});break;case 503:r.oR.error("服务不可用(503)",{autoClose:3e3,position:"top-center"});break;case 504:r.oR.error("网络超时(504)",{autoClose:3e3,position:"top-center"});break;case 505:r.oR.error("HTTP版本不受支持(505)",{autoClose:3e3,position:"top-center"});break;default:break}return Promise.reject(e)}),l.A=u},33106:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return Vl}});var t=a(74220),o=a(97700),s=a(39798),i=a(46732),r=a(57695),u=a(13986),n=a(88828),d=a.n(n),c=a(76661),m=a(42691);const v={class:"advertisement-page"},p={class:"row q-mb-md"},b={class:"col-6"},g={class:"col-6 text-right"},k={class:"row items-center justify-end q-gutter-md"},x={class:"col-auto"},y={class:"col-auto"},f={class:"col-auto"},h={class:"text-h6 q-mb-md"},F={key:0,class:"text-center q-pa-xl text-grey-6"},C={key:1},_=["href"],w={class:"text-subtitle2"},L={class:"row justify-between items-center q-mt-md"},q={class:"col-auto"},V={class:"text-body2 text-grey-7"},U={class:"col-auto"},R={class:"col-auto"},T={class:"text-h6 q-mb-md flex items-center"},I={class:"row items-center q-gutter-sm"},A={key:0,class:"text-center q-pa-xl"},W={class:"text-h6"},D={class:"row q-col-gutter-lg"},Q={class:"col-12 col-md-7"},E={class:"text-subtitle1 text-primary"},P={class:"row q-gutter-md"},M={class:"text-subtitle1 text-primary"},z={class:"text-subtitle1 text-primary"},X={class:"row"},K={class:"row"},S={class:"col"},Y={class:"row items-center justify-end"},j={class:"col-12 col-md-5"},$={class:"text-subtitle1 text-primary"},O={key:0,class:"q-mt-md text-center"},H={key:0,class:"q-mt-md text-center"},N={class:"row q-col-gutter-lg"},B={class:"col-12 col-md-7"},G={class:"text-subtitle1 text-primary"},J={class:"row items-center"},Z={class:"row"},ee={class:"text-body2 text-grey-7 q-mb-xs"},le={class:"row items-start"},ae={class:"text-body2 text-grey-7 q-mb-xs"},te=["href"],oe={class:"row"},se={class:"row items-start"},ie={class:"text-body2 text-grey-7"},re={class:"text-weight-bold text-green-7"},ue={class:"text-subtitle1 text-primary"},ne=["innerHTML"],de={class:"text-subtitle1 text-primary"},ce={key:0},me={class:"row q-gutter-md"},ve={class:"col"},pe={class:"text-weight-bold"},be={class:"col text-center"},ge={class:"text-weight-bold"},ke={class:"col text-right"},xe={class:"text-h5 text-weight-bold text-orange-7"},ye={class:"col-12 col-md-5"},fe={class:"text-subtitle1 text-primary"},he={class:"text-body2 text-grey-7 q-mb-sm"},Fe={key:0,class:"image-preview-container"},Ce={class:"absolute-full flex flex-center bg-negative text-white"},_e={class:"text-center"},we={class:"absolute-full flex flex-center"},Le={class:"absolute-top-right q-pa-sm"},qe={key:1,class:"no-image-placeholder"},Ve={class:"text-center q-pa-xl text-grey-4"},Ue={class:"text-body2 text-grey-7 q-mb-sm"},Re={key:0,class:"text-center"},Te={class:"absolute-full flex flex-center bg-negative text-white"},Ie={class:"text-center"},Ae={class:"absolute-top-right q-pa-xs"},We={key:1,class:"no-image-placeholder",style:{height:"120px"}},De={class:"text-center q-pa-lg text-grey-4"},Qe={class:"text-body2 text-grey-7 q-mb-sm"},Ee={class:"q-gutter-sm"},Pe={class:"row items-center"},Me={class:"text-body2"},ze={class:"row items-center"},Xe={class:"text-body2"},Ke={class:"row items-center"},Se={class:"text-body2"},Ye={class:"text-subtitle2"},je={class:"q-gutter-md"},$e={class:"text-body1"},Oe={class:"row items-center justify-end"},He=["src"],Ne={class:"text-center"},Be={class:"absolute-full flex flex-center bg-grey-3 text-grey-7"},Ge={class:"text-center"},Je={class:"absolute-full flex flex-center"};var Ze=(0,t.pM)({__name:"index",setup(e){const l=(0,i.KR)([]),a=(0,i.KR)(!1),n=(0,i.KR)(!1),Ze=(0,i.KR)(""),el=(0,i.KR)(1);let ll;const al=(0,i.KR)([]),tl=[{label:"当前竞价",value:"Price"},{label:"当月曝光量",value:"DisplayCount"},{label:"当月点击",value:"ViewCount"},{label:"日均点击",value:"AverageViewCount"},{label:"点击率",value:"ClickRate"},{label:"分类",value:"CategoryIds"},{label:"创建时间",value:"CreateTime"},{label:"修改时间",value:"UpdateTime"}],ol=(0,i.KR)({page:1,itemsPerPage:10,total:0}),sl=(0,i.KR)(!1),il=(0,i.KR)(!1),rl=(0,i.KR)(!1),ul=(0,i.KR)(!1),nl=(0,i.KR)(!1),dl=(0,i.KR)(!1),cl=(0,i.KR)(!1),ml=(0,i.KR)(""),vl=(0,i.KR)({Title:"",Url:"",Description:"",ImageUrl:"",ThumbImgUrl:"",Price:0,Weight:1,Types:"",CategoryIds:"",RegionMode:0,Regions:"",ExpireTime:"2049-12-31 23:59:59",Status:1,DisplayCount:0,ViewCount:0,AverageViewCount:0,ClickRate:0,CreateTime:"",UpdateTime:""}),pl=(0,i.KR)(null),bl=(0,i.KR)(""),gl=(0,i.KR)([]),kl=(0,i.KR)([]),xl=(0,i.KR)([]),yl=(0,i.KR)([]),fl=(0,i.KR)([]),hl=(0,i.KR)(null);let Fl="";const Cl=[{label:"默认",value:0},{label:"竞价",value:1},{label:"曝光量",value:2},{label:"点击量",value:3},{label:"日均点击",value:4},{label:"点击率",value:5}],_l=[10,15,20,30,50,100,200],wl=[{label:"轮播图",value:"1"},{label:"列表项",value:"2"},{label:"边栏",value:"3"},{label:"内页",value:"4"}],Ll=[{label:"不限",value:0},{label:"以内",value:1},{label:"以外",value:2}],ql={toolbars:["bold","italic","strikethrough","quote","ul","ol","link","h","code","save"]},Vl=(0,i.KR)(null),Ul=(0,i.KR)(null),Rl=(0,i.KR)(30);let Tl=null;const Il=[{label:"一周",value:7},{label:"15天",value:15},{label:"一个月",value:30},{label:"两个月",value:60},{label:"三个月",value:90},{label:"半年",value:180},{label:"一年",value:365}],Al=e=>d()(e).format("YYYY-MM-DD"),Wl=e=>{if(!e)return[];const l=e.split(",").map(e=>parseInt(e.trim()));return l.map(e=>{const l=yl.value.find(l=>l.value===e);return l?l.label:`未知分类(${e})`}).filter(e=>void 0!==e)},Dl=e=>e?e.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e)):[],Ql=()=>{ll&&clearTimeout(ll),ll=setTimeout(()=>{ol.value.page=1,Kl()},500)},El=()=>{ol.value.page=1,Kl()},Pl=()=>{Kl()},Ml=()=>{ol.value.page=1,Kl()},zl=({field:e,order:l})=>{Kl()},Xl=()=>{localStorage.setItem("advertisement-showColumns",al.value.join(","))},Kl=async()=>{a.value=!0;try{const e={page:ol.value.page,size:ol.value.itemsPerPage,kw:Ze.value||"",orderby:el.value||0},a=await u.A.get("/partner/getpagedata",{params:e});void 0!==a?.TotalCount?(l.value=a.Data||[],ol.value.total=a.TotalCount):(l.value=[],ol.value.total=0)}catch(e){r.oR.error("加载广告列表失败",{autoClose:2e3,position:"top-center"}),console.error("Error loading advertisements:",e),l.value=[],ol.value.total=0}finally{a.value=!1}},Sl=async()=>{try{const e=await u.A.get("/category/getcategories");e?.Data&&(xl.value=e.Data,yl.value=Yl(e.Data),fl.value=[...yl.value])}catch(e){console.error("Error loading categories:",e)}},Yl=(e,l="")=>{const a=[];return e.forEach(e=>{const t=l?`${l} > ${e.Name}`:e.Name;a.push({label:t,value:e.Id}),e.Children&&e.Children.length>0&&a.push(...Yl(e.Children,t))}),a},jl=(e,l)=>{l(()=>{if(""===e)fl.value=yl.value;else{const l=e.toLowerCase();fl.value=yl.value.filter(e=>e.label.toLowerCase().includes(l))}})},$l=()=>{vl.value={Title:"",Url:"",Description:"",ImageUrl:"",ThumbImgUrl:"",Price:0,Weight:1,Types:"",CategoryIds:"",RegionMode:0,Regions:"",ExpireTime:"2049-12-31 23:59:59",Status:1,DisplayCount:0,ViewCount:0,AverageViewCount:0,ClickRate:0,CreateTime:"",UpdateTime:""},gl.value=[],kl.value=[],cl.value=!1,sl.value=!0},Ol=e=>{vl.value={...e},gl.value=e.Types?e.Types.split(","):[],kl.value=e.CategoryIds?e.CategoryIds.split(",").map(e=>parseInt(e)):[],cl.value=!0,sl.value=!0},Hl=e=>{vl.value={...e},delete vl.value.Id,gl.value=e.Types?e.Types.split(","):[],kl.value=e.CategoryIds?e.CategoryIds.split(",").map(e=>parseInt(e)):[],cl.value=!1,sl.value=!0},Nl=()=>{sl.value=!1},Bl=async()=>{if(vl.value.Title&&vl.value.Url){vl.value.Types=gl.value.join(","),vl.value.CategoryIds=kl.value.join(","),n.value=!0;try{const e=await u.A.post("/partner/save",vl.value);!1!==e?.Success?(r.oR.success(e?.Message||"保存成功",{autoClose:2e3,position:"top-center"}),Nl(),Kl()):r.oR.error(e?.Message||"保存失败",{autoClose:2e3,position:"top-center"})}catch(e){r.oR.error("保存失败",{autoClose:2e3,position:"top-center"}),console.error("Error saving advertisement:",e)}finally{n.value=!1}}else r.oR.warning("请填写完整的广告信息",{autoClose:2e3,position:"top-center"})},Gl=async e=>{try{const l=await u.A.post("/partner/Delete/"+e.Id);!1!==l?.Success?(r.oR.success(l?.Message||"删除成功",{autoClose:2e3,position:"top-center"}),Kl()):r.oR.error(l?.Message||"删除失败",{autoClose:2e3,position:"top-center"})}catch(l){r.oR.error("删除失败",{autoClose:2e3,position:"top-center"}),console.error("Error removing advertisement:",l)}},Jl=async e=>{try{const l=await u.A.post(`/partner/ChangeState/${e.Id}`);!1!==l?.Success?(r.oR.success(l?.Message||"状态更新成功",{autoClose:2e3,position:"top-center"}),e.Status=1===e.Status?0:1):r.oR.error(l?.Message||"状态更新失败",{autoClose:2e3,position:"top-center"})}catch(l){r.oR.error("状态更新失败",{autoClose:2e3,position:"top-center"}),console.error("Error changing status:",l)}},Zl=()=>{Ul.value&&!Tl&&(Tl=m.Ts(Ul.value),ea())},ea=async()=>{if(Tl)try{const l=await u.A.get(`/partner/records-chart?compare=${Rl.value>0}&period=${Rl.value}`),a=[],t=[];for(const e of l){const l=[],o=[];for(const a of e)l.push(new Date(Date.parse(a.Date)).toLocaleDateString()),o.push(a.Count);a.push(l),t.push(o)}console.log(a,t);const o=["#0091ee","#ccc"];var e={color:o,tooltip:{trigger:"none",axisPointer:{type:"cross"}},legend:{},grid:{top:70,bottom:50},title:{left:"center",text:"最近访问趋势"},xAxis:a.map(function(e,l){return{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:o[l]}},axisPointer:{label:{formatter:function(e){return e.value+(e.seriesData.length?"："+e.seriesData[0].data:"")}}},data:e}}),yAxis:[{type:"value"}],series:t.map(function(e,l){return{type:"line",symbol:"none",xAxisIndex:l,areaStyle:{},data:e,lineStyle:{type:1===l?"dashed":""},markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}})};Tl.setOption(e)}catch(l){console.error("Error updating chart:",l),r.oR.error("加载图表数据失败",{autoClose:2e3,position:"top-center"})}},la=async(e,l)=>{const a=Array.isArray(l)?l.join(","):"";e.CategoryIds=a;const t=await u.A.post("/partner/save",e);!1===t?.Success&&r.oR.error(t?.Message||"保存失败",{autoClose:2e3,position:"top-center"})},aa=e=>{pl.value={...e},il.value=!0},ta=()=>{il.value=!1,pl.value&&Ol(pl.value)},oa=e=>{vl.value={...e},vl.value.ExpireTime=d()(e.ExpireTime).format("YYYY-MM-DD HH:mm:ss"),rl.value=!0},sa=async()=>{if(vl.value){n.value=!0;try{const e=await u.A.post("/partner/save",vl.value);!1!==e?.Success?(r.oR.success(e?.Message||"延期成功",{autoClose:2e3,position:"top-center"}),rl.value=!1,Kl()):r.oR.error(e?.Message||"延期失败",{autoClose:2e3,position:"top-center"})}catch(e){r.oR.error("延期失败",{autoClose:2e3,position:"top-center"}),console.error("Error delaying advertisement:",e)}finally{n.value=!1}}},ia=e=>{Fl=e,ul.value=!0},ra=async e=>{if(!e)return;const l=new FormData;l.append("file",e);try{const e=await u.A.post("/Upload",l,{headers:{"Content-Type":"multipart/form-data"}});e?.Data?(vl.value[Fl]=e.Data,r.oR.success("图片上传成功",{autoClose:2e3,position:"top-center"}),ul.value=!1):r.oR.error("图片上传失败",{autoClose:2e3,position:"top-center"})}catch(a){r.oR.error("图片上传失败",{autoClose:2e3,position:"top-center"}),console.error("Error uploading image:",a)}},ua=e=>{vl.value[e]=""},na=e=>{e&&(ml.value=e,dl.value=!0)},da=()=>{ml.value&&window.open(c.A.baseURL+ml.value,"_blank")},ca=e=>{bl.value=c.A.baseURL+`/partner/${e.Id}/insight`,nl.value=!0};return(0,t.sV)(async()=>{const e=localStorage.getItem("advertisement-showColumns");al.value=e?e.split(",").filter(e=>e):tl.map(e=>e.value),await Sl(),await Kl(),setTimeout(()=>{Zl()},100)}),(0,t.xo)(()=>{Tl&&(Tl.dispose(),Tl=null)}),(e,r)=>{const u=(0,t.g2)("q-select"),d=(0,t.g2)("q-icon"),m=(0,t.g2)("q-input"),ll=(0,t.g2)("q-btn"),xl=(0,t.g2)("q-btn-group"),Fl=(0,t.g2)("q-chip"),Tl=(0,t.g2)("vxe-column"),Sl=(0,t.g2)("q-toggle"),Yl=(0,t.g2)("q-card-section"),Zl=(0,t.g2)("q-card-actions"),ma=(0,t.g2)("q-card"),va=(0,t.g2)("q-popup-proxy"),pa=(0,t.g2)("vxe-table"),ba=(0,t.g2)("q-pagination"),ga=(0,t.g2)("q-space"),ka=(0,t.g2)("q-spinner"),xa=(0,t.g2)("v-md-editor"),ya=(0,t.g2)("q-option-group"),fa=(0,t.g2)("q-date"),ha=(0,t.g2)("q-img"),Fa=(0,t.g2)("q-separator"),Ca=(0,t.g2)("q-dialog"),_a=(0,t.g2)("q-linear-progress"),wa=(0,t.g2)("q-circular-progress"),La=(0,t.g2)("q-file"),qa=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)("div",v,[r[90]||(r[90]=(0,t.Lk)("div",{class:"text-h6"}," 广告推广管理 ",-1)),(0,t.Lk)("div",p,[(0,t.Lk)("div",b,[(0,t.bF)(u,{multiple:"",modelValue:al.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>al.value=e),Xl],options:tl,outlined:"",dense:"","map-options":"","emit-value":"","use-chips":""},{prepend:(0,t.k6)(()=>[...r[45]||(r[45]=[(0,t.Lk)("span",{style:{"font-size":"14px"}},"显示列:",-1)])]),_:1},8,["modelValue"])]),(0,t.Lk)("div",g,[(0,t.Lk)("div",k,[(0,t.Lk)("div",x,[(0,t.bF)(m,{modelValue:Ze.value,"onUpdate:modelValue":[r[1]||(r[1]=e=>Ze.value=e),Ql],placeholder:"全局搜索",dense:"",outlined:"",clearable:"",debounce:"500"},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"search"})]),_:1},8,["modelValue"])]),(0,t.Lk)("div",y,[(0,t.bF)(u,{modelValue:el.value,"onUpdate:modelValue":[r[2]||(r[2]=e=>el.value=e),El],options:Cl,label:"排序方式",dense:"",outlined:"","emit-value":"","map-options":"",style:{width:"140px"}},null,8,["modelValue"])]),(0,t.Lk)("div",f,[(0,t.bF)(xl,null,{default:(0,t.k6)(()=>[(0,t.bF)(ll,{color:"primary",icon:"refresh",label:"刷新",onClick:Kl,loading:a.value},null,8,["loading"]),(0,t.bF)(ll,{color:"positive",icon:"add",label:"添加广告",onClick:$l})]),_:1})])])])]),(0,t.bF)(ma,{flat:"",bordered:"",class:"q-mb-md"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",h,[(0,t.bF)(d,{name:"campaign",class:"q-mr-sm"}),r[46]||(r[46]=(0,t.eW)(" 广告列表 ",-1)),ol.value.total>0?((0,t.uX)(),(0,t.Wv)(Fl,{key:0,color:"primary","text-color":"white",label:`共 ${ol.value.total} 条广告`,class:"q-ml-sm"},null,8,["label"])):(0,t.Q3)("",!0)]),0!==l.value.length||a.value?((0,t.uX)(),(0,t.CE)("div",C,[(0,t.bF)(pa,{ref_key:"tableRef",ref:Vl,data:l.value,loading:a.value,border:"",stripe:"","scroll-y":{enabled:!0},"sort-config":{remote:!0},onSortChange:zl},{default:(0,t.k6)(()=>[(0,t.bF)(Tl,{field:"Id",title:"ID",width:"80",sortable:""}),(0,t.bF)(Tl,{field:"Title",title:"标题","min-width":"300"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(ll,{flat:"",dense:"",color:"primary",label:e.Title,onClick:l=>aa(e)},null,8,["label","onClick"])]),_:1}),(0,t.bF)(Tl,{field:"Url",title:"推广地址","min-width":"200"},{default:(0,t.k6)(({row:e})=>[(0,t.Lk)("a",{href:e.Url,target:"_blank",class:"text-primary"},(0,o.v_)(e.Url),9,_)]),_:1}),al.value.includes("Price")?((0,t.uX)(),(0,t.Wv)(Tl,{key:0,field:"Price",title:"当前竞价",width:"100"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)(" ¥"+(0,o.v_)(e.Price||0),1)]),_:1})):(0,t.Q3)("",!0),al.value.includes("DisplayCount")?((0,t.uX)(),(0,t.Wv)(Tl,{key:1,field:"DisplayCount",title:"当月曝光量",width:"120"})):(0,t.Q3)("",!0),al.value.includes("ViewCount")?((0,t.uX)(),(0,t.Wv)(Tl,{key:2,field:"ViewCount",title:"当月点击",width:"100"})):(0,t.Q3)("",!0),al.value.includes("AverageViewCount")?((0,t.uX)(),(0,t.Wv)(Tl,{key:3,field:"AverageViewCount",title:"日均点击",width:"100"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,o.v_)(e.AverageViewCount?.toFixed(2)),1)]),_:1})):(0,t.Q3)("",!0),al.value.includes("ClickRate")?((0,t.uX)(),(0,t.Wv)(Tl,{key:4,field:"ClickRate",title:"点击率",width:"100"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,o.v_)(e.ClickRate?.toFixed(2))+"% ",1)]),_:1})):(0,t.Q3)("",!0),al.value.includes("CategoryIds")?((0,t.uX)(),(0,t.Wv)(Tl,{key:5,field:"CategoryIds",title:"分类",width:"260","show-overflow":""},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(u,{"use-chips":"",outlined:"","model-value":Dl(e.CategoryIds),"onUpdate:modelValue":l=>la(e,l),options:yl.value,"option-value":"value","option-label":"label",multiple:"",dense:"",borderless:"","map-options":"","emit-value":"",placeholder:"选择分类"},null,8,["model-value","onUpdate:modelValue","options"])]),_:1})):(0,t.Q3)("",!0),al.value.includes("CreateTime")?((0,t.uX)(),(0,t.Wv)(Tl,{key:6,field:"CreateTime",title:"创建时间",width:"120"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,o.v_)(Al(e.CreateTime)),1)]),_:1})):(0,t.Q3)("",!0),al.value.includes("UpdateTime")?((0,t.uX)(),(0,t.Wv)(Tl,{key:7,field:"UpdateTime",title:"修改时间",width:"120"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,o.v_)(Al(e.UpdateTime)),1)]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(Tl,{field:"Status",title:"状态",width:"80"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(Sl,{"model-value":1===e.Status,"onUpdate:modelValue":l=>Jl(e),color:"positive"},null,8,["model-value","onUpdate:modelValue"])]),_:1}),(0,t.bF)(Tl,{title:"操作",width:"160",fixed:"right"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"info",icon:"visibility",onClick:l=>aa(e)},null,8,["onClick"]),(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"primary",icon:"edit",onClick:l=>Ol(e)},null,8,["onClick"]),(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"secondary",icon:"content_copy",onClick:l=>Hl(e)},null,8,["onClick"]),(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"warning",icon:"schedule",onClick:l=>oa(e)},null,8,["onClick"]),(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"accent",icon:"insights",onClick:l=>ca(e)},null,8,["onClick"]),(0,t.bF)(ll,{dense:"",flat:"",size:"sm",color:"negative",icon:"delete"},{default:(0,t.k6)(()=>[(0,t.bF)(va,{"transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(()=>[(0,t.bF)(ma,null,{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{name:"warning",color:"red",size:"2rem",class:"q-mr-sm"}),(0,t.Lk)("div",null,[r[49]||(r[49]=(0,t.Lk)("div",{class:"text-h6"},"确认删除",-1)),(0,t.Lk)("div",w,"确认删除广告【"+(0,o.v_)(e.Title)+"】吗？",1)])]),_:2},1024),(0,t.bF)(Zl,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.bF)(ll,{flat:"",label:"确认",color:"negative",onClick:l=>Gl(e)},null,8,["onClick"]),[[qa]]),(0,t.bo)((0,t.bF)(ll,{flat:"",label:"取消",color:"primary"},null,512),[[qa]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data","loading"]),(0,t.Lk)("div",L,[(0,t.Lk)("div",q,[(0,t.Lk)("span",V," 共 "+(0,o.v_)(ol.value.total)+" 条记录，当前显示第 "+(0,o.v_)((ol.value.page-1)*ol.value.itemsPerPage+1)+" - "+(0,o.v_)(Math.min(ol.value.page*ol.value.itemsPerPage,ol.value.total))+" 条 ",1)]),(0,t.Lk)("div",U,[(0,t.bF)(ba,{modelValue:ol.value.page,"onUpdate:modelValue":[r[3]||(r[3]=e=>ol.value.page=e),Pl],max:Math.ceil(ol.value.total/ol.value.itemsPerPage),"max-pages":6,"direction-links":"","boundary-links":"",color:"primary"},null,8,["modelValue","max"])]),(0,t.Lk)("div",R,[(0,t.bF)(u,{modelValue:ol.value.itemsPerPage,"onUpdate:modelValue":[r[4]||(r[4]=e=>ol.value.itemsPerPage=e),Ml],options:_l,dense:"",outlined:"",label:"每页显示",style:{"min-width":"100px"}},null,8,["modelValue"])])])])):((0,t.uX)(),(0,t.CE)("div",F,[(0,t.bF)(d,{name:"campaign",size:"64px",class:"q-mb-md"}),r[47]||(r[47]=(0,t.Lk)("div",{class:"text-h6"},"暂无广告记录",-1)),r[48]||(r[48]=(0,t.Lk)("div",{class:"text-body2 q-mt-sm"},'点击上方"添加广告"按钮创建第一个广告',-1))]))]),_:1})]),_:1}),(0,t.bF)(ma,{flat:"",bordered:""},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",T,[(0,t.bF)(d,{name:"trending_up",class:"q-mr-sm"}),r[51]||(r[51]=(0,t.eW)(" 广告访问趋势 ",-1)),(0,t.bF)(ga),(0,t.Lk)("div",I,[(0,t.bF)(u,{modelValue:Rl.value,"onUpdate:modelValue":[r[5]||(r[5]=e=>Rl.value=e),ea],options:Il,dense:"","emit-value":"","map-options":"",outlined:"",style:{"min-width":"120px"}},{prepend:(0,t.k6)(()=>[...r[50]||(r[50]=[(0,t.Lk)("span",{class:"text-body2"},"对比最近：",-1)])]),_:1},8,["modelValue"])])]),(0,t.bo)((0,t.Lk)("div",{ref_key:"chartContainer",ref:Ul,style:{height:"400px",width:"100%"}},null,512),[[s.aG,Ul.value]]),Ul.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",A,[(0,t.bF)(ka,{color:"primary",size:"3em"}),r[52]||(r[52]=(0,t.Lk)("div",{class:"q-mt-md text-grey-6"},"正在加载图表...",-1))]))]),_:1})]),_:1}),(0,t.bF)(Ca,{modelValue:sl.value,"onUpdate:modelValue":r[24]||(r[24]=e=>sl.value=e),persistent:""},{default:(0,t.k6)(()=>[(0,t.bF)(ma,{style:{"min-width":"85vw","max-height":"90vh"},class:"advertisement-edit-dialog"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none bg-primary text-white"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{name:"campaign",class:"q-mr-sm"}),(0,t.Lk)("div",W,(0,o.v_)(cl.value?"编辑广告":"添加新广告"),1),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"","text-color":"white",onClick:Nl})]),_:1}),(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",D,[(0,t.Lk)("div",Q,[(0,t.bF)(ma,{flat:"",bordered:"",class:"q-mb-md"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",E,[(0,t.bF)(d,{name:"info",class:"q-mr-xs"}),r[53]||(r[53]=(0,t.eW)(" 基本信息 ",-1))])]),_:1}),(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.bF)(m,{autogrow:"",dense:"",modelValue:vl.value.Title,"onUpdate:modelValue":r[6]||(r[6]=e=>vl.value.Title=e),label:"广告标题",outlined:"",required:"",rules:[e=>!!e||"请输入广告标题"]},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"title"})]),_:1},8,["modelValue","rules"]),(0,t.Lk)("div",P,[(0,t.bF)(m,{autogrow:"",class:"col",dense:"",modelValue:vl.value.Url,"onUpdate:modelValue":r[7]||(r[7]=e=>vl.value.Url=e),label:"推广地址",outlined:"",required:"",rules:[e=>!!e||"请输入推广地址"]},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"link"})]),_:1},8,["modelValue","rules"]),(0,t.bF)(m,{class:"col",dense:"",modelValue:vl.value.Price,"onUpdate:modelValue":r[8]||(r[8]=e=>vl.value.Price=e),modelModifiers:{number:!0},label:"竞价金额",type:"number",outlined:"",min:0,step:"10",suffix:"元"},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"paid"})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),(0,t.bF)(ma,{flat:"",bordered:"",class:"q-mb-md"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",M,[(0,t.bF)(d,{name:"description",class:"q-mr-xs"}),r[54]||(r[54]=(0,t.eW)(" 广告内容 ",-1))])]),_:1}),(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.bF)(xa,{modelValue:vl.value.Description,"onUpdate:modelValue":r[9]||(r[9]=e=>vl.value.Description=e),height:"250px",toolbar:ql,placeholder:"请输入广告描述内容..."},null,8,["modelValue"])]),_:1})]),_:1}),(0,t.bF)(ma,{flat:"",bordered:""},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",z,[(0,t.bF)(d,{name:"category",class:"q-mr-xs"}),r[55]||(r[55]=(0,t.eW)(" 分类与投放设置 ",-1))])]),_:1}),(0,t.bF)(Yl,{class:"q-gutter-md"},{default:(0,t.k6)(()=>[(0,t.bF)(u,{dense:"",modelValue:kl.value,"onUpdate:modelValue":r[10]||(r[10]=e=>kl.value=e),options:fl.value,label:"广告分类",multiple:"",chips:"","use-chips":"","use-input":"",onFilter:jl,outlined:"","emit-value":"","map-options":"","option-value":"value","option-label":"label"},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"category"})]),_:1},8,["modelValue","options"]),(0,t.Lk)("div",X,[r[56]||(r[56]=(0,t.Lk)("div",{class:"col-auto",style:{"line-height":"40px"}},"推广区域类型：",-1)),(0,t.bF)(ya,{class:"col-auto",modelValue:gl.value,"onUpdate:modelValue":r[11]||(r[11]=e=>gl.value=e),options:wl,type:"checkbox",inline:"",color:"primary"},null,8,["modelValue"])]),(0,t.Lk)("div",K,[(0,t.Lk)("div",S,[(0,t.bF)(m,{dense:"",modelValue:vl.value.Regions,"onUpdate:modelValue":r[13]||(r[13]=e=>vl.value.Regions=e),label:"地域限制",outlined:"",hint:"多个地区用逗号分隔"},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"public"})]),append:(0,t.k6)(()=>[(0,t.bF)(u,{dense:"",modelValue:vl.value.RegionMode,"onUpdate:modelValue":r[12]||(r[12]=e=>vl.value.RegionMode=e),options:Ll,label:"地域模式","emit-value":"","map-options":"",style:{width:"80px"}},null,8,["modelValue"])]),_:1},8,["modelValue"])])]),(0,t.bF)(m,{modelValue:vl.value.ExpireTime,"onUpdate:modelValue":r[15]||(r[15]=e=>vl.value.ExpireTime=e),label:"有效期至",outlined:"",readonly:""},{append:(0,t.k6)(()=>[(0,t.bF)(d,{name:"event",class:"cursor-pointer"},{default:(0,t.k6)(()=>[(0,t.bF)(va,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(()=>[(0,t.bF)(fa,{modelValue:vl.value.ExpireTime,"onUpdate:modelValue":r[14]||(r[14]=e=>vl.value.ExpireTime=e),mask:"YYYY-MM-DD HH:mm:ss"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",Y,[(0,t.bo)((0,t.bF)(ll,{label:"确定",color:"primary",flat:""},null,512),[[qa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),(0,t.Lk)("div",j,[(0,t.bF)(ma,{flat:"",bordered:"",class:"full-height"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",$,[(0,t.bF)(d,{name:"image",class:"q-mr-xs"}),r[57]||(r[57]=(0,t.eW)(" 广告素材 ",-1))])]),_:1}),(0,t.bF)(Yl,{class:"q-gutter-lg"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",null,[r[58]||(r[58]=(0,t.Lk)("div",{class:"text-body2 text-grey-7 q-mb-sm"},"主广告图片",-1)),(0,t.bF)(m,{modelValue:vl.value.ImageUrl,"onUpdate:modelValue":r[18]||(r[18]=e=>vl.value.ImageUrl=e),label:"图片地址",outlined:"",readonly:""},{append:(0,t.k6)(()=>[(0,t.bF)(ll,{icon:"upload",dense:"",flat:"",color:"primary",onClick:r[16]||(r[16]=e=>ia("ImageUrl"))}),vl.value.ImageUrl?((0,t.uX)(),(0,t.Wv)(ll,{key:0,icon:"clear",dense:"",flat:"",color:"negative",onClick:r[17]||(r[17]=e=>ua("ImageUrl"))})):(0,t.Q3)("",!0)]),_:1},8,["modelValue"]),vl.value.ImageUrl?((0,t.uX)(),(0,t.CE)("div",O,[(0,t.bF)(ha,{src:vl.value.ImageUrl?.startsWith("http")?vl.value.ImageUrl:(0,i.R1)(c.A).baseURL+vl.value.ImageUrl,ratio:16/9,style:{"max-width":"300px",cursor:"pointer"},class:"shadow-3",onClick:r[19]||(r[19]=e=>na(vl.value.ImageUrl))},null,8,["src"])])):(0,t.Q3)("",!0)]),(0,t.bF)(Fa),(0,t.Lk)("div",null,[r[59]||(r[59]=(0,t.Lk)("div",{class:"text-body2 text-grey-7 q-mb-sm"},"缩略图",-1)),(0,t.bF)(m,{modelValue:vl.value.ThumbImgUrl,"onUpdate:modelValue":r[22]||(r[22]=e=>vl.value.ThumbImgUrl=e),label:"缩略图地址",outlined:"",readonly:""},{append:(0,t.k6)(()=>[(0,t.bF)(ll,{icon:"upload",dense:"",flat:"",color:"primary",onClick:r[20]||(r[20]=e=>ia("ThumbImgUrl"))}),vl.value.ThumbImgUrl?((0,t.uX)(),(0,t.Wv)(ll,{key:0,icon:"clear",dense:"",flat:"",color:"negative",onClick:r[21]||(r[21]=e=>ua("ThumbImgUrl"))})):(0,t.Q3)("",!0)]),_:1},8,["modelValue"]),vl.value.ThumbImgUrl?((0,t.uX)(),(0,t.CE)("div",H,[(0,t.bF)(ha,{src:vl.value.ThumbImgUrl?.startsWith("http")?vl.value.ThumbImgUrl:(0,i.R1)(c.A).baseURL+vl.value.ThumbImgUrl,ratio:1,style:{width:"150px",cursor:"pointer"},class:"shadow-3",onClick:r[23]||(r[23]=e=>na(vl.value.ThumbImgUrl))},null,8,["src"])])):(0,t.Q3)("",!0)])]),_:1})]),_:1})])])]),_:1}),(0,t.bF)(Zl,{align:"right",class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.bF)(ll,{flat:"",label:"取消",onClick:Nl}),(0,t.bF)(ll,{color:"primary",label:cl.value?"保存修改":"确认添加",onClick:Bl,loading:n.value,disable:!vl.value.Title||!vl.value.Url,unelevated:""},null,8,["label","loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,t.bF)(Ca,{modelValue:il.value,"onUpdate:modelValue":r[32]||(r[32]=e=>il.value=e)},{default:(0,t.k6)(()=>[(0,t.bF)(ma,{style:{"min-width":"900px","max-width":"95vw","max-height":"90vh"},class:"advertisement-detail-dialog"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none bg-primary text-white"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{name:"visibility",class:"q-mr-sm"}),r[60]||(r[60]=(0,t.Lk)("div",{class:"text-h6"},"广告详情",-1)),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"","text-color":"white",onClick:r[25]||(r[25]=e=>il.value=!1)})]),_:1}),pl.value?((0,t.uX)(),(0,t.Wv)(Yl,{key:0},{default:(0,t.k6)(()=>[(0,t.Lk)("div",N,[(0,t.Lk)("div",B,[(0,t.bF)(ma,{flat:"",bordered:"",class:"q-mb-md"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",G,[(0,t.bF)(d,{name:"info",class:"q-mr-xs"}),r[61]||(r[61]=(0,t.eW)(" 基本信息 ",-1))])]),_:1}),(0,t.bF)(Yl,{class:"q-gutter-md"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",J,[(0,t.bF)(d,{name:"tag",class:"q-mr-sm text-grey-6"}),r[62]||(r[62]=(0,t.Lk)("span",{class:"text-body2 text-grey-7 q-mr-sm"},"ID:",-1)),(0,t.bF)(Fl,{size:"sm",color:"blue-grey-2","text-color":"dark"},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(pl.value.Id),1)]),_:1})]),(0,t.Lk)("div",Z,[(0,t.Lk)("span",ee,[(0,t.bF)(d,{name:"title",class:"q-mt-sm text-grey-6"}),(0,t.eW)(" 广告标题："+(0,o.v_)(pl.value.Title),1)])]),(0,t.Lk)("div",le,[(0,t.Lk)("span",ae,[(0,t.bF)(d,{name:"link",class:"q-mt-sm text-grey-6"}),r[63]||(r[63]=(0,t.eW)(" 推广地址：",-1))]),(0,t.Lk)("a",{href:pl.value.Url,target:"_blank",class:"text-primary text-weight-medium text-decoration-none"},[(0,t.eW)((0,o.v_)(pl.value.Url)+" ",1),(0,t.bF)(d,{name:"open_in_new",size:"xs",class:"q-ml-xs"})],8,te)]),(0,t.Lk)("div",oe,[(0,t.Lk)("div",se,[(0,t.Lk)("div",ie,[(0,t.bF)(d,{name:"paid",class:"text-grey-6"}),r[64]||(r[64]=(0,t.eW)(" 竞价金额：",-1)),(0,t.Lk)("span",re," ¥"+(0,o.v_)(pl.value.Price||0),1)])])])]),_:1})]),_:1}),pl.value.Description?((0,t.uX)(),(0,t.Wv)(ma,{key:0,flat:"",bordered:"",class:"q-mb-md"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",ue,[(0,t.bF)(d,{name:"description",class:"q-mr-xs"}),r[65]||(r[65]=(0,t.eW)(" 广告描述 ",-1))])]),_:1}),(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",{innerHTML:pl.value.Description},null,8,ne)]),_:1})]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(ma,{flat:"",bordered:""},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",de,[(0,t.bF)(d,{name:"analytics",class:"q-mr-xs"}),r[66]||(r[66]=(0,t.eW)(" 分类与统计 ",-1))])]),_:1}),(0,t.bF)(Yl,{class:"q-gutter-md"},{default:(0,t.k6)(()=>[pl.value.CategoryIds?((0,t.uX)(),(0,t.CE)("div",ce,[(0,t.bF)(d,{name:"category",class:"q-mr-xs"}),r[67]||(r[67]=(0,t.eW)(" 广告分类： ",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Wl(pl.value.CategoryIds),e=>((0,t.uX)(),(0,t.Wv)(Fl,{key:e,color:"primary","text-color":"white",class:"q-ma-xs"},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(e),1)]),_:2},1024))),128))])):((0,t.uX)(),(0,t.Wv)(Fl,{key:1,color:"grey-4","text-color":"dark"},{default:(0,t.k6)(()=>[...r[68]||(r[68]=[(0,t.eW)("未分类",-1)])]),_:1})),(0,t.Lk)("div",me,[(0,t.Lk)("div",ve,[(0,t.bF)(_a,{value:pl.value.ClickRate||0,color:"positive",size:"8px",class:"q-mb-xs"},null,8,["value"]),r[69]||(r[69]=(0,t.Lk)("div",{class:"text-caption text-grey-7"},"点击率",-1)),(0,t.Lk)("div",pe,(0,o.v_)((100*(pl.value.ClickRate||0)).toFixed(2))+"%",1)]),(0,t.Lk)("div",be,[(0,t.bF)(wa,{value:Math.min(pl.value.DisplayCount||0,1e4),max:1e4,size:"50px",thickness:.2,color:"blue","track-color":"grey-3",class:"q-mb-xs"},null,8,["value"]),r[70]||(r[70]=(0,t.Lk)("div",{class:"text-caption text-grey-7"},"展示次数",-1)),(0,t.Lk)("div",ge,(0,o.v_)(pl.value.DisplayCount||0),1)]),(0,t.Lk)("div",ke,[(0,t.Lk)("div",xe,(0,o.v_)(pl.value.ViewCount||0),1),r[71]||(r[71]=(0,t.Lk)("div",{class:"text-caption text-grey-7"},"点击次数",-1))])])]),_:1})]),_:1})]),(0,t.Lk)("div",ye,[(0,t.bF)(ma,{flat:"",bordered:"",class:"full-height"},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",fe,[(0,t.bF)(d,{name:"image",class:"q-mr-xs"}),r[72]||(r[72]=(0,t.eW)(" 广告素材 ",-1))])]),_:1}),(0,t.bF)(Yl,{class:"q-gutter-lg"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",null,[(0,t.Lk)("div",he,[(0,t.bF)(d,{name:"wallpaper",class:"q-mr-xs"}),r[73]||(r[73]=(0,t.eW)(" 主广告图片 ",-1))]),pl.value.ImageUrl?((0,t.uX)(),(0,t.CE)("div",Fe,[(0,t.bF)(ha,{src:pl.value.ImageUrl?.startsWith("http")?pl.value.ImageUrl:(0,i.R1)(c.A).baseURL+pl.value.ImageUrl,ratio:16/9,class:"preview-image shadow-3",onClick:r[27]||(r[27]=e=>na(pl.value.ImageUrl))},{error:(0,t.k6)(()=>[(0,t.Lk)("div",Ce,[(0,t.Lk)("div",_e,[(0,t.bF)(d,{name:"broken_image",size:"32px"}),r[74]||(r[74]=(0,t.Lk)("div",{class:"text-caption q-mt-sm"},"加载失败",-1))])])]),loading:(0,t.k6)(()=>[(0,t.Lk)("div",we,[(0,t.bF)(ka,{color:"primary",size:"32px"})])]),default:(0,t.k6)(()=>[(0,t.Lk)("div",Le,[(0,t.bF)(ll,{icon:"visibility",size:"sm",dense:"",round:"",color:"white","text-color":"primary",onClick:r[26]||(r[26]=(0,s.D$)(e=>na(pl.value.ImageUrl),["stop"]))})])]),_:1},8,["src"])])):((0,t.uX)(),(0,t.CE)("div",qe,[(0,t.Lk)("div",Ve,[(0,t.bF)(d,{name:"image_not_supported",size:"48px"}),r[75]||(r[75]=(0,t.Lk)("div",{class:"q-mt-md"},"暂无图片",-1))])]))]),(0,t.bF)(Fa),(0,t.Lk)("div",null,[(0,t.Lk)("div",Ue,[(0,t.bF)(d,{name:"crop_original",class:"q-mr-xs"}),r[76]||(r[76]=(0,t.eW)(" 缩略图 ",-1))]),pl.value.ThumbImgUrl?((0,t.uX)(),(0,t.CE)("div",Re,[(0,t.bF)(ha,{src:pl.value.ThumbImgUrl?.startsWith("http")?pl.value.ThumbImgUrl:(0,i.R1)(c.A).baseURL+pl.value.ThumbImgUrl,ratio:1,style:{width:"120px",margin:"0 auto"},class:"preview-image shadow-3",onClick:r[29]||(r[29]=e=>na(pl.value.ThumbImgUrl))},{error:(0,t.k6)(()=>[(0,t.Lk)("div",Te,[(0,t.Lk)("div",Ie,[(0,t.bF)(d,{name:"broken_image",size:"24px"}),r[77]||(r[77]=(0,t.Lk)("div",{class:"text-caption"},"加载失败",-1))])])]),default:(0,t.k6)(()=>[(0,t.Lk)("div",Ae,[(0,t.bF)(ll,{icon:"visibility",size:"xs",dense:"",round:"",color:"white","text-color":"primary",onClick:r[28]||(r[28]=(0,s.D$)(e=>na(pl.value.ThumbImgUrl),["stop"]))})])]),_:1},8,["src"])])):((0,t.uX)(),(0,t.CE)("div",We,[(0,t.Lk)("div",De,[(0,t.bF)(d,{name:"crop_original",size:"32px"}),r[78]||(r[78]=(0,t.Lk)("div",{class:"q-mt-sm"},"暂无缩略图",-1))])]))]),(0,t.bF)(Fa),(0,t.Lk)("div",null,[(0,t.Lk)("div",Qe,[(0,t.bF)(d,{name:"schedule",class:"q-mr-xs"}),r[79]||(r[79]=(0,t.eW)(" 时间信息 ",-1))]),(0,t.Lk)("div",Ee,[(0,t.Lk)("div",Pe,[(0,t.bF)(d,{name:"add_circle",size:"sm",class:"q-mr-xs text-green-6"}),r[80]||(r[80]=(0,t.Lk)("span",{class:"text-caption text-grey-7"},"创建时间：",-1)),(0,t.Lk)("span",Me,(0,o.v_)(Al(pl.value.CreateTime)),1)]),(0,t.Lk)("div",ze,[(0,t.bF)(d,{name:"update",size:"sm",class:"q-mr-xs text-blue-6"}),r[81]||(r[81]=(0,t.Lk)("span",{class:"text-caption text-grey-7"},"更新时间：",-1)),(0,t.Lk)("span",Xe,(0,o.v_)(Al(pl.value.UpdateTime)),1)]),(0,t.Lk)("div",Ke,[(0,t.bF)(d,{name:"event",size:"sm",class:"q-mr-xs text-orange-6"}),r[82]||(r[82]=(0,t.Lk)("span",{class:"text-caption text-grey-7"},"过期时间：",-1)),(0,t.Lk)("span",Se,(0,o.v_)(Al(pl.value.ExpireTime)),1)])])])]),_:1})]),_:1})])])]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(Zl,{align:"right",class:"bg-grey-1"},{default:(0,t.k6)(()=>[(0,t.bF)(ll,{flat:"",label:"编辑",color:"primary",icon:"edit",onClick:ta,class:"q-px-lg"}),(0,t.bF)(ll,{flat:"",label:"删除",color:"negative",icon:"delete",class:"q-px-lg"},{default:(0,t.k6)(()=>[(0,t.bF)(va,{"transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(()=>[(0,t.bF)(ma,null,{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center"},{default:(0,t.k6)(()=>[r[83]||(r[83]=(0,t.Lk)("div",{class:"text-h6"},"确认删除",-1)),(0,t.Lk)("div",Ye,"确认删除广告【"+(0,o.v_)(pl.value.Title)+"】吗？",1)]),_:1}),(0,t.bF)(Zl,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.bF)(ll,{flat:"",label:"确认",color:"negative",onClick:r[30]||(r[30]=e=>Gl(pl.value))},null,512),[[qa]]),(0,t.bo)((0,t.bF)(ll,{flat:"",label:"取消",color:"primary"},null,512),[[qa]])]),_:1})]),_:1})]),_:1})]),_:1}),(0,t.bF)(ll,{flat:"",label:"关闭",color:"grey",onClick:r[31]||(r[31]=e=>il.value=!1),class:"q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,t.bF)(Ca,{modelValue:rl.value,"onUpdate:modelValue":r[37]||(r[37]=e=>rl.value=e)},{default:(0,t.k6)(()=>[(0,t.bF)(ma,{style:{"min-width":"400px"}},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none"},{default:(0,t.k6)(()=>[r[84]||(r[84]=(0,t.Lk)("div",{class:"text-h6"},"延期广告",-1)),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"",onClick:r[33]||(r[33]=e=>rl.value=!1)})]),_:1}),vl.value?((0,t.uX)(),(0,t.Wv)(Yl,{key:0},{default:(0,t.k6)(()=>[(0,t.Lk)("div",je,[(0,t.Lk)("div",$e,"广告："+(0,o.v_)(vl.value.Title),1),r[85]||(r[85]=(0,t.Lk)("div",{class:"text-body2"},"当前有效期延期至：",-1)),(0,t.bF)(m,{modelValue:vl.value.ExpireTime,"onUpdate:modelValue":r[35]||(r[35]=e=>vl.value.ExpireTime=e),label:"过期时间",dense:"",outlined:"",readonly:""},{append:(0,t.k6)(()=>[(0,t.bF)(d,{name:"event",class:"cursor-pointer"},{default:(0,t.k6)(()=>[(0,t.bF)(va,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(()=>[(0,t.bF)(fa,{modelValue:vl.value.ExpireTime,"onUpdate:modelValue":r[34]||(r[34]=e=>vl.value.ExpireTime=e),mask:"YYYY-MM-DD HH:mm:ss"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",Oe,[(0,t.bo)((0,t.bF)(ll,{label:"确定",color:"primary",flat:""},null,512),[[qa]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(Zl,{align:"right"},{default:(0,t.k6)(()=>[(0,t.bF)(ll,{flat:"",label:"取消",onClick:r[36]||(r[36]=e=>rl.value=!1)}),(0,t.bF)(ll,{color:"primary",label:"确定延期",onClick:sa,loading:n.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,t.bF)(Ca,{modelValue:ul.value,"onUpdate:modelValue":r[40]||(r[40]=e=>ul.value=e)},{default:(0,t.k6)(()=>[(0,t.bF)(ma,{style:{"min-width":"400px"}},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none"},{default:(0,t.k6)(()=>[r[86]||(r[86]=(0,t.Lk)("div",{class:"text-h6"},"上传图片",-1)),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"",onClick:r[38]||(r[38]=e=>ul.value=!1)})]),_:1}),(0,t.bF)(Yl,null,{default:(0,t.k6)(()=>[(0,t.bF)(La,{modelValue:hl.value,"onUpdate:modelValue":[r[39]||(r[39]=e=>hl.value=e),ra],label:"选择图片",outlined:"",accept:"image/*"},{prepend:(0,t.k6)(()=>[(0,t.bF)(d,{name:"attach_file"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,t.bF)(Ca,{modelValue:nl.value,"onUpdate:modelValue":r[42]||(r[42]=e=>nl.value=e),maximized:""},{default:(0,t.k6)(()=>[(0,t.bF)(ma,null,{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none"},{default:(0,t.k6)(()=>[r[87]||(r[87]=(0,t.Lk)("div",{class:"text-h6"},"广告洞察分析",-1)),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"",onClick:r[41]||(r[41]=e=>nl.value=!1)})]),_:1}),(0,t.bF)(Yl,{class:"q-pa-none",style:{height:"calc(100vh - 100px)"}},{default:(0,t.k6)(()=>[bl.value?((0,t.uX)(),(0,t.CE)("iframe",{key:0,src:bl.value,width:"100%",height:"100%",frameborder:"0"},null,8,He)):(0,t.Q3)("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,t.bF)(Ca,{modelValue:dl.value,"onUpdate:modelValue":r[44]||(r[44]=e=>dl.value=e)},{default:(0,t.k6)(()=>[(0,t.bF)(ma,{style:{"min-width":"50vw","min-height":"50vh","max-width":"90vw","max-height":"90vh"}},{default:(0,t.k6)(()=>[(0,t.bF)(Yl,{class:"row items-center q-pb-none"},{default:(0,t.k6)(()=>[r[88]||(r[88]=(0,t.Lk)("div",{class:"text-h6"},"图片预览",-1)),(0,t.bF)(ga),(0,t.bF)(ll,{icon:"close",flat:"",round:"",dense:"",onClick:r[43]||(r[43]=e=>dl.value=!1)})]),_:1}),(0,t.bF)(Yl,{class:"q-pa-md"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",Ne,[(0,t.bF)(ha,{src:ml.value?.startsWith("http")?ml.value:(0,i.R1)(c.A).baseURL+ml.value,fit:"contain",style:{"max-width":"100%","max-height":"73vh"}},{error:(0,t.k6)(()=>[(0,t.Lk)("div",Be,[(0,t.Lk)("div",Ge,[(0,t.bF)(d,{name:"broken_image",size:"48px"}),r[89]||(r[89]=(0,t.Lk)("div",{class:"text-h6 q-mt-md"},"图片加载失败",-1))])])]),loading:(0,t.k6)(()=>[(0,t.Lk)("div",Je,[(0,t.bF)(ka,{color:"primary",size:"48px"})])]),_:1},8,["src"])])]),_:1}),(0,t.bF)(Zl,{align:"center"},{default:(0,t.k6)(()=>[(0,t.bF)(ll,{flat:"",icon:"open_in_new",label:"在新窗口打开",onClick:da})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),el=a(1317),ll=a(40975),al=a(38622),tl=a(64503),ol=a(10258),sl=a(20407),il=a(63663),rl=a(17180),ul=a(97491),nl=a(91343),dl=a(34854),cl=a(71248),ml=a(74183),vl=a(25915),pl=a(25485),bl=a(51375),gl=a(95984),kl=a(9341),xl=a(45678),yl=a(5861),fl=a(58486),hl=a(59855),Fl=a(61929),Cl=a(45855),_l=a(60515),wl=a(22110),Ll=a.n(wl);const ql=(0,el.A)(Ze,[["__scopeId","data-v-50c9f2d7"]]);var Vl=ql;Ll()(Ze,"components",{QSelect:ll.A,QInput:al.A,QIcon:tl.A,QBtnGroup:ol.A,QBtn:sl.A,QCard:il.A,QCardSection:rl.A,QChip:ul.A,QToggle:nl.A,QPopupProxy:dl.A,QCardActions:cl.A,QPagination:ml.A,QSpace:vl.A,QSpinner:pl.A,QDialog:bl.A,QOptionGroup:gl.A,QDate:kl.A,QImg:xl.A,QSeparator:yl.A,QLinearProgress:fl.A,QCircularProgress:hl.A,QFile:Fl.A,QField:Cl.A}),Ll()(Ze,"directives",{ClosePopup:_l.A})},42634:function(){}}]);