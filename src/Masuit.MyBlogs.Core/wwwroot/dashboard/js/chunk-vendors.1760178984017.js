(self["webpackChunkcimo"]=self["webpackChunkcimo"]||[]).push([[504],{38:function(e,t,n){"use strict";var r=n(1624),o=n(3040),i=function(e,t,n){for(var r,o=e;null!=(r=o.next);o=r)if(r.key===t)return o.next=r.next,n||(r.next=e.next,e.next=r),r},a=function(e,t){if(e){var n=i(e,t);return n&&n.value}},l=function(e,t,n){var r=i(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},s=function(e,t){return!!e&&!!i(e,t)},c=function(e,t){if(e)return i(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=c(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return a(e,t)},has:function(t){return s(e,t)},set:function(t,n){e||(e={next:void 0}),l(e,t,n)}};return t}},43:function(e,t,n){"use strict";var r=n(5326),o=n(9868),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a function")}},79:function(e,t,n){"use strict";var r=n(3985),o=n(5788),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},142:function(e,t,n){"use strict";var r=n(8083),o=Object;e.exports=function(e){return o(r(e))}},227:function(e,t,n){"use strict";var r=n(43),o=n(1156);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},242:function(e,t,n){"use strict";var r,o,i=n(4875),a=n(7990),l=i.process,s=i.Deno,c=l&&l.versions||s&&s.version,u=c&&c.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},258:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},306:function(e,t,n){"use strict";var r=n(3342);e.exports=function(e,t,n){var o,i,a=n?e:e.iterator,l=e.next;while(!(o=r(l,a)).done)if(i=t(o.value),void 0!==i)return i}},324:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(43),a=n(3636),l=n(8848),s=n(8637),c=n(926),u=n(4388),d=n(2846),p=n(2633),f=n(7716),h=!u&&!p("filter",function(){}),m=!u&&!h&&f("filter",TypeError),g=u||h||m,v=s(function(){var e,t,n,r=this.iterator,i=this.predicate,l=this.next;while(1){if(e=a(o(l,r)),t=this.done=!!e.done,t)return;if(n=e.value,c(r,i,[n,this.counter++],!0))return n}});r({target:"Iterator",proto:!0,real:!0,forced:g},{filter:function(e){a(this);try{i(e)}catch(t){d(this,"throw",t)}return m?o(m,this,e):new v(l(this),{predicate:e})}})},374:function(e,t,n){"use strict";var r=n(8115),o=n(1789),i=TypeError,a=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},389:function(e,t,n){n(4645),n(4564),n(2635),n(324),n(4329),n(7578),n(2532),n(9858),function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=86)}([function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&!(e>=64976&&e<=65007)&&65535!=(65535&e)&&65534!=(65535&e)&&!(e>=0&&e<=8)&&11!==e&&!(e>=14&&e<=31)&&!(e>=127&&e<=159)&&!(e>1114111)}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(l.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=n(7),d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g,g=n(3);t.lib={},t.lib.mdurl=n(8),t.lib.ucmicro=n(26),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(l,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,function(e,t,n){return t||function(e,t){var n=0;return o(u,t)?u[t]:35===t.charCodeAt(0)&&c.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)})},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(16),o=n.n(r),i=n(0);function a(e){var t=e.codeHighlightExtensionMap,n=void 0===t?{}:t,r=e.hasLang,o=void 0===r?function(){return!0}:r,a=e.highlight,l=void 0===a?function(e){return e}:a,s=e.codeBlockClass;return function(e,t){var r=Object(i.escapeHtml)(e);return(t=n[t]||t)&&o(t)&&(r=l(e,t)),'<pre class="'+function(e){return s?s(e):"language-"+e}(t)+'"><code>'+r+"</code></pre>"}}t.b=function(){var e=new o.a;return e.set({html:!0,breaks:!0,linkify:!1,typographer:!0}),e}},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t,n){"use strict";const r=/[\u0000-\u001f]/g,o=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’–—<>,.?/]+/g,i=/[\u0300-\u036F]/g;e.exports=function(e){return e.normalize("NFKD").replace(i,"").replace(r,"").replace(o,"-").replace(/\-{2,}/g,"-").replace(/^\-+|\-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";e.exports.encode=n(22),e.exports.decode=n(23),e.exports.format=n(24),e.exports.parse=n(25)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&l.push(i.token-1));for(;l.length;){for(r=(n=l.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,l=e.src.charCodeAt(a);if(t)return!1;if(126!==l)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(l),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],l=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=l?"strong_open":"em_open",i.tag=l?"strong":"em",i.nesting=1,i.markup=l?a+a:a,i.content="",(i=e.tokens[o.token]).type=l?"strong_close":"em_close",i.tag=l?"strong":"em",i.nesting=-1,i.markup=l?a+a:a,i.content="",l&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";const r=n(18),o={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};function i(e,t,n){let r={match:!1,j:null},o=void 0!==n.shift?t+n.shift:n.position,c=(u=e,(d=o)>=0?u[d]:u[u.length+d]);var u,d;if(void 0===c)return r;for(let p in n)if("shift"!==p&&"position"!==p){if(void 0===c[p])return r;if("children"===p&&a(n.children)){if(0===c.children.length)return r;let e,t=n.children,o=c.children;if(t.every(e=>void 0!==e.position)){if(e=t.every(e=>i(o,e.position,e).match),e){let e=s(t).position;r.j=e>=0?e:o.length+e}}else for(let n=0;n<o.length;n++)if(e=t.every(e=>i(o,n,e).match),e){r.j=n;break}if(!1===e)return r}else switch(typeof n[p]){case"boolean":case"number":case"string":if(c[p]!==n[p])return r;break;case"function":if(!n[p](c[p]))return r;break;case"object":if(l(n[p])){if(!1===n[p].every(e=>e(c[p])))return r;break}default:throw new Error(`Unknown type of pattern test (key: ${p}). Test should be of type boolean, number, string, function or array of functions.`)}}return r.match=!0,r}function a(e){return Array.isArray(e)&&e.length&&e.every(e=>"object"==typeof e)}function l(e){return Array.isArray(e)&&e.length&&e.every(e=>"function"==typeof e)}function s(e){return e.slice(-1)[0]||{}}e.exports=function(e,t){let n=Object.assign({},o);n=Object.assign(n,t);const a=r(n);e.core.ruler.before("linkify","curly_attributes",function(e){let t=e.tokens;for(let n=0;n<t.length;n++)for(let e=0;e<a.length;e++){let r=a[e],o=null;r.tests.every(e=>{let r=i(t,n,e);return null!==r.j&&(o=r.j),r.match})&&(r.transform(t,n,o),"inline attributes"!==r.name&&"inline nesting 0"!==r.name||e--)}})}},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var r=n(1),o=n(15),i=n.n(o),a=function(e,t){var n=(void 0===t?{}:t).lineMarkup,r=void 0===n?"data-line":n,o=function(e,t,n,r,o){return o.renderToken(e,t,n)};function i(e){return function(t,n,o,i,a){var l=t[n];return l.attrPush([r,l.map[0]+1]),e(t,n,o,i,a)}}function a(e){return function(t,n,o,i,a){var l=e(t,n,o,i,a),s=t[n].map[0]+1;return"<div "+r+'="'+s+'">'+l+"</div>"}}var l={table_open:i,blockquote_open:i,bullet_list_open:i,ordered_list_open:i,reference_open:i,heading_open:i,lheading_open:i,paragraph_open:i,hr:i,html_block:a,code_block:a,fence:a};Object.keys(l).forEach(function(t){var n=e.renderer.rules[t]||o;e.renderer.rules[t]=l[t](n)})},l=function(e,t){void 0===t&&(t={});var n=t.getMarks;n&&e.core.ruler.push("anchor",function(e){var t={},r=e.tokens;r.filter(function(e){return"heading_open"===e.type}).forEach(function(e){var o=r[r.indexOf(e)+1].content,i=Number(e.tag.substr(1));t[o]=o in t?Number(t[o])+1:"";var a=n(o,i,t[o]);a&&a.forEach(function(t){var n=t.attr,r=t.value;e.attrPush([n,r])})})})},s={includeLevel:[2,3],containerClass:"table-of-contents",listClass:"table-of-content-list",listItemClass:"table-of-content-list-item",markerPattern:/^\[\[toc\]\]/im,listType:"ul",getAnchorAttrs:function(){return[]},format:void 0,forceFullToc:!1,containerHeaderHtml:void 0,containerFooterHtml:void 0,transformLink:void 0},c=function(e,t){var n,o=Object(r.a)({},s,t),i=o.markerPattern;function a(e,t,n){for(var r,i,l=[],s="",c=t.length,u=e;u<c;){var d=t[u],p=t[u-1],f=d.tag&&parseInt(d.tag.substr(1,1));if("heading_close"===d.type&&-1!=o.includeLevel.indexOf(f)&&"inline"===p.type){if(r){if(f>r){s+=(i=a(u,t,n))[1],u=i[0];continue}if(f<r)return s+="</li>",l.push(s),[u,"<"+o.listType+' class="'+o.listClass+'">'+l.join("")+"</"+o.listType+">"];f==r&&(s+="</li>",l.push(s))}else r=f;var h=p.children.reduce(function(e,t){return e+t.content},""),m=p.content,g=n[m]=m in n?Number(n[m])+1:"",v=o.getAnchorAttrs(m,f,g);s='<li class="'+o.listItemClass+'">\n      <a '+v.map(function(e){return e.attr+'="'+e.value+'"'}).join(" ")+">",s+=h,s+="</a>",u++}else u++}return s+=""===s?"":"</li>",l.push(s),[u,"<"+o.listType+' class="'+o.listClass+'">'+l.join("")+"</"+o.listType+">"]}e.renderer.rules.toc_open=function(e,t){var n='<div class="'+o.containerClass+'">';return o.containerHeaderHtml&&(n+=o.containerHeaderHtml),n},e.renderer.rules.toc_close=function(e,t){var n="";return o.containerFooterHtml&&(n=o.containerFooterHtml),n+"</div>"},e.renderer.rules.toc_body=function(e,t){var r={};if(o.forceFullToc){for(var i="",l=0,s=n&&n.tokens&&n.tokens.length;l<s;){var c=a(l,n.tokens,r);l=c[0],i+=c[1]}return i}return a(0,n.tokens,r)[1]},e.core.ruler.push("grab_state",function(e){n=e}),e.inline.ruler.after("emphasis","toc",function(e,t){var n;if(91!==e.src.charCodeAt(e.pos))return!1;if(t)return!1;if((n=(n=i.exec(e.src.substr(e.pos)))?n.filter(function(e){return e}):[]).length<1)return!1;e.push("toc_open","toc",1).markup="[[toc]]",e.push("toc_body","",0),e.push("toc_close","toc",-1);var r=e.src.indexOf("\n",e.pos);return e.pos=-1!==r?r:e.pos+e.posMax+1,!0})},u=function(e,t){void 0===t&&(t={});var n=t.getWrapperClass,r=void 0===n?function(e){return"language-"+e}:n,o=function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[0],a=n[1],l=i[a],s=e.apply(void 0,n);return'\x3c!--beforebegin--\x3e<div class="'+r(l.info.trim())+' extra-class" extra-attr>\x3c!--afterbegin--\x3e'+s+"\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e"}},i=e.renderer.rules,a=i.fence,l=i.code_block;e.renderer.rules.fence=o(a),e.renderer.rules.code_block=o(l)},d=function(e,t){var n=t.externalAttrs,r=t.openLinkIcon,o=t.openLinkIconClass,i=!1;e.renderer.rules.link_open=function(e,t,r,o,a){var l=e[t],s=l.attrIndex("href");if(s>=0){var c=l.attrs[s][1];/^https?:/.test(c)&&(Object.keys(n).forEach(function(e){l.attrSet(e,n[e])}),/_blank/i.test(n.target)&&(i=!0))}return a.renderToken(e,t,r)},e.renderer.rules.link_close=function(e,t,n,a,l){return i&&(i=!1,r)?o?'<i class="'+o+'"></i>'+l.renderToken(e,t,n):'<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="v-md-svg-outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>'+l.renderToken(e,t,n):l.renderToken(e,t,n)}},p=n(6),f=n.n(p),h=n(2);function m(e){var t=void 0===e?{}:e,n=t.toc,o=t.link,s=t.attrs,p=Object(h.b)();return p.use(d,Object(r.a)({externalAttrs:{target:"_blank"}},o)).use(u,{getWrapperClass:function(e){return"v-md-pre-wrapper v-md-pre-wrapper-"+e}}).use(i.a,Object(r.a)({leftDelimiter:"{{{",rightDelimiter:"}}}"},s,{allowedAttributes:["width","height"].concat(null==s?void 0:s.allowedAttributes)})).use(l,{getMarks:function(e,t,n){return[{attr:"data-v-md-heading",value:f()(e)+(n?"-"+n:"")}]}}).use(c,Object(r.a)({listClass:"v-md-toc",listItemClass:"v-md-toc-item",getAnchorAttrs:function(e,t,n){return[{attr:"data-v-md-anchor",value:f()(e)+(n?"-"+n:"")}]}},n)).use(a,{lineMarkup:"data-v-md-line"}),{previewClass:"markdown-body",extend:function(e){e(p)},markdownParser:p}}},function(e,t,n){"use strict";const r=n(19);function o(e){return e.slice(-1)[0]}e.exports=e=>{const t=new RegExp("^ {0,3}[-*_]{3,} ?"+r.escapeRegExp(e.leftDelimiter)+"[^"+r.escapeRegExp(e.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:r.hasDelimiters("end",e)}],transform:(t,n)=>{let o=t[n],i=o.info.lastIndexOf(e.leftDelimiter),a=r.getAttrs(o.info,i,e);r.addAttrs(a,o),o.info=r.removeDelimiter(o.info,e)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:e=>"image"===e||"code_inline"===e},{shift:0,type:"text",content:r.hasDelimiters("start",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=i.content.indexOf(e.rightDelimiter),l=t[n].children[o-1],s=r.getAttrs(i.content,0,e);r.addAttrs(s,l),i.content.length===a+e.rightDelimiter.length?t[n].children.splice(o,1):i.content=i.content.slice(a+e.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",e)}],transform:(t,n)=>{let o=t[n+2],i=r.getMatchingOpeningToken(t,n),a=r.getAttrs(o.content,0,e);r.addAttrs(a,i),t.splice(n+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:r.hasDelimiters("start",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=i.content,l=r.getAttrs(a,0,e),s=r.getMatchingOpeningToken(t[n].children,o-1);r.addAttrs(l,s),i.content=a.slice(a.indexOf(e.rightDelimiter)+e.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o].content,a=r.getAttrs(i,0,e),l=n-2;for(;t[l-1]&&"ordered_list_open"!==t[l-1].type&&"bullet_list_open"!==t[l-1].type;)l--;r.addAttrs(a,t[l-1]),t[n].children=t[n].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:e=>"bullet_list_close"===e||"ordered_list_close"===e},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",e),children:e=>1===e.length},{shift:3,type:"paragraph_close"}],transform:(t,n)=>{let o=t[n+2].content,i=r.getAttrs(o,0,e),a=r.getMatchingOpeningToken(t,n);r.addAttrs(i,a),t.splice(n+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:r.hasDelimiters("end",e)}]}],transform:(t,n,i)=>{let a=t[n].children[i],l=a.content,s=r.getAttrs(l,l.lastIndexOf(e.leftDelimiter),e);r.addAttrs(s,t[n-2]);let c=l.slice(0,l.lastIndexOf(e.leftDelimiter));a.content=" "!==o(c)?c:c.slice(0,-1)}},{name:"\n{.a} softbreak then curly in start",tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=r.getAttrs(i.content,0,e),l=n+1;for(;t[l+1]&&-1===t[l+1].nesting;)l++;let s=r.getMatchingOpeningToken(t,l);r.addAttrs(a,s),t[n].children=t[n].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:e=>1===e.length,content:e=>null!==e.match(t)},{shift:2,type:"paragraph_close"}],transform:(t,n)=>{let o=t[n];o.type="hr",o.tag="hr",o.nesting=0;let i=t[n+1].content,a=i.lastIndexOf(e.leftDelimiter);o.attrs=r.getAttrs(i,a,e),o.markup=i,t.splice(n+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:r.hasDelimiters("end",e),type:e=>"code_inline"!==e}]}],transform:(t,n,i)=>{let a=t[n].children[i],l=a.content,s=r.getAttrs(l,l.lastIndexOf(e.leftDelimiter),e),c=n+1;for(;t[c+1]&&-1===t[c+1].nesting;)c++;let u=r.getMatchingOpeningToken(t,c);r.addAttrs(s,u);let d=l.slice(0,l.lastIndexOf(e.leftDelimiter));a.content=" "!==o(d)?d:d.slice(0,-1)}}]}},function(e,t,n){"use strict";function r(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}t.getAttrs=function(e,t,n){const r=/[^\t\n\f />"'=]/,o=[];let i="",a="",l=!0,s=!1;for(let c=t+n.leftDelimiter.length;c<e.length;c++){if(e.slice(c,c+n.rightDelimiter.length)===n.rightDelimiter){""!==i&&o.push([i,a]);break}let t=e.charAt(c);if("="===t&&l)l=!1;else if("."!==t||""!==i)if("#"!==t||""!==i)if('"'!==t||""!==a)if('"'===t&&s)s=!1;else if(" "!==t||s)l&&-1===t.search(r)||(l?i+=t:a+=t);else{if(""===i)continue;o.push([i,a]),i="",a="",l=!0}else s=!0;else i="id",l=!1;else"."===e.charAt(c+1)?(i="css-module",c+=1):i="class",l=!1}if(n.allowedAttributes&&n.allowedAttributes.length){let e=n.allowedAttributes;return o.filter(function(t){let n=t[0];return e.some(function(e){return n===e||e instanceof RegExp&&e.test(n)})})}return o},t.addAttrs=function(e,t){for(let n=0,r=e.length;n<r;++n){let r=e[n][0];"class"===r?t.attrJoin("class",e[n][1]):"css-module"===r?t.attrJoin("css-module",e[n][1]):t.attrPush(e[n])}return t},t.hasDelimiters=function(e,t){if(!e)throw new Error('Parameter `where` not passed. Should be "start", "middle", "end" or "only".');return function(n){let r,o,i,a,l=t.leftDelimiter.length+1+t.rightDelimiter.length;if(!n||"string"!=typeof n||n.length<l)return!1;let s=l-t.rightDelimiter.length;switch(e){case"start":i=n.slice(0,t.leftDelimiter.length),r=i===t.leftDelimiter?0:-1,o=-1===r?-1:n.indexOf(t.rightDelimiter,s),a=n.charAt(o+t.rightDelimiter.length),a&&-1!==t.rightDelimiter.indexOf(a)&&(o=-1);break;case"end":r=n.lastIndexOf(t.leftDelimiter),o=-1===r?-1:n.indexOf(t.rightDelimiter,r+s),o=o===n.length-t.rightDelimiter.length?o:-1;break;case"only":i=n.slice(0,t.leftDelimiter.length),r=i===t.leftDelimiter?0:-1,i=n.slice(n.length-t.rightDelimiter.length),o=i===t.rightDelimiter?n.length-t.rightDelimiter.length:-1}return-1!==r&&-1!==o&&function(e){let n="."===e.charAt(t.leftDelimiter.length),r="#"===e.charAt(t.leftDelimiter.length);return n||r?e.length>=l+1:e.length>=l}(n.substring(r,o+t.rightDelimiter.length))}},t.removeDelimiter=function(e,t){const n=r(t.leftDelimiter),o=r(t.rightDelimiter);let i=new RegExp("[ \\n]?"+n+"[^"+n+o+"]+"+o+"$"),a=e.search(i);return-1!==a?e.slice(0,a):e},t.escapeRegExp=r,t.getMatchingOpeningToken=function(e,t){if("softbreak"===e[t].type)return!1;if(0===e[t].nesting)return e[t];let n=e[t].level,r=e[t].type.replace("_close","_open");for(;t>=0;--t)if(e[t].type===r&&e[t].level===n)return e[t]};let o=/[&<>"]/,i=/[&<>"]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function l(e){return a[e]}t.escapeHtml=function(e){return o.test(e)?e.replace(i,l):e}},function(e,t,n){"use strict";var r=n(0),o=n(28),i=n(32),a=n(33),l=n(41),s=n(55),c=n(68),u=n(8),d=n(70),p={default:n(73),zero:n(74),commonmark:n(75)},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!f.test(t)||!!h.test(t)}var g=["http:","https:","mailto:"];function v(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function b(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t),u.decode.defaultChars+"%")}function x(e,t){if(!(this instanceof x))return new x(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new l,this.core=new a,this.renderer=new i,this.linkify=new c,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=b,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}x.prototype.set=function(e){return r.assign(this.options,e),this},x.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)}),this},x.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},x.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},x.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},x.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},x.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},x.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},x.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=x},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,l,s,c,u="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(l=e.charCodeAt(i),n&&37===l&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(l<128)u+=c[l];else if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<a&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,r,o,i,a,l,s,c="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?c+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(c+=(s=o<<6&1984|63&i)<128?"��":String.fromCharCode(s),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(c+=(s=o<<12&61440|i<<6&4032|63&a)<2048||s>=55296&&s<=57343?"���":String.fromCharCode(s),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),l=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&l))?((s=o<<18&1835008|i<<12&258048|a<<6&4032|63&l)<65536||s>1114111?c+="����":(s-=65536,c+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):c+="�";return c})}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+(e.hash||"")}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(l),c=["%","/","?",";","#"].concat(s),u=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,l,s,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=a.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=o.exec(m);if(v&&(i=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(t||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(s="//"===m.substr(0,2))||v&&f[v]||(m=m.substr(2),this.slashes=!0)),!f[v]&&(s||v&&!h[v])){var b,x,y=-1;for(n=0;n<u.length;n++)-1!==(l=m.indexOf(u[n]))&&(-1===y||l<y)&&(y=l);for(-1!==(x=-1===y?m.lastIndexOf("@"):m.lastIndexOf("@",y))&&(b=m.slice(0,x),m=m.slice(x+1),this.auth=b),y=-1,n=0;n<c.length;n++)-1!==(l=m.indexOf(c[n]))&&(-1===y||l<y)&&(y=l);-1===y&&(y=m.length),":"===m[y-1]&&y--;var w=m.slice(0,y);m=m.slice(y),this.parseHost(w),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C){var k=this.hostname.split(/\./);for(n=0,r=k.length;n<r;n++){var S=k[n];if(S&&!S.match(d)){for(var T="",E=0,O=S.length;E<O;E++)S.charCodeAt(E)>127?T+="x":T+=S[E];if(!T.match(d)){var D=k.slice(0,n),A=k.slice(n+1),M=S.match(p);M&&(D.push(M[1]),A.unshift(M[2])),A.length&&(m=A.join(".")+m),this.hostname=D.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var I=m.indexOf("#");-1!==I&&(this.hash=m.substr(I),m=m.slice(0,I));var N=m.indexOf("?");return-1!==N&&(this.search=m.substr(N),m=m.slice(0,N)),m&&(this.pathname=m),h[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},function(e,t,n){"use strict";t.Any=n(9),t.Cc=n(10),t.Cf=n(27),t.P=n(3),t.Z=n(11)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(29),t.parseLinkDestination=n(30),t.parseLinkTitle=n(31)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,l=-1,s=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=c,-1}return o&&(l=e.pos),e.pos=c,l}},function(e,t,n){"use strict";var r=n(0).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return l;if(60===o)return l;if(62===o)return l.pos=t+1,l.str=r(e.slice(a+1,t)),l.ok=!0,l;92===o&&t+1<n?t+=2:t++}return l}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return l;if(41===o){if(0===i)break;i--}t++}return a===t||0!==i||(l.str=r(e.slice(a,t)),l.lines=0,l.pos=t,l.ok=!0),l}},function(e,t,n){"use strict";var r=n(0).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,l=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(l+1,t)),s.ok=!0,s;if(40===o&&41===i)return s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},function(e,t,n){"use strict";var r=n(0).assign,o=n(0).unescapeAll,i=n(0).escapeHtml,a={};function l(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var l,s,c,u,d,p=e[t],f=p.info?o(p.info).trim():"",h="",m="";return f&&(h=(c=f.split(/(\s+)/g))[0],m=c.slice(2).join("")),0===(l=n.highlight&&n.highlight(p.content,h,m)||i(p.content)).indexOf("<pre")?l+"\n":f?(s=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],s<0?u.push(["class",n.langPrefix+h]):(u[s]=u[s].slice(),u[s][1]+=" "+n.langPrefix+h),d={attrs:u},"<pre><code"+a.renderAttrs(d)+">"+l+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+l+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},l.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},l.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},l.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,l=e.length;a<l;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},l.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},l.prototype.render=function(e,t,n){var r,o,i,a="",l=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==l[i]?a+=l[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=l},function(e,t,n){"use strict";var r=n(4),o=[["normalize",n(34)],["block",n(35)],["inline",n(36)],["linkify",n(37)],["replacements",n(38)],["smartquotes",n(39)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(40),e.exports=i},function(e,t,n){"use strict";var r=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,"�"),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var r=n(0).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(a=w[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(y=s.content,/^<a[>\s]/i.test(y)&&m>0&&m--,o(s.content)&&m++),!(m>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,x=e.md.linkify.match(d),c=[],h=s.level,f=0,u=0;u<x.length;u++)g=x[u].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(b=x[u].text,b=x[u].schema?"mailto:"!==x[u].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),(p=x[u].index)>f&&((l=new e.Token("text","",0)).content=d.slice(f,p),l.level=h,c.push(l)),(l=new e.Token("link_open","a",1)).attrs=[["href",v]],l.level=h++,l.markup="linkify",l.info="auto",c.push(l),(l=new e.Token("text","",0)).content=b,l.level=h,c.push(l),(l=new e.Token("link_close","a",-1)).level=--h,l.markup="linkify",l.info="auto",c.push(l),f=x[u].lastIndex);f<d.length&&((l=new e.Token("text","",0)).content=d.slice(f),l.level=h,c.push(l)),w[n].children=a=r(a,t,c)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function l(e,t){return a[t.toLowerCase()]}function s(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,l)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function c(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&s(e.tokens[t].children),r.test(e.tokens[t].content)&&c(e.tokens[t].children))}},function(e,t,n){"use strict";var r=n(0).isWhiteSpace,o=n(0).isPunctChar,i=n(0).isMdAsciiPunct,a=/['"]/,l=/['"]/g;function s(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function c(e,t){var n,a,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T,E,O;for(T=[],n=0;n<e.length;n++){for(a=e[n],f=e[n].level,k=T.length-1;k>=0&&!(T[k].level<=f);k--);if(T.length=k+1,"text"===a.type){d=0,p=(c=a.content).length;e:for(;d<p&&(l.lastIndex=d,u=l.exec(c));){if(w=C=!0,d=u.index+1,S="'"===u[0],m=32,u.index-1>=0)m=c.charCodeAt(u.index-1);else for(k=n-1;k>=0&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k--)if(e[k].content){m=e[k].content.charCodeAt(e[k].content.length-1);break}if(g=32,d<p)g=c.charCodeAt(d);else for(k=n+1;k<e.length&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k++)if(e[k].content){g=e[k].content.charCodeAt(0);break}if(v=i(m)||o(String.fromCharCode(m)),b=i(g)||o(String.fromCharCode(g)),x=r(m),(y=r(g))?w=!1:b&&(x||v||(w=!1)),x?C=!1:v&&(y||b||(C=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(C=w=!1),w&&C&&(w=v,C=b),w||C){if(C)for(k=T.length-1;k>=0&&(h=T[k],!(T[k].level<f));k--)if(h.single===S&&T[k].level===f){h=T[k],S?(E=t.md.options.quotes[2],O=t.md.options.quotes[3]):(E=t.md.options.quotes[0],O=t.md.options.quotes[1]),a.content=s(a.content,u.index,O),e[h.token].content=s(e[h.token].content,h.pos,E),d+=O.length-1,h.token===n&&(d+=E.length-1),p=(c=a.content).length,T.length=k;continue e}w?T.push({token:n,pos:u.index,single:S,level:f}):C&&S&&(a.content=s(a.content,u.index,"’"))}else S&&(a.content=s(a.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(5);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(4),o=[["table",n(42),["paragraph","reference"]],["code",n(43)],["fence",n(44),["paragraph","reference","blockquote","list"]],["blockquote",n(45),["paragraph","reference","blockquote","list"]],["hr",n(46),["paragraph","reference","blockquote","list"]],["list",n(47),["paragraph","reference","blockquote"]],["reference",n(48)],["html_block",n(49),["paragraph","reference","blockquote"]],["heading",n(51),["paragraph","reference","blockquote"]],["lheading",n(52)],["paragraph",n(53)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,l=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),(a=e.line)<n&&e.isEmpty(a)&&(l=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(54),e.exports=i},function(e,t,n){"use strict";var r=n(0).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=!1,a=0,l="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(l+=e.substring(a,r-1),a=r):(n.push(l+e.substring(a,r)),l="",a=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(l+e.substring(a)),n}e.exports=function(e,t,n,a){var l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((c=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(k=e.src.charCodeAt(c++))&&45!==k&&58!==k)return!1;if(c>=e.eMarks[p])return!1;if(124!==(S=e.src.charCodeAt(c++))&&45!==S&&58!==S&&!r(S))return!1;if(45===k&&r(S))return!1;for(;c<e.eMarks[p];){if(124!==(l=e.src.charCodeAt(c))&&45!==l&&58!==l&&!r(l))return!1;c++}for(f=(s=o(e,t+1)).split("|"),g=[],u=0;u<f.length;u++){if(!(v=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?g.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(h=f.length)||h!==g.length)return!1;if(a)return!0;for(y=e.parentType,e.parentType="table",C=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=b=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<f.length;u++)m=e.push("th_open","th",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=t+2;p<n&&!(e.sCount[p]<e.blkIndent);p++){for(w=!1,u=0,d=C.length;u<d;u++)if(C[u](e,p,n,!0)){w=!0;break}if(w)break;if(!(s=o(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===t+2&&((m=e.push("tbody_open","tbody",1)).map=x=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[p,p+1],u=0;u<h;u++)m=e.push("td_open","td",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u]?f[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return x&&(m=e.push("tbody_close","tbody",-1),x[1]=p),m=e.push("table_close","table",-1),b[1]=p,e.parentType=y,e.line=p,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,l,s,c,u,d=!1,p=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if(u=e.src.slice(s,p),a=e.src.slice(p,f),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(l=t;!(++l>=n)&&!((p=s=e.bMarks[l]+e.tShift[l])<(f=e.eMarks[l])&&e.sCount[l]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[l]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<f)){d=!0;break}return i=e.sCount[t],e.line=l+(d?1:0),(c=e.push("fence","code",0)).info=a,c.content=e.getLines(t+1,l,i,!0),c.markup=u,c.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T=e.lineMax,E=e.bMarks[t]+e.tShift[t],O=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(E++))return!1;if(o)return!0;for(s=f=e.sCount[t]+1,32===e.src.charCodeAt(E)?(E++,s++,f++,i=!1,y=!0):9===e.src.charCodeAt(E)?(y=!0,(e.bsCount[t]+f)%4==3?(E++,s++,f++,i=!1):i=!0):y=!1,h=[e.bMarks[t]],e.bMarks[t]=E;E<O&&(a=e.src.charCodeAt(E),r(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,E++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),u=E>=O,b=[e.sCount[t]],e.sCount[t]=f-s,x=[e.tShift[t]],e.tShift[t]=E-e.bMarks[t],C=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",p=t+1;p<n&&(S=e.sCount[p]<e.blkIndent,!((E=e.bMarks[p]+e.tShift[p])>=(O=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(E++)||S){if(u)break;for(w=!1,l=0,c=C.length;l<c;l++)if(C[l](e,p,n,!0)){w=!0;break}if(w){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),m.push(e.bsCount[p]),x.push(e.tShift[p]),b.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),m.push(e.bsCount[p]),x.push(e.tShift[p]),b.push(e.sCount[p]),e.sCount[p]=-1}else{for(s=f=e.sCount[p]+1,32===e.src.charCodeAt(E)?(E++,s++,f++,i=!1,y=!0):9===e.src.charCodeAt(E)?(y=!0,(e.bsCount[p]+f)%4==3?(E++,s++,f++,i=!1):i=!0):y=!1,h.push(e.bMarks[p]),e.bMarks[p]=E;E<O&&(a=e.src.charCodeAt(E),r(a));)9===a?f+=4-(f+e.bsCount[p]+(i?1:0))%4:f++,E++;u=E>=O,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(y?1:0),b.push(e.sCount[p]),e.sCount[p]=f-s,x.push(e.tShift[p]),e.tShift[p]=E-e.bMarks[p]}for(g=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=d=[t,0],e.md.block.tokenize(e,t,p),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=T,e.parentType=v,d[1]=e.line,l=0;l<x.length;l++)e.bMarks[l+t]=h[l],e.tShift[l+t]=x[l],e.sCount[l+t]=b[l],e.bsCount[l+t]=m[l];return e.blkIndent=g,!0}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(c++))&&45!==i&&95!==i)return!1;for(a=1;c<u;){if((l=e.src.charCodeAt(c++))!==i&&!r(l))return!1;l===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},function(e,t,n){"use strict";var r=n(0).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T,E,O,D,A,M,I,N,R,F=!1,_=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(F=!0),(D=i(e,t))>=0){if(p=!0,M=e.bMarks[t]+e.tShift[t],b=Number(e.src.slice(M,D-1)),F&&1!==b)return!1}else{if(!((D=o(e,t))>=0))return!1;p=!1}if(F&&e.skipSpaces(D)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(D-1),r)return!0;for(g=e.tokens.length,p?(R=e.push("ordered_list_open","ol",1),1!==b&&(R.attrs=[["start",b]])):R=e.push("bullet_list_open","ul",1),R.map=m=[t,0],R.markup=String.fromCharCode(v),y=t,A=!1,N=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";y<n;){for(O=D,x=e.eMarks[y],d=w=e.sCount[y]+D-(e.bMarks[t]+e.tShift[t]);O<x;){if(9===(a=e.src.charCodeAt(O)))w+=4-(w+e.bsCount[y])%4;else{if(32!==a)break;w++}O++}if((u=(l=O)>=x?1:w-d)>4&&(u=1),c=d+u,(R=e.push("list_item_open","li",1)).markup=String.fromCharCode(v),R.map=f=[t,0],p&&(R.info=e.src.slice(M,D-1)),E=e.tight,T=e.tShift[t],S=e.sCount[t],C=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=l-e.bMarks[t],e.sCount[t]=w,l>=x&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!A||(_=!1),A=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=C,e.tShift[t]=T,e.sCount[t]=S,e.tight=E,(R=e.push("list_item_close","li",-1)).markup=String.fromCharCode(v),y=t=e.line,f[1]=y,l=e.bMarks[t],y>=n)break;if(e.sCount[y]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(I=!1,s=0,h=N.length;s<h;s++)if(N[s](e,y,n,!0)){I=!0;break}if(I)break;if(p){if((D=i(e,y))<0)break;M=e.bMarks[y]+e.tShift[y]}else if((D=o(e,y))<0)break;if(v!==e.src.charCodeAt(D-1))break}return(R=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=y,e.line=y,e.parentType=k,_&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,g),!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t,n,i){var a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C=0,k=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],T=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<S;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===S)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(c=e.lineMax,y=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";T<c&&!e.isEmpty(T);T++)if(!(e.sCount[T]-e.blkIndent>3||e.sCount[T]<0)){for(x=!1,d=0,p=y.length;d<p;d++)if(y[d](e,T,c,!0)){x=!0;break}if(x)break}for(S=(b=e.getLines(t,T,e.blkIndent,!1).trim()).length,k=1;k<S;k++){if(91===(a=b.charCodeAt(k)))return!1;if(93===a){h=k;break}(10===a||92===a&&++k<S&&10===b.charCodeAt(k))&&C++}if(h<0||58!==b.charCodeAt(h+1))return!1;for(k=h+2;k<S;k++)if(10===(a=b.charCodeAt(k)))C++;else if(!o(a))break;if(!(g=e.md.helpers.parseLinkDestination(b,k,S)).ok)return!1;if(u=e.md.normalizeLink(g.str),!e.md.validateLink(u))return!1;for(l=k=g.pos,s=C+=g.lines,v=k;k<S;k++)if(10===(a=b.charCodeAt(k)))C++;else if(!o(a))break;for(g=e.md.helpers.parseLinkTitle(b,k,S),k<S&&v!==k&&g.ok?(w=g.str,k=g.pos,C+=g.lines):(w="",k=l,C=s);k<S&&(a=b.charCodeAt(k),o(a));)k++;if(k<S&&10!==b.charCodeAt(k)&&w)for(w="",k=l,C=s;k<S&&(a=b.charCodeAt(k),o(a));)k++;return!(k<S&&10!==b.charCodeAt(k))&&!!(f=r(b.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:w,href:u}),e.parentType=m,e.line=t+C+1),!0)}},function(e,t,n){"use strict";var r=n(50),o=n(12).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(s=e.src.slice(c,u),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(c=e.bMarks[a]+e.tShift[a],u=e.eMarks[a],s=e.src.slice(c,u),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(l=e.push("html_block","",0)).map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(c))||c>=u)return!1;for(a=1,i=e.src.charCodeAt(++c);35===i&&c<u&&a<=6;)a++,i=e.src.charCodeAt(++c);return!(a>6||c<u&&!r(i))&&(o||(u=e.skipSpacesBack(u,c),(l=e.skipCharsBack(u,35,c))>c&&r(e.src.charCodeAt(l-1))&&(u=l),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(c,u).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,l,s,c,u,d,p,f=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(s=e.bMarks[f]+e.tShift[f])<(c=e.eMarks[f])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=c)){u=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,f,n,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(l=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),l.map=[t,e.line],(l=e.push("inline","",0)).content=r,l.map=[t,e.line-1],l.children=[],(l=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,l,s=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(l=e.parentType,e.parentType="paragraph";s<u&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=c.length;o<i;o++)if(c[o](e,s,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=l,!0}},function(e,t,n){"use strict";var r=n(5),o=n(0).isSpace;function i(e,t,n,r){var i,a,l,s,c,u,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,l=s=u=d=0,c=(a=this.src).length;s<c;s++){if(i=a.charCodeAt(s),!p){if(o(i)){u++,9===i?d+=4-d%4:d++;continue}p=!0}10!==i&&s!==c-1||(10!==i&&s++,this.bMarks.push(l),this.eMarks.push(s),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,l=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,l,s,c,u,d,p=e;if(e>=t)return"";for(u=new Array(t-e),i=0;p<t;p++,i++){for(a=0,d=s=this.bMarks[p],c=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];s<c&&a<n;){if(l=this.src.charCodeAt(s),o(l))9===l?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(s-d<this.tShift[p]))break;a++}s++}u[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,c):this.src.slice(s,c)}return u.join("")},i.prototype.Token=r,e.exports=i},function(e,t,n){"use strict";var r=n(4),o=[["text",n(56)],["newline",n(57)],["escape",n(58)],["backticks",n(59)],["strikethrough",n(13).tokenize],["emphasis",n(14).tokenize],["link",n(60)],["image",n(61)],["autolink",n(62)],["html_inline",n(63)],["entity",n(64)]],i=[["balance_pairs",n(65)],["strikethrough",n(13).postProcess],["emphasis",n(14).postProcess],["text_collapse",n(66)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,l=e.cache;if(void 0===l[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,l[r]=e.pos}else e.pos=l[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,l=new this.State(e,t,n,r);for(this.tokenize(l),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](l)},a.prototype.State=n(67),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t){var n,o,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&r(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},function(e,t,n){"use strict";for(var r=n(0).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){o[e.charCodeAt(0)]=1}),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,l,s,c,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;if(s=(o=e.src.slice(n,u)).length,e.backticksScanned&&(e.backticks[s]||0)<=n)return t||(e.pending+=o),e.pos+=s,!0;for(a=l=u;-1!==(a=e.src.indexOf("`",l));){for(l=a+1;l<r&&96===e.src.charCodeAt(l);)l++;if((c=l-a)===s)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(u,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=l,!0;e.backticks[c]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t){var n,i,a,l,s,c,u,d,p="",f="",h=e.pos,m=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(l=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=l+1)<m&&40===e.src.charCodeAt(c)){for(v=!1,c++;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(c>=m)return!1;if(g=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok){for(p=e.md.normalizeLink(u.str),e.md.validateLink(p)?c=u.pos:p="",g=c;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(f=u.str,c=u.pos;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);}(c>=m||41!==e.src.charCodeAt(c))&&(v=!0),c++}if(v){if(void 0===e.env.references)return!1;if(c<m&&91===e.src.charCodeAt(c)?(g=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?a=e.src.slice(g,c++):c=l+1):c=l+1,a||(a=e.src.slice(s,l)),!(d=e.env.references[r(a)]))return e.pos=h,!1;p=d.href,f=d.title}return t||(e.pos=s,e.posMax=l,e.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t){var n,i,a,l,s,c,u,d,p,f,h,m,g,v="",b=e.pos,x=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=s+1)<x&&40===e.src.charCodeAt(u)){for(u++;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=x)return!1;for(g=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(v=e.md.normalizeLink(p.str),e.md.validateLink(v)?u=p.pos:v=""),g=u;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<x&&g!==u&&p.ok)for(f=p.str,u=p.pos;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else f="";if(u>=x||41!==e.src.charCodeAt(u))return e.pos=b,!1;u++}else{if(void 0===e.env.references)return!1;if(u<x&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?l=e.src.slice(g,u++):u=s+1):u=s+1,l||(l=e.src.slice(c,s)),!(d=e.env.references[r(l)]))return e.pos=b,!1;v=d.href,f=d.title}return t||(a=e.src.slice(c,s),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",v],["alt",""]],h.children=m,h.content=a,f&&n.push(["title",f])),e.pos=u,e.posMax=x,!0}},function(e,t,n){"use strict";var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,o=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,i,a,l,s,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(s=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(60===(l=e.src.charCodeAt(u)))return!1;if(62===l)break}return n=e.src.slice(s+1,u),o.test(n)?(i=e.md.normalizeLink(n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0)):!!r.test(n)&&(i=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0))}},function(e,t,n){"use strict";var r=n(12).HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))}},function(e,t,n){"use strict";var r=n(7),o=n(0).has,i=n(0).isValidEntityCode,a=n(0).fromCodePoint,l=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,c,u=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(u))return!1;if(u+1<d)if(35===e.src.charCodeAt(u+1)){if(c=e.src.slice(u).match(l))return t||(n="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=c[0].length,!0}else if((c=e.src.slice(u).match(s))&&o(r,c[1]))return t||(e.pending+=r[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l,s,c,u={},d=t.length;if(d){var p=0,f=-2,h=[];for(n=0;n<d;n++)if(o=t[n],h.push(0),t[p].marker===o.marker&&f===o.token-1||(p=n),f=o.token,o.length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1,-1,-1,-1]),a=u[o.marker][(o.open?3:0)+o.length%3],l=r=p-h[p]-1;r>a;r-=h[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s)){c=r>0&&!t[r-1].open?h[r-1]+1:0,h[n]=n-r+c,h[r]=c,o.open=!1,i.end=n,i.close=!1,l=-1,f=-2;break}-1!==l&&(u[o.marker][(o.open?3:0)+(o.length||0)%3]=l)}}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(0,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(0,n[t].delimiters)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var r=n(5),o=n(0).isWhiteSpace,i=n(0).isPunctChar,a=n(0).isMdAsciiPunct;function l(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}l.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},l.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},l.prototype.scanDelims=function(e,t){var n,r,l,s,c,u,d,p,f,h=e,m=!0,g=!0,v=this.posMax,b=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<v&&this.src.charCodeAt(h)===b;)h++;return l=h-e,r=h<v?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),f=a(r)||i(String.fromCharCode(r)),u=o(n),(p=o(r))?m=!1:f&&(u||d||(m=!1)),u?g=!1:d&&(p||f||(g=!1)),t?(s=m,c=g):(s=m&&(!g||d),c=g&&(!m||f)),{can_open:s,can_close:c,length:l}},l.prototype.Token=r,e.exports=l},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n(69)(e.__opts__),r=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var s=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return function(e){return"[object RegExp]"===o(e)}(n.validate)?r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate):i(n.validate)?r.validate=n.validate:c(t,n),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?c(t,n):s.push(t)}}),s.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||l.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,l,s;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(o=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},function(e,t,n){"use strict";e.exports=function(e){var t={};return t.src_Any=n(9).source,t.src_Cc=n(10).source,t.src_Z=n(11).source,t.src_P=n(3).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var a,l=2147483647,s=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function h(e){throw new RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return m(e,function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)}).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function y(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function w(e){var t,n,r,o,i,a,s,c,u,d,f,m=[],g=e.length,v=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&h("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,a=1,s=36;o>=g&&h("invalid-input"),((c=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>p((l-v)/a))&&h("overflow"),v+=c*a,!(c<(u=s<=w?1:s>=w+26?26:s-w));s+=36)a>p(l/(d=36-u))&&h("overflow"),a*=d;w=y(v-i,t=m.length+1,0==i),p(v/t)>l-x&&h("overflow"),x+=p(v/t),v%=t,m.splice(v++,0,x)}return b(m)}function C(e){var t,n,r,o,i,a,s,c,u,d,m,g,b,w,C,k=[];for(g=(e=v(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(m=e[a])<128&&k.push(f(m));for(r=o=k.length,o&&k.push("-");r<g;){for(s=l,a=0;a<g;++a)(m=e[a])>=t&&m<s&&(s=m);for(s-t>p((l-n)/(b=r+1))&&h("overflow"),n+=(s-t)*b,t=s,a=0;a<g;++a)if((m=e[a])<t&&++n>l&&h("overflow"),m==t){for(c=n,u=36;!(c<(d=u<=i?1:u>=i+26?26:u-i));u+=36)C=c-d,w=36-d,k.push(f(x(d+C%w,0))),c=p(C/w);k.push(f(x(c,0))),i=y(n,b,r==o),n=0,++r}++n,++t}return k.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:w,encode:C,toASCII:function(e){return g(e,function(e){return c.test(e)?"xn--"+C(e):e})},toUnicode:function(e){return g(e,function(e){return s.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return a}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(71)(e),n(72))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var r=n(17),o=n(2);function i(e){var t=void 0===e?{}:e,n=t.Prism,i=t.baseConfig,a=t.codeBlockClass,l=t.codeHighlightExtensionMap,s=void 0===l?{}:l,c=Object(r.default)(i);return c.extend(function(e){e.set({highlight:Object(o.a)({codeHighlightExtensionMap:s,hasLang:function(e){return n.languages[e]},codeBlockClass:a,highlight:function(e,t){return n.highlight(e,n.languages[t],t)}})})}),{previewClass:"markdown-body",extend:function(e){c.extend(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.apply(void 0,r.concat([n]))})},markdownParser:c.markdownParser}}},,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(77);t.default=function(e,t){void 0===t&&(t={});var n=t,i=n.extend,a=n.config,l=n.codeHighlightExtensionMap,s=function(e){var t=Object(o.default)({Prism:e.Prism,codeHighlightExtensionMap:e.codeHighlightExtensionMap||{},codeBlockClass:e.codeBlockClass||function(e){return"v-md-prism-"+e},baseConfig:Object(r.a)({link:{openLinkIcon:!0}},e.baseConfig)});return{previewClass:"vuepress-markdown-body",extend:function(e){t.extend(e)},markdownParser:t.markdownParser}}({Prism:n.Prism,baseConfig:a,codeHighlightExtensionMap:l});i&&s.extend(i),e.theme(s)}},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=(n=n||{}).marker||":",o=r.charCodeAt(0),i=r.length,a=n.validate||function(e){return e.trim().split(" ",2)[0]===t},l=n.render||function(e,n,r,o,i){return 1===e[n].nesting&&e[n].attrJoin("class",t),i.renderToken(e,n,r,o,i)};e.block.ruler.before("fence","container_"+t,function(e,n,l,s){var c,u,d,p,f,h,m,g,v=!1,b=e.bMarks[n]+e.tShift[n],x=e.eMarks[n];if(o!==e.src.charCodeAt(b))return!1;for(c=b+1;c<=x&&r[(c-b)%i]===e.src[c];c++);if((d=Math.floor((c-b)/i))<3)return!1;if(c-=(c-b)%i,p=e.src.slice(b,c),f=e.src.slice(c,x),!a(f,p))return!1;if(s)return!0;for(u=n;!(++u>=l)&&!((b=e.bMarks[u]+e.tShift[u])<(x=e.eMarks[u])&&e.sCount[u]<e.blkIndent);)if(o===e.src.charCodeAt(b)&&!(e.sCount[u]-e.blkIndent>=4)){for(c=b+1;c<=x&&r[(c-b)%i]===e.src[c];c++);if(!(Math.floor((c-b)/i)<d||(c-=(c-b)%i,(c=e.skipSpaces(c))<x))){v=!0;break}}return m=e.parentType,g=e.lineMax,e.parentType="container",e.lineMax=u,(h=e.push("container_"+t+"_open","div",1)).markup=p,h.block=!0,h.info=f,h.map=[n,u],e.md.block.tokenize(e,n+1,u),(h=e.push("container_"+t+"_close","div",-1)).markup=e.src.slice(b,c),h.block=!0,e.parentType=m,e.lineMax=g,e.line=u+(v?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules["container_"+t+"_open"]=l,e.renderer.rules["container_"+t+"_close"]=l}},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(79),o=n(81),i=n.n(o);function a(e){return"string"==typeof e?function(){return e}:e}var l=function(e,t){var n,r,o=t.validate,l=t.marker,s=t.render,c=t.type,u=t.before,d=t.after,p=t.defaultTitle,f=void 0===p?c.toUpperCase():p,h=t.blockClass,m=void 0===h?"custom-block":h;c&&(s||(void 0!==u&&void 0!==d?(n=a(u),r=a(d)):(n=function(e){return'<div class="'+m+" "+c+'">'+(e?'<p class="'+m+'-title">'+e+"</p>":"")+"\n"},r=function(){return"</div>\n"}),s=function(e,t){var o=e[t],i=o.info.trim().slice(c.length).trim();return!i&&f&&(i="function"==typeof f?f():f),1===o.nesting?n(i):r(i)}),e.use(i.a,c,{render:s,validate:o,marker:l}))},s=function(e){e.extendMarkdown(function(t){var n=function(){var t=e.lang.config;return t.langConfig[t.lang]};l(t,{type:"tip",defaultTitle:function(){return n().tip.tip.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"warning",defaultTitle:function(){return n().tip.warning.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"danger",defaultTitle:function(){return n().tip.danger.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"details",defaultTitle:function(){return n().tip.details.defaultTitle},before:function(e){return'<details class="v-md-plugin-tip details">'+(e?"<summary>"+e+"</summary>":"")+"\n"},after:function(){return"</details>\n"}})}),e.lang.add({"zh-CN":{tip:{tip:{defaultTitle:"提示"},warning:{defaultTitle:"注意"},danger:{defaultTitle:"警告"},details:{defaultTitle:"详细信息"}}},"en-US":{tip:{tip:{defaultTitle:"TIP"},warning:{defaultTitle:"WARNING"},danger:{defaultTitle:"DANGER"},details:{defaultTitle:"DETAILS"}}}})};n(80),n(84),n(85),t.default={install:function(e,t){var n,o,i,a,l,c,u,d,p,f=(i=(o=void 0===n?{}:n).name,a=void 0===i?"tip":i,l=o.icon,c=void 0===l?"v-md-icon-tip":l,u=o.text,d=function(e,t){void 0===t&&(t="tip"),e.insert(function(n){var r=n||e.langConfig.tip[t].placeholder;return{text:"::: "+t+"\n  "+r+"\n:::",selected:r}})},p={title:function(e){return e.langConfig.tip.toolbar},icon:c,text:u,menus:[{name:"tip",text:function(e){return e.langConfig.tip.tip.toolbar},action:function(e){e.execCommand(a)}},{name:"warning",text:function(e){return e.langConfig.tip.warning.toolbar},action:function(e){e.execCommand(a,"warning")}},{name:"danger",text:function(e){return e.langConfig.tip.danger.toolbar},action:function(e){e.execCommand(a,"danger")}},{name:"details",text:function(e){return e.langConfig.tip.details.toolbar},action:function(e){e.execCommand(a,"details")}}]},{install:function(e){"v-md-editor"===e.name&&(e.command(a,d),e.toolbar(a,p),e.lang.add({"zh-CN":{tip:{toolbar:"插入提示",tip:{toolbar:"提示",placeholder:"在此输入内容"},warning:{toolbar:"注意",placeholder:"在此输入内容"},danger:{toolbar:"警告",placeholder:"在此输入内容"},details:{toolbar:"详细信息",placeholder:"内容"}}},"en-US":{tip:{toolbar:"Insert tip",tip:{toolbar:"Tip",placeholder:"Insert content"},warning:{toolbar:"Warning",placeholder:"Insert content"},danger:{toolbar:"Danger",placeholder:"Insert content"},details:{toolbar:"Details",placeholder:"Content"}}}})),e.vMdParser.use(s)}});e.vMdParser.use(r.default,t),e.use(f)}}}]).default})},393:function(e,t,n){"use strict";var r=n(6031),o=n(3515),i=n(9082),a=n(9441),l=!a("union")||!i("union");r({target:"Set",proto:!0,real:!0,forced:l},{union:o})},419:function(e,t,n){"use strict";var r=n(8621);e.exports=function(e){return r(e.length)}},480:function(e,t,n){"use strict";var r=n(2846);e.exports=function(e,t,n){for(var o=e.length-1;o>=0;o--)if(void 0!==e[o])try{n=r(e[o].iterator,t,n)}catch(i){t="throw",n=i}if("throw"===t)throw n;return n}},488:function(e,t,n){"use strict";var r=n(6031),o=n(1208),i=n(9441),a=!i("isDisjointFrom",function(e){return!e});r({target:"Set",proto:!0,real:!0,forced:a},{isDisjointFrom:o})},544:function(e,t,n){"use strict";var r=n(8115),o=n(4849),i=n(3560),a=n(3636),l=n(2634),s=n(943);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);var n,r=l(t),o=s(t),c=o.length,u=0;while(c>u)i.f(e,n=o[u++],r[n]);return e}},588:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=n(1833),a=n(6934),l=n(9792),s=n(4561),c=n(2351),u=n(9926),d=s.c2i,p=s.c2iUrl,f=r.SyntaxError,h=r.TypeError,m=o("".charAt),g=function(e,t){for(var n=e.length;t<n;t++){var r=m(e,t);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return t},v=function(e,t,n){var r=e.length;r<4&&(e+=2===r?"AA":"A");var o=(t[m(e,0)]<<18)+(t[m(e,1)]<<12)+(t[m(e,2)]<<6)+t[m(e,3)],i=[o>>16&255,o>>8&255,255&o];if(2===r){if(n&&0!==i[1])throw new f("Extra bits");return[i[0]]}if(3===r){if(n&&0!==i[2])throw new f("Extra bits");return[i[0],i[1]]}return i},b=function(e,t,n){for(var r=t.length,o=0;o<r;o++)e[n+o]=t[o];return n+r};e.exports=function(e,t,n,r){a(e),i(t);var o="base64"===c(t)?d:p,s=t?t.lastChunkHandling:void 0;if(void 0===s&&(s="loose"),"loose"!==s&&"strict"!==s&&"stop-before-partial"!==s)throw new h("Incorrect `lastChunkHandling` option");n&&u(n.buffer);var x=e.length,y=n||[],w=0,C=0,k="",S=0;if(r)while(1){if(S=g(e,S),S===x){if(k.length>0){if("stop-before-partial"===s)break;if("loose"!==s)throw new f("Missing padding");if(1===k.length)throw new f("Malformed padding: exactly one additional character");w=b(y,v(k,o,!1),w)}C=x;break}var T=m(e,S);if(++S,"="===T){if(k.length<2)throw new f("Padding is too early");if(S=g(e,S),2===k.length){if(S===x){if("stop-before-partial"===s)break;throw new f("Malformed padding: only one =")}"="===m(e,S)&&(++S,S=g(e,S))}if(S<x)throw new f("Unexpected character after padding");w=b(y,v(k,o,"strict"===s),w),C=x;break}if(!l(o,T))throw new f("Unexpected character");var E=r-w;if(1===E&&2===k.length||2===E&&3===k.length)break;if(k+=T,4===k.length&&(w=b(y,v(k,o,!1),w),k="",C=S,w===r))break}return{bytes:y,read:C,written:w}}},668:function(e,t,n){"use strict";var r=n(1595),o=n(9241),i=n(8083),a=n(1135);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(l){}return function(n,r){return i(n),a(r),o(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},672:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(var o in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||!0!==a.enumerable)return!1}return!0}},689:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";e.defineMode("javascript",function(t,n){var r,o,i=t.indentUnit,a=n.statementIndent,l=n.jsonld,s=n.json||l,c=!1!==n.trackScope,u=n.typescript,d=n.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e){var t,n=!1,r=!1;while(null!=(t=e.next())){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function g(e,t,n){return r=e,o=n,t}function v(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=b(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return g("number","number");if("."==n&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return g(n);if("="==n&&e.eat(">"))return g("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return g("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),g("number","number");if("/"==n)return e.eat("*")?(t.tokenize=x,x(e,t)):e.eat("/")?(e.skipToEnd(),g("comment","comment")):ot(e,t,1)?(m(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(e.eat("="),g("operator","operator",e.current()));if("`"==n)return t.tokenize=y,y(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),g("meta","meta");if("#"==n&&e.eatWhile(d))return g("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),g("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?g("."):g("operator","operator",e.current());if(d.test(n)){e.eatWhile(d);var r=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(r)){var o=p[r];return g(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",r)}return g("variable","variable",r)}}function b(e){return function(t,n){var r,o=!1;if(l&&"@"==t.peek()&&t.match(h))return n.tokenize=v,g("jsonld-keyword","meta");while(null!=(r=t.next())){if(r==e&&!o)break;o=!o&&"\\"==r}return o||(n.tokenize=v),g("string","string")}}function x(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=v;break}r="*"==n}return g("comment","comment")}function y(e,t){var n,r=!1;while(null!=(n=e.next())){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=v;break}r=!r&&"\\"==n}return g("quasi","string-2",e.current())}var w="([{}])";function C(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,a=n-1;a>=0;--a){var l=e.string.charAt(a),s=w.indexOf(l);if(s>=0&&s<3){if(!o){++a;break}if(0==--o){"("==l&&(i=!0);break}}else if(s>=3&&s<6)++o;else if(d.test(l))i=!0;else if(/["'\/`]/.test(l))for(;;--a){if(0==a)return;var c=e.string.charAt(a-1);if(c==l&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(i&&!o){++a;break}}i&&!o&&(t.fatArrowAt=a)}}var k={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function S(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function T(e,t){if(!c)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function E(e,t,n,r,o){var i=e.cc;O.state=e,O.stream=o,O.marked=null,O.cc=i,O.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);while(1){var a=i.length?i.pop():s?q:H;if(a(n,r)){while(i.length&&i[i.length-1].lex)i.pop()();return O.marked?O.marked:"variable"==n&&T(e,r)?"variable-2":t}}}var O={state:null,column:null,marked:null,cc:null};function D(){for(var e=arguments.length-1;e>=0;e--)O.cc.push(arguments[e])}function A(){return D.apply(null,arguments),!0}function M(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function I(e){var t=O.state;if(O.marked="def",c){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=N(e,t.context);if(null!=r)return void(t.context=r)}else if(!M(e,t.localVars))return void(t.localVars=new _(e,t.localVars));n.globalVars&&!M(e,t.globalVars)&&(t.globalVars=new _(e,t.globalVars))}}function N(e,t){if(t){if(t.block){var n=N(e,t.prev);return n?n==t.prev?t:new F(n,t.vars,!0):null}return M(e,t.vars)?t:new F(t.prev,new _(e,t.vars),!1)}return null}function R(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function F(e,t,n){this.prev=e,this.vars=t,this.block=n}function _(e,t){this.name=e,this.next=t}var P=new _("this",new _("arguments",null));function j(){O.state.context=new F(O.state.context,O.state.localVars,!1),O.state.localVars=P}function L(){O.state.context=new F(O.state.context,O.state.localVars,!0),O.state.localVars=null}function $(){O.state.localVars=O.state.context.vars,O.state.context=O.state.context.prev}function z(e,t){var n=function(){var n=O.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new S(r,O.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function V(){var e=O.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function B(e){function t(n){return n==e?A():";"==e||"}"==n||")"==n||"]"==n?D():A(t)}return t}function H(e,t){return"var"==e?A(z("vardef",t),De,B(";"),V):"keyword a"==e?A(z("form"),G,H,V):"keyword b"==e?A(z("form"),H,V):"keyword d"==e?O.stream.match(/^\s*$/,!1)?A():A(z("stat"),K,B(";"),V):"debugger"==e?A(B(";")):"{"==e?A(z("}"),L,pe,V,$):";"==e?A():"if"==e?("else"==O.state.lexical.info&&O.state.cc[O.state.cc.length-1]==V&&O.state.cc.pop()(),A(z("form"),G,H,V,Fe)):"function"==e?A(Le):"for"==e?A(z("form"),L,_e,H,$,V):"class"==e||u&&"interface"==t?(O.marked="keyword",A(z("form","class"==e?e:t),He,V)):"variable"==e?u&&"declare"==t?(O.marked="keyword",A(H)):u&&("module"==t||"enum"==t||"type"==t)&&O.stream.match(/^\s*\w/,!1)?(O.marked="keyword","enum"==t?A(tt):"type"==t?A(ze,B("operator"),ve,B(";")):A(z("form"),Ae,B("{"),z("}"),pe,V,V)):u&&"namespace"==t?(O.marked="keyword",A(z("form"),q,H,V)):u&&"abstract"==t?(O.marked="keyword",A(H)):A(z("stat"),ie):"switch"==e?A(z("form"),G,B("{"),z("}","switch"),L,pe,V,V,$):"case"==e?A(q,B(":")):"default"==e?A(B(":")):"catch"==e?A(z("form"),j,W,H,V,$):"export"==e?A(z("stat"),Ge,V):"import"==e?A(z("stat"),Ke,V):"async"==e?A(H):"@"==t?A(q,H):D(z("stat"),q,B(";"),V)}function W(e){if("("==e)return A(Ve,B(")"))}function q(e,t){return Y(e,t,!1)}function U(e,t){return Y(e,t,!0)}function G(e){return"("!=e?D():A(z(")"),K,B(")"),V)}function Y(e,t,n){if(O.state.fatArrowAt==O.stream.start){var r=n?te:ee;if("("==e)return A(j,z(")"),ue(Ve,")"),V,B("=>"),r,$);if("variable"==e)return D(j,Ae,B("=>"),r,$)}var o=n?Z:X;return k.hasOwnProperty(e)?A(o):"function"==e?A(Le,o):"class"==e||u&&"interface"==t?(O.marked="keyword",A(z("form"),Be,V)):"keyword c"==e||"async"==e?A(n?U:q):"("==e?A(z(")"),K,B(")"),V,o):"operator"==e||"spread"==e?A(n?U:q):"["==e?A(z("]"),et,V,o):"{"==e?de(le,"}",null,o):"quasi"==e?D(J,o):"new"==e?A(ne(n)):A()}function K(e){return e.match(/[;\}\)\],]/)?D():D(q)}function X(e,t){return","==e?A(K):Z(e,t,!1)}function Z(e,t,n){var r=0==n?X:Z,o=0==n?q:U;return"=>"==e?A(j,n?te:ee,$):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?A(r):u&&"<"==t&&O.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A(z(">"),ue(ve,">"),V,r):"?"==t?A(q,B(":"),o):A(o):"quasi"==e?D(J,r):";"!=e?"("==e?de(U,")","call",r):"."==e?A(ae,r):"["==e?A(z("]"),K,B("]"),V,r):u&&"as"==t?(O.marked="keyword",A(ve,r)):"regexp"==e?(O.state.lastType=O.marked="operator",O.stream.backUp(O.stream.pos-O.stream.start-1),A(o)):void 0:void 0}function J(e,t){return"quasi"!=e?D():"${"!=t.slice(t.length-2)?A(J):A(K,Q)}function Q(e){if("}"==e)return O.marked="string-2",O.state.tokenize=y,A(J)}function ee(e){return C(O.stream,O.state),D("{"==e?H:q)}function te(e){return C(O.stream,O.state),D("{"==e?H:U)}function ne(e){return function(t){return"."==t?A(e?oe:re):"variable"==t&&u?A(Te,e?Z:X):D(e?U:q)}}function re(e,t){if("target"==t)return O.marked="keyword",A(X)}function oe(e,t){if("target"==t)return O.marked="keyword",A(Z)}function ie(e){return":"==e?A(V,H):D(X,B(";"),V)}function ae(e){if("variable"==e)return O.marked="property",A()}function le(e,t){return"async"==e?(O.marked="property",A(le)):"variable"==e||"keyword"==O.style?(O.marked="property","get"==t||"set"==t?A(se):(u&&O.state.fatArrowAt==O.stream.start&&(n=O.stream.match(/^\s*:\s*/,!1))&&(O.state.fatArrowAt=O.stream.pos+n[0].length),A(ce))):"number"==e||"string"==e?(O.marked=l?"property":O.style+" property",A(ce)):"jsonld-keyword"==e?A(ce):u&&R(t)?(O.marked="keyword",A(le)):"["==e?A(q,fe,B("]"),ce):"spread"==e?A(U,ce):"*"==t?(O.marked="keyword",A(le)):":"==e?D(ce):void 0;var n}function se(e){return"variable"!=e?D(ce):(O.marked="property",A(Le))}function ce(e){return":"==e?A(U):"("==e?D(Le):void 0}function ue(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=O.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),A(function(n,r){return n==t||r==t?D():D(e)},r)}return o==t||i==t?A():n&&n.indexOf(";")>-1?D(e):A(B(t))}return function(n,o){return n==t||o==t?A():D(e,r)}}function de(e,t,n){for(var r=3;r<arguments.length;r++)O.cc.push(arguments[r]);return A(z(t,n),ue(e,t),V)}function pe(e){return"}"==e?A():D(H,pe)}function fe(e,t){if(u){if(":"==e)return A(ve);if("?"==t)return A(fe)}}function he(e,t){if(u&&(":"==e||"in"==t))return A(ve)}function me(e){if(u&&":"==e)return O.stream.match(/^\s*\w+\s+is\b/,!1)?A(q,ge,ve):A(ve)}function ge(e,t){if("is"==t)return O.marked="keyword",A()}function ve(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(O.marked="keyword",A("typeof"==t?U:ve)):"variable"==e||"void"==t?(O.marked="type",A(Se)):"|"==t||"&"==t?A(ve):"string"==e||"number"==e||"atom"==e?A(Se):"["==e?A(z("]"),ue(ve,"]",","),V,Se):"{"==e?A(z("}"),xe,V,Se):"("==e?A(ue(ke,")"),be,Se):"<"==e?A(ue(ve,">"),ve):"quasi"==e?D(we,Se):void 0}function be(e){if("=>"==e)return A(ve)}function xe(e){return e.match(/[\}\)\]]/)?A():","==e||";"==e?A(xe):D(ye,xe)}function ye(e,t){return"variable"==e||"keyword"==O.style?(O.marked="property",A(ye)):"?"==t||"number"==e||"string"==e?A(ye):":"==e?A(ve):"["==e?A(B("variable"),he,B("]"),ye):"("==e?D($e,ye):e.match(/[;\}\)\],]/)?void 0:A()}function we(e,t){return"quasi"!=e?D():"${"!=t.slice(t.length-2)?A(we):A(ve,Ce)}function Ce(e){if("}"==e)return O.marked="string-2",O.state.tokenize=y,A(we)}function ke(e,t){return"variable"==e&&O.stream.match(/^\s*[?:]/,!1)||"?"==t?A(ke):":"==e?A(ve):"spread"==e?A(ke):D(ve)}function Se(e,t){return"<"==t?A(z(">"),ue(ve,">"),V,Se):"|"==t||"."==e||"&"==t?A(ve):"["==e?A(ve,B("]"),Se):"extends"==t||"implements"==t?(O.marked="keyword",A(ve)):"?"==t?A(ve,B(":"),ve):void 0}function Te(e,t){if("<"==t)return A(z(">"),ue(ve,">"),V,Se)}function Ee(){return D(ve,Oe)}function Oe(e,t){if("="==t)return A(ve)}function De(e,t){return"enum"==t?(O.marked="keyword",A(tt)):D(Ae,fe,Ne,Re)}function Ae(e,t){return u&&R(t)?(O.marked="keyword",A(Ae)):"variable"==e?(I(t),A()):"spread"==e?A(Ae):"["==e?de(Ie,"]"):"{"==e?de(Me,"}"):void 0}function Me(e,t){return"variable"!=e||O.stream.match(/^\s*:/,!1)?("variable"==e&&(O.marked="property"),"spread"==e?A(Ae):"}"==e?D():"["==e?A(q,B("]"),B(":"),Me):A(B(":"),Ae,Ne)):(I(t),A(Ne))}function Ie(){return D(Ae,Ne)}function Ne(e,t){if("="==t)return A(U)}function Re(e){if(","==e)return A(De)}function Fe(e,t){if("keyword b"==e&&"else"==t)return A(z("form","else"),H,V)}function _e(e,t){return"await"==t?A(_e):"("==e?A(z(")"),Pe,V):void 0}function Pe(e){return"var"==e?A(De,je):"variable"==e?A(je):D(je)}function je(e,t){return")"==e?A():";"==e?A(je):"in"==t||"of"==t?(O.marked="keyword",A(q,je)):D(q,je)}function Le(e,t){return"*"==t?(O.marked="keyword",A(Le)):"variable"==e?(I(t),A(Le)):"("==e?A(j,z(")"),ue(Ve,")"),V,me,H,$):u&&"<"==t?A(z(">"),ue(Ee,">"),V,Le):void 0}function $e(e,t){return"*"==t?(O.marked="keyword",A($e)):"variable"==e?(I(t),A($e)):"("==e?A(j,z(")"),ue(Ve,")"),V,me,$):u&&"<"==t?A(z(">"),ue(Ee,">"),V,$e):void 0}function ze(e,t){return"keyword"==e||"variable"==e?(O.marked="type",A(ze)):"<"==t?A(z(">"),ue(Ee,">"),V):void 0}function Ve(e,t){return"@"==t&&A(q,Ve),"spread"==e?A(Ve):u&&R(t)?(O.marked="keyword",A(Ve)):u&&"this"==e?A(fe,Ne):D(Ae,fe,Ne)}function Be(e,t){return"variable"==e?He(e,t):We(e,t)}function He(e,t){if("variable"==e)return I(t),A(We)}function We(e,t){return"<"==t?A(z(">"),ue(Ee,">"),V,We):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(O.marked="keyword"),A(u?ve:q,We)):"{"==e?A(z("}"),qe,V):void 0}function qe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&R(t))&&O.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(O.marked="keyword",A(qe)):"variable"==e||"keyword"==O.style?(O.marked="property",A(Ue,qe)):"number"==e||"string"==e?A(Ue,qe):"["==e?A(q,fe,B("]"),Ue,qe):"*"==t?(O.marked="keyword",A(qe)):u&&"("==e?D($e,qe):";"==e||","==e?A(qe):"}"==e?A():"@"==t?A(q,qe):void 0}function Ue(e,t){if("!"==t)return A(Ue);if("?"==t)return A(Ue);if(":"==e)return A(ve,Ne);if("="==t)return A(U);var n=O.state.lexical.prev,r=n&&"interface"==n.info;return D(r?$e:Le)}function Ge(e,t){return"*"==t?(O.marked="keyword",A(Qe,B(";"))):"default"==t?(O.marked="keyword",A(q,B(";"))):"{"==e?A(ue(Ye,"}"),Qe,B(";")):D(H)}function Ye(e,t){return"as"==t?(O.marked="keyword",A(B("variable"))):"variable"==e?D(U,Ye):void 0}function Ke(e){return"string"==e?A():"("==e?D(q):"."==e?D(X):D(Xe,Ze,Qe)}function Xe(e,t){return"{"==e?de(Xe,"}"):("variable"==e&&I(t),"*"==t&&(O.marked="keyword"),A(Je))}function Ze(e){if(","==e)return A(Xe,Ze)}function Je(e,t){if("as"==t)return O.marked="keyword",A(Xe)}function Qe(e,t){if("from"==t)return O.marked="keyword",A(q)}function et(e){return"]"==e?A():D(ue(U,"]"))}function tt(){return D(z("form"),Ae,B("{"),z("}"),ue(nt,"}"),V,V)}function nt(){return D(Ae,Ne)}function rt(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function ot(e,t,n){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return j.lex=L.lex=!0,$.lex=!0,V.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new S((e||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new F(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),C(e,t)),t.tokenize!=x&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=o&&"--"!=o?r:"incdec",E(t,n,r,o,e))},indent:function(t,r){if(t.tokenize==x||t.tokenize==y)return e.Pass;if(t.tokenize!=v)return 0;var o,l=r&&r.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==V)s=s.prev;else if(u!=Fe&&u!=$)break}while(("stat"==s.type||"form"==s.type)&&("}"==l||(o=t.cc[t.cc.length-1])&&(o==X||o==Z)&&!/^[,\.=+\-*:?[\(]/.test(r)))s=s.prev;a&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var d=s.type,p=l==d;return"vardef"==d?s.indented+("operator"==t.lastType||","==t.lastType?s.info.length+1:0):"form"==d&&"{"==l?s.indented:"form"==d?s.indented+i:"stat"==d?s.indented+(rt(t,r)?a||i:0):"switch"!=s.info||p||0==n.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:i):s.indented+(/^(?:case|default)\b/.test(r)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:l,jsonMode:s,expressionAllowed:ot,skipExpression:function(t){E(t,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},766:function(e,t,n){"use strict";var r=n(2774);e.exports=Function.prototype.bind||r},856:function(e,t,n){"use strict";var r=n(6676),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new o("Incorrect invocation")}},876:function(e,t,n){"use strict";var r,o=n(5049),i=n(8802),a=n(6738),l=n(6631),s=n(3275),c=n(5143),u=n(3040),d=n(992),p=n(3435),f=n(6509),h=n(3749),m=n(9439),g=n(5781),v=n(8883),b=n(1590),x=Function,y=function(e){try{return x('"use strict"; return ('+e+").constructor;")()}catch(t){}},w=n(4396),C=n(7536),k=function(){throw new u},S=w?function(){try{return k}catch(e){try{return w(arguments,"callee").get}catch(t){return k}}}():k,T=n(1018)(),E=n(8125),O=n(2277),D=n(2815),A=n(9963),M=n(3599),I={},N="undefined"!==typeof Uint8Array&&E?E(Uint8Array):r,R={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":T&&E?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"===typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":I,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&E?E(E([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&T&&E?E((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":l,"%ReferenceError%":s,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&T&&E?E((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&E?E(""[Symbol.iterator]()):r,"%Symbol%":T?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":S,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":A,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":O,"%Math.abs%":p,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":v,"%Math.sign%":b,"%Reflect.getPrototypeOf%":D};if(E)try{null.error}catch(Y){var F=E(E(Y));R["%Error.prototype%"]=F}var _=function e(t){var n;if("%AsyncFunction%"===t)n=y("async function () {}");else if("%GeneratorFunction%"===t)n=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=y("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&E&&(n=E(o.prototype))}return R[t]=n,n},P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=n(766),L=n(5038),$=j.call(M,Array.prototype.concat),z=j.call(A,Array.prototype.splice),V=j.call(M,String.prototype.replace),B=j.call(M,String.prototype.slice),H=j.call(M,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,U=function(e){var t=B(e,0,1),n=B(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return V(e,W,function(e,t,n,o){r[r.length]=n?V(o,q,"$1"):t||e}),r},G=function(e,t){var n,r=e;if(L(P,r)&&(n=P[r],r="%"+n[0]+"%"),L(R,r)){var o=R[r];if(o===I&&(o=_(r)),"undefined"===typeof o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=U(e),r=n.length>0?n[0]:"",o=G("%"+r+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(r=s[0],z(n,$([0,1],s)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],h=B(f,0,1),m=B(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),r+="."+f,i="%"+r+"%",L(R,i))a=R[i];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&d+1>=n.length){var g=w(a,f);p=!!g,a=p&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=L(a,f),a=a[f];p&&!l&&(R[i]=a)}}return a}},887:function(e,t,n){"use strict";var r=n(8072),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new o("Can't convert number to bigint");return BigInt(t)}},888:function(e,t,n){"use strict";var r=n(4875),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},926:function(e,t,n){"use strict";var r=n(3636),o=n(2846);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},943:function(e,t,n){"use strict";var r=n(3985),o=n(5788);e.exports=Object.keys||function(e){return r(e,o)}},992:function(e){"use strict";e.exports=URIError},1018:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(672);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},1135:function(e,t,n){"use strict";var r=n(7534),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},1156:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},1208:function(e,t,n){"use strict";var r=n(9283),o=n(8965).has,i=n(8371),a=n(2368),l=n(7993),s=n(306),c=n(2846);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<=n.size)return!1!==l(t,function(e){if(n.includes(e))return!1},!0);var u=n.getIterator();return!1!==s(u,function(e){if(o(t,e))return c(u,"normal",!1)})}},1317:function(e,t){"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},1395:function(e,t,n){"use strict";var r=n(4875),o=n(5326),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},1425:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,i,a=t.indentUnit,l=n.tokenHooks,s=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},p=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},b=n.allowNested,x=n.lineComment,y=!0===n.supportsAtComponent,w=!1!==t.highlightNonStandardPropertyKeywords;function C(e,t){return o=t,e}function k(e,t){var n=e.next();if(l[n]){var r=l[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),C("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?C(null,"compare"):'"'==n||"'"==n?(t.tokenize=S(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),C("atom","hash")):"!"==n?(e.match(/^\s*\w*/),C("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),C("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?C(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?C("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?C(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=T),C("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),C("property","word")):C(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),C("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?C("variable-2","variable-definition"):C("variable-2","variable")):e.match(/^\w+-/)?C("meta","meta"):void 0}function S(e){return function(t,n){var r,o=!1;while(null!=(r=t.next())){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),C("string","string")}}function T(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=S(")"),C(null,"(")}function E(e,t,n){this.type=e,this.indent=t,this.prev=n}function O(e,t,n,r){return e.context=new E(n,t.indentation()+(!1===r?0:a),e.context),n}function D(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function A(e,t,n){return N[n.context.type](e,t,n)}function M(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return A(e,t,n)}function I(e){var t=e.current().toLowerCase();i=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var N={top:function(e,t,n){if("{"==e)return O(n,t,"block");if("}"==e&&n.context.prev)return D(n);if(y&&/@component/i.test(e))return O(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return O(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return O(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return O(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return O(n,t,"interpolation");if(":"==e)return"pseudo";if(b&&"("==e)return O(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return p.hasOwnProperty(r)?(i="property","maybeprop"):f.hasOwnProperty(r)?(i=w?"string-2":"property","maybeprop"):b?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":b||"hash"!=e&&"qualifier"!=e?N.top(e,t,n):(i="error","block")},maybeprop:function(e,t,n){return":"==e?O(n,t,"prop"):A(e,t,n)},prop:function(e,t,n){if(";"==e)return D(n);if("{"==e&&b)return O(n,t,"propBlock");if("}"==e||"{"==e)return M(e,t,n);if("("==e)return O(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t.current())){if("word"==e)I(t);else if("interpolation"==e)return O(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?D(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?M(e,t,n):")"==e?D(n):"("==e?O(n,t,"parens"):"interpolation"==e?O(n,t,"interpolation"):("word"==e&&I(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):A(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&s.hasOwnProperty(t.current())?(i="tag",n.context.type):N.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return O(n,t,"atBlock_parens");if("}"==e||";"==e)return M(e,t,n);if("{"==e)return D(n)&&O(n,t,b?"block":"top");if("interpolation"==e)return O(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":p.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?w?"string-2":"property":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?M(e,t,n):"{"==e?D(n)&&O(n,t,b?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?D(n):"{"==e||"}"==e?M(e,t,n,2):N.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?O(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):A(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,D(n)):"word"==e?(i="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?O(n,t,"top"):A(e,t,n)},at:function(e,t,n){return";"==e?D(n):"{"==e||"}"==e?M(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?D(n):"{"==e||";"==e?M(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new E(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||k)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),i=n,"comment"!=o&&(t.state=N[t.state](o,e,t)),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-a)):(n=n.prev,o=n.indent)),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:x,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],l=t(a),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],c=t(s),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),p=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=t(p),h=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(h),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(g),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(b),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(y),C=n.concat(o).concat(a).concat(s).concat(u).concat(p).concat(b).concat(y);function k(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:r,mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:v,colorKeywords:x,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:x,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:x,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:i,mediaFeatures:l,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:v,colorKeywords:x,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css",helperType:"gss"})})},1491:function(e,t,n){"use strict";var r=n(2699),o=n(7375),i=n(6378),a=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,s(t)?t:[t])},d=Date.prototype.toISOString,p=i["default"],f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},m={},g=function e(t,n,i,a,l,c,d,p,g,v,b,x,y,w,C,k,S,T){var E=t,O=T,D=0,A=!1;while(void 0!==(O=O.get(m))&&!A){var M=O.get(t);if(D+=1,"undefined"!==typeof M){if(M===D)throw new RangeError("Cyclic object value");A=!0}"undefined"===typeof O.get(m)&&(D=0)}if("function"===typeof v?E=v(n,E):E instanceof Date?E=y(E):"comma"===i&&s(E)&&(E=o.maybeMap(E,function(e){return e instanceof Date?y(e):e})),null===E){if(c)return g&&!k?g(n,f.encoder,S,"key",w):n;E=""}if(h(E)||o.isBuffer(E)){if(g){var I=k?n:g(n,f.encoder,S,"key",w);return[C(I)+"="+C(g(E,f.encoder,S,"value",w))]}return[C(n)+"="+C(String(E))]}var N,R=[];if("undefined"===typeof E)return R;if("comma"===i&&s(E))k&&g&&(E=o.maybeMap(E,g)),N=[{value:E.length>0?E.join(",")||null:void 0}];else if(s(v))N=v;else{var F=Object.keys(E);N=b?F.sort(b):F}var _=p?n.replace(/\./g,"%2E"):n,P=a&&s(E)&&1===E.length?_+"[]":_;if(l&&s(E)&&0===E.length)return P+"[]";for(var j=0;j<N.length;++j){var L=N[j],$="object"===typeof L&&"undefined"!==typeof L.value?L.value:E[L];if(!d||null!==$){var z=x&&p?L.replace(/\./g,"%2E"):L,V=s(E)?"function"===typeof i?i(P,z):P:P+(x?"."+z:"["+z+"]");T.set(t,D);var B=r();B.set(m,T),u(R,e($,V,i,a,l,c,d,p,"comma"===i&&k&&s(E)?null:g,v,b,x,y,w,C,k,S,B))}}return R},v=function(e){if(!e)return f;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i["default"];if("undefined"!==typeof e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,o=i.formatters[n],c=f.filter;if(("function"===typeof e.filter||s(e.filter))&&(c=e.filter),r=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:o,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,t){var n,o,i=e,a=v(t);"function"===typeof a.filter?(o=a.filter,i=o("",i)):s(a.filter)&&(o=a.filter,n=o);var c=[];if("object"!==typeof i||null===i)return"";var d=l[a.arrayFormat],p="comma"===d&&a.commaRoundTrip;n||(n=Object.keys(i)),a.sort&&n.sort(a.sort);for(var f=r(),h=0;h<n.length;++h){var m=n[h];a.skipNulls&&null===i[m]||u(c,g(i[m],m,d,p,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,f))}var b=c.join(a.delimiter),x=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},1590:function(e,t,n){"use strict";var r=n(4914);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},1595:function(e,t,n){"use strict";var r=n(8031),o=n(43);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},1600:function(e,t,n){"use strict";var r=n(876),o=n(6467),i=n(1624),a=n(3040),l=r("%Map%",!0),s=o("Map.prototype.get",!0),c=o("Map.prototype.set",!0),u=o("Map.prototype.has",!0),d=o("Map.prototype.delete",!0),p=o("Map.prototype.size",!0);e.exports=!!l&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+i(e))},delete:function(t){if(e){var n=d(e,t);return 0===p(e)&&(e=void 0),n}return!1},get:function(t){if(e)return s(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,n){e||(e=new l),c(e,t,n)}};return t}},1624:function(e,t,n){var r="function"===typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"===typeof o.get?o.get:null,a=r&&Map.prototype.forEach,l="function"===typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&s&&"function"===typeof s.get?s.get:null,u=l&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype,p=d?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype,h=f?WeakSet.prototype.has:null,m="function"===typeof WeakRef&&WeakRef.prototype,g=m?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,b=Object.prototype.toString,x=Function.prototype.toString,y=String.prototype.match,w=String.prototype.slice,C=String.prototype.replace,k=String.prototype.toUpperCase,S=String.prototype.toLowerCase,T=RegExp.prototype.test,E=Array.prototype.concat,O=Array.prototype.join,D=Array.prototype.slice,A=Math.floor,M="function"===typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"===typeof Symbol&&"object"===typeof Symbol.iterator,F="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||"symbol")?Symbol.toStringTag:null,_=Object.prototype.propertyIsEnumerable,P=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||T.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-A(-e):A(e);if(r!==e){var o=String(r),i=w.call(t,o.length+1);return C.call(o,n,"$&_")+"."+C.call(C.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(t,n,"$&_")}var L=n(253),$=L.custom,z=Q($)?$:null,V={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function H(e,t,n){var r=n.quoteStyle||t,o=V[r];return o+e+o}function W(e){return C.call(String(e),/"/g,"&quot;")}function q(e){return!F||!("object"===typeof e&&(F in e||"undefined"!==typeof e[F]))}function U(e){return"[object Array]"===re(e)&&q(e)}function G(e){return"[object Date]"===re(e)&&q(e)}function Y(e){return"[object RegExp]"===re(e)&&q(e)}function K(e){return"[object Error]"===re(e)&&q(e)}function X(e){return"[object String]"===re(e)&&q(e)}function Z(e){return"[object Number]"===re(e)&&q(e)}function J(e){return"[object Boolean]"===re(e)&&q(e)}function Q(e){if(R)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!N)return!1;try{return N.call(e),!0}catch(t){}return!1}function ee(e){if(!e||"object"!==typeof e||!M)return!1;try{return M.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,o,l){var s=r||{};if(ne(s,"quoteStyle")&&!ne(V,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ne(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!ne(s,"customInspect")||s.customInspect;if("boolean"!==typeof d&&"symbol"!==d)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ne(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ne(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return pe(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var f=String(t);return p?j(t,f):f}if("bigint"===typeof t){var h=String(t)+"n";return p?j(t,h):h}var m="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof o&&(o=0),o>=m&&m>0&&"object"===typeof t)return U(t)?"[Array]":"[Object]";var g=be(s,o);if("undefined"===typeof l)l=[];else if(ie(l,t)>=0)return"[Circular]";function b(t,n,r){if(n&&(l=D.call(l),l.push(n)),r){var i={depth:s.depth};return ne(s,"quoteStyle")&&(i.quoteStyle=s.quoteStyle),e(t,i,o+1,l)}return e(t,s,o+1,l)}if("function"===typeof t&&!Y(t)){var x=oe(t),y=ye(t,b);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(y.length>0?" { "+O.call(y,", ")+" }":"")}if(Q(t)){var k=R?C.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(t);return"object"!==typeof t||R?k:he(k)}if(de(t)){for(var T="<"+S.call(String(t.nodeName)),A=t.attributes||[],I=0;I<A.length;I++)T+=" "+A[I].name+"="+H(W(A[I].value),"double",s);return T+=">",t.childNodes&&t.childNodes.length&&(T+="..."),T+="</"+S.call(String(t.nodeName))+">",T}if(U(t)){if(0===t.length)return"[]";var $=ye(t,b);return g&&!ve($)?"["+xe($,g)+"]":"[ "+O.call($,", ")+" ]"}if(K(t)){var B=ye(t,b);return"cause"in Error.prototype||!("cause"in t)||_.call(t,"cause")?0===B.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(B,", ")+" }":"{ ["+String(t)+"] "+O.call(E.call("[cause]: "+b(t.cause),B),", ")+" }"}if("object"===typeof t&&d){if(z&&"function"===typeof t[z]&&L)return L(t,{depth:m-o});if("symbol"!==d&&"function"===typeof t.inspect)return t.inspect()}if(ae(t)){var q=[];return a&&a.call(t,function(e,n){q.push(b(n,t,!0)+" => "+b(e,t))}),ge("Map",i.call(t),q,g)}if(ce(t)){var te=[];return u&&u.call(t,function(e){te.push(b(e,t))}),ge("Set",c.call(t),te,g)}if(le(t))return me("WeakMap");if(ue(t))return me("WeakSet");if(se(t))return me("WeakRef");if(Z(t))return he(b(Number(t)));if(ee(t))return he(b(M.call(t)));if(J(t))return he(v.call(t));if(X(t))return he(b(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof n.g&&t===n.g)return"{ [object globalThis] }";if(!G(t)&&!Y(t)){var fe=ye(t,b),we=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,Ce=t instanceof Object?"":"null prototype",ke=!we&&F&&Object(t)===t&&F in t?w.call(re(t),8,-1):Ce?"Object":"",Se=we||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",Te=Se+(ke||Ce?"["+O.call(E.call([],ke||[],Ce||[]),": ")+"] ":"");return 0===fe.length?Te+"{}":g?Te+"{"+xe(fe,g)+"}":Te+"{ "+O.call(fe,", ")+" }"}return String(t)};var te=Object.prototype.hasOwnProperty||function(e){return e in this};function ne(e,t){return te.call(e,t)}function re(e){return b.call(e)}function oe(e){if(e.name)return e.name;var t=y.call(x.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function ie(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ae(e){if(!i||!e||"object"!==typeof e)return!1;try{i.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function le(e){if(!p||!e||"object"!==typeof e)return!1;try{p.call(e,p);try{h.call(e,h)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function se(e){if(!g||!e||"object"!==typeof e)return!1;try{return g.call(e),!0}catch(t){}return!1}function ce(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function ue(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{p.call(e,p)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function de(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function pe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return pe(w.call(e,0,t.maxStringLength),t)+r}var o=B[t.quoteStyle||"single"];o.lastIndex=0;var i=C.call(C.call(e,o,"\\$1"),/[\x00-\x1f]/g,fe);return H(i,"single",t)}function fe(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+k.call(t.toString(16))}function he(e){return"Object("+e+")"}function me(e){return e+" { ? }"}function ge(e,t,n,r){var o=r?xe(n,r):O.call(n,", ");return e+" ("+t+") {"+o+"}"}function ve(e){for(var t=0;t<e.length;t++)if(ie(e[t],"\n")>=0)return!1;return!0}function be(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=O.call(Array(e.indent+1)," ")}return{base:n,prev:O.call(Array(t+1),n)}}function xe(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+O.call(e,","+n)+"\n"+t.prev}function ye(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=ne(e,o)?t(e[o],e):""}var i,a="function"===typeof I?I(e):[];if(R){i={};for(var l=0;l<a.length;l++)i["$"+a[l]]=a[l]}for(var s in e)ne(e,s)&&(n&&String(Number(s))===s&&s<e.length||R&&i["$"+s]instanceof Symbol||(T.call(/[^\w$]/,s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if("function"===typeof I)for(var c=0;c<a.length;c++)_.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},1678:function(e,t,n){"use strict";var r=n(7434),o=n(8031),i=n(79),a=n(9542),l=n(3636),s=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(l(e)),n=a.f;return n?s(t,n(e)):t}},1752:function(e,t,n){"use strict";var r=n(2634),o=n(4605),i=n(419),a=function(e){return function(t,n,a){var l=r(t),s=i(l);if(0===s)return!e&&-1;var c,u=o(a,s);if(e&&n!==n){while(s>u)if(c=l[u++],c!==c)return!0}else for(;s>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},1786:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},1789:function(e,t,n){"use strict";var r=n(6387);e.exports=Array.isArray||function(e){return"Array"===r(e)}},1833:function(e,t,n){"use strict";var r=n(9241),o=String,i=TypeError;e.exports=function(e){if(void 0===e||r(e))return e;throw new i(o(e)+" is not an object or undefined")}},1940:function(e,t,n){"use strict";var r=n(8031),o=n(5336),i=n(5326),a=n(9792),l=n(8115),s=n(9485).CONFIGURABLE,c=n(9347),u=n(7328),d=u.enforce,p=u.get,f=String,h=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),b=l&&!o(function(){return 8!==h(function(){},"length",{value:8}).length}),x=String(String).split("String"),y=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(l?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?l&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=d(e);return a(r,"source")||(r.source=v(x,"string"==typeof t?t:"")),e};Function.prototype.toString=y(function(){return i(this)&&p(this).source||c(this)},"toString")},1944:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},2094:function(e,t,n){"use strict";var r=n(2940),o=n(8287),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},2106:function(e,t,n){"use strict";var r=n(242),o=n(5336),i=n(4875),a=i.String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},2110:function(e){e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,o=r[t];if(void 0===o)r[t]=n;else for(var i in n)void 0===o[i]&&(o[i]=n[i])}},2211:function(e,t,n){"use strict";var r=n(8171),o=n(3342),i=n(3636),a=n(9868),l=n(5816),s=n(419),c=n(6676),u=n(9024),d=n(6356),p=n(2846),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var g,v,b,x,y,w,C,k=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),D=r(t,k),A=function(e){return g&&p(g,"normal"),new h(!0,e)},M=function(e){return S?(i(e),O?D(e[0],e[1],A):D(e[0],e[1])):O?D(e,A):D(e)};if(T)g=e.iterator;else if(E)g=e;else{if(v=d(e),!v)throw new f(a(e)+" is not iterable");if(l(v)){for(b=0,x=s(e);x>b;b++)if(y=M(e[b]),y&&c(m,y))return y;return new h(!1)}g=u(e,v)}w=T?e.next:g.next;while(!(C=o(w,g)).done){try{y=M(C.value)}catch(I){p(g,"throw",I)}if("object"==typeof y&&y&&c(m,y))return y}return new h(!1)}},2276:function(e){(function(t,n){e.exports=n()})(0,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,l=a&&(r?document.documentMode||6:+(i||o)[1]),s=!i&&/WebKit\//.test(e),c=s&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\/(\d+)/.exec(e),d=u&&+u[1],p=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),m=/PhantomJS/.test(e),g=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),b=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),x=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),w=/win/i.test(t),C=p&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(p=!1,s=!0);var k=x&&(c||p&&(null==C||C<12.11)),S=n||a&&l>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var E,O=function(e,t){var n=e.className,r=T(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return D(e).appendChild(t)}function M(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function I(e,t,n,r){var o=M(e,t,n,r);return o.setAttribute("role","presentation"),o}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(e){var t,n=e.ownerDocument||e;try{t=e.activeElement}catch(r){t=n.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement)t=t.shadowRoot.activeElement;return t}function F(e,t){var n=e.className;T(t).test(n)||(e.className+=(n?" ":"")+t)}function _(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!T(n[r]).test(t)&&(t+=" "+n[r]);return t}E=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(o){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var P=function(e){e.select()};function j(e){return e.display.wrapper.ownerDocument}function L(e){return $(e.display.wrapper)}function $(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function z(e){return j(e).defaultView}function V(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function B(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function H(e,t,n,r,o){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var i=r||0,a=o||0;;){var l=e.indexOf("\t",i);if(l<0||l>=t)return a+(t-i);a+=l-i,a+=n-a%n,i=l+1}}g?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(t){}});var W=function(){this.id=null,this.f=null,this.time=0,this.handler=V(this.onTimeout,this)};function q(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}W.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},W.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var U=50,G={toString:function(){return"CodeMirror.Pass"}},Y={scroll:!1},K={origin:"*mouse"},X={origin:"+move"};function Z(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}}var J=[""];function Q(e){while(J.length<=e)J.push(ee(J)+" ");return J[e]}function ee(e){return e[e.length-1]}function te(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function ne(e,t,n){var r=0,o=n(t);while(r<e.length&&n(e[r])<=o)r++;e.splice(r,0,t)}function re(){}function oe(e,t){var n;return Object.create?n=Object.create(e):(re.prototype=e,n=new re),t&&B(t,n),n}var ie=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ae(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ie.test(e))}function le(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ae(e))||t.test(e):ae(e)}function se(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ce=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ue(e){return e.charCodeAt(0)>=768&&ce.test(e)}function de(e,t,n){while((n<0?t>0:t<e.length)&&ue(e.charAt(t)))t+=n;return t}function pe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function fe(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var he=null;function me(e,t,n){var r;he=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:he=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:he=o)}return null!=r?r:he}var ge=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],p=0;p<u;++p)d.push(n(e.charCodeAt(p)));for(var f=0,h=c;f<u;++f){var m=d[f];"m"==m?d[f]=h:h=m}for(var g=0,v=c;g<u;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":i.test(b)&&(v=b,"r"==b&&(d[g]="R"))}for(var x=1,y=d[0];x<u-1;++x){var w=d[x];"+"==w&&"1"==y&&"1"==d[x+1]?d[x]="1":","!=w||y!=d[x+1]||"1"!=y&&"n"!=y||(d[x]=y),y=w}for(var C=0;C<u;++C){var k=d[C];if(","==k)d[C]="N";else if("%"==k){var S=void 0;for(S=C+1;S<u&&"%"==d[S];++S);for(var T=C&&"!"==d[C-1]||S<u&&"1"==d[S]?"1":"N",E=C;E<S;++E)d[E]=T;C=S-1}}for(var O=0,D=c;O<u;++O){var A=d[O];"L"==D&&"1"==A?d[O]="L":i.test(A)&&(D=A)}for(var M=0;M<u;++M)if(o.test(d[M])){var I=void 0;for(I=M+1;I<u&&o.test(d[I]);++I);for(var N="L"==(M?d[M-1]:c),R="L"==(I<u?d[I]:c),F=N==R?N?"L":"R":c,_=M;_<I;++_)d[_]=F;M=I-1}for(var P,j=[],L=0;L<u;)if(a.test(d[L])){var $=L;for(++L;L<u&&a.test(d[L]);++L);j.push(new s(0,$,L))}else{var z=L,V=j.length,B="rtl"==t?1:0;for(++L;L<u&&"L"!=d[L];++L);for(var H=z;H<L;)if(l.test(d[H])){z<H&&(j.splice(V,0,new s(1,z,H)),V+=B);var W=H;for(++H;H<L&&l.test(d[H]);++H);j.splice(V,0,new s(2,W,H)),V+=B,z=H}else++H;z<L&&j.splice(V,0,new s(1,z,L))}return"ltr"==t&&(1==j[0].level&&(P=e.match(/^\s+/))&&(j[0].from=P[0].length,j.unshift(new s(0,0,P[0].length))),1==ee(j).level&&(P=e.match(/\s+$/))&&(ee(j).to-=P[0].length,j.push(new s(0,u-P[0].length,u)))),"rtl"==t?j.reverse():j}}();function ve(e,t){var n=e.order;return null==n&&(n=e.order=ge(e.text,t)),n}var be=[],xe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||be).concat(n)}};function ye(e,t){return e._handlers&&e._handlers[t]||be}function we(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=q(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function Ce(e,t){var n=ye(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ke(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ce(e,n||t.type,e,t),Ae(t)||t.codemirrorIgnore}function Se(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==q(n,t[r])&&n.push(t[r])}function Te(e,t){return ye(e,t).length>0}function Ee(e){e.prototype.on=function(e,t){xe(this,e,t)},e.prototype.off=function(e,t){we(this,e,t)}}function Oe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function De(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ae(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Me(e){Oe(e),De(e)}function Ie(e){return e.target||e.srcElement}function Ne(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),x&&e.ctrlKey&&1==t&&(t=3),t}var Re,Fe,_e=function(){if(a&&l<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function Pe(e){if(null==Re){var t=M("span","​");A(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Re=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Re?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function je(e){if(null!=Fe)return Fe;var t=A(e,document.createTextNode("AخA")),n=E(t,0,1).getBoundingClientRect(),r=E(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Fe=r.right-n.right<3)}var Le=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},$e=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ze=function(){var e=M("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ve=null;function Be(e){if(null!=Ve)return Ve;var t=A(e,M("span","x")),n=t.getBoundingClientRect(),r=E(t,0,1).getBoundingClientRect();return Ve=Math.abs(n.left-r.left)>1}var He={},We={};function qe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),He[e]=t}function Ue(e,t){We[e]=t}function Ge(e){if("string"==typeof e&&We.hasOwnProperty(e))e=We[e];else if(e&&"string"==typeof e.name&&We.hasOwnProperty(e.name)){var t=We[e.name];"string"==typeof t&&(t={name:t}),e=oe(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ge("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ge("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ye(e,t){t=Ge(t);var n=He[t.name];if(!n)return Ye(e,"text/plain");var r=n(e,t);if(Ke.hasOwnProperty(t.name)){var o=Ke[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ke={};function Xe(e,t){var n=Ke.hasOwnProperty(e)?Ke[e]:Ke[e]={};B(t,n)}function Ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Je(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Qe(e,t,n){return!e.startState||e.startState(t,n)}var et=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function tt(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function nt(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function rt(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ot(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function it(e){if(null==e.parent)return null;for(var t=e.parent,n=q(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;;++o){if(r.children[o]==t)break;n+=r.children[o].chunkSize()}return n+t.first}function at(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a],s=l.height;if(t<s)break;t-=s}return n+a}function lt(e,t){return t>=e.first&&t<e.first+e.size}function st(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ct(e,t,n){if(void 0===n&&(n=null),!(this instanceof ct))return new ct(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ut(e,t){return e.line-t.line||e.ch-t.ch}function dt(e,t){return e.sticky==t.sticky&&0==ut(e,t)}function pt(e){return ct(e.line,e.ch)}function ft(e,t){return ut(e,t)<0?t:e}function ht(e,t){return ut(e,t)<0?e:t}function mt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function gt(e,t){if(t.line<e.first)return ct(e.first,0);var n=e.first+e.size-1;return t.line>n?ct(n,tt(e,n).text.length):vt(t,tt(e,t.line).text.length)}function vt(e,t){var n=e.ch;return null==n||n>t?ct(e.line,t):n<0?ct(e.line,0):e}function bt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=gt(e,t[r]);return n}et.prototype.eol=function(){return this.pos>=this.string.length},et.prototype.sol=function(){return this.pos==this.lineStart},et.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},et.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},et.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},et.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},et.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},et.prototype.skipToEnd=function(){this.pos=this.string.length},et.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},et.prototype.backUp=function(e){this.pos-=e},et.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},et.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},et.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(o(i)==o(e))return!1!==t&&(this.pos+=e.length),!0},et.prototype.current=function(){return this.string.slice(this.start,this.pos)},et.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},et.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},et.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var xt=function(e,t){this.state=e,this.lookAhead=t},yt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function wt(e,t,n,r){var o=[e.state.modeGen],i={};Mt(e,t.text,e.doc.mode,n,function(e,t){return o.push(e,t)},i,r);for(var a=n.state,l=function(r){n.baseTokens=o;var l=e.state.overlays[r],s=1,c=0;n.state=!0,Mt(e,t.text,l.mode,n,function(e,t){var n=s;while(c<e){var r=o[s];r>e&&o.splice(s,1,e,o[s+1],r),s+=2,c=Math.min(e,r)}if(t)if(l.opaque)o.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}},i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function Ct(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=kt(e,it(t)),o=t.text.length>e.options.maxHighlightLength&&Ze(e.doc.mode,r.state),i=wt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function kt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new yt(r,!0,t);var i=It(e,t,n),a=i>r.first&&tt(r,i-1).stateAfter,l=a?yt.fromSaved(r,a,i):new yt(r,Qe(r.mode),i);return r.iter(i,t,function(n){St(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?l.save():null,l.nextLine()}),n&&(r.modeFrontier=l.line),l}function St(e,t,n,r){var o=e.doc.mode,i=new et(t,e.options.tabSize,n);i.start=i.pos=r||0,""==t&&Tt(o,n.state);while(!i.eol())Et(o,i,n.state),i.start=i.pos}function Tt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Je(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Et(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Je(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}yt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},yt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},yt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},yt.fromSaved=function(e,t,n){return t instanceof xt?new yt(e,Ze(e.mode,t.state),n,t.lookAhead):new yt(e,Ze(e.mode,t),n)},yt.prototype.save=function(e){var t=!1!==e?Ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new xt(t,this.maxLookAhead):t};var Ot=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Dt(e,t,n,r){var o,i=e.doc,a=i.mode;t=gt(i,t);var l,s=tt(i,t.line),c=kt(e,t.line,n),u=new et(s.text,e.options.tabSize,c);r&&(l=[]);while((r||u.pos<t.ch)&&!u.eol())u.start=u.pos,o=Et(a,u,c.state),r&&l.push(new Ot(u,o,Ze(i.mode,c.state)));return r?l:new Ot(u,o,c.state)}function At(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Mt(e,t,n,r,o,i,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,c=0,u=null,d=new et(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];""==t&&At(Tt(n,r.state),i);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&St(e,t,r,d.pos),d.pos=t.length,s=null):s=At(Et(n,d,r.state,p),i),p){var f=p[0].name;f&&(s="m-"+(s?f+" "+s:f))}if(!l||u!=s){while(c<d.start)c=Math.min(d.start,c+5e3),o(c,u);u=s}d.start=d.pos}while(c<d.pos){var h=Math.min(d.pos,c+5e3);o(h,u),c=h}}function It(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=i.first)return i.first;var s=tt(i,l-1),c=s.stateAfter;if(c&&(!n||l+(c instanceof xt?c.lookAhead:0)<=i.modeFrontier))return l;var u=H(s.text,null,e.options.tabSize);(null==o||r>u)&&(o=l-1,r=u)}return o}function Nt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=tt(e,r).stateAfter;if(o&&(!(o instanceof xt)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Rt=!1,Ft=!1;function _t(){Rt=!0}function Pt(){Ft=!0}function jt(e,t,n){this.marker=e,this.from=t,this.to=n}function Lt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function $t(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function zt(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Vt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(l||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new jt(a,i.from,s?null:i.to))}}return r}function Bt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(l||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new jt(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Ht(e,t){if(t.full)return null;var n=lt(e,t.from.line)&&tt(e,t.from.line).markedSpans,r=lt(e,t.to.line)&&tt(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==ut(t.from,t.to),l=Vt(n,o,a),s=Bt(r,i,a),c=1==t.text.length,u=ee(t.text).length+(c?o:0);if(l)for(var d=0;d<l.length;++d){var p=l[d];if(null==p.to){var f=Lt(s,p.marker);f?c&&(p.to=null==f.to?null:f.to+u):p.to=o}}if(s)for(var h=0;h<s.length;++h){var m=s[h];if(null!=m.to&&(m.to+=u),null==m.from){var g=Lt(l,m.marker);g||(m.from=u,c&&(l||(l=[])).push(m))}else m.from+=u,c&&(l||(l=[])).push(m)}l&&(l=Wt(l)),s&&s!=l&&(s=Wt(s));var v=[l];if(!c){var b,x=t.text.length-2;if(x>0&&l)for(var y=0;y<l.length;++y)null==l[y].to&&(b||(b=[])).push(new jt(l[y].marker,null,null));for(var w=0;w<x;++w)v.push(b);v.push(s)}return v}function Wt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function qt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=q(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],l=a.find(0),s=0;s<o.length;++s){var c=o[s];if(!(ut(c.to,l.from)<0||ut(c.from,l.to)>0)){var u=[s,1],d=ut(c.from,l.from),p=ut(c.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:l.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:l.to,to:c.to}),o.splice.apply(o,u),s+=u.length-3}}return o}function Ut(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Gt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Yt(e){return e.inclusiveLeft?-1:0}function Kt(e){return e.inclusiveRight?1:0}function Xt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=ut(r.from,o.from)||Yt(e)-Yt(t);if(i)return-i;var a=ut(r.to,o.to)||Kt(e)-Kt(t);return a||t.id-e.id}function Zt(e,t){var n,r=Ft&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||Xt(n,o.marker)<0)&&(n=o.marker);return n}function Jt(e){return Zt(e,!0)}function Qt(e){return Zt(e,!1)}function en(e,t){var n,r=Ft&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||Xt(n,i.marker)<0)&&(n=i.marker)}return n}function tn(e,t,n,r,o){var i=tt(e,t),a=Ft&&i.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var c=s.marker.find(0),u=ut(c.from,n)||Yt(s.marker)-Yt(o),d=ut(c.to,r)||Kt(s.marker)-Kt(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(s.marker.inclusiveRight&&o.inclusiveLeft?ut(c.to,n)>=0:ut(c.to,n)>0)||u>=0&&(s.marker.inclusiveRight&&o.inclusiveLeft?ut(c.from,r)<=0:ut(c.from,r)<0)))return!0}}}function nn(e){var t;while(t=Jt(e))e=t.find(-1,!0).line;return e}function rn(e){var t;while(t=Qt(e))e=t.find(1,!0).line;return e}function on(e){var t,n;while(t=Qt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function an(e,t){var n=tt(e,t),r=nn(n);return n==r?t:it(r)}function ln(e,t){if(t>e.lastLine())return t;var n,r=tt(e,t);if(!sn(e,r))return t;while(n=Qt(r))r=n.find(1,!0).line;return it(r)+1}function sn(e,t){var n=Ft&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&cn(e,t,r))return!0}}function cn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return cn(e,r.line,Lt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&cn(e,t,o))return!0}function un(e){e=nn(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var a=0;a<i.children.length;++a){var l=i.children[a];if(l==n)break;t+=l.height}return t}function dn(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=Jt(r)){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}r=e;while(t=Qt(r)){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function pn(e){var t=e.display,n=e.doc;t.maxLine=tt(n,n.first),t.maxLineLength=dn(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=dn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var fn=function(e,t,n){this.text=e,Gt(this,t),this.height=n?n(this):1};function hn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ut(e),Gt(e,n);var o=r?r(e):1;o!=e.height&&ot(e,o)}function mn(e){e.parent=null,Ut(e)}fn.prototype.lineNo=function(){return it(this)},Ee(fn);var gn={},vn={};function bn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?vn:gn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function xn(e,t){var n=I("span",null,null,s?"padding-right: .1px":null),r={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=wn,je(e.display.measure)&&(a=ve(i,e.doc.direction))&&(r.addToken=kn(r.addToken,a)),r.map=[];var l=t!=e.display.externalMeasured&&it(i);Tn(i,r,Ct(e,i,l)),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=_(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=_(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Pe(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ce(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=_(r.pre.className,r.textClass||"")),r}function yn(e){var t=M("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function wn(e,t,n,r,o,i,s){if(t){var c,u=e.splitSpaces?Cn(t,e.trailingSpace):t,d=e.cm.state.specialChars,p=!1;if(d.test(t)){c=document.createDocumentFragment();var f=0;while(1){d.lastIndex=f;var h=d.exec(t),m=h?h.index-f:t.length-f;if(m){var g=document.createTextNode(u.slice(f,f+m));a&&l<9?c.appendChild(M("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;f+=m+1;var v=void 0;if("\t"==h[0]){var b=e.cm.options.tabSize,x=b-e.col%b;v=c.appendChild(M("span",Q(x),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=x}else"\r"==h[0]||"\n"==h[0]?(v=c.appendChild(M("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),a&&l<9?c.appendChild(M("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&l<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||o||p||i||s){var y=n||"";r&&(y+=r),o&&(y+=o);var w=M("span",[c],y,i);if(s)for(var C in s)s.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,s[C]);return e.content.appendChild(w)}e.content.appendChild(c)}}function Cn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function kn(e,t){return function(n,r,o,i,a,l,s){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,p=0;p<t.length;p++)if(d=t[p],d.to>c&&d.from<=c)break;if(d.to>=u)return e(n,r,o,i,a,l,s);e(n,r.slice(0,d.to-c),o,i,null,l,s),i=null,r=r.slice(d.to-c),c=d.to}}}function Sn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function Tn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,l,s,c,u,d,p,f=o.length,h=0,m=1,g="",v=0;;){if(v==h){s=c=u=l="",p=null,d=null,v=1/0;for(var b=[],x=void 0,y=0;y<r.length;++y){var w=r[y],C=w.marker;if("bookmark"==C.type&&w.from==h&&C.widgetNode)b.push(C);else if(w.from<=h&&(null==w.to||w.to>h||C.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,c=""),C.className&&(s+=" "+C.className),C.css&&(l=(l?l+";":"")+C.css),C.startStyle&&w.from==h&&(u+=" "+C.startStyle),C.endStyle&&w.to==v&&(x||(x=[])).push(C.endStyle,w.to),C.title&&((p||(p={})).title=C.title),C.attributes)for(var k in C.attributes)(p||(p={}))[k]=C.attributes[k];C.collapsed&&(!d||Xt(d.marker,C)<0)&&(d=w)}else w.from>h&&v>w.from&&(v=w.from)}if(x)for(var S=0;S<x.length;S+=2)x[S+1]==v&&(c+=" "+x[S]);if(!d||d.from==h)for(var T=0;T<b.length;++T)Sn(t,0,b[T]);if(d&&(d.from||0)==h){if(Sn(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=f)break;var E=Math.min(f,v);while(1){if(g){var O=h+g.length;if(!d){var D=O>E?g.slice(0,E-h):g;t.addToken(t,D,a?a+s:s,u,h+D.length==v?c:"",l,p)}if(O>=E){g=g.slice(E-h),h=E;break}h=O,u=""}g=o.slice(i,i=n[m++]),a=bn(n[m++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,o.slice(i,i=n[A]),bn(n[A+1],t.cm.options))}function En(e,t,n){this.line=t,this.rest=on(t),this.size=this.rest?it(ee(this.rest))-n+1:1,this.node=this.text=null,this.hidden=sn(e,t)}function On(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new En(e.doc,tt(e.doc,i),i);r=i+a.size,o.push(a)}return o}var Dn=null;function An(e){Dn?Dn.ops.push(e):e.ownsGroup=Dn={ops:[e],delayedCallbacks:[]}}function Mn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)while(o.cursorActivityCalled<o.cursorActivityHandlers.length)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function In(e,t){var n=e.ownsGroup;if(n)try{Mn(n)}finally{Dn=null,t(n)}}var Nn=null;function Rn(e,t){var n=ye(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Dn?r=Dn.delayedCallbacks:Nn?r=Nn:(r=Nn=[],setTimeout(Fn,0));for(var i=function(e){r.push(function(){return n[e].apply(null,o)})},a=0;a<n.length;++a)i(a)}}function Fn(){var e=Nn;Nn=null;for(var t=0;t<e.length;++t)e[t]()}function _n(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?$n(e,t):"gutter"==i?Vn(e,t,n,r):"class"==i?zn(e,t):"widget"==i&&Bn(e,t,r)}t.changes=null}function Pn(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function jn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Pn(t);t.background=r.insertBefore(M("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Ln(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):xn(e,t)}function $n(e,t){var n=t.text.className,r=Ln(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,zn(e,t)):n&&(t.text.className=n)}function zn(e,t){jn(e,t),t.line.wrapClass?Pn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Vn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Pn(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Pn(t),l=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(l.setAttribute("aria-hidden","true"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(M("div",st(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.display.gutterSpecs.length;++s){var c=e.display.gutterSpecs[s].className,u=i.hasOwnProperty(c)&&i[c];u&&l.appendChild(M("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Bn(e,t,n){t.alignable&&(t.alignable=null);for(var r=T("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Wn(e,t,n)}function Hn(e,t,n,r){var o=Ln(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),zn(e,t),Vn(e,t,n,r),Wn(e,t,r),t.node}function Wn(e,t,n){if(qn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)qn(e,t.rest[r],t,n,!1)}function qn(e,t,n,r,o){if(t.widgets)for(var i=Pn(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],c=M("div",[s.node],"CodeMirror-linewidget"+(s.className?" "+s.className:""));s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Un(s,c,n,r),e.display.input.setUneditable(c),o&&s.above?i.insertBefore(c,n.gutter||n.text):i.appendChild(c),Rn(s,"redraw")}}function Un(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Gn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,M("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Yn(e,t){for(var n=Ie(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Kn(e){return e.lineSpace.offsetTop}function Xn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Zn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,M("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Jn(e){return U-e.display.nativeBarWidth}function Qn(e){return e.display.scroller.clientWidth-Jn(e)-e.display.barWidth}function er(e){return e.display.scroller.clientHeight-Jn(e)-e.display.barHeight}function tr(e,t,n){var r=e.options.lineWrapping,o=r&&Qn(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],c=a[l+1];Math.abs(s.bottom-c.bottom)>2&&i.push((s.bottom+c.top)/2-n.top)}}i.push(n.bottom-n.top)}}function nr(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(it(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function rr(e,t){t=nn(t);var n=it(t),r=e.display.externalMeasured=new En(e.doc,t,n);r.lineN=n;var o=r.built=xn(e,r);return r.text=o.pre,A(e.display.lineMeasure,o.pre),r}function or(e,t,n,r){return lr(e,ar(e,t),n,r)}function ir(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[zr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function ar(e,t){var n=it(t),r=ir(e,n);r&&!r.text?r=null:r&&r.changes&&(_n(e,r,n,_r(e)),e.curOp.forceUpdate=!0),r||(r=rr(e,t));var o=nr(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function lr(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(tr(e,t.view,t.rect),t.hasHeights=!0),i=pr(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var sr,cr={left:0,right:0,top:0,bottom:0};function ur(e,t,n){for(var r,o,i,a,l,s,c=0;c<e.length;c+=3)if(l=e[c],s=e[c+1],t<l?(o=0,i=1,a="left"):t<s?(o=t-l,i=o+1):(c==e.length-3||t==s&&e[c+3]>t)&&(i=s-l,o=i-1,t>=s&&(a="right")),null!=o){if(r=e[c+2],l==s&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft)r=e[2+(c-=3)],a="left";if("right"==n&&o==s-l)while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft)r=e[(c+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:l,coverEnd:s}}function dr(e,t){var n=cr;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var o=e.length-1;o>=0;o--)if((n=e[o]).left!=n.right)break;return n}function pr(e,t,n,r){var o,i=ur(t.map,n,r),s=i.node,c=i.start,u=i.end,d=i.collapse;if(3==s.nodeType){for(var p=0;p<4;p++){while(c&&ue(t.line.text.charAt(i.coverStart+c)))--c;while(i.coverStart+u<i.coverEnd&&ue(t.line.text.charAt(i.coverStart+u)))++u;if(o=a&&l<9&&0==c&&u==i.coverEnd-i.coverStart?s.parentNode.getBoundingClientRect():dr(E(s,c,u).getClientRects(),r),o.left||o.right||0==c)break;u=c,c-=1,d="right"}a&&l<11&&(o=fr(e.display.measure,o))}else{var f;c>0&&(d=r="right"),o=e.options.lineWrapping&&(f=s.getClientRects()).length>1?f["right"==r?f.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!c&&(!o||!o.left&&!o.right)){var h=s.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Fr(e.display),top:h.top,bottom:h.bottom}:cr}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,x=0;x<b.length-1;x++)if(v<b[x])break;var y=x?b[x-1]:0,w=b[x],C={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:y,bottom:w};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}function fr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function hr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function mr(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)hr(e.display.view[t])}function gr(e){mr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function vr(e){return u&&v?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function br(e){return u&&v?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function xr(e){var t=nn(e),n=t.widgets,r=0;if(n)for(var o=0;o<n.length;++o)n[o].above&&(r+=Gn(n[o]));return r}function yr(e,t,n,r,o){if(!o){var i=xr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=un(t);if("local"==r?a+=Kn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:br(j(e)));var s=l.left+("window"==r?0:vr(j(e)));n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function wr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=vr(j(e)),o-=br(j(e));else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function Cr(e,t,n,r,o){return r||(r=tt(e.doc,t.line)),yr(e,r,or(e,r,t.ch,o),n)}function kr(e,t,n,r,o,i){function a(t,a){var l=lr(e,o,t,a?"right":"left",i);return a?l.left=l.right:l.right=l.left,yr(e,r,l,n)}r=r||tt(e.doc,t.line),o||(o=ar(e,r));var l=ve(r,e.doc.direction),s=t.ch,c=t.sticky;if(s>=r.text.length?(s=r.text.length,c="before"):s<=0&&(s=0,c="after"),!l)return a("before"==c?s-1:s,"before"==c);function u(e,t,n){var r=l[t],o=1==r.level;return a(n?e-1:e,o!=n)}var d=me(l,s,c),p=he,f=u(s,d,"before"==c);return null!=p&&(f.other=u(s,p,"before"!=c)),f}function Sr(e,t){var n=0;t=gt(e.doc,t),e.options.lineWrapping||(n=Fr(e.display)*t.ch);var r=tt(e.doc,t.line),o=un(r)+Kn(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function Tr(e,t,n,r,o){var i=ct(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function Er(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Tr(r.first,0,null,-1,-1);var o=at(r,n),i=r.first+r.size-1;if(o>i)return Tr(r.first+r.size-1,tt(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=tt(r,o);;){var l=Mr(e,a,o,t,n),s=en(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var c=s.find(1);if(c.line==o)return c;a=tt(r,o=c.line)}}function Or(e,t,n,r){r-=xr(t);var o=t.text.length,i=pe(function(t){return lr(e,n,t-1).bottom<=r},o,0);return o=pe(function(t){return lr(e,n,t).top>r},i,o),{begin:i,end:o}}function Dr(e,t,n,r){n||(n=ar(e,t));var o=yr(e,t,lr(e,n,r),"line").top;return Or(e,t,n,o)}function Ar(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Mr(e,t,n,r,o){o-=un(t);var i=ar(e,t),a=xr(t),l=0,s=t.text.length,c=!0,u=ve(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Nr:Ir)(e,t,n,i,u,r,o);c=1!=d.level,l=c?d.from:d.to-1,s=c?d.to:d.from-1}var p,f,h=null,m=null,g=pe(function(t){var n=lr(e,i,t);return n.top+=a,n.bottom+=a,!!Ar(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,m=n),!0)},l,s),v=!1;if(m){var b=r-m.left<m.right-r,x=b==c;g=h+(x?0:1),f=x?"after":"before",p=b?m.left:m.right}else{c||g!=s&&g!=l||g++,f=0==g?"after":g==t.text.length?"before":lr(e,i,g-(c?1:0)).bottom+a<=o==c?"after":"before";var y=kr(e,ct(n,g,f),"line",t,i);p=y.left,v=o<y.top?-1:o>=y.bottom?1:0}return g=de(t.text,g,1),Tr(n,g,f,v,r-p)}function Ir(e,t,n,r,o,i,a){var l=pe(function(l){var s=o[l],c=1!=s.level;return Ar(kr(e,ct(n,c?s.to:s.from,c?"before":"after"),"line",t,r),i,a,!0)},0,o.length-1),s=o[l];if(l>0){var c=1!=s.level,u=kr(e,ct(n,c?s.from:s.to,c?"after":"before"),"line",t,r);Ar(u,i,a,!0)&&u.top>a&&(s=o[l-1])}return s}function Nr(e,t,n,r,o,i,a){var l=Or(e,t,r,a),s=l.begin,c=l.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,p=0;p<o.length;p++){var f=o[p];if(!(f.from>=c||f.to<=s)){var h=1!=f.level,m=lr(e,r,h?Math.min(c,f.to)-1:Math.max(s,f.from)).right,g=m<i?i-m+1e9:m-i;(!u||d>g)&&(u=f,d=g)}}return u||(u=o[o.length-1]),u.from<s&&(u={from:s,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Rr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==sr){sr=M("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)sr.appendChild(document.createTextNode("x")),sr.appendChild(M("br"));sr.appendChild(document.createTextNode("x"))}A(e.measure,sr);var n=sr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function Fr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),n=M("pre",[t],"CodeMirror-line-like");A(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function _r(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=i.offsetLeft+i.clientLeft+o,r[l]=i.clientWidth}return{fixedPos:Pr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Pr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function jr(e){var t=Rr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Fr(e.display)-3);return function(o){if(sn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function Lr(e){var t=e.doc,n=jr(e);t.iter(function(e){var t=n(e);t!=e.height&&ot(e,t)})}function $r(e,t,n,r){var o=e.display;if(!n&&"true"==Ie(t).getAttribute("cm-not-content"))return null;var i,a,l=o.lineSpace.getBoundingClientRect();try{i=t.clientX-l.left,a=t.clientY-l.top}catch(d){return null}var s,c=Er(e,i,a);if(r&&c.xRel>0&&(s=tt(e.doc,c.line).text).length==c.ch){var u=H(s,s.length,e.options.tabSize)-s.length;c=ct(c.line,Math.max(0,Math.round((i-Zn(e.display).left)/Fr(e.display))-u))}return c}function zr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Vr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Ft&&an(e.doc,t)<o.viewTo&&Hr(e);else if(n<=o.viewFrom)Ft&&ln(e.doc,n+r)>o.viewFrom?Hr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Hr(e);else if(t<=o.viewFrom){var i=Wr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Hr(e)}else if(n>=o.viewTo){var a=Wr(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Hr(e)}else{var l=Wr(e,t,t,-1),s=Wr(e,n,n+r,1);l&&s?(o.view=o.view.slice(0,l.index).concat(On(e,l.lineN,s.lineN)).concat(o.view.slice(s.index)),o.viewTo+=r):Hr(e)}var c=o.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(o.externalMeasured=null))}function Br(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[zr(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==q(a,n)&&a.push(n)}}}function Hr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Wr(e,t,n,r){var o,i=zr(e,t),a=e.display.view;if(!Ft||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var l=e.display.viewFrom,s=0;s<i;s++)l+=a[s].size;if(l!=t){if(r>0){if(i==a.length-1)return null;o=l+a[i].size-t,i++}else o=l-t;t+=o,n+=o}while(an(e.doc,n)!=n){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function qr(e,t,n){var r=e.display,o=r.view;0==o.length||t>=r.viewTo||n<=r.viewFrom?(r.view=On(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=On(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(zr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(On(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,zr(e,n)))),r.viewTo=n}function Ur(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Gr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Yr(e,t){void 0===t&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var l=0;l<n.sel.ranges.length;l++)if(t||l!=n.sel.primIndex){var s=n.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();if(a){var u=a(e,s);u&&Kr(e,u,o)}else(c||e.options.showCursorWhenSelecting)&&Kr(e,s.head,o);c||Zr(e,s,i)}}return r}function Kr(e,t,n){var r=kr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(M("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var i=Cr(e,t,"div",null,null),a=i.right-i.left;o.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(r.other){var l=n.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=r.other.left+"px",l.style.top=r.other.top+"px",l.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Xr(e,t){return e.top-t.top||e.left-t.left}function Zr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Zn(e.display),l=a.left,s=Math.max(r.sizerWidth,Qn(e)-r.sizer.offsetLeft)-a.right,c="ltr"==o.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?s-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,a,d=tt(o,t),p=d.text.length;function f(n,r){return Cr(e,ct(t,n),"div",d,r)}function h(t,n,r){var o=Dr(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right",a="after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1);return f(a,i)[i]}var m=ve(d,o.direction);return fe(m,n||0,null==r?p:r,function(e,t,o,d){var g="ltr"==o,v=f(e,g?"left":"right"),b=f(t-1,g?"right":"left"),x=null==n&&0==e,y=null==r&&t==p,w=0==d,C=!m||d==m.length-1;if(b.top-v.top<=3){var k=(c?x:y)&&w,S=(c?y:x)&&C,T=k?l:(g?v:b).left,E=S?s:(g?b:v).right;u(T,v.top,E-T,v.bottom)}else{var O,D,A,M;g?(O=c&&x&&w?l:v.left,D=c?s:h(e,o,"before"),A=c?l:h(t,o,"after"),M=c&&y&&C?s:b.right):(O=c?h(e,o,"before"):l,D=!c&&x&&w?s:v.right,A=!c&&y&&C?l:b.left,M=c?h(t,o,"after"):s),u(O,v.top,D-O,v.bottom),v.bottom<b.top&&u(l,v.bottom,null,b.top),u(A,b.top,M-A,b.bottom)}(!i||Xr(v,i)<0)&&(i=v),Xr(b,i)<0&&(i=b),(!a||Xr(v,a)<0)&&(a=v),Xr(b,a)<0&&(a=b)}),{start:i,end:a}}var p=t.from(),f=t.to();if(p.line==f.line)d(p.line,p.ch,f.ch);else{var h=tt(o,p.line),m=tt(o,f.line),g=nn(h)==nn(m),v=d(p.line,p.ch,g?h.text.length+1:null).end,b=d(f.line,g?0:null,f.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(l,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(l,v.bottom,null,b.top)}n.appendChild(i)}function Jr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||no(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Qr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||to(e))}function eo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&no(e))},100)}function to(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ce(e,"focus",e,t),e.state.focused=!0,F(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Jr(e))}function no(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ce(e,"blur",e,t),e.state.focused=!1,O(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function ro(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,i=0,s=0;s<t.view.length;s++){var c=t.view[s],u=e.options.lineWrapping,d=void 0,p=0;if(!c.hidden){if(o+=c.line.height,a&&l<8){var f=c.node.offsetTop+c.node.offsetHeight;d=f-n,n=f}else{var h=c.node.getBoundingClientRect();d=h.bottom-h.top,!u&&c.text.firstChild&&(p=c.text.firstChild.getBoundingClientRect().right-h.left-1)}var m=c.line.height-d;if((m>.005||m<-.005)&&(o<r&&(i-=m),ot(c.line,d),oo(c.line),c.rest))for(var g=0;g<c.rest.length;g++)oo(c.rest[g]);if(p>e.display.sizerWidth){var v=Math.ceil(p/Fr(e.display));v>e.display.maxLineLength&&(e.display.maxLineLength=v,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(t.scroller.scrollTop+=i)}function oo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function io(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Kn(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=at(t,r),a=at(t,o);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<i?(i=l,a=at(t,un(tt(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(i=at(t,un(tt(t,s))-e.wrapper.clientHeight),a=s)}return{from:i,to:Math.max(a,i+1)}}function ao(e,t){if(!ke(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,i=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(i.defaultView.innerHeight||i.documentElement.clientHeight)&&(o=!1),null!=o&&!m){var a=M("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Kn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Jn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function lo(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?ct(t.line,t.ch+1,"before"):t,t=t.ch?ct(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var a=!1,l=kr(e,t),s=n&&n!=t?kr(e,n):l;o={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r};var c=co(e,o),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(vo(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(xo(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}function so(e,t){var n=co(e,t);null!=n.scrollTop&&vo(e,n.scrollTop),null!=n.scrollLeft&&xo(e,n.scrollLeft)}function co(e,t){var n=e.display,r=Rr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=er(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var l=e.doc.height+Xn(n),s=t.top<r,c=t.bottom>l-r;if(t.top<o)a.scrollTop=s?0:t.top;else if(t.bottom>o+i){var u=Math.min(t.top,(c?l:t.bottom)-i);u!=o&&(a.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,f=Qn(e)-n.gutters.offsetWidth,h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<p?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>f+p-3&&(a.scrollLeft=t.right+(h?0:10)-f),a}function uo(e,t){null!=t&&(mo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function po(e){mo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function fo(e,t,n){null==t&&null==n||mo(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function ho(e,t){mo(e),e.curOp.scrollToPos=t}function mo(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Sr(e,t.from),r=Sr(e,t.to);go(e,n,r,t.margin)}}function go(e,t,n,r){var o=co(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});fo(e,o.scrollLeft,o.scrollTop)}function vo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Yo(e,{top:t}),bo(e,t,!0),n&&Yo(e),zo(e,100))}function bo(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function xo(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Jo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function yo(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Xn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Jn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var wo=function(e,t,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),xe(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),xe(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};wo.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},wo.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},wo.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},wo.prototype.zeroWidthHack=function(){var e=x&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new W,this.disableVert=new W},wo.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect(),i="vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);i!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},wo.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Co=function(){};function ko(e,t){t||(t=yo(e));var n=e.display.barWidth,r=e.display.barHeight;So(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&ro(e),So(e,yo(e)),n=e.display.barWidth,r=e.display.barHeight}function So(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Co.prototype.update=function(){return{bottom:0,right:0}},Co.prototype.setScrollLeft=function(){},Co.prototype.setScrollTop=function(){},Co.prototype.clear=function(){};var To={native:wo,null:Co};function Eo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new To[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),xe(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?xo(e,t):vo(e,t)},e),e.display.scrollbars.addClass&&F(e.display.wrapper,e.display.scrollbars.addClass)}var Oo=0;function Do(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Oo,markArrays:null},An(e.curOp)}function Ao(e){var t=e.curOp;t&&In(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Mo(e)})}function Mo(e){for(var t=e.ops,n=0;n<t.length;n++)Io(t[n]);for(var r=0;r<t.length;r++)No(t[r]);for(var o=0;o<t.length;o++)Ro(t[o]);for(var i=0;i<t.length;i++)Fo(t[i]);for(var a=0;a<t.length;a++)_o(t[a])}function Io(e){var t=e.cm,n=t.display;Ho(t),e.updateMaxLine&&pn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Bo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function No(e){e.updatedDisplay=e.mustUpdate&&Uo(e.cm,e.update)}function Ro(e){var t=e.cm,n=t.display;e.updatedDisplay&&ro(t),e.barMeasure=yo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=or(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Jn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Qn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Fo(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&xo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R(L(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ko(t,e.barMeasure),e.updatedDisplay&&Zo(t,e.barMeasure),e.selectionChanged&&Jr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Qr(e.cm)}function _o(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Go(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&bo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&xo(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=lo(t,gt(r,e.scrollToPos.from),gt(r,e.scrollToPos.to),e.scrollToPos.margin);ao(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||Ce(i[l],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Ce(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ce(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Po(e,t){if(e.curOp)return t();Do(e);try{return t()}finally{Ao(e)}}function jo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Do(e);try{return t.apply(e,arguments)}finally{Ao(e)}}}function Lo(e){return function(){if(this.curOp)return e.apply(this,arguments);Do(this);try{return e.apply(this,arguments)}finally{Ao(this)}}}function $o(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Do(t);try{return e.apply(this,arguments)}finally{Ao(t)}}}function zo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,V(Vo,e))}function Vo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=kt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(r.line>=e.display.viewFrom){var a=i.styles,l=i.text.length>e.options.maxHighlightLength?Ze(t.mode,r.state):null,s=wt(e,i,r,!0);l&&(r.state=l),i.styles=s.styles;var c=i.styleClasses,u=s.classes;u?i.styleClasses=u:c&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=i.styles[p];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&St(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return zo(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Po(e,function(){for(var t=0;t<o.length;t++)Br(e,o[t],"text")})}}var Bo=function(e,t,n){var r=e.display;this.viewport=t,this.visible=io(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Qn(e),this.force=n,this.dims=_r(e),this.events=[]};function Ho(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Jn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Jn(e)+"px",t.scrollbarsClipped=!0)}function Wo(e){if(e.hasFocus())return null;var t=R(L(e));if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=z(e).getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function qo(e){if(e&&e.activeElt&&e.activeElt!=R($(e.activeElt))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Uo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Hr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ur(e))return!1;Qo(e)&&(Hr(e),t.dims=_r(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Ft&&(i=an(e.doc,i),a=ln(e.doc,a));var l=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;qr(e,i,a),n.viewOffset=un(tt(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var s=Ur(e);if(!l&&0==s&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Wo(e);return s>4&&(n.lineDiv.style.display="none"),Ko(e,n.updateLineNumbers,t.dims),s>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,qo(c),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,zo(e,400)),n.updateLineNumbers=null,!0}function Go(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Qn(e))r&&(t.visible=io(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Xn(e.display)-er(e),n.top)}),t.visible=io(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Uo(e,t))break;ro(e);var o=yo(e);Gr(e),ko(e,o),Zo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Yo(e,t){var n=new Bo(e,t);if(Uo(e,n)){ro(e),Go(e,n);var r=yo(e);Gr(e),ko(e,r),Zo(e,r),n.finish()}}function Ko(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function l(t){var n=t.nextSibling;return s&&x&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==i){while(a!=p.node)a=l(a);var f=o&&null!=t&&t<=u&&p.lineNumber;p.changes&&(q(p.changes,"gutter")>-1&&(f=!1),_n(e,p,u,n)),f&&(D(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(st(e.options,u)))),a=p.node.nextSibling}else{var h=Hn(e,p,u,n);i.insertBefore(h,a)}u+=p.size}while(a)a=l(a)}function Xo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Rn(e,"gutterChanged",e)}function Zo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Jn(e)+"px"}function Jo(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Pr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Qo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=st(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Xo(e.display),!0}return!1}function ei(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function ti(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,l=t.appendChild(M("div",null,"CodeMirror-gutter "+i));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Xo(e)}function ni(e){ti(e.display),Vr(e),Jo(e)}function ri(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=I("div",null,"CodeMirror-code"),i.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=M("div",null,"CodeMirror-cursors"),i.measure=M("div",null,"CodeMirror-measure"),i.lineMeasure=M("div",null,"CodeMirror-measure"),i.lineSpace=I("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var c=I("div",[i.lineSpace],"CodeMirror-lines");i.mover=M("div",[c],null,"position: relative"),i.sizer=M("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=M("div",null,null,"position: absolute; height: "+U+"px; width: 1px;"),i.gutters=M("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=M("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=M("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),u&&105===d&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),a&&l<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),s||n&&b||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=ei(o.gutters,o.lineNumbers),ti(i),r.init(i)}Bo.prototype.signal=function(e,t){Te(e,t)&&this.events.push(arguments)},Bo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ce.apply(null,this.events[e])};var oi=0,ii=null;function ai(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function li(e){var t=ai(e);return t.x*=ii,t.y*=ii,t}function si(e,t){u&&102==d&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=ai(t),o=r.x,i=r.y,a=ii;0===t.deltaMode&&(o=t.deltaX,i=t.deltaY,a=1);var l=e.display,c=l.scroller,f=c.scrollWidth>c.clientWidth,h=c.scrollHeight>c.clientHeight;if(o&&f||i&&h){if(i&&x&&s)e:for(var m=t.target,g=l.view;m!=c;m=m.parentNode)for(var v=0;v<g.length;v++)if(g[v].node==m){e.display.currentWheelTarget=m;break e}if(o&&!n&&!p&&null!=a)return i&&h&&vo(e,Math.max(0,c.scrollTop+i*a)),xo(e,Math.max(0,c.scrollLeft+o*a)),(!i||i&&h)&&Oe(t),void(l.wheelStartX=null);if(i&&null!=a){var b=i*a,y=e.doc.scrollTop,w=y+l.wrapper.clientHeight;b<0?y=Math.max(0,y+b-50):w=Math.min(e.doc.height,w+b+50),Yo(e,{top:y,bottom:w})}oi<20&&0!==t.deltaMode&&(null==l.wheelStartX?(l.wheelStartX=c.scrollLeft,l.wheelStartY=c.scrollTop,l.wheelDX=o,l.wheelDY=i,setTimeout(function(){if(null!=l.wheelStartX){var e=c.scrollLeft-l.wheelStartX,t=c.scrollTop-l.wheelStartY,n=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,n&&(ii=(ii*oi+n)/(oi+1),++oi)}},200)):(l.wheelDX+=o,l.wheelDY+=i))}}a?ii=-.53:n?ii=15:u?ii=-.7:f&&(ii=-1/3);var ci=function(e,t){this.ranges=e,this.primIndex=t};ci.prototype.primary=function(){return this.ranges[this.primIndex]},ci.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!dt(n.anchor,r.anchor)||!dt(n.head,r.head))return!1}return!0},ci.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ui(pt(this.ranges[t].anchor),pt(this.ranges[t].head));return new ci(e,this.primIndex)},ci.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ci.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ut(t,r.from())>=0&&ut(e,r.to())<=0)return n}return-1};var ui=function(e,t){this.anchor=e,this.head=t};function di(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(e,t){return ut(e.from(),t.from())}),n=q(t,o);for(var i=1;i<t.length;i++){var a=t[i],l=t[i-1],s=ut(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var c=ht(l.from(),a.from()),u=ft(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;i<=n&&--n,t.splice(--i,2,new ui(d?u:c,d?c:u))}}return new ci(t,n)}function pi(e,t){return new ci([new ui(e,t||e)],0)}function fi(e){return e.text?ct(e.from.line+e.text.length-1,ee(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function hi(e,t){if(ut(e,t.from)<0)return e;if(ut(e,t.to)<=0)return fi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=fi(t).ch-t.to.ch),ct(n,r)}function mi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ui(hi(o.anchor,t),hi(o.head,t)))}return di(e.cm,n,e.sel.primIndex)}function gi(e,t,n){return e.line==t.line?ct(n.line,e.ch-t.ch+n.ch):ct(n.line+(e.line-t.line),e.ch)}function vi(e,t,n){for(var r=[],o=ct(e.first,0),i=o,a=0;a<t.length;a++){var l=t[a],s=gi(l.from,o,i),c=gi(fi(l),o,i);if(o=l.to,i=c,"around"==n){var u=e.sel.ranges[a],d=ut(u.head,u.anchor)<0;r[a]=new ui(d?c:s,d?s:c)}else r[a]=new ui(s,s)}return new ci(r,e.sel.primIndex)}function bi(e){e.doc.mode=Ye(e.options,e.doc.modeOption),xi(e)}function xi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,zo(e,100),e.state.modeGen++,e.curOp&&Vr(e)}function yi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ee(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function wi(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){hn(e,n,o,r),Rn(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new fn(c[i],o(i),r));return n}var l=t.from,s=t.to,c=t.text,u=tt(e,l.line),d=tt(e,s.line),p=ee(c),f=o(c.length-1),h=s.line-l.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(yi(e,t)){var m=a(0,c.length-1);i(d,d.text,f),h&&e.remove(l.line,h),m.length&&e.insert(l.line,m)}else if(u==d)if(1==c.length)i(u,u.text.slice(0,l.ch)+p+u.text.slice(s.ch),f);else{var g=a(1,c.length-1);g.push(new fn(p+u.text.slice(s.ch),f,r)),i(u,u.text.slice(0,l.ch)+c[0],o(0)),e.insert(l.line+1,g)}else if(1==c.length)i(u,u.text.slice(0,l.ch)+c[0]+d.text.slice(s.ch),o(0)),e.remove(l.line+1,h);else{i(u,u.text.slice(0,l.ch)+c[0],o(0)),i(d,p+d.text.slice(s.ch),f);var v=a(1,c.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,v)}Rn(e,"change",e,t)}function Ci(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=o){var s=i&&l.sharedHist;n&&!s||(t(l.doc,s),r(l.doc,e,s))}}}r(e,null,!0)}function ki(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Lr(e),bi(e),Si(e),e.options.direction=t.direction,e.options.lineWrapping||pn(e),e.options.mode=t.modeOption,Vr(e)}function Si(e){("rtl"==e.doc.direction?F:O)(e.display.lineDiv,"CodeMirror-rtl")}function Ti(e){Po(e,function(){Si(e),Vr(e)})}function Ei(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Oi(e,t){var n={from:pt(t.from),to:fi(t),text:nt(e,t.from,t.to)};return Fi(e,n,t.from.line,t.to.line+1),Ci(e,function(e){return Fi(e,n,t.from.line,t.to.line+1)},!0),n}function Di(e){while(e.length){var t=ee(e);if(!t.ranges)break;e.pop()}}function Ai(e,t){return t?(Di(e.done),ee(e.done)):e.done.length&&!ee(e.done).ranges?ee(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ee(e.done)):void 0}function Mi(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,l=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=Ai(o,o.lastOp==r)))a=ee(i.changes),0==ut(t.from,t.to)&&0==ut(t.from,a.to)?a.to=fi(t):i.changes.push(Oi(e,t));else{var s=ee(o.done);s&&s.ranges||Ri(e.sel,o.done),i={changes:[Oi(e,t)],generation:o.generation},o.done.push(i);while(o.done.length>o.undoDepth)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||Ce(e,"historyAdded")}function Ii(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ni(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Ii(e,i,ee(o.done),t))?o.done[o.done.length-1]=t:Ri(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Di(o.undone)}function Ri(e,t){var n=ee(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Fi(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function _i(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Pi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(_i(n[o]));return r}function ji(e,t){var n=Pi(e,t),r=Ht(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],c=0;c<i.length;++c)if(i[c].marker==s.marker)continue e;i.push(s)}else a&&(n[o]=a)}return n}function Li(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?ci.prototype.deepCopy.call(i):i);else{var a=i.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var c=a[s],u=void 0;if(l.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&q(t,Number(u[1]))>-1&&(ee(l)[d]=c[d],delete c[d])}}}return r}function $i(e,t,n,r){if(r){var o=e.anchor;if(n){var i=ut(t,o)<0;i!=ut(n,o)<0?(o=t,t=n):i!=ut(t,n)<0&&(t=n)}return new ui(o,t)}return new ui(n||t,t)}function zi(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Ui(e,new ci([$i(e.sel.primary(),t,n,o)],0),r)}function Vi(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=$i(e.sel.ranges[i],t[i],null,o);var a=di(e.cm,r,e.sel.primIndex);Ui(e,a,n)}function Bi(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Ui(e,di(e.cm,o,e.sel.primIndex),r)}function Hi(e,t,n,r){Ui(e,pi(t,n),r)}function Wi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ui(gt(e,t[n].anchor),gt(e,t[n].head))},origin:n&&n.origin};return Ce(e,"beforeSelectionChange",e,r),e.cm&&Ce(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?di(e.cm,r.ranges,r.ranges.length-1):t}function qi(e,t,n){var r=e.history.done,o=ee(r);o&&o.ranges?(r[r.length-1]=t,Gi(e,t,n)):Ui(e,t,n)}function Ui(e,t,n){Gi(e,t,n),Ni(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Gi(e,t,n){(Te(e,"beforeSelectionChange")||e.cm&&Te(e.cm,"beforeSelectionChange"))&&(t=Wi(e,t,n));var r=n&&n.bias||(ut(t.primary().head,e.sel.primary().head)<0?-1:1);Yi(e,Xi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||po(e.cm)}function Yi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Se(e.cm)),Rn(e,"cursorActivity",e))}function Ki(e){Yi(e,Xi(e,e.sel,null,!1))}function Xi(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],s=Ji(e,a.anchor,l&&l.anchor,n,r),c=a.head==a.anchor?s:Ji(e,a.head,l&&l.head,n,r);(o||s!=a.anchor||c!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new ui(s,c))}return o?di(e.cm,o,t.primIndex):t}function Zi(e,t,n,r,o){var i=tt(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var l=i.markedSpans[a],s=l.marker,c="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,u="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(c?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(u?l.to>=t.ch:l.to>t.ch))){if(o&&(Ce(s,"beforeCursorEnter"),s.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),p=void 0;if((r<0?u:c)&&(d=Qi(e,d,-r,d&&d.line==t.line?i:null)),d&&d.line==t.line&&(p=ut(d,n))&&(r<0?p<0:p>0))return Zi(e,d,t,r,o)}var f=s.find(r<0?-1:1);return(r<0?c:u)&&(f=Qi(e,f,r,f.line==t.line?i:null)),f?Zi(e,f,t,r,o):null}}return t}function Ji(e,t,n,r,o){var i=r||1,a=Zi(e,t,n,i,o)||!o&&Zi(e,t,n,i,!0)||Zi(e,t,n,-i,o)||!o&&Zi(e,t,n,-i,!0);return a||(e.cantEdit=!0,ct(e.first,0))}function Qi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?gt(e,ct(t.line-1)):null:n>0&&t.ch==(r||tt(e,t.line)).text.length?t.line<e.first+e.size-1?ct(t.line+1,0):null:new ct(t.line,t.ch+n)}function ea(e){e.setSelection(ct(e.firstLine(),0),ct(e.lastLine()),Y)}function ta(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=gt(e,t)),n&&(r.to=gt(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),Ce(e,"beforeChange",e,r),e.cm&&Ce(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function na(e,t,n){if(e.cm){if(!e.cm.curOp)return jo(e.cm,na)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Te(e,"beforeChange")||e.cm&&Te(e.cm,"beforeChange"))||(t=ta(e,t,!0),t)){var r=Rt&&!n&&qt(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)ra(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else ra(e,t)}}function ra(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ut(t.from,t.to)){var n=mi(e,t);Mi(e,t,n,e.cm?e.cm.curOp.id:NaN),aa(e,t,n,Ht(e,t));var r=[];Ci(e,function(e,n){n||-1!=q(r,e.history)||(da(e.history,t),r.push(e.history)),aa(e,t,null,Ht(e,t))})}}function oa(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,c=0;c<l.length;c++)if(o=l[c],n?o.ranges&&!o.equals(e.sel):!o.ranges)break;if(c!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(o=l.pop(),!o.ranges){if(r)return void l.push(o);break}if(Ri(o,s),n&&!o.equals(e.sel))return void Ui(e,o,{clearRedo:!1});a=o}var u=[];Ri(a,s),s.push({changes:u,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=Te(e,"beforeChange")||e.cm&&Te(e.cm,"beforeChange"),p=function(n){var r=o.changes[n];if(r.origin=t,d&&!ta(e,r,!1))return l.length=0,{};u.push(Oi(e,r));var i=n?mi(e,r):ee(l);aa(e,r,i,ji(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:fi(r)});var a=[];Ci(e,function(e,t){t||-1!=q(a,e.history)||(da(e.history,r),a.push(e.history)),aa(e,r,null,ji(e,r))})},f=o.changes.length-1;f>=0;--f){var h=p(f);if(h)return h.v}}}}function ia(e,t){if(0!=t&&(e.first+=t,e.sel=new ci(te(e.sel.ranges,function(e){return new ui(ct(e.anchor.line+t,e.anchor.ch),ct(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Vr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Br(e.cm,r,"gutter")}}function aa(e,t,n,r){if(e.cm&&!e.cm.curOp)return jo(e.cm,aa)(e,t,n,r);if(t.to.line<e.first)ia(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ia(e,o),t={from:ct(e.first,0),to:ct(t.to.line+o,t.to.ch),text:[ee(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:ct(i,tt(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=nt(e,t.from,t.to),n||(n=mi(e,t)),e.cm?la(e.cm,t,r):wi(e,t,r),Gi(e,n,Y),e.cantEdit&&Ji(e,ct(e.firstLine(),0))&&(e.cantEdit=!1)}}function la(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,l=!1,s=i.line;e.options.lineWrapping||(s=it(nn(tt(r,i.line))),r.iter(s,a.line+1,function(e){if(e==o.maxLine)return l=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Se(e),wi(r,t,n,jr(e)),e.options.lineWrapping||(r.iter(s,i.line+t.text.length,function(e){var t=dn(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),Nt(r,i.line),zo(e,400);var c=t.text.length-(a.line-i.line)-1;t.full?Vr(e):i.line!=a.line||1!=t.text.length||yi(e.doc,t)?Vr(e,i.line,a.line+1,c):Br(e,i.line,"text");var u=Te(e,"changes"),d=Te(e,"change");if(d||u){var p={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Rn(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function sa(e,t,n,r,o){var i;r||(r=n),ut(r,n)<0&&(i=[r,n],n=i[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),na(e,{from:n,to:r,text:t,origin:o})}function ca(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ua(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var l=0;l<i.ranges.length;l++)ca(i.ranges[l].anchor,t,n,r),ca(i.ranges[l].head,t,n,r)}else{for(var s=0;s<i.changes.length;++s){var c=i.changes[s];if(n<c.from.line)c.from=ct(c.from.line+r,c.from.ch),c.to=ct(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function da(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ua(e.done,n,r,o),ua(e.undone,n,r,o)}function pa(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=tt(e,mt(e,t)):o=it(t),null==o?null:(r(i,o)&&e.cm&&Br(e.cm,o,n),i)}function fa(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ha(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}ui.prototype.from=function(){return ht(this.anchor,this.head)},ui.prototype.to=function(){return ft(this.anchor,this.head)},ui.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,mn(o),Rn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ha.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof fa))){var l=[];this.collapse(l),this.children=[new fa(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var s=new fa(o.lines.slice(l,l+=25));o.height-=s.height,this.children.splice(++r,0,s),s.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new ha(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=q(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new ha(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ma=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ga(e,t,n){un(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&uo(e,n)}function va(e,t,n,r){var o=new ma(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),pa(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!sn(e,t)){var r=un(t)<e.scrollTop;ot(t,t.height+Gn(o)),r&&uo(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&Rn(i,"lineWidgetAdded",i,o,"number"==typeof t?t:it(t)),o}ma.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=it(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=Gn(this);ot(n,Math.max(0,n.height-i)),e&&(Po(e,function(){ga(e,n,-i),Br(e,r,"widget")}),Rn(e,"lineWidgetCleared",e,this,r))}},ma.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Gn(this)-t;o&&(sn(this.doc,r)||ot(r,r.height+o),n&&Po(n,function(){n.curOp.forceUpdate=!0,ga(n,r,o),Rn(n,"lineWidgetChanged",n,e,it(r))}))},Ee(ma);var ba=0,xa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ba};function ya(e,t,n,r,o){if(r&&r.shared)return Ca(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return jo(e.cm,ya)(e,t,n,r,o);var i=new xa(e,o),a=ut(t,n);if(r&&B(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=I("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(tn(e,t.line,t,n,i)||t.line!=n.line&&tn(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Pt()}i.addToHistory&&Mi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,s=t.line,c=e.cm;if(e.iter(s,n.line+1,function(r){c&&i.collapsed&&!c.options.lineWrapping&&nn(r)==c.display.maxLine&&(l=!0),i.collapsed&&s!=t.line&&ot(r,0),zt(r,new jt(i,s==t.line?t.ch:null,s==n.line?n.ch:null),e.cm&&e.cm.curOp),++s}),i.collapsed&&e.iter(t.line,n.line+1,function(t){sn(e,t)&&ot(t,0)}),i.clearOnEnter&&xe(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(_t(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ba,i.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),i.collapsed)Vr(c,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=t.line;u<=n.line;u++)Br(c,u,"text");i.atomic&&Ki(c.doc),Rn(c,"markerAdded",c,i)}return i}xa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Do(e),Te(this,"clear")){var n=this.find();n&&Rn(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],l=Lt(a.markedSpans,this);e&&!this.collapsed?Br(e,it(a),"text"):e&&(null!=l.to&&(o=it(a)),null!=l.from&&(r=it(a))),a.markedSpans=$t(a.markedSpans,l),null==l.from&&this.collapsed&&!sn(this.doc,a)&&e&&ot(a,Rr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var c=nn(this.lines[s]),u=dn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Vr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ki(e.doc)),e&&Rn(e,"markerCleared",e,this,r,o),t&&Ao(e),this.parent&&this.parent.clear()}},xa.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Lt(i.markedSpans,this);if(null!=a.from&&(n=ct(t?i:it(i),a.from),-1==e))return n;if(null!=a.to&&(r=ct(t?i:it(i),a.to),1==e))return r}return n&&{from:n,to:r}},xa.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Po(r,function(){var o=t.line,i=it(t.line),a=ir(r,i);if(a&&(hr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!sn(n.doc,o)&&null!=n.height){var l=n.height;n.height=null;var s=Gn(n)-l;s&&ot(o,o.height+s)}Rn(r,"markerChanged",r,e)})},xa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=q(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xa.prototype.detachLine=function(e){if(this.lines.splice(q(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ee(xa);var wa=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Ca(e,t,n,r,o){r=B(r),r.shared=!1;var i=[ya(e,t,n,r,o)],a=i[0],l=r.widgetNode;return Ci(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),i.push(ya(e,gt(e,t),gt(e,n),r,o));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=ee(i)}),new wa(i,a)}function ka(e){return e.findMarks(ct(e.first,0),e.clipPos(ct(e.lastLine())),function(e){return e.parent})}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(ut(i,a)){var l=ya(e,i,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function Ta(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ci(n.primary.doc,function(e){return r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==q(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}wa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Rn(this,"clear")}},wa.prototype.find=function(e,t){return this.primary.find(e,t)},Ee(wa);var Ea=0,Oa=function(e,t,n,r,o){if(!(this instanceof Oa))return new Oa(e,t,n,r,o);null==n&&(n=0),ha.call(this,[new fa([new fn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=ct(n,0);this.sel=pi(i),this.history=new Ei(null),this.id=++Ea,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),wi(this,{from:i,to:i,text:e}),Ui(this,pi(i),Y)};Oa.prototype=oe(ha.prototype,{constructor:Oa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=rt(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:$o(function(e){var t=ct(this.first,0),n=this.first+this.size-1;na(this,{from:t,to:ct(n,tt(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&fo(this.cm,0,0),Ui(this,pi(t),Y)}),replaceRange:function(e,t,n,r){t=gt(this,t),n=n?gt(this,n):t,sa(this,e,t,n,r)},getRange:function(e,t,n){var r=nt(this,gt(this,e),gt(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(lt(this,e))return tt(this,e)},getLineNumber:function(e){return it(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=tt(this,e)),nn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return gt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:$o(function(e,t,n){Hi(this,gt(this,"number"==typeof e?ct(e,t||0):e),null,n)}),setSelection:$o(function(e,t,n){Hi(this,gt(this,e),gt(this,t||e),n)}),extendSelection:$o(function(e,t,n){zi(this,gt(this,e),t&&gt(this,t),n)}),extendSelections:$o(function(e,t){Vi(this,bt(this,e),t)}),extendSelectionsBy:$o(function(e,t){var n=te(this.sel.ranges,e);Vi(this,bt(this,n),t)}),setSelections:$o(function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ui(gt(this,e[o].anchor),gt(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ui(this,di(this.cm,r,t),n)}}),addSelection:$o(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ui(gt(this,e),gt(this,t||e))),Ui(this,di(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=nt(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=nt(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:$o(function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var l=t&&"end"!=t&&vi(this,r,t),s=r.length-1;s>=0;s--)na(this,r[s]);l?qi(this,l):this.cm&&po(this.cm)}),undo:$o(function(){oa(this,"undo")}),redo:$o(function(){oa(this,"redo")}),undoSelection:$o(function(){oa(this,"undo",!0)}),redoSelection:$o(function(){oa(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ei(this.history),Ci(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Li(this.history.done),undone:Li(this.history.undone)}},setHistory:function(e){var t=this.history=new Ei(this.history);t.done=Li(e.done.slice(0),null,!0),t.undone=Li(e.undone.slice(0),null,!0)},setGutterMarker:$o(function(e,t,n){return pa(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&se(r)&&(e.gutterMarkers=null),!0})}),clearGutter:$o(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&pa(t,n,"gutter",function(){return n.gutterMarkers[e]=null,se(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!lt(this,e))return null;if(t=e,e=tt(this,e),!e)return null}else if(t=it(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:$o(function(e,t,n){return pa(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(T(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:$o(function(e,t,n){return pa(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(T(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:$o(function(e,t,n){return va(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ya(this,gt(this,e),gt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=gt(this,e),ya(this,e,e,n,"bookmark")},findMarksAt:function(e){e=gt(this,e);var t=[],n=tt(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=gt(this,e),t=gt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var a=i.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&o==e.line&&e.ch>=s.to||null==s.from&&o!=e.line||null!=s.from&&o==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n}),gt(this,ct(n,t))},indexFromPos:function(e){e=gt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Oa(rt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Oa(rt(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Sa(r,ka(this)),r},unlinkDoc:function(e){if(e instanceof Vl&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ta(ka(this));break}}if(e.history==this.history){var r=[e.id];Ci(e,function(e){return r.push(e.id)},!0),e.history=new Ei(null),e.history.done=Li(this.history.done,r),e.history.undone=Li(this.history.undone,r)}},iterLinkedDocs:function(e){Ci(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:$o(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Ti(this.cm))})}),Oa.prototype.eachLine=Oa.prototype.iter;var Da=0;function Aa(e){var t=this;if(Na(t),!ke(t,e)&&!Yn(t.display,e)){Oe(e),a&&(Da=+new Date);var n=$r(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),l=0,s=function(){++l==o&&jo(t,function(){n=gt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(i.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};na(t.doc,e),qi(t.doc,pi(gt(t.doc,n),gt(t.doc,fi(e))))})()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==q(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),s()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var d=e.dataTransfer.getData("Text");if(d){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),Gi(t.doc,pi(n,n)),p)for(var f=0;f<p.length;++f)sa(t.doc,"",p[f].anchor,p[f].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Ma(e,t){if(a&&(!e.state.draggingText||+new Date-Da<100))Me(t);else if(!ke(e,t)&&!Yn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}function Ia(e,t){var n=$r(e,t);if(n){var r=document.createDocumentFragment();Kr(e,n,r),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,r)}}function Na(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ra(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Fa=!1;function _a(){Fa||(Pa(),Fa=!0)}function Pa(){var e;xe(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ra(ja)},100))}),xe(window,"blur",function(){return Ra(no)})}function ja(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var La={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},$a=0;$a<10;$a++)La[$a+48]=La[$a+96]=String($a);for(var za=65;za<=90;za++)La[za]=String.fromCharCode(za);for(var Va=1;Va<=12;Va++)La[Va+111]=La[Va+63235]="F"+Va;var Ba={};function Ha(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var l=i[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Wa(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=te(n.split(" "),Ha),i=0;i<o.length;i++){var a=void 0,l=void 0;i==o.length-1?(l=o.join(" "),a=r):(l=o.slice(0,i+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function qa(e,t,n,r){t=Ka(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return qa(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=qa(e,t.fallthrough[i],n,r);if(a)return a}}}function Ua(e){var t="string"==typeof e?e:La[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ga(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ya(e,t){if(p&&34==e.keyCode&&e["char"])return!1;var n=La[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ga(n,e,t))}function Ka(e){return"string"==typeof e?Ba[e]:e}function Xa(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){var i=t(n[o]);while(r.length&&ut(i.from,ee(r).to)<=0){var a=r.pop();if(ut(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Po(e,function(){for(var t=r.length-1;t>=0;t--)sa(e.doc,"",r[t].from,r[t].to,"+delete");po(e)})}function Za(e,t,n){var r=de(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ja(e,t,n){var r=Za(e,t.ch,n);return null==r?null:new ct(t.line,r,n<0?"after":"before")}function Qa(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=ve(n,t.doc.direction);if(i){var a,l=o<0?ee(i):i[0],s=o<0==(1==l.level),c=s?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var u=ar(t,n);a=o<0?n.text.length-1:0;var d=lr(t,u,a).top;a=pe(function(e){return lr(t,u,e).top==d},o<0==(1==l.level)?l.from:l.to-1,a),"before"==c&&(a=Za(n,a,1))}else a=o<0?l.to:l.from;return new ct(r,a,c)}}return new ct(r,o<0?n.text.length:0,o<0?"before":"after")}function el(e,t,n,r){var o=ve(t,e.doc.direction);if(!o)return Ja(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=me(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ja(t,n,r);var l,s=function(e,n){return Za(t,e instanceof ct?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(l=l||ar(e,t),Dr(e,t,l,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,p=s(n,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=u.end:p>=a.from&&p>=u.begin)){var f=d?"before":"after";return new ct(n.line,p,f)}}var h=function(e,t,r){for(var i=function(e,t){return t?new ct(n.line,s(e,1),"before"):new ct(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],l=t>0==(1!=a.level),c=l?r.begin:s(r.end,-1);if(a.from<=c&&c<a.to)return i(c,l);if(c=l?a.from:s(a.to,-1),r.begin<=c&&c<r.end)return i(c,l)}},m=h(i+r,r,u);if(m)return m;var g=r>0?u.end:s(u.begin,-1);return null==g||r>0&&g==t.text.length||(m=h(r>0?0:o.length-1,r,c(g)),!m)?null:m}Ba.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ba.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ba.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ba.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ba["default"]=x?Ba.macDefault:Ba.pcDefault;var tl={selectAll:ea,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Y)},killLine:function(e){return Xa(e,function(t){if(t.empty()){var n=tt(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ct(t.head.line+1,0)}:{from:t.head,to:ct(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Xa(e,function(t){return{from:ct(t.from().line,0),to:gt(e.doc,ct(t.to().line+1,0))}})},delLineLeft:function(e){return Xa(e,function(e){return{from:ct(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Xa(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Xa(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ct(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ct(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return nl(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ol(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return rl(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},X)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},X)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ol(e,t.head):r},X)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=H(e.getLine(i.line),i.ch,r);t.push(Q(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Po(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=tt(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new ct(o.line,o.ch-1)),o.ch>0)o=new ct(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),ct(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=tt(e.doc,o.line-1).text;a&&(o=new ct(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ct(o.line-1,a.length-1),o,"+transpose"))}n.push(new ui(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return Po(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);po(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function nl(e,t){var n=tt(e.doc,t),r=nn(n);return r!=n&&(t=it(r)),Qa(!0,e,r,t,1)}function rl(e,t){var n=tt(e.doc,t),r=rn(n);return r!=n&&(t=it(r)),Qa(!0,e,n,t,-1)}function ol(e,t){var n=nl(e,t.line),r=tt(e.doc,n.line),o=ve(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return ct(n.line,a?0:i,n.sticky)}return n}function il(e,t,n){if("string"==typeof t&&(t=tl[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=G}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function al(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=qa(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&qa(t,e.options.extraKeys,n,e)||qa(t,e.options.keyMap,n,e)}var ll=new W;function sl(e,t,n,r){var o=e.state.keySeq;if(o){if(Ua(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ll.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),cl(e,o+" "+t,n,r))return!0}return cl(e,t,n,r)}function cl(e,t,n,r){var o=al(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Rn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Oe(n),Jr(e)),!!o}function ul(e,t){var n=Ya(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?sl(e,"Shift-"+n,t,function(t){return il(e,t,!0)})||sl(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return il(e,t)}):sl(e,n,t,function(t){return il(e,t)}))}function dl(e,t,n){return sl(e,"'"+n+"'",t,function(t){return il(e,t,!0)})}var pl=null;function fl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=R(L(t)),!ke(t,e))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=ul(t,e);p&&(pl=o?r:null,o||88!=r||ze||!(x?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!x&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||hl(t)}}function hl(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(O(t,"CodeMirror-crosshair"),we(document,"keyup",n),we(document,"mouseover",n))}F(t,"CodeMirror-crosshair"),xe(document,"keyup",n),xe(document,"mouseover",n)}function ml(e){16==e.keyCode&&(this.doc.sel.shift=!1),ke(this,e)}function gl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Yn(t.display,e)||ke(t,e)||e.ctrlKey&&!e.altKey||x&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(p&&n==pl)return pl=null,void Oe(e);if(!p||e.which&&!(e.which<10)||!ul(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(dl(t,e,o)||t.display.input.onKeyPress(e))}}}var vl,bl,xl=400,yl=function(e,t,n){this.time=e,this.pos=t,this.button=n};function wl(e,t){var n=+new Date;return bl&&bl.compare(n,e,t)?(vl=bl=null,"triple"):vl&&vl.compare(n,e,t)?(bl=new yl(n,e,t),vl=null,"double"):(vl=new yl(n,e,t),bl=null,"single")}function Cl(e){var t=this,n=t.display;if(!(ke(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Yn(n,e))s||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Il(t,e)){var r=$r(t,e),o=Ne(e),i=r?wl(r,o):"single";z(t).focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&kl(t,o,r,i,e)||(1==o?r?Tl(t,r,i,e):Ie(e)==n.scroller&&Oe(e):2==o?(r&&zi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==o&&(S?t.display.input.onContextMenu(e):eo(t)))}}function kl(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),i=(1==t?"Left":2==t?"Middle":"Right")+i,sl(e,Ga(i,o),o,function(t){if("string"==typeof t&&(t=tl[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=G}finally{e.state.suppressEdits=!1}return r})}function Sl(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=y?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=x?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(x?n.altKey:n.ctrlKey)),o}function Tl(e,t,n,r){a?setTimeout(V(Qr,e),0):e.curOp.focus=R(L(e));var o,i=Sl(e,n,r),l=e.doc.sel;e.options.dragDrop&&_e&&!e.isReadOnly()&&"single"==n&&(o=l.contains(t))>-1&&(ut((o=l.ranges[o]).from(),t)<0||t.xRel>0)&&(ut(o.to(),t)>0||t.xRel<0)?El(e,r,t,i):Dl(e,r,t,i)}function El(e,t,n,r){var o=e.display,i=!1,c=jo(e,function(t){s&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:eo(e)),we(o.wrapper.ownerDocument,"mouseup",c),we(o.wrapper.ownerDocument,"mousemove",u),we(o.scroller,"dragstart",d),we(o.scroller,"drop",c),i||(Oe(t),r.addNew||zi(e.doc,n,null,null,r.extend),s&&!f||a&&9==l?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),u=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};s&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,xe(o.wrapper.ownerDocument,"mouseup",c),xe(o.wrapper.ownerDocument,"mousemove",u),xe(o.scroller,"dragstart",d),xe(o.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Ol(e,t,n){if("char"==n)return new ui(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ui(ct(t.line,0),gt(e.doc,ct(t.line+1,0)));var r=n(e,t);return new ui(r.from,r.to)}function Dl(e,t,n,r){a&&eo(e);var o=e.display,i=e.doc;Oe(t);var l,s,c=i.sel,u=c.ranges;if(r.addNew&&!r.extend?(s=i.sel.contains(n),l=s>-1?u[s]:new ui(n,n)):(l=i.sel.primary(),s=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(l=new ui(n,n)),n=$r(e,t,!0,!0),s=-1;else{var d=Ol(e,n,r.unit);l=r.extend?$i(l,d.anchor,d.head,r.extend):d}r.addNew?-1==s?(s=u.length,Ui(i,di(e,u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Ui(i,di(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=i.sel):Bi(i,s,l,K):(s=0,Ui(i,new ci([l],0),K),c=i.sel);var p=n;function f(t){if(0!=ut(p,t))if(p=t,"rectangle"==r.unit){for(var o=[],a=e.options.tabSize,u=H(tt(i,n.line).text,n.ch,a),d=H(tt(i,t.line).text,t.ch,a),f=Math.min(u,d),h=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=tt(i,m).text,b=Z(v,f,a);f==h?o.push(new ui(ct(m,b),ct(m,b))):v.length>b&&o.push(new ui(ct(m,b),ct(m,Z(v,h,a))))}o.length||o.push(new ui(n,n)),Ui(i,di(e,c.ranges.slice(0,s).concat(o),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,y=l,w=Ol(e,t,r.unit),C=y.anchor;ut(w.anchor,C)>0?(x=w.head,C=ht(y.from(),w.anchor)):(x=w.anchor,C=ft(y.to(),w.head));var k=c.ranges.slice(0);k[s]=Al(e,new ui(gt(i,C),x)),Ui(i,di(e,k,s),K)}}var h=o.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,a=$r(e,t,!0,"rectangle"==r.unit);if(a)if(0!=ut(a,p)){e.curOp.focus=R(L(e)),f(a);var l=io(o,i);(a.line>=l.to||a.line<l.from)&&setTimeout(jo(e,function(){m==n&&g(t)}),150)}else{var s=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;s&&setTimeout(jo(e,function(){m==n&&(o.scroller.scrollTop+=s,g(t))}),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(Oe(t),o.input.focus()),we(o.wrapper.ownerDocument,"mousemove",b),we(o.wrapper.ownerDocument,"mouseup",x),i.history.lastSelOrigin=null}var b=jo(e,function(e){0!==e.buttons&&Ne(e)?g(e):v(e)}),x=jo(e,v);e.state.selectingText=x,xe(o.wrapper.ownerDocument,"mousemove",b),xe(o.wrapper.ownerDocument,"mouseup",x)}function Al(e,t){var n=t.anchor,r=t.head,o=tt(e.doc,n.line);if(0==ut(n,r)&&n.sticky==r.sticky)return t;var i=ve(o);if(!i)return t;var a=me(i,n.ch,n.sticky),l=i[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,c=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==c||c==i.length)return t;if(r.line!=n.line)s=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=me(i,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==l.level?-1:1);s=u==c-1||u==c?d<0:d>0}var p=i[c+(s?-1:0)],f=s==(1==p.level),h=f?p.from:p.to,m=f?"after":"before";return n.ch==h&&n.sticky==m?t:new ui(new ct(n.line,h,m),r)}function Ml(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(p){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Oe(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(i>l.bottom||!Te(e,n))return Ae(t);i-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=o){var u=at(e.doc,i),d=e.display.gutterSpecs[s];return Ce(e,n,e,u,d.className,t),Ae(t)}}}function Il(e,t){return Ml(e,t,"gutterClick",!0)}function Nl(e,t){Yn(e.display,t)||Rl(e,t)||ke(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Rl(e,t){return!!Te(e,"gutterContextMenu")&&Ml(e,t,"gutterContextMenu",!1)}function Fl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),gr(e)}yl.prototype.compare=function(e,t,n){return this.time+xl>e&&0==ut(t,this.pos)&&n==this.button};var _l={toString:function(){return"CodeMirror.Init"}},Pl={},jl={};function Ll(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=_l&&o(e,t,n)}:o)}e.defineOption=n,e.Init=_l,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,bi(e)},!0),n("indentUnit",2,bi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){xi(e),gr(e),Vr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(ct(r,i))}r++});for(var o=n.length-1;o>=0;o--)sa(e.doc,t,n[o],ct(n[o].line,n[o].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=_l&&e.refresh()}),n("specialCharPlaceholder",yn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Fl(e),ni(e)},!0),n("keyMap","default",function(e,t,n){var r=Ka(t),o=n!=_l&&Ka(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,zl,!0),n("gutters",[],function(e,t){e.display.gutterSpecs=ei(t,e.options.lineNumbers),ni(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Pr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return ko(e)},!0),n("scrollbarStyle","native",function(e){Eo(e),ko(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e,t){e.display.gutterSpecs=ei(e.options.gutters,t),ni(e)},!0),n("firstLineNumber",1,ni,!0),n("lineNumberFormatter",function(e){return e},ni,!0),n("showCursorWhenSelecting",!1,Gr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(no(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,$l),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Gr,!0),n("singleCursorHeightPerLine",!0,Gr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,xi,!0),n("addModeClass",!1,xi,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,xi,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}function $l(e,t,n){var r=n&&n!=_l;if(!t!=!r){var o=e.display.dragFunctions,i=t?xe:we;i(e.display.scroller,"dragstart",o.start),i(e.display.scroller,"dragenter",o.enter),i(e.display.scroller,"dragover",o.over),i(e.display.scroller,"dragleave",o.leave),i(e.display.scroller,"drop",o.drop)}}function zl(e){e.options.lineWrapping?(F(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(O(e.display.wrapper,"CodeMirror-wrap"),pn(e)),Lr(e),Vr(e),gr(e),setTimeout(function(){return ko(e)},100)}function Vl(e,t){var n=this;if(!(this instanceof Vl))return new Vl(e,t);this.options=t=t?B(t):{},B(Pl,t,!1);var r=t.value;"string"==typeof r?r=new Oa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Vl.inputStyles[t.inputStyle](this),i=this.display=new ri(e,r,o,t);for(var c in i.wrapper.CodeMirror=this,Fl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Eo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new W,keySeq:null,specialChars:null},t.autofocus&&!b&&i.input.focus(),a&&l<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Bl(this),_a(),Do(this),this.curOp.forceUpdate=!0,ki(this,r),t.autofocus&&!b||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&to(n)},20):no(this),jl)jl.hasOwnProperty(c)&&jl[c](this,t[c],_l);Qo(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Hl.length;++u)Hl[u](this);Ao(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Bl(e){var t=e.display;xe(t.scroller,"mousedown",jo(e,Cl)),xe(t.scroller,"dblclick",a&&l<11?jo(e,function(t){if(!ke(e,t)){var n=$r(e,t);if(n&&!Il(e,t)&&!Yn(e.display,t)){Oe(t);var r=e.findWordAt(n);zi(e.doc,r.anchor,r.head)}}}):function(t){return ke(e,t)||Oe(t)}),xe(t.scroller,"contextmenu",function(t){return Nl(e,t)}),xe(t.input.getField(),"contextmenu",function(n){t.scroller.contains(n.target)||Nl(e,n)});var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function s(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}xe(t.scroller,"touchstart",function(o){if(!ke(e,o)&&!i(o)&&!Il(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}}),xe(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),xe(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!Yn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||s(r,r.prev)?new ui(a,a):!r.prev.prev||s(r,r.prev.prev)?e.findWordAt(a):new ui(ct(a.line,0),gt(e.doc,ct(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Oe(n)}o()}),xe(t.scroller,"touchcancel",o),xe(t.scroller,"scroll",function(){t.scroller.clientHeight&&(vo(e,t.scroller.scrollTop),xo(e,t.scroller.scrollLeft,!0),Ce(e,"scroll",e))}),xe(t.scroller,"mousewheel",function(t){return si(e,t)}),xe(t.scroller,"DOMMouseScroll",function(t){return si(e,t)}),xe(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ke(e,t)||Me(t)},over:function(t){ke(e,t)||(Ia(e,t),Me(t))},start:function(t){return Ma(e,t)},drop:jo(e,Aa),leave:function(t){ke(e,t)||Na(e)}};var c=t.input.getField();xe(c,"keyup",function(t){return ml.call(e,t)}),xe(c,"keydown",jo(e,fl)),xe(c,"keypress",jo(e,gl)),xe(c,"focus",function(t){return to(e,t)}),xe(c,"blur",function(t){return no(e,t)})}Vl.defaults=Pl,Vl.optionHandlers=jl;var Hl=[];function Wl(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=kt(e,t).state:n="prev");var a=e.options.tabSize,l=tt(i,t),s=H(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var c,u=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&(c=i.mode.indent(o,l.text.slice(u.length),l.text),c==G||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?H(tt(i,t-1).text,null,a):0:"add"==n?c=s+e.options.indentUnit:"subtract"==n?c=s-e.options.indentUnit:"number"==typeof n&&(c=s+n),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)p+=a,d+="\t";if(p<c&&(d+=Q(c-p)),d!=u)return sa(i,d,ct(t,0),ct(t,u.length),"+input"),l.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var m=i.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var g=ct(t,u.length);Bi(i,h,new ui(g,g));break}}}Vl.defineInitHook=function(e){return Hl.push(e)};var ql=null;function Ul(e){ql=e}function Gl(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,l="paste"==o||e.state.pasteIncoming>a,s=Le(t),c=null;if(l&&r.ranges.length>1)if(ql&&ql.text.join("\n")==t){if(r.ranges.length%ql.text.length==0){c=[];for(var u=0;u<ql.text.length;u++)c.push(i.splitLines(ql.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=te(s,function(e){return[e]}));for(var d=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var f=r.ranges[p],h=f.from(),m=f.to();f.empty()&&(n&&n>0?h=ct(h.line,h.ch-n):e.state.overwrite&&!l?m=ct(m.line,Math.min(tt(i,m.line).text.length,m.ch+ee(s).length)):l&&ql&&ql.lineWise&&ql.text.join("\n")==s.join("\n")&&(h=m=ct(h.line,0)));var g={from:h,to:m,text:c?c[p%c.length]:s,origin:o||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};na(e.doc,g),Rn(e,"inputRead",e,g)}t&&!l&&Kl(e,t),po(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Yl(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Po(t,function(){return Gl(t,n,0,null,"paste")}),!0}function Kl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var l=0;l<i.electricChars.length;l++)if(t.indexOf(i.electricChars.charAt(l))>-1){a=Wl(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(tt(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Wl(e,o.head.line,"smart"));a&&Rn(e,"electricInput",e,o.head.line)}}}function Xl(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:ct(o,0),head:ct(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Zl(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function Jl(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),t}function Ql(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){z(this).focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&jo(this,t[e])(this,n,o),Ce(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ka(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Lo(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");ne(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Vr(this)}),removeOverlay:Lo(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Vr(this)}}),indentLine:Lo(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),lt(this.doc,e)&&Wl(this,e,t,n)}),indentSelection:Lo(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Wl(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&po(this));else{var i=o.from(),a=o.to(),l=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)Wl(this,s,e);var c=this.doc.sel.ranges;0==i.ch&&t.length==c.length&&c[r].from().ch>0&&Bi(this.doc,r,new ui(i,c[r].to()),Y)}}}),getTokenAt:function(e,t){return Dt(this,e,t)},getLineTokens:function(e,t){return Dt(this,ct(e),t,!0)},getTokenTypeAt:function(e){e=gt(this.doc,e);var t,n=Ct(this,tt(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var l=o[i[t][a]];l&&r.push(l)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var s=0;s<o._global.length;s++){var c=o._global[s];c.pred(i,this)&&-1==q(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=mt(n,null==e?n.first+n.size-1:e),kt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?gt(this.doc,e):e?r.from():r.to(),kr(this,n,t||"page")},charCoords:function(e,t){return Cr(this,gt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=wr(this,e,t||"page"),Er(this,e.left,e.top)},lineAtHeight:function(e,t){return e=wr(this,{top:e,left:0},t||"page").top,at(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=tt(this.doc,e)}else r=e;return yr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-un(r):0)},defaultTextHeight:function(){return Rr(this.display)},defaultCharWidth:function(){return Fr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=kr(this,gt(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var s=Math.max(i.wrapper.clientHeight,this.doc.height),c=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>c&&(l=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(l=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?l=0:"middle"==o&&(l=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&so(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Lo(fl),triggerOnKeyPress:Lo(gl),triggerOnKeyUp:ml,triggerOnMouseDown:Lo(Cl),execCommand:function(e){if(tl.hasOwnProperty(e))return tl[e].call(null,this)},triggerElectric:Lo(function(e){Kl(this,e)}),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=gt(this.doc,e),a=0;a<t;++a)if(i=es(this.doc,i,o,n,r),i.hitSide)break;return i},moveH:Lo(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?es(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},X)}),deleteH:Lo(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xa(this,function(n){var o=es(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=gt(this.doc,e),l=0;l<t;++l){var s=kr(this,a,"div");if(null==i?i=s.left:s.left=i,a=ts(this,s,o,n),a.hitSide)break}return a},moveV:Lo(function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return e<0?a.from():a.to();var l=kr(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),o.push(l.left);var s=ts(n,l,e,t);return"page"==t&&a==r.sel.primary()&&uo(n,Cr(n,s,"div").top-l.top),s},X),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var t=this.doc,n=tt(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=n.length||!r?++o:--r;var a=n.charAt(r),l=le(a,i)?function(e){return le(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!le(e)};while(r>0&&l(n.charAt(r-1)))--r;while(o<n.length&&l(n.charAt(o)))++o}return new ui(ct(e.line,r),ct(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?F(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),Ce(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R(L(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Lo(function(e,t){fo(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Jn(this)-this.display.barHeight,width:e.scrollWidth-Jn(this)-this.display.barWidth,clientHeight:er(this),clientWidth:Qn(this)}},scrollIntoView:Lo(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ct(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ho(this,e):go(this,e.from,e.to,e.margin)}),setSize:Lo(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&mr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Br(n,o,"widget");break}++o}),this.curOp.forceUpdate=!0,Ce(this,"refresh",this)}),operation:function(e){return Po(this,e)},startOperation:function(){return Do(this)},endOperation:function(){return Ao(this)},refresh:Lo(function(){var e=this.display.cachedTextHeight;Vr(this),this.curOp.forceUpdate=!0,gr(this),fo(this,this.doc.scrollLeft,this.doc.scrollTop),Xo(this.display),(null==e||Math.abs(e-Rr(this.display))>.5||this.options.lineWrapping)&&Lr(this),Ce(this,"refresh",this)}),swapDoc:Lo(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),ki(this,e),gr(this),this.display.input.reset(),fo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Rn(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ee(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function es(e,t,n,r,o){var i=t,a=n,l=tt(e,t.line),s=o&&"rtl"==e.direction?-n:n;function c(){var n=t.line+s;return!(n<e.first||n>=e.first+e.size)&&(t=new ct(n,t.ch,t.sticky),l=tt(e,n))}function u(i){var a;if("codepoint"==r){var u=l.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))a=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new ct(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(d?2:1))),-n)}}else a=o?el(e.cm,l,t,n):Ja(l,t,n);if(null==a){if(i||!c())return!1;t=Qa(o,e.cm,l,t.line,s)}else t=a;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,p="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;;h=!1){if(n<0&&!u(!h))break;var m=l.text.charAt(t.ch)||"\n",g=le(m,f)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||h||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!h))break}var v=Ji(e,t,i,a,!0);return dt(i,v)&&(v.hitSide=!0),v}function ts(e,t,n,r){var o,i,a=e.doc,l=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,z(e).innerHeight||a(e).documentElement.clientHeight),c=Math.max(s-.5*Rr(e.display),3);o=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){if(i=Er(e,l,o),!i.outside)break;if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var ns=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new W,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function rs(e,t){var n=ir(e,t.line);if(!n||n.hidden)return null;var r=tt(e.doc,t.line),o=nr(n,r,t.line),i=ve(r,e.doc.direction),a="left";if(i){var l=me(i,t.ch);a=l%2?"right":"left"}var s=ur(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function os(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function is(e,t){return t&&(e.bad=!0),e}function as(e,t,n,r,o){var i="",a=!1,l=e.doc.lineSeparator(),s=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(i+=l,s&&(i+=l),a=s=!1)}function d(e){e&&(u(),i+=e)}function p(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var i,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(ct(r,0),ct(o+1,0),c(+f));return void(h.length&&(i=h[0].find(0))&&d(nt(e.doc,i.from,i.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)p(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(s=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(p(t),t==n)break;t=t.nextSibling,s=!1}return i}function ls(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return is(e.clipPos(ct(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return ss(i,t,n)}}function ss(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!N(r,t))return is(ct(it(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?ee(e.rest):e.line;return is(ct(it(i),i.text.length),o)}var a=3==t.nodeType?t:null,l=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));while(l.parentNode!=r)l=l.parentNode;var s=e.measure,c=s.maps;function u(t,n,r){for(var o=-1;o<(c?c.length:0);o++)for(var i=o<0?s.map:c[o],a=0;a<i.length;a+=3){var l=i[a+2];if(l==t||l==n){var u=it(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||l!=t)&&(d=i[a+(r?1:0)]),ct(u,d)}}}var d=u(a,l,n);if(d)return is(d,o);for(var p=l.nextSibling,f=a?a.nodeValue.length-n:0;p;p=p.nextSibling){if(d=u(p,p.firstChild,0),d)return is(ct(d.line,d.ch-f),o);f+=p.textContent.length}for(var h=l.previousSibling,m=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1),d)return is(ct(d.line,d.ch+m),o);m+=h.textContent.length}}ns.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!ke(r,e)){if(r.somethingSelected())Ul({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Xl(r);Ul({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Y),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var a=ql.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var l=Jl(),s=l.firstChild;Zl(s),r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=ql.text.join("\n");var c=R($(o));P(s),setTimeout(function(){r.display.lineSpace.removeChild(l),c.focus(),c==o&&n.showPrimarySelection()},50)}}o.contentEditable=!0,Zl(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),xe(o,"paste",function(e){!i(e)||ke(r,e)||Yl(e,r)||l<=11&&setTimeout(jo(r,function(){return t.updateFromDOM()}),20)}),xe(o,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),xe(o,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),xe(o,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),xe(o,"touchstart",function(){return n.forceCompositionEnd()}),xe(o,"input",function(){t.composing||t.readFromDOMSoon()}),xe(o,"copy",a),xe(o,"cut",a)},ns.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},ns.prototype.prepareSelection=function(){var e=Yr(this.cm,!1);return e.focus=R($(this.div))==this.div,e},ns.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ns.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ns.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=ls(t,e.anchorNode,e.anchorOffset),l=ls(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=ut(ht(a,l),o)||0!=ut(ft(a,l),i)){var s=t.display.view,c=o.line>=t.display.viewFrom&&rs(t,o)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&rs(t,i);if(!u){var d=s[s.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var f,h=e.rangeCount&&e.getRangeAt(0);try{f=E(c.node,c.offset,u.offset,u.node)}catch(m){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},ns.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ns.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},ns.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ns.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},ns.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&R($(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ns.prototype.blur=function(){this.div.blur()},ns.prototype.getField=function(){return this.div},ns.prototype.supportsTouch=function(){return!0},ns.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Po(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,n)},ns.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ns.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&os(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ls(t,e.anchorNode,e.anchorOffset),r=ls(t,e.focusNode,e.focusOffset);n&&r&&Po(t,function(){Ui(t.doc,pi(n,r),Y),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},ns.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),l=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ct(a.line-1,tt(r.doc,a.line-1).length)),l.ch==tt(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=ct(l.line+1,0)),a.line<o.viewFrom||l.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=zr(r,a.line))?(t=it(o.view[0].line),n=o.view[0].node):(t=it(o.view[e].line),n=o.view[e-1].node.nextSibling);var s,c,u=zr(r,l.line);if(u==o.view.length-1?(s=o.viewTo-1,c=o.lineDiv.lastChild):(s=it(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(as(r,n,c,t,s)),p=nt(r.doc,ct(t,0),ct(s,tt(r.doc,s).text.length));while(d.length>1&&p.length>1)if(ee(d)==ee(p))d.pop(),p.pop(),s--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),t++}var f=0,h=0,m=d[0],g=p[0],v=Math.min(m.length,g.length);while(f<v&&m.charCodeAt(f)==g.charCodeAt(f))++f;var b=ee(d),x=ee(p),y=Math.min(b.length-(1==d.length?f:0),x.length-(1==p.length?f:0));while(h<y&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1))++h;if(1==d.length&&1==p.length&&t==a.line)while(f&&f>a.ch&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1))f--,h++;d[d.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var w=ct(t,f),C=ct(s,p.length?ee(p).length-h:0);return d.length>1||d[0]||ut(w,C)?(sa(r.doc,d,w,C,"+input"),!0):void 0},ns.prototype.ensurePolled=function(){this.forceCompositionEnd()},ns.prototype.reset=function(){this.forceCompositionEnd()},ns.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ns.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},ns.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Po(this.cm,function(){return Vr(e.cm)})},ns.prototype.setUneditable=function(e){e.contentEditable="false"},ns.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||jo(this.cm,Gl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ns.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},ns.prototype.onContextMenu=function(){},ns.prototype.resetPosition=function(){},ns.prototype.needsContentAttribute=!0;var cs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new W,this.hasSelection=!1,this.composing=null,this.resetting=!1};function us(e,t){if(t=t?B(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R($(e));t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=l.getValue()}var o;if(e.form&&(xe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(s){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(we(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var l=Vl(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function ds(e){e.off=we,e.on=xe,e.wheelEventPixels=li,e.Doc=Oa,e.splitLines=Le,e.countColumn=H,e.findColumn=Z,e.isWordChar=ae,e.Pass=G,e.signal=Ce,e.Line=fn,e.changeEnd=fi,e.scrollbarModel=To,e.Pos=ct,e.cmpPos=ut,e.modes=He,e.mimeModes=We,e.resolveMode=Ge,e.getMode=Ye,e.modeExtensions=Ke,e.extendMode=Xe,e.copyState=Ze,e.startState=Qe,e.innerMode=Je,e.commands=tl,e.keyMap=Ba,e.keyName=Ya,e.isModifierKey=Ua,e.lookupKey=qa,e.normalizeKeyMap=Wa,e.StringStream=et,e.SharedTextMarker=wa,e.TextMarker=xa,e.LineWidget=ma,e.e_preventDefault=Oe,e.e_stopPropagation=De,e.e_stop=Me,e.addClass=F,e.contains=N,e.rmClass=O,e.keyNames=La}cs.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ke(r,e)){if(r.somethingSelected())Ul({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Xl(r);Ul({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,Y):(n.prevInput="",o.value=t.text.join("\n"),P(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(o.style.width="0px"),xe(o,"input",function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),xe(o,"paste",function(e){ke(r,e)||Yl(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),xe(o,"cut",i),xe(o,"copy",i),xe(e.scroller,"paste",function(t){if(!Yn(e,t)&&!ke(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}}),xe(e.lineSpace,"selectstart",function(t){Yn(e,t)||Oe(t)}),xe(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),xe(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},cs.prototype.createField=function(e){this.wrapper=Jl(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Zl(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},cs.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},cs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Yr(e);if(e.options.moveInputWithCursor){var o=kr(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},cs.prototype.showSelection=function(e){var t=this.cm,n=t.display;A(n.cursorDiv,e.cursors),A(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},cs.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null));this.resetting=!1}},cs.prototype.getField=function(){return this.textarea},cs.prototype.supportsTouch=function(){return!1},cs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||R($(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(e){}},cs.prototype.blur=function(){this.textarea.blur()},cs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},cs.prototype.receivedFocus=function(){this.slowPoll()},cs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},cs.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},cs.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||$e(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===o||x&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}var s=0,c=Math.min(r.length,o.length);while(s<c&&r.charCodeAt(s)==o.charCodeAt(s))++s;return Po(t,function(){Gl(t,o.slice(s),r.length-s,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},cs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},cs.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},cs.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=$r(n,e),c=r.scroller.scrollTop;if(i&&!p){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(i)&&jo(n,Ui)(n.doc,pi(i),Y);var d,f=o.style.cssText,h=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s&&(d=o.ownerDocument.defaultView.scrollY),r.input.focus(),s&&o.ownerDocument.defaultView.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=b,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&v(),S){Me(e);var g=function(){we(window,"mouseup",g),setTimeout(b,20)};xe(window,"mouseup",g)}else setTimeout(b,50)}function v(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,o.style.cssText=f,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart)){(!a||a&&l<9)&&v();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?jo(n,ea)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},cs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},cs.prototype.setUneditable=function(){},cs.prototype.needsContentAttribute=!1,Ll(Vl),Ql(Vl);var ps="iter insert remove copy getEditor constructor".split(" ");for(var fs in Oa.prototype)Oa.prototype.hasOwnProperty(fs)&&q(ps,fs)<0&&(Vl.prototype[fs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Oa.prototype[fs]));return Ee(Oa),Vl.inputStyles={textarea:cs,contenteditable:ns},Vl.defineMode=function(e){Vl.defaults.mode||"null"==e||(Vl.defaults.mode=e),qe.apply(this,arguments)},Vl.defineMIME=Ue,Vl.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Vl.defineMIME("text/plain","null"),Vl.defineExtension=function(e,t){Vl.prototype[e]=t},Vl.defineDocExtension=function(e,t){Oa.prototype[e]=t},Vl.fromTextArea=us,ds(Vl),Vl.version="5.65.20",Vl})},2277:function(e,t,n){"use strict";var r=n(5049);e.exports=r.getPrototypeOf||null},2303:function(e,t,n){"use strict";var r=n(9792),o=n(1678),i=n(9818),a=n(3560);e.exports=function(e,t,n){for(var l=o(t),s=a.f,c=i.f,u=0;u<l.length;u++){var d=l[u];r(e,d)||n&&r(n,d)||s(e,d,c(t,d))}}},2334:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=r.Uint8Array,a=r.SyntaxError,l=r.parseInt,s=Math.min,c=/[^\da-f]/i,u=o(c.exec),d=o("".slice);e.exports=function(e,t){var n=e.length;if(n%2!==0)throw new a("String should be an even number of characters");var r=t?s(t.length,n/2):n/2,o=t||new i(r),p=0,f=0;while(f<r){var h=d(e,p,p+=2);if(u(c,h))throw new a("String should only contain hex characters");o[f++]=l(h,16)}return{bytes:o,read:p}}},2341:function(e,t,n){"use strict";var r=n(8965),o=n(7993),i=r.Set,a=r.add;e.exports=function(e){var t=new i;return o(e,function(e){a(t,e)}),t}},2345:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(6934),a=n(5699),l=n(9926),s=n(2334);o.Uint8Array&&r({target:"Uint8Array",proto:!0},{setFromHex:function(e){a(this),i(e),l(this.buffer);var t=s(e,this).read;return{read:t,written:t/2}}})},2351:function(e){"use strict";var t=TypeError;e.exports=function(e){var n=e&&e.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new t("Incorrect `alphabet` option")}},2368:function(e,t,n){"use strict";var r=n(43),o=n(3636),i=n(3342),a=n(8294),l=n(8848),s="Invalid size",c=RangeError,u=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=r(e.has),this.keys=r(e.keys)};p.prototype={getIterator:function(){return l(o(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){o(e);var t=+e.size;if(t!==t)throw new u(s);var n=a(t);if(n<0)throw new c(s);return new p(e,n)}},2370:function(e,t,n){"use strict";var r=n(8072),o=n(9830);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},2371:function(e,t,n){"use strict";var r=n(2106);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2532:function(e,t,n){"use strict";var r=n(6031),o=n(2211),i=n(43),a=n(3636),l=n(8848),s=n(2846),c=n(7716),u=n(9148),d=n(5336),p=TypeError,f=d(function(){[].keys().reduce(function(){},void 0)}),h=!f&&c("reduce",p);r({target:"Iterator",proto:!0,real:!0,forced:f||h},{reduce:function(e){a(this);try{i(e)}catch(d){s(this,"throw",d)}var t=arguments.length<2,n=t?void 0:arguments[1];if(h)return u(h,this,t?[e]:[e,n]);var r=l(this),c=0;if(o(r,function(r){t?(t=!1,n=r):n=e(n,r,c),c++},{IS_RECORD:!0}),t)throw new p("Reduce of empty iterator with no initial value");return n}})},2633:function(e){"use strict";e.exports=function(e,t){var n="function"==typeof Iterator&&Iterator.prototype[e];if(n)try{n.call({next:null},t).next()}catch(r){return!0}}},2634:function(e,t,n){"use strict";var r=n(8286),o=n(8083);e.exports=function(e){return r(o(e))}},2635:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{every:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return!i(t,function(t,r){if(!e(t,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2662:function(e,t,n){"use strict";var r=n(5924);e.exports="NODE"===r},2699:function(e,t,n){"use strict";var r=n(3040),o=n(1624),i=n(38),a=n(1600),l=n(9344),s=l||a||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+o(e))},delete:function(t){return!!e&&e["delete"](t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},2735:function(e,t,n){"use strict";var r,o=n(3636),i=n(544),a=n(5788),l=n(3022),s=n(6540),c=n(3412),u=n(2094),d=">",p="<",f="prototype",h="script",m=u("IE_PROTO"),g=function(){},v=function(e){return p+h+d+e+p+"/"+h+d},b=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},x=function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&r?b(r):x():b(r);var e=a.length;while(e--)delete y[f][a[e]];return y()};l[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=o(e),n=new g,g[f]=null,n[m]=e):n=y(),void 0===t?n:i.f(n,t)}},2770:function(e,t,n){"use strict";var r=n(4944);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},2774:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,o="[object Function]",i=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},a=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},l=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var s=this;if("function"!==typeof s||n.apply(s)!==o)throw new TypeError(t+s);for(var c,u=a(arguments,1),d=function(){if(this instanceof c){var t=s.apply(this,i(u,arguments));return Object(t)===t?t:this}return s.apply(e,i(u,arguments))},p=r(0,s.length-u.length),f=[],h=0;h<p;h++)f[h]="$"+h;if(c=Function("binder","return function ("+l(f,",")+"){ return binder.apply(this,arguments); }")(d),s.prototype){var m=function(){};m.prototype=s.prototype,c.prototype=new m,m.prototype=null}return c}},2815:function(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},2846:function(e,t,n){"use strict";var r=n(3342),o=n(3636),i=n(227);e.exports=function(e,t,n){var a,l;o(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw n;return n}a=r(a,e)}catch(s){l=!0,a=s}if("throw"===t)throw n;if(l)throw a;return o(a),n}},2925:function(e,t,n){"use strict";var r=n(6031),o=n(5336),i=n(4407),a=n(9441),l=!a("intersection",function(e){return 2===e.size&&e.has(1)&&e.has(2)})||o(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});r({target:"Set",proto:!0,real:!0,forced:l},{intersection:i})},2940:function(e,t,n){"use strict";var r=n(9812);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},3022:function(e){"use strict";e.exports={}},3040:function(e){"use strict";e.exports=TypeError},3148:function(e,t,n){"use strict";var r=n(8115),o=n(5336),i=n(3412);e.exports=!r&&!o(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},3199:function(e,t,n){"use strict";n.d(t,{un:function(){return C},lM:function(){return o},OE:function(){return Ee},ps:function(){return Te},Ns:function(){return de},Pi:function(){return ie},s9:function(){return ke},kI:function(){return r},lh:function(){return A},Fx:function(){return re},QQ:function(){return we},zj:function(){return h},TO:function(){return V},sW:function(){return x},Z0:function(){return q},OW:function(){return v},O4:function(){return p},Nh:function(){return M},yD:function(){return j},J3:function(){return m},PH:function(){return pe},IS:function(){return Ce},Lh:function(){return W},JL:function(){return he},GY:function(){return le},Rm:function(){return Y},T_:function(){return te},EK:function(){return fe},nQ:function(){return w},C1:function(){return Se},PO:function(){return y},Uk:function(){return X},Nk:function(){return f},Vx:function(){return H},fg:function(){return b},xC:function(){return B},Yl:function(){return d},Yx:function(){return xe},nb:function(){return ve},JT:function(){return ge},XX:function(){return me},y$:function(){return Q}});const r="4.2.12",o={coreVersion:r,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var i=n(4061),a=n(1845),l=n.n(a),s=n(3333);const c={size:"",version:1,zIndex:999,resizeInterval:500},u={theme:""};function d(e){const t=e&&"default"!==e?e:"light";if(u.theme=t,"undefined"!==typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return o}function p(){return u.theme}function f(e){return e&&(e.zIndex&&s.Ay.setCurrent(e.zIndex),e.theme&&d(e.theme),l().merge(c,e)),o}function h(e,t){return arguments.length?l().get(c,e,t):c}const m={},g={};function v(e){return l().isArray(e)?e:e?[e]:[]}function b(e){return e&&Object.assign(g,e),o}function x(e){return arguments.length?l().get(g,e):g}function y(e){const t=x(e);return w(t,e)}function w(e,t){return l().isFunction(e)?(0,i.h)("span",{},v(e({name:t}))):(0,i.h)("i",{class:e})}const C={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},k=l().browse(),S={" ":"Spacebar",Apps:C.CONTEXT_MENU,Del:C.DELETE,Up:C.ARROW_UP,Down:C.ARROW_DOWN,Left:C.ARROW_LEFT,Right:C.ARROW_RIGHT},T=k.firefox?"DOMMouseScroll":"mousewheel",E=[];function O(e){const t=e.type===T;E.forEach(({type:n,cb:r})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&r(e)})}class D{constructor(e,t,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,t),l().objectEach(n,(e,t)=>{if(l().isFunction(e)){let n=null,r=!1;Object.defineProperty(this,t,{get(){return r||(r=!0,n=e()),n}})}else this[t]=e})}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const A=(e,t,n)=>(e instanceof D&&(e=e.$event),new D(e,t,n)),M={on(e,t,n){E.push({comp:e,type:t,cb:n})},off(e,t){l().remove(E,n=>n.comp===e&&n.type===t)},hasKey(e,t){const{key:n}=e;return t=t.toLowerCase(),!!n&&(t===n.toLowerCase()||!(!S[n]||S[n].toLowerCase()!==t))}};let I;k.isDoc&&(k.msie||(window.addEventListener("copy",O,!1),window.addEventListener("cut",O,!1),window.addEventListener("paste",O,!1)),document.addEventListener("keydown",O,!1),document.addEventListener("contextmenu",O,!1),window.addEventListener("mousedown",O,!1),window.addEventListener("blur",O,!1),window.addEventListener("resize",O,!1),window.addEventListener(T,l().throttle(O,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const N=[],R=500;function F(){N.length&&(N.forEach(e=>{e.tarList.forEach(t=>{const{target:n,width:r,heighe:o}=t,i=n.clientWidth,a=n.clientHeight,l=i&&r!==i,s=a&&o!==a;(l||s)&&(t.width=i,t.heighe=a,setTimeout(e.callback))})}),_())}function _(){clearTimeout(I),I=setTimeout(F,c.resizeInterval||R)}class P{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some(t=>t.target===e)||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),N.length||_(),N.some(e=>e===this)||N.push(this)}}unobserve(e){l().remove(N,t=>t.tarList.some(t=>t.target===e))}disconnect(){l().remove(N,e=>e===this)}}const j={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new P(e)}},L=(0,i.reactive)({language:"",langMaps:{}});let $=!1,z={};function V(e,t){const{langMaps:n,language:r}=L,{i18n:i}=c;if(i)return`${i(e,t)||""}`;if($||(n[r]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${o.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),$=!0),!t&&z[e])return z[e];const a=l().toFormatString(l().get(n[r],e,e),t);return t||(z[e]=a),a}function B(e){const{language:t}=L,n=e||"zh-CN";return t!==n&&(L.language=n,z={}),o}function H(e,t){return L.langMaps[e]=Object.assign({},t),o}function W(e){const{langMaps:t}=L;return!!t[e]}function q(){const{language:e}=L;return e}function U(e,t){return function(n,r){const o=`[vxe ${t||""}] ${V(n,r)}`;return console[e](o),o}}const G="4.2.12",Y={create:U,warn:U("warn",`v${G}`),err:U("error",`v${G}`)},K={},X={mixin(e){return l().each(e,(e,t)=>X.add(t,e)),X},get(e){return K[e]||null},add(e,t){if(e&&t){const n=K[e];n?(l().each(t,(t,r)=>{l().eqNull(n[r])||n[r]===t||Y.warn("vxe.error.coverProp",[`Renderer.${e}`,r])}),Object.assign(n,t)):K[e]=t}return X},forEach(e){return l().objectEach(K,e),X},delete(e){return delete K[e],X}};class Z{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e],r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}var J=Z;const Q=new J;Object.assign(Q,{_name:"Validators"});class ee{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),t={menuMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const te=new ee;Object.assign(te,{_name:"Menus"});class ne{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),t={cellFormatMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const re=new ne;Object.assign(re,{_name:"Formats"});class oe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),t={commandMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const ie=new oe;Object.assign(ie,{_name:"Commands"});const ae={},le={mixin(e){return l().each(e,(e,t)=>{le.add(t,e)}),le},get(e){return ae[e]||[]},add(e,t){l().isFunction(t)&&(t={tableInterceptorMethod:t});const n=t.tableInterceptorMethod;if(n){let t=ae[e];t||(t=ae[e]=[]),t.indexOf(n)>-1&&Y.warn("vxe.error.coverProp",["Interceptor",e]),t.push(n)}return le},delete(e,t){const n=ae[e];if(n){l().isFunction(t)&&(t={tableInterceptorMethod:t});const r=t?t.tableInterceptorMethod:null;r?l().remove(n,e=>e===r):delete ae[e]}}};let se;const ce={text:"",html:""};function ue(e){if(!se){se=document.createElement("textarea"),se.id="$VxeCopy";const e=se.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(se)}se.value=e}const de={getStore(){return ce},setStore(e){Object.assign(ce,e||{})},copy(e){let t=!1;try{const n=l().toValueString(e);ue(n),se.select(),se.setSelectionRange(0,se.value.length),t=document.execCommand("copy"),se.blur(),ce.text=n,ce.html=""}catch(n){}return t},getText(){return ce.text||""}};function pe(e,t){let n=!0,r=!1;const o=t||c.permissionMethod;if(e&&o){n=!1,r=!0;let t=!1,i=!1;const a=String(e).split("|");for(let e=0;e<a.length;e++){const s=a[e];let c=!0,u=!1;const d=o({code:s});if(l().isBoolean(d)?c=d:d&&(c=!!d.visible,u=!!d.disabled),u||i||(i=!0,r=u),c&&!t&&(t=!0,n=c),t&&i)break}}const i={code:e,visible:n,disabled:r};return i}const fe={getCheckInfo(e){return pe(e)},checkVisible(e){const t=pe(e);return t.visible},checkDisable(e){const t=pe(e);return t.disabled}},he=new J;function me(e){const t=(0,i.inject)("xeSizeInfo",null),n=(0,i.computed)(()=>e.size||(t?t.value:null));return(0,i.provide)("xeSizeInfo",n),{computeSize:n}}function ge(e){const t=(0,i.computed)(()=>pe(e.permissionCode,e.permissionMethod));return{computePermissionInfo:t}}const ve={useSize:me,usePermission:ge},be=[];function xe(e,t){return e&&e.install&&-1===be.indexOf(e)&&(e.install(Ee,t),be.push(e)),Ee}const ye={};function we(e){return ye[e]||null}function Ce(e){return!!ye[e]}function ke(e){e&&e.name&&(ye[e.name]=e,ye[l().kebabCase(e.name)]=e)}function Se(){return(0,i.createCommentVNode)()}function Te(e,t,n){if(e){const r=`${e}`.match(/(\d+).(\d+).(\d+)/);if(r){const e=l().toNumber(r[1]);if(n){const o=l().toNumber(r[2]);return e>=t&&o>=n}return e>=t}}return!1}const Ee=Object.assign(o,{renderEmptyElement:Se,setTheme:d,getTheme:p,setConfig:f,getConfig:h,setIcon:b,getIcon:x,renderGlobalIcon:y,renderCustomIcon:w,setLanguage:B,hasLanguage:W,getLanguage:q,setI18n:H,getI18n:V,globalEvents:M,GLOBAL_EVENT_KEYS:C,createEvent:A,globalResize:j,renderer:X,validators:Q,menus:te,formats:re,commands:ie,interceptor:le,clipboard:de,log:Y,permission:fe,globalStore:m,hooks:he,component:ke,getComponent:we,hasComponent:Ce,useFns:ve,getSlotVNs:v,checkVersion:Te,use:xe});d()},3275:function(e){"use strict";e.exports=ReferenceError},3333:function(e,t,n){"use strict";var r=null,o=null,i=null,a="z-index-manage",l=null,s="z-index-style",c="m",u="s",d={m:1e3,s:1e3};function p(){return r||"undefined"!==typeof document&&(r=document),r}function f(){return r&&!o&&(o=r.body||r.getElementsByTagName("body")[0]),o}function h(){var e=0,t=p();if(t){var n=f();if(n)for(var r=n.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o];if(i&&i.style&&1===i.nodeType){var a=i.style.zIndex;a&&/^\d+$/.test(a)&&(e=Math.max(e,Number(a)))}}}return e}function m(){if(!l){var e=p();e&&(l=e.getElementById(s),l||(l=e.createElement("style"),l.id=s,e.getElementsByTagName("head")[0].appendChild(l)))}return l}function g(){var e=m();if(e){var t="--dom-",n="-z-index";e.innerHTML=":root{"+t+"main"+n+":"+w()+";"+t+"sub"+n+":"+T()+"}"}}function v(){if(!i){var e=p();if(e&&(i=e.getElementById(a),!i)){var t=f();t&&(i=e.createElement("div"),i.id=a,i.style.display="none",t.appendChild(i),x(d.m),k(d.s))}}return i}function b(e){return function(t){if(t){t=Number(t),d[e]=t;var n=v();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return g(),d[e]}}var x=b(c);function y(e,t){return function(n){var r,o=v();if(o){var i=o.dataset?o.dataset[e]:o.getAttribute("data-"+e);i&&(r=Number(i))}return r||(r=d[e]),n?Number(n)<r?t():n:r}}var w=y(c,C);function C(){return x(w()+1)}var k=b(u),S=y(u,E);function T(){return w()+S()}function E(){return k(S()+1),T()}var O={setCurrent:x,getCurrent:w,getNext:C,setSubCurrent:k,getSubCurrent:T,getSubNext:E,getMax:h};g(),t.Ay=O},3342:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},3359:function(e,t,n){"use strict";var r=n(4875),o=n(4422),i=n(5543),a=r.DataView;e.exports=function(e){if(!o||0!==i(e))return!1;try{return new a(e),!1}catch(t){return!0}}},3412:function(e,t,n){"use strict";var r=n(4875),o=n(9241),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},3435:function(e){"use strict";e.exports=Math.abs},3515:function(e,t,n){"use strict";var r=n(9283),o=n(8965).add,i=n(2341),a=n(2368),l=n(306);e.exports=function(e){var t=r(this),n=a(e).getIterator(),s=i(t);return l(n,function(e){o(s,e)}),s}},3560:function(e,t,n){"use strict";var r=n(8115),o=n(3148),i=n(4849),a=n(3636),l=n(2370),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?i?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=l(t),a(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},3561:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(588),a=n(5699),l=o.Uint8Array,s=!l||!l.prototype.setFromBase64||!function(){var e=new l([255,255,255,255,255]);try{return void e.setFromBase64("",null)}catch(t){}try{return void e.setFromBase64("a")}catch(t){}try{e.setFromBase64("MjYyZg===")}catch(t){return 50===e[0]&&54===e[1]&&50===e[2]&&255===e[3]&&255===e[4]}}();l&&r({target:"Uint8Array",proto:!0,forced:s},{setFromBase64:function(e){a(this);var t=i(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:t.read,written:t.written}}})},3599:function(e){"use strict";e.exports=Function.prototype.call},3636:function(e,t,n){"use strict";var r=n(9241),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not an object")}},3745:function(e,t,n){"use strict";var r=n(419),o=n(8294),i=RangeError;e.exports=function(e,t,n,a){var l=r(e),s=o(n),c=s<0?l+s:s;if(c>=l||c<0)throw new i("Incorrect index");for(var u=new t(l),d=0;d<l;d++)u[d]=d===c?a:e[d];return u}},3749:function(e){"use strict";e.exports=Math.max},3871:function(e,t,n){n(4645),n(4564),n(324),n(5765),n(4329),n(7578),n(9858),n(7875),n(2925),n(488),n(3981),n(4686),n(8869),n(393),function(t,r){e.exports=r(n(4061))}("undefined"!==typeof self&&self,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=108)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return b}),n.d(t,"q",function(){return x}),n.d(t,"r",function(){return y}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return C}),n.d(t,"u",function(){return k}),n.d(t,"v",function(){return S});var r="bold",o="clear",i="code",a="fullscreen",l="h1",s="h2",c="h3",u="h4",d="h5",p="h6",f="hr",h="image",m="italic",g="link",v="ol",b="quote",x="redo",y="strikethrough",w="sync-scroll",C="table",k="ul",S="undo"},function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u});var r=Object.prototype.toString,o=function(e){return"[object Object]"===r.call(e)};function i(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function a(e){for(var t={},n=0;n<e.length;n++)e[n]&&i(t,e[n]);return t}function l(e,t){t.keys().forEach(function(n){e[n]=t(n)})}var s="undefined"!==typeof window;function c(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}function u(e){var t,n,r=e.selected,o=e.InsertGetter,i=e.selectedGetter,a=void 0===i?function(e){return e}:i,l=e.ignoreEmptyLine,s=void 0===l||l;return r?(n=a(r),t=o(r,1),-1!==r.indexOf("\n")&&(t=r.split("\n").map(function(e,t){var n=!e;return s&&n?"":o(e,t+1).replace(a(null),"")}).join("\n"),n=t)):(t=o(null,1),n=a(r)),{insertContent:t,newSelected:n}}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r="data-v-md-line",o="data-v-md-heading",i="data-v-md-anchor"},function(e,t,n){"use strict";t["a"]={PREVIEW:"preview",EDITABLE:"editable",EDIT:"edit"}},function(e,t,n){"use strict";function r(e){var t=0;return e===window?t=e.pageYOffset:e&&(t=e.scrollTop),t}function o(e,t){e===window?window.scrollTo(window.pageYOffset,t):e&&(e.scrollTop=t)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(6),o=n(11),i=n.n(o),a={svg:[],altGlyph:[],altGlyphDef:[],altGlyphItem:[],animate:[],animateColor:[],animateMotion:[],animateTransform:[],circle:[],clipPath:[],"color-profile":[],cursor:[],"definition-src":[],defs:[],desc:[],ellipse:[],feBlend:[],feColorMatrix:[],feComponentTransfer:[],feComposite:[],feConvolveMatrix:[],feDiffuseLighting:[],feDisplacementMap:[],feDistantLight:[],feFlood:[],feFuncA:[],feFuncB:[],feFuncG:[],feFuncR:[],feGaussianBlur:[],feImage:[],feMerge:[],feMergeNode:[],feMorphology:[],feOffset:[],fePointLight:[],feSpecularLighting:[],feSpotLight:[],feTile:[],feTurbulence:[],filter:[],font:[],foreignObject:[],g:[],glyph:[],glyphRef:[],hkern:[],image:[],line:[],linearGradient:[],marker:[],mask:[],metadata:[],"missing-glyph":[],mpath:[],path:[],pattern:[],polygon:[],polyline:[],radialGradient:[],rect:[],set:[],stop:[],style:[],switch:[],symbol:[],text:[],textPath:[],title:[],tref:[],tspan:[],use:[],view:[],vkern:[]},l=["width","height","x","y","rx","ry","cx","cy","r","viewbox","points","fill","stroke","stroke-width","opacity","transform","d","text-anchor","font-family","font-size","font-weight","filter","href","xlink:href"],s={math:[],annotation:[],semantics:[],mtext:[],mn:[],mo:[],mi:[],mspace:[],mover:[],munder:[],munderover:[],msup:[],msub:[],msubsup:[],mfrac:[],mroot:[],msqrt:[],mtable:[],mtr:[],mtd:[],mlabeledtr:[],mrow:[],menclose:[],mstyle:[],mpadded:[],mphantom:[],mglyph:[]},c=["mathcolor","mathbackground","mathsize","mathvariant","mathfamily","mathweight","mathstyle","mathdisplay"],u=["style","align","class","id"],d=["data-"],p={input:["type"],ol:["reversed","start","type"],button:["type"],summary:[]},f={whiteList:Object(r["a"])({},i.a.getDefaultWhiteList(),p,a,s),onIgnoreTagAttr:function(e,t,n){if(a[e]&&l.includes(t)||s[e]&&c.includes(t)||u.some(function(e){return e===t})||d.some(function(e){return t.startsWith(e)}))return t+'="'+i.a.escapeAttrValue(n)+'"'}},h=new i.a.FilterXSS(f);h.extend=function(e){var t=h.options;Object.keys(e).forEach(function(n){if("whiteList"===n)Object.keys(e.whiteList).forEach(function(n){var r=e.whiteList[n],o=t.whiteList;o[n]?o[n]=[].concat(o[n],r):o[n]=r});else if("onIgnoreTagAttr"===n){var r=t[n];t[n]=function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=r.call.apply(r,[this].concat(i)),s=(t=e[n]).call.apply(t,[this].concat(i));return l||s}}else t[n]=e[n]})};t["a"]=h},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(5);function o(e){var t,n=e.currentScrollTop,r=e.scrollToTop,o=e.scrollFn,i=e.percent,a=void 0===i?10:i,l=e.onScrollEnd,s=r>n?"down":"up",c=a/100*(r-n),u=function e(){n+=c,"down"===s&&n>=r||"up"===s&&n<=r?(o(r),window.cancelAnimationFrame(t),l&&window.requestAnimationFrame(l)):(o(n),window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}function i(e){var t=e.scrollTarget,n=e.scrollToTop,i=e.percent,a=void 0===i?10:i,l=e.onScrollEnd,s=Object(r["a"])(t);o({currentScrollTop:s,scrollToTop:n,scrollFn:function(e){return Object(r["b"])(t,e)},percent:a,onScrollEnd:l})}},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"v-md-editor-preview",style:{tabSize:e.tabSize,"-moz-tab-size":e.tabSize,"-o-tab-size":e.tabSize},onClick:t[1]||(t[1]=function(){return e.handlePreviewClick.apply(e,arguments)})},[Object(r["createVNode"])("div",{class:[e.previewClass],innerHTML:e.html},null,10,["innerHTML"])],4)}var i=n(7),a=n(13),l=function(){function e(){this.lang=new a["a"]}var t=e.prototype;return t.defaultMarkdownLoader=function(e){return e},t.use=function(e,t){return"function"===typeof e?e(this,t):e.install(this,t),this},t.theme=function(e){this.themeConfig=e},t.extendMarkdown=function(e){if(!this.themeConfig)return console.error("Please use theme before using plugins");var t=this.themeConfig.markdownParser;e(t)},t.parse=function(e){var t,n=this.themeConfig.markdownParser,r=(null==n||null==(t=n.render)?void 0:t.bind(n))||this.defaultMarkdownLoader;return"function"===typeof r&&r!==this.defaultMarkdownLoader||console.error("Please configure your markdown parser"),r(e)},e}(),s=n(16),c={name:"v-md-preview",mixins:[s["a"]],props:{text:{type:String,default:""},theme:Object,beforeChange:Function},emits:["change"],data:function(){return{html:""}},watch:{text:function(){this.handleTextChange()},langConfig:function(){this.handleTextChange()}},computed:{vMdParser:function(){return this.$options.vMdParser},previewClass:function(){return this.vMdParser.themeConfig.previewClass},langConfig:function(){return this.vMdParser.lang.config}},created:function(){this.handleTextChange()},methods:{handleTextChange:function(){var e=this,t=function(t){e.html=i["a"].process(e.$options.vMdParser.parse(t)),e.$emit("change",t,e.html)};this.beforeChange?this.beforeChange(this.text,t):t(this.text)}}},u=new l;u.lang.config=Object(r["reactive"])(u.lang.config),c.vMdParser=new l;var d=c;d.render=o;var p=d,f=(n(18),"2.3.18"),h=function(e){e.component(p.name,p)};p.version=f,p.install=h,p.xss=i["a"],p.use=function(e,t){return"function"===typeof e?e(p,t):e.install(p,t),p};t["default"]=p},function(e,t,n){e.exports=n(37)},function(e,t,n){var r=n(19),o=n(22),i=n(26);function a(e,t){var n=new i(t);return n.process(e)}for(var l in t=e.exports=a,t.filterXSS=a,t.FilterXSS=i,r)t[l]=r[l];for(var l in o)t[l]=o[l];function s(){return"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}"undefined"!==typeof window&&(window.filterXSS=e.exports),s()&&(self.filterXSS=e.exports)},function(e,t,n){"use strict";function r(e,t){var n=t.accept,r=Object.keys(e).filter(function(t){var r=e[t],o=r.type,i=r.name,a=i.indexOf(".")>-1?"."+i.split(".").pop():"",l=o.replace(/\/.*$/,"");return n.split(",").map(function(e){return e.trim()}).filter(function(e){return e}).some(function(e){return/\..+$/.test(e)?a===e:/\/\*$/.test(e)?l===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&o===e})});return r.map(function(t){return e[t]})}function o(e){var t=[];return Object.keys(e.items).forEach(function(n){var r=e.items[n];if("file"===r.kind){var o=r.getAsFile();o&&t.push(o)}}),t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(2),o=Object.prototype.hasOwnProperty;function i(e,t,n){var i=t[n];void 0!==i&&null!==i&&(o.call(e,n)&&Object(r["f"])(i)?e[n]=a(Object(e[n]),t[n]):e[n]=i)}function a(e,t){return Object.keys(t).forEach(function(n){i(e,t,n)}),e}var l=function(){function e(e){void 0===e&&(e={}),this.config={lang:"zh-CN",langConfig:{"zh-CN":{}}},this.options=e}var t=e.prototype;return t.use=function(e,t){var n;this.config.lang=e,this.add((n={},n[e]=t,n)),this.options.afterUse&&this.options.afterUse(e,t)},t.add=function(e){void 0===e&&(e={}),a(this.config.langConfig,e)},e}()},function(e,t,n){var r=n(20),o=n(24);function i(e,t){var n=new o(t);return n.process(e)}for(var a in t=e.exports=i,t.FilterCSS=o,r)t[a]=r[a];"undefined"!==typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}}},function(e,t,n){"use strict";var r=n(5),o=n(8),i=n(3);t["a"]={props:{tabSize:{type:Number,default:2},scrollContainer:{type:Function,default:function(){return window}},top:{type:Number,default:0}},emits:["image-click"],methods:{handlePreviewClick:function(e){var t=e.target;if("IMG"!==t.tagName){var n=t.getAttribute(i["a"]),r=this.$el.querySelector("["+i["b"]+'="'+n+'"]');r&&this.scrollToTarget({target:r})}else{var o=t.getAttribute("src");if(!o)return;var a=Array.from(this.$el.querySelectorAll("img")),l=a.map(function(e){return e.getAttribute("src")}).filter(function(e){return e}),s=a.indexOf(t);this.$emit("image-click",l,s)}},getOffsetTop:function(e,t){var n=e.getBoundingClientRect();return t===window||t===document.documentElement?n.top:n.top-t.getBoundingClientRect().top},scrollToTarget:function(e){var t=e.target,n=e.scrollContainer,i=void 0===n?this.scrollContainer():n,a=e.top,l=void 0===a?this.top:a,s=e.onScrollEnd,c=this.getOffsetTop(t,i),u=Object(r["a"])(i)+c-l;Object(o["a"])({scrollTarget:i,scrollToTop:u,onScrollEnd:s})},scrollToLine:function(e){var t=e.lineIndex,n=e.onScrollEnd;if(t){var r=this.$el.querySelector("["+i["c"]+'="'+t+'"]');r&&this.scrollToTarget({target:r,onScrollEnd:n})}}}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function l(e){r(a,o,i,l,s,"next",e)}function s(e){r(a,o,i,l,s,"throw",e)}l(void 0)})}}n.d(t,"a",function(){return o})},function(e,t,n){},function(e,t,n){var r=n(14).FilterCSS,o=n(14).getDefaultWhiteList,i=n(15);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var l=new r;function s(e,t,n){}function c(e,t,n){}function u(e,t,n){}function d(e,t,n){}function p(e){return e.replace(h,"&lt;").replace(m,"&gt;")}function f(e,t,n,r){if(n=A(n),"href"===t||"src"===t){if(n=i.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(w.lastIndex=0,w.test(n))return""}else if("style"===t){if(C.lastIndex=0,C.test(n))return"";if(k.lastIndex=0,k.test(n)&&(w.lastIndex=0,w.test(n)))return"";!1!==r&&(r=r||l,n=r.process(n))}return n=M(n),n}var h=/</g,m=/>/g,g=/"/g,v=/&quot;/g,b=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,y=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k=/u\s*r\s*l\s*\(.*/gi;function S(e){return e.replace(g,"&quot;")}function T(e){return e.replace(v,'"')}function E(e){return e.replace(b,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function O(e){return e.replace(x,":").replace(y," ")}function D(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function A(e){return e=T(e),e=E(e),e=O(e),e=D(e),e}function M(e){return e=S(e),e=p(e),e}function I(){return""}function N(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e);function r(t){return!!n||-1!==i.indexOf(e,t)}var o=[],a=!1;return{onIgnoreTag:function(e,n,i){if(r(e)){if(i.isClosing){var l="[/removed]",s=i.position+l.length;return o.push([!1!==a?a:i.position,s]),a=!1,l}return a||(a=i.position),"[removed]"}return t(e,n,i)},remove:function(e){var t="",n=0;return i.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n),t}}}function R(e){return e.replace(F,"")}var F=/<!--[\s\S]*?-->/g;function _(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}t.whiteList=a(),t.getDefaultWhiteList=a,t.onTag=s,t.onIgnoreTag=c,t.onTagAttr=u,t.onIgnoreTagAttr=d,t.safeAttrValue=f,t.escapeHtml=p,t.escapeQuote=S,t.unescapeQuote=T,t.escapeHtmlEntities=E,t.escapeDangerHtml5Entities=O,t.clearNonPrintableCharacter=D,t.friendlyAttrValue=A,t.escapeAttrValue=M,t.onIgnoreTagStripAll=I,t.StripTagBody=N,t.stripCommentTag=R,t.stripBlankChar=_,t.cssFilter=l,t.getDefaultCSSWhiteList=o},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(e,t,n){}function o(e,t,n){}var i=/javascript\s*\:/gim;function a(e,t){return i.test(t)?"":t}t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=r,t.onIgnoreAttr=o,t.safeAttrValue=a},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(15);function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return n=r.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}function a(e,t,n){"use strict";var r="",a=0,l=!1,s=!1,c=0,u=e.length,d="",p="";e:for(c=0;c<u;c++){var f=e.charAt(c);if(!1===l){if("<"===f){l=c;continue}}else if(!1===s){if("<"===f){r+=n(e.slice(a,c)),l=c,a=c;continue}if(">"===f){r+=n(e.slice(a,l)),p=e.slice(l,c+1),d=o(p),r+=t(l,r.length,d,p,i(p)),a=c+1,l=!1;continue}if('"'===f||"'"===f){var h=1,m=e.charAt(c-h);while(""===m.trim()||"="===m){if("="===m){s=f;continue e}m=e.charAt(c-++h)}}}else if(f===s){s=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r}var l=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){"use strict";var n=0,o=[],i=!1,a=e.length;function s(e,n){if(e=r.trim(e),e=e.replace(l,"").toLowerCase(),!(e.length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var d=0;d<a;d++){var f,h,m=e.charAt(d);if(!1!==i||"="!==m)if(!1===i||d!==n||'"'!==m&&"'"!==m||"="!==e.charAt(d-1))if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(h=c(e,d),-1===h){f=r.trim(e.slice(n,d)),s(f),i=!1,n=d+1;continue}d=h-1;continue}if(h=u(e,d-1),-1===h){f=r.trim(e.slice(n,d)),f=p(f),s(i,f),i=!1,n=d+1;continue}}else;else{if(h=e.indexOf(m,d+1),-1===h)break;f=r.trim(e.slice(n+1,h)),s(i,f),i=!1,d=h,n=d+1}else i=e.slice(n,d),n=d+1}return n<e.length&&(!1===i?s(e.slice(n)):s(i,p(r.trim(e.slice(n))))),r.trim(o.join(" "))}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function d(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function p(e){return d(e)?e.substr(1,e.length-2):e}t.parseTag=a,t.parseAttr=s},function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r),i=n(17),a=n(1),l=n(12);t["default"]={name:a["l"],icon:"v-md-icon-img",title:function(e){return e.langConfig.image.toolbar},menus:[{name:"image-link",text:function(e){return e.langConfig.imageLink.toolbar},action:function(e,t){null!=t&&t.insertWithSize?e.execCommand(a["l"],{width:"auto",height:"auto"}):e.execCommand(a["l"])}},{name:"upload-image",text:function(e){return e.langConfig.uploadImage.toolbar},action:function(e){e.uploadConfig=e.uploadImgConfig,e.$nextTick(Object(i["a"])(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.uploadFile.upload();case 2:n=t.sent,r=Object(l["a"])(n.target.files,e.uploadImgConfig),e.emitUploadImage(n,r);case 5:case"end":return t.stop()}},t)})))}}]}},function(e,t,n){var r=n(20),o=n(25);n(21);function i(e){return void 0===e||null===e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function l(e){e=a(e||{}),e.whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}l.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,a=n.onAttr,l=n.onIgnoreAttr,s=n.safeAttrValue,c=o(e,function(e,t,n,o,c){var u=r[n],d=!1;if(!0===u?d=u:"function"===typeof u?d=u(o):u instanceof RegExp&&(d=u.test(o)),!0!==d&&(d=!1),o=s(n,o),o){var p={position:t,sourcePosition:e,source:c,isWhite:d};if(d){var f=a(n,o,p);return i(f)?n+":"+o:f}f=l(n,o,p);return i(f)?void 0:f}});return c},e.exports=l},function(e,t,n){var r=n(21);function o(e,t){e=r.trimRight(e),";"!==e[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,l="";function s(){if(!o){var n=r.trim(e.slice(i,a)),s=n.indexOf(":");if(-1!==s){var c=r.trim(n.slice(0,s)),u=r.trim(n.slice(s+1));if(c){var d=t(i,l.length,c,u,n);d&&(l+=d+"; ")}}}i=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;a=u+1,i=a+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||s():"\n"===c&&s()}return r.trim(l)}e.exports=o},function(e,t,n){var r=n(14).FilterCSS,o=n(19),i=n(22),a=i.parseTag,l=i.parseAttr,s=n(15);function c(e){return void 0===e||null===e}function u(e){var t=s.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=s.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=s.trim(e.slice(0,-1))),{html:e,closing:n}}function d(e){var t={};for(var n in e)t[n]=e[n];return t}function p(e){e=d(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}p.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,i=n.onTag,d=n.onIgnoreTag,p=n.onTagAttr,f=n.onIgnoreTagAttr,h=n.safeAttrValue,m=n.escapeHtml,g=t.cssFilter;n.stripBlankChar&&(e=o.stripBlankChar(e)),n.allowCommentTag||(e=o.stripCommentTag(e));var v=!1;if(n.stripIgnoreTagBody){v=o.StripTagBody(n.stripIgnoreTagBody,d);d=v.onIgnoreTag}var b=a(e,function(e,t,n,o,a){var v={sourcePosition:e,position:t,isClosing:a,isWhite:r.hasOwnProperty(n)},b=i(n,o,v);if(!c(b))return b;if(v.isWhite){if(v.isClosing)return"</"+n+">";var x=u(o),y=r[n],w=l(x.html,function(e,t){var r=-1!==s.indexOf(y,e),o=p(n,e,t,r);if(!c(o))return o;if(r)return t=h(n,e,t,g),t?e+'="'+t+'"':e;o=f(n,e,t,r);return c(o)?void 0:o});o="<"+n;return w&&(o+=" "+w),x.closing&&(o+=" /"),o+=">",o}b=d(n,o,v);return c(b)?m(o):b},m);return v&&(b=v.remove(b)),b},e.exports=p},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),i=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),a=2;function l(e,t){var n=!1,r=!1,o=0;function l(){n&&(n=!1,e()),r&&c()}function s(){i(l)}function c(){var e=Date.now();if(n){if(e-o<a)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}var s=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=l(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=c.some(function(e){return!!~n.indexOf(e)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||o},h=S(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){var r=e["border-"+n+"-width"];return t+m(r)},0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e["padding-"+i];n[i]=m(a)}return n}function b(e){var t=e.getBBox();return S(0,0,t.width,t.height)}function x(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),o=v(r),i=o.left+o.right,a=o.top+o.bottom,l=m(r.width),s=m(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=g(r,"left","right")+i),Math.round(s+a)!==n&&(s-=g(r,"top","bottom")+a)),!w(e)){var c=Math.round(l+i)-t,u=Math.round(s+a)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(s-=u)}return S(o.left,o.top,l,s)}var y=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox}}();function w(e){return e===f(e).document.documentElement}function C(e){return r?y(e)?b(e):x(e):h}function k(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return p(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var T=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=C(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E=function(){function e(e,t){var n=k(t);p(this,{target:e,contentRect:n})}return e}(),O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new E(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),D="undefined"!==typeof WeakMap?new WeakMap:new n,A=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=d.getInstance(),r=new O(t,n,this);D.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){A.prototype[e]=function(){var t;return(t=D.get(this))[e].apply(t,arguments)}});var M=function(){return"undefined"!==typeof o.ResizeObserver?o.ResizeObserver:A}();t["a"]=M}).call(this,n(86))},function(e,t,n){"use strict";n.d(t,"a",function(){return Ze});var r=n(13),o={undo:{toolbar:"撤销"},redo:{toolbar:"重做"},clear:{toolbar:"清空"},h:{toolbar:"标题"},h1:{toolbar:"一级标题",placeholder:"一级标题"},h2:{toolbar:"二级标题",placeholder:"二级标题"},h3:{toolbar:"三级标题",placeholder:"三级标题"},h4:{toolbar:"四级标题",placeholder:"四级标题"},h5:{toolbar:"五级标题",placeholder:"五级标题"},h6:{toolbar:"六级标题",placeholder:"六级标题"},bold:{toolbar:"粗体",placeholder:"粗体"},italic:{toolbar:"斜体",placeholder:"斜体"},strikethrough:{toolbar:"删除线",placeholder:"删除线"},quote:{toolbar:"插入引用",placeholder:"引用"},ul:{toolbar:"无序列表",placeholder:"无序列表"},ol:{toolbar:"有序列表",placeholder:"有序列表"},table:{toolbar:"表格"},hr:{toolbar:"插入分割线"},link:{toolbar:"插入链接",descPlaceholder:"链接"},image:{toolbar:"插入图片"},imageLink:{toolbar:"添加图片链接"},uploadImage:{toolbar:"上传本地图片"},code:{toolbar:"插入代码块"},save:{toolbar:"保存"},preview:{enabled:"开启预览",disabled:"关闭预览"},toc:{title:"目录导航",enabled:"开启目录导航",disabled:"关闭目录导航"},syncScroll:{enabled:"开启同步滚动",disabled:"关闭同步滚动"},fullscreen:{enabled:"全屏（按ESC还原）",disabled:"退出全屏"}},i=n(0),a=n(2),l={};function s(e,t,n){t?e[t]?console.error("The command name is already in use: "+t):e[t]=n:console.error("Command name is required")}function c(e){e.commands={},e.command=function(t,n){s(e.commands,t,n)},Object.keys(l).forEach(function(t){var n=l[t],r=n.name,o=n.default;e.command(r,o)})}Object(a["c"])(l,n(38));var u=n(6),d={};function p(e,t,n){t?e[t]=Object(u["a"])({},n):console.error("Toolbar name is required")}function f(e){e.toolbars={},e.toolbar=function(t,n){p(e.toolbars,t,n)},Object.keys(d).forEach(function(t){var n=d[t],r=n.default;e.toolbar(r.name,r)})}Object(a["c"])(d,n(61));n(81);var h=n(9),m={class:"v-md-editor__left-area-body"},g={class:"v-md-editor__right-area"},v={class:"v-md-editor__toolbar",ref:"toolbarWrapper"},b={class:"v-md-editor__toolbar-left-wrapper"},x={class:"v-md-editor__toolbar-right-wrapper"},y={class:"v-md-editor__main"},w={class:"v-md-editor__preview-wrapper",ref:"previewWrapper"};function C(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("editor-toolbar");return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:["v-md-editor",["v-md-editor--"+n.mode,{"v-md-editor--fullscreen":n.fullscreen,"v-md-editor--left-area-reverse":n.leftAreaReverse}]],style:{height:a.heightGetter}},[Object(i["withDirectives"])(Object(i["createVNode"])("div",{class:"v-md-editor__left-area",style:{width:n.leftAreaVisible?n.leftAreaWidth:0,borderWidth:n.leftAreaVisible?"1px":0}},[Object(i["createVNode"])("div",{class:"v-md-editor__left-area-title",style:{height:o.toolbarHeight+"px",lineHeight:o.toolbarHeight+"px"}},Object(i["toDisplayString"])(n.leftAreaTitle),5),Object(i["createVNode"])("div",m,[Object(i["renderSlot"])(e.$slots,"left-area")])],4),[[i["vShow"],!a.isPreviewMode]]),Object(i["createVNode"])("div",g,[Object(i["withDirectives"])(Object(i["createVNode"])("div",v,[Object(i["createVNode"])("div",b,[Object(i["renderSlot"])(e.$slots,"left-toolbar",{},function(){return[Object(i["createVNode"])(l,{class:"v-md-editor__toolbar-left",groups:a.leftToolbarGroup,toolbars:n.toolbars,"disabled-menus":n.disabledMenus,onItemClick:a.handleToolbarItemClick,onToolbarMenuClick:a.handleToolbarMenuClick},null,8,["groups","toolbars","disabled-menus","onItemClick","onToolbarMenuClick"])]})]),Object(i["createVNode"])("div",x,[Object(i["renderSlot"])(e.$slots,"right-toolbar",{},function(){return[Object(i["createVNode"])(l,{class:"v-md-editor__toolbar-right",groups:a.rightToolbarGroup,toolbars:n.toolbars,"disabled-mens":n.disabledMenus,onItemClick:a.handleToolbarItemClick,onToolbarMenuClick:a.handleToolbarMenuClick},null,8,["groups","toolbars","disabled-mens","onItemClick","onToolbarMenuClick"])]})])],512),[[i["vShow"],!a.isPreviewMode]]),Object(i["createVNode"])("div",y,[Object(i["withDirectives"])(Object(i["createVNode"])("div",{ref:"editorWrapper",class:"v-md-editor__editor-wrapper",onClick:t[1]||(t[1]=function(){return a.handleEditorWrapperClick.apply(a,arguments)})},[Object(i["renderSlot"])(e.$slots,"editor")],512),[[i["vShow"],!a.isPreviewMode]]),Object(i["withDirectives"])(Object(i["createVNode"])("div",w,[Object(i["renderSlot"])(e.$slots,"preview")],512),[[i["vShow"],!a.isEditMode]]),Object(i["renderSlot"])(e.$slots,"default")])])],6)}var k={key:0},S={key:0,class:"v-md-editor__toolbar-divider"};function T(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("toolbar-item");return n.groups.length?(Object(i["openBlock"])(),Object(i["createBlock"])("ul",k,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(n.groups,function(r,o){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(r,function(r){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:r,name:r,title:a.getConfig(r,"title"),icon:a.getConfig(r,"icon"),text:a.getConfig(r,"text"),active:a.getConfig(r,"active"),menus:a.getConfig(r,"menus"),"disabled-menus":n.disabledMenus,onClick:function(t){return e.$emit("item-click",n.toolbars[r])},onMenuClick:t[1]||(t[1]=function(t){return e.$emit("toolbar-menu-click",t)})},null,8,["name","title","icon","text","active","menus","disabled-menus","onClick"])}),128)),o!==n.groups.length-1?(Object(i["openBlock"])(),Object(i["createBlock"])("li",S)):Object(i["createCommentVNode"])("v-if",!0)],64)}),256))])):Object(i["createCommentVNode"])("v-if",!0)}var E={key:1,class:"v-md-icon-arrow-down v-md-editor__menu-ctrl",ref:"menuCtrl"};function O(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("v-md-tooltip"),s=Object(i["resolveComponent"])("v-md-menu"),c=Object(i["resolveDirective"])("clickoutside");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("li",{class:["v-md-editor__toolbar-item",[n.icon,"v-md-editor__toolbar-item-"+n.name,{"v-md-editor__toolbar-item--active":n.active||o.menuActive},{"v-md-editor__toolbar-item--menu":a.hasMenu}]],onMousedown:t[3]||(t[3]=Object(i["withModifiers"])(function(){},["prevent"])),onMouseleave:t[4]||(t[4]=function(){return a.handleHideTooltip.apply(a,arguments)}),onMousemove:t[5]||(t[5]=function(){return a.showTooltip.apply(a,arguments)}),onClick:t[6]||(t[6]=Object(i["withModifiers"])(function(){return a.handleClick.apply(a,arguments)},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.text)+" ",1),Object(i["createVNode"])(l,{ref:"tooltip",text:n.title},null,8,["text"]),a.hasMenu?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,ref:"menu",mode:a.menuMode,menus:a.menuItems,"item-width":n.menus.itemWidth,"row-num":n.menus.rowNum,visible:o.menuActive,"onUpdate:visible":t[1]||(t[1]=function(e){return o.menuActive=e}),onItemClick:t[2]||(t[2]=function(t){return e.$emit("menu-click",t)})},null,8,["mode","menus","item-width","row-num","visible"])):Object(i["createCommentVNode"])("v-if",!0),a.hasMenu?(Object(i["openBlock"])(),Object(i["createBlock"])("i",E,null,512)):Object(i["createCommentVNode"])("v-if",!0)],34)),[[c,a.hideMenu,"hideMenu"]])}function D(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Transition"],{name:"v-md-fade-in"},{default:Object(i["withCtx"])(function(){return[Object(i["withDirectives"])(Object(i["createVNode"])("div",{style:{left:o.position.x+"px",top:o.position.y+"px"},class:"v-md-editor__tooltip"},Object(i["toDisplayString"])(n.text),5),[[i["vShow"],o.visible]])]}),_:1})}var A={name:"v-md-tooltip",props:{text:String},data:function(){return{position:{x:0,y:0},visible:!1}},methods:{show:function(e){this.position={x:e.x,y:e.y},this.visible=!0,this.$nextTick(this.calculateLayout)},hide:function(){this.visible=!1},calculateLayout:function(){var e=this.$el.getBoundingClientRect(),t=e.right,n=document.documentElement.clientWidth;n-t<0&&(this.position.x-=t-n)}}};n(82);A.render=D;var M=A,I={key:1},N={class:"v-md-editor__menu-row"};function R(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("v-md-render");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Transition"],{name:"v-md-zoom-in-top"},{default:Object(i["withCtx"])(function(){return[Object(i["withDirectives"])(Object(i["createVNode"])("ul",{class:["v-md-editor__menu",["v-md-editor__menu--"+n.mode]],style:o.style,onMousemove:t[1]||(t[1]=Object(i["withModifiers"])(function(){},["stop"])),onClick:t[2]||(t[2]=Object(i["withModifiers"])(function(){},["stop"]))},[a.isListMode?(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(n.menus,function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{key:e.name,class:["v-md-editor__menu-item",["v-md-editor__menu-item-"+e.name,e.class]],onClick:Object(i["withModifiers"])(function(t){return a.handleClick(e)},["stop"])},[e.render?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,render:e.render},null,8,["render"])):(Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.getText(e.text)),1)],64))],10,["onClick"])}),128)):(Object(i["openBlock"])(),Object(i["createBlock"])("li",I,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(a.rowCount,function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("div",N,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(a.getRowMenus(e),function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:e.name,style:{width:n.itemWidth},class:["v-md-editor__menu-item",["v-md-editor__menu-item-"+e.name,e.class]],onClick:Object(i["withModifiers"])(function(t){return a.handleClick(e)},["stop"])},Object(i["toDisplayString"])(e.text),15,["onClick"])}),128))])}),256))]))],38),[[i["vShow"],n.visible]])]}),_:1})}var F=function(e,t){var n=t.attrs;return e.render.apply(e,n)};F.props=["render"];var _=F,P={LIST:"list",PANEL:"panel"},j={name:"v-md-menu",components:{VMdRender:_},inject:["markdownEditor"],props:{mode:{type:String,default:P.PANEL},menus:Array,itemWidth:{type:String,default:"30px"},rowNum:{type:Number,default:10},visible:Boolean},emits:["update:visible","item-click"],data:function(){return{style:{left:0}}},computed:{rowCount:function(){return Math.ceil(this.menus.length/this.rowNum)},isListMode:function(){return this.mode===P.LIST}},watch:{visible:function(){this.visible&&this.$nextTick(this.calculateLayout)}},methods:{calculateLayout:function(){var e=this.$el.getBoundingClientRect(),t=e.right,n=document.documentElement.clientWidth;n-t<0&&(this.style={right:0})},getRowMenus:function(e){var t=e*this.rowNum,n=t-this.rowNum;return this.menus.slice(n,t)},getText:function(e){return"function"===typeof e?e(this.markdownEditor):e},hide:function(){this.$emit("update:visible",!1)},handleClick:function(e){this.$emit("item-click",e),this.hide()}}};n(83);j.render=R;var L,$=j,z=[],V="@@clickoutsideContext",B=0;function H(e,t,n){return function(r,o){void 0===r&&(r={}),void 0===o&&(o={}),n&&t&&t.instance&&r.target&&o.target&&!e.contains(r.target)&&!e.contains(o.target)&&e!==r.target&&(t.arg&&e[V].methodName&&t.instance[e[V].methodName]?t.instance[e[V].methodName]():e[V].bindingFn&&e[V].bindingFn())}}a["d"]&&(document.addEventListener("mousedown",function(e){L=e}),document.addEventListener("mouseup",function(e){z.forEach(function(t){return t[V].documentHandler(e,L)})}));var W,q={beforeMount:function(e,t,n){z.push(e);var r=B++;e[V]={id:r,documentHandler:H(e,t,n),methodName:t.arg,bindingFn:t.value}},updated:function(e,t,n){e[V].documentHandler=H(e,t,n),e[V].methodName=t.arg,e[V].bindingFn=t.value},unmounted:function(e){for(var t=z.length,n=0;n<t;n++)if(z[n][V].id===e[V].id){z.splice(n,1);break}delete e[V]}},U={name:"toolbar-item",directives:{Clickoutside:q},components:(W={},W[M.name]=M,W[$.name]=$,W),props:{name:String,title:String,active:Boolean,text:String,icon:String,menus:[Array,Object],disabledMenus:Array},emits:["click","menu-click"],data:function(){return{menuActive:!1}},computed:{hasMenu:function(){var e;return null==(e=this.menuItems)?void 0:e.length},menuItems:function(){var e=this,t=Object(a["f"])(this.menus)?this.menus.items:this.menus;return null==t?void 0:t.filter(function(t){var n,r=t.name;return!(null!=(n=e.disabledMenus)&&n.includes(e.name+"/"+r))})},menuMode:function(){return Object(a["f"])(this.menus)?this.menus.mode:P.LIST}},methods:{hideMenu:function(){this.hasMenu&&(this.menuActive=!1)},showMenu:function(){this.hasMenu&&(this.menuActive=!0)},handleClick:function(e){this.$emit("click"),this.menuActive?this.hideMenu():this.showMenu(),this.hasMenu?this.handleHideTooltip():this.showTooltip(e)},showTooltip:function(e){var t=this,n=this.$el,r=e.target,o=this.$refs.menuCtrl;if(r!==n&&r!==o||this.menuActive)this.handleHideTooltip();else{this.timmer&&clearTimeout(this.timmer);var i=n.getBoundingClientRect(),a=e.clientX-i.left,l=e.clientY-i.top;this.timmer=setTimeout(function(){var e;null==(e=t.$refs.tooltip)||e.show({x:a-2,y:l+20})},100)}},handleHideTooltip:function(){this.timmer&&clearTimeout(this.timmer),this.$refs.tooltip.hide()}}};n(84);U.render=O;var G,Y=U,K={name:"editor-toolbar",components:(G={},G[Y.name]=Y,G),inject:["markdownEditor"],props:{groups:Array,toolbars:Object,disabledMenus:Array},emits:["item-click","toolbar-menu-click"],methods:{getConfig:function(e,t){var n=this.toolbars[e],r=n[t];return"function"===typeof r?r(this.markdownEditor):r}}};n(85);K.render=T;var X,Z=K,J=n(34),Q="undefined"===typeof window,ee=function(e){e.forEach(function(e){var t=e.target.__resizeListeners__||[];t.length&&t.forEach(function(e){e()})})},te=function(e,t){Q||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new J["a"](ee),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},ne=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())},re=n(4),oe={name:"v-md-container",components:(X={},X[Z.name]=Z,X),props:{leftToolbar:String,rightToolbar:String,toolbars:Object,fullscreen:Boolean,height:String,noresize:Boolean,disabledMenus:Array,leftAreaVisible:Boolean,leftAreaTitle:String,leftAreaReverse:Boolean,leftAreaWidth:{type:String,default:"200px"},mode:{type:String,default:re["a"].EDITABLE}},emits:["resize","editor-wrapper-click","toolbar-item-click","toolbar-menu-click"],data:function(){return{toolbarHeight:0}},computed:{heightGetter:function(){return this.fullscreen?"auto":this.height},leftToolbarGroup:function(){return this.getToolbarConfig(this.leftToolbar)},rightToolbarGroup:function(){return this.getToolbarConfig(this.rightToolbar)},isPreviewMode:function(){return this.mode===re["a"].PREVIEW},isEditMode:function(){return this.mode===re["a"].EDIT}},mounted:function(){this.noresize||(te(this.$refs.editorWrapper,this.handleResize),te(this.$refs.toolbarWrapper,this.handleToolbarWrapperResize))},beforeUnmount:function(){this.noresize||(ne(this.$refs.editorWrapper,this.handleResize),ne(this.$refs.toolbarWrapper,this.handleToolbarWrapperResize))},methods:{handleResize:function(){this.$emit("resize")},handleToolbarWrapperResize:function(){var e=this.$refs.toolbarWrapper;e&&(this.toolbarHeight=e.offsetHeight)},getToolbarConfig:function(e){var t=this;return e.split("|").map(function(e){return e.split(" ").filter(function(e){return e&&t.toolbars[e]})})},handleEditorWrapperClick:function(e){this.$emit("editor-wrapper-click",e)},handleToolbarItemClick:function(e){this.$emit("toolbar-item-click",e)},handleToolbarMenuClick:function(e){this.$emit("toolbar-menu-click",e)}}};n(87);oe.render=C;var ie,ae=oe,le="undefined"===typeof window,se=function(){if(le)return 0;if(void 0!==ie)return ie;var e=document.createElement("div");e.className="scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),ie=t-r,ie},ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function ue(e){var t=e.move,n=e.size,r=e.bar,o={},i="translate"+r.axis+"("+t+"%)";return o[r.size]=n,o.transform=i,o.msTransform=i,o.webkitTransform=i,o}var de={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return ce[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(){var e=this.size,t=this.move,n=this.bar;return Object(i["createVNode"])("div",{class:["scrollbar__bar","is-"+n.key],onMousedown:this.clickTrackHandler,onClick:function(e){return e.stopPropagation()}},[Object(i["createVNode"])("div",{ref:"thumb",class:"scrollbar__thumb",onMousedown:this.clickThumbHandler,style:ue({size:e,move:t,bar:n})},null)])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(t-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,document.addEventListener("mousemove",this.mouseMoveDocumentHandler,!1),document.addEventListener("mouseup",this.mouseUpDocumentHandler,!1),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-t,o=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=o*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(){this.cursorDown=!1,this[this.bar.axis]=0,document.removeEventListener("mousemove",this.mouseMoveDocumentHandler,!1),document.onselectstart=null}},unmounted:function(){document.removeEventListener("mouseup",this.mouseUpDocumentHandler,!1)}},pe=n(8),fe={name:"scrollbar",components:{Bar:de},props:{native:Boolean,disabled:Boolean,wrapStyle:null,wrapClass:null,viewClass:null,viewStyle:null,noresize:Boolean,tag:{type:String,default:"div"}},emits:["scroll"],data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},mounted:function(){this.native||this.disabled||(this.$nextTick(this.update),!this.noresize&&te(this.$refs.resize,this.update))},beforeUnmount:function(){this.native||this.disabled||!this.noresize&&ne(this.$refs.resize,this.update)},methods:{getScrollInfo:function(){var e=this.wrap;return{left:e.scrollLeft,top:e.scrollTop,width:e.scrollWidth,height:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight}},scrollTo:function(e){Object(pe["a"])({scrollTarget:this.wrap,scrollToTop:e})},handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth,this.$emit("scroll")},update:function(){var e=this.wrap;if(e){var t=100*e.clientHeight/e.scrollHeight,n=100*e.clientWidth/e.scrollWidth;this.sizeHeight=t<100?t+"%":"",this.sizeWidth=n<100?n+"%":""}}},render:function(){if(this.disabled)return this.$slots.default();var e=se(),t=this.wrapStyle;if(e){var n=this.$refs.resize,r=this.$refs.wrap,o=null==n?void 0:n.scrollHeight,l=null==n?void 0:n.scrollWidth,s=null==r?void 0:r.clientHeight,c=null==r?void 0:r.clientWidth,u="-"+e+"px",d=l>c?u:0,p=o>s?u:0,f="margin-bottom: "+d+"; margin-right: "+p+";";Array.isArray(this.wrapStyle)?(t=Object(a["a"])(this.wrapStyle),t.marginRight=u,t.marginBottom=u):"string"===typeof this.wrapStyle?t+=f:t=f}var h,m=Object(i["h"])(this.tag,{class:["scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default()),g=Object(i["createVNode"])("div",{ref:"wrap",style:t,onScroll:this.handleScroll,class:[this.wrapClass,"scrollbar__wrap",e?"":"scrollbar__wrap--hidden-default"]},[[m]]);return h=this.native?[Object(i["createVNode"])("div",{ref:"wrap",class:[this.wrapClass,"scrollbar__wrap"],style:t},[[m]])]:[g,Object(i["createVNode"])(de,{move:this.moveX,size:this.sizeWidth},null),Object(i["createVNode"])(de,{vertical:!0,move:this.moveY,size:this.sizeHeight},null)],Object(i["h"])("div",{class:"scrollbar"},h)}},he=(n(88),fe),me={class:"v-md-editor__toc-nav"},ge={class:"v-md-editor__toc-nav-title"};function ve(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("ul",me,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(n.titles,function(t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{style:{paddingLeft:n.indent*t.indent+"px"},onClick:function(n){return e.$emit("nav-click",t)},class:"v-md-editor__toc-nav-item"},[Object(i["createVNode"])("span",ge,Object(i["toDisplayString"])(t.title),1)],12,["onClick"])}),256))])}var be={name:"toc-nav",props:{titles:Array,indent:{type:Number,default:16}},emits:["nav-click"]};n(89);be.render=ve;var xe,ye=be,we={inheritAttrs:!1,components:(xe={},xe[h["default"].name]=h["default"],xe[ae.name]=ae,xe[he.name]=he,xe[ye.name]=ye,xe),provide:function(){return{markdownEditor:this}},props:{height:String,theme:Object,mode:{type:String,default:re["a"].EDITABLE},autofocus:Boolean,placeholder:String,tocNavPositionRight:Boolean,tabSize:{type:Number,default:2},beforePreviewChange:{type:Function,default:function(e,t){t(e)}}},emits:["blur","change","save","image-click"],data:function(){return{currentMode:this.mode,uploadConfig:{}}},watch:{mode:function(){this.currentMode=this.mode},currentMode:function(){this.currentMode===re["a"].EDITABLE&&this.enableSyncScroll&&this.$nextTick(this.previewSyncScroll)}},created:function(){this.theme&&this.$options.use(this.theme)},computed:{isPreviewMode:function(){return this.currentMode===re["a"].PREVIEW},isEditMode:function(){return this.currentMode===re["a"].EDIT},proxySlots:function(){var e=this;return["left-toolbar","right-toolbar"].filter(function(t){return e.$slots[t]})}},mounted:function(){this.autofocus&&this.$nextTick(this.setFocusEnd)},methods:{setFocusEnd:function(){this.editorFocusEnd(),this.editorScrollToTop(9999),this.previewScrollTo(9999)},handleChange:function(e,t){this.$emit("change",e,t)},handleBlur:function(e){this.$emit("blur",e)},handlePreviewImageClick:function(e,t){this.$emit("image-click",e,t)},save:function(){this.$emit("save",this.text,this.$refs.preview.html)},insert:function(e){var t=this;this.focus();var n=this.getCurrentSelectedStr(),r=e(n),o=r.selected,i=r.text;this.replaceSelectionText(i),this.$nextTick(function(){t.changeSelctionTo(i,o)})}}},Ce={props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],data:function(){return{text:this.modelValue}},methods:{handleInput:function(e){this.text=e,this.$emit("update:modelValue",e)}}},ke={props:{defaultFullscreen:Boolean},emits:["fullscreen-change"],data:function(){return{fullscreen:!1}},watch:{fullscreen:function(){this.$emit("fullscreen-change",this.fullscreen)}},mounted:function(){window.addEventListener("keyup",this.handleWindowKeyup,!1),this.defaultFullscreen&&this.toggleFullScreen()},beforeUnmount:function(){window.removeEventListener("keyup",this.handleWindowKeyup,!1)},methods:{handleWindowKeyup:function(e){27===e.keyCode&&this.fullscreen&&this.toggleFullScreen(!1)},toggleFullScreen:function(e){void 0===e&&(e=!this.fullscreen),this.fullscreen=e;var t=document.querySelectorAll("html, body"),n=t[0],r=t[1],o=this.fullscreen?"hidden":null;r.style.overflow=o,n.style.overflow=o}}};function Se(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("input",{type:"file",style:{display:"none"},key:o.key,accept:n.uploadConfig.accept,multiple:n.uploadConfig.multiple,onInput:t[1]||(t[1]=function(){return o.handleUpload.apply(o,arguments)}),ref:"fileInput"},null,40,["accept","multiple"])}var Te=n(10),Ee=n.n(Te),Oe=n(17),De={name:"v-md-upload-file",props:{uploadConfig:Object},data:function(){return{handleUpload:function(){},key:0}},methods:{upload:function(){var e=this;return Object(Oe["a"])(Ee.a.mark(function t(){var n;return Ee.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFile();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))()},chooseFile:function(){var e=this;return new Promise(function(t){e.handleUpload=function(n){t(n),e.key++},e.$refs.fileInput.click()})}}};De.render=Se;var Ae,Me=De,Ie=n(23),Ne=n(12),Re=n(1),Fe={accept:"image/*",multiple:!1},_e={components:(Ae={},Ae[Me.name]=Me,Ae),props:{uploadImageConfig:Object},emits:["upload-image"],computed:{uploadImgConfig:function(){return Object(u["a"])({},Fe,this.uploadImageConfig)},hasUploadImage:function(){return!this.disabledMenus.includes(Ie["default"].name+"/upload-image")}},methods:{handleDrop:function(e){var t=Object(Ne["a"])(e.dataTransfer.files,this.uploadImgConfig);this.emitUploadImage(e,t)},handlePaste:function(e){var t=e.clipboardData;if(t){var n=Object(Ne["a"])(Object(Ne["b"])(t),this.uploadImgConfig);this.emitUploadImage(e,n)}},emitUploadImage:function(e,t){var n=this;this.hasUploadImage&&t.length&&(e.preventDefault(),this.$emit("upload-image",e,function(e){n.execCommand(Re["l"],e)},t))}}},Pe=n(3),je={data:function(){return{enableSyncScroll:!0}},methods:{toggleSyncScroll:function(e){void 0===e&&(e=!this.enableSyncScroll),this.enableSyncScroll=e,e&&this.previewSyncScroll()},previewSyncScroll:function(){if(!this.isEditMode){var e=this.$refs.preview.$el,t=this.$refs.previewScroller.$el,n=e.querySelectorAll("["+Pe["c"]+"]"),r=this.getScrollInfo(),o=r.clientHeight,i=r.top,a=r.height,l=t.querySelector(".scrollbar__wrap");if(o+i===a){var s=l.clientHeight,c=l.scrollHeight;this.previewScrollTo(c-s)}else{for(var u,d,p=0;p<n.length;p++){var f=n[p].getAttribute(Pe["c"]),h=this.heightAtLine(f-1,"local");if(!(h<i)){d=f;break}u=f}var m=0;if(u&&d&&u!==d){var g=this.heightAtLine(u-1,"local"),v=this.heightAtLine(d-1,"local");m=(i-g)/(v-g)}var b=0,x=l.scrollHeight-l.clientHeight;u&&(b=e.querySelector("["+Pe["c"]+'="'+u+'"]').offsetTop),d&&(x=e.querySelector("["+Pe["c"]+'="'+d+'"]').offsetTop);var y=b+(x-b)*m;this.previewScrollTo(y)}}},handleEditorScroll:function(){this.enableSyncScroll&&!this.ignoreSyncScroll&&(clearTimeout(this.scrollTimmer),this.scrollTimmer=setTimeout(this.previewSyncScroll,60))}}},Le=function(e){return{props:{leftToolbar:{type:String,default:"undo redo clear | h bold italic strikethrough quote | ul ol table hr | link image code | save"},rightToolbar:{type:String,default:"preview toc sync-scroll fullscreen"},toolbar:{type:Object,default:function(){return{}}},disabledMenus:{type:Array,default:function(){return["image/upload-image"]}},toolbarConfig:{type:Object,default:function(){return{}}}},created:function(){var t=this,n=e.toolbars;this.toolbars={},Object.keys(n).forEach(function(e){t.registerToolbar(e,n[e])}),Object.keys(this.toolbar).forEach(function(e){t.registerToolbar(e,t.toolbar[e])})},methods:{registerToolbar:function(e,t){p(this.toolbars,e,t)},handleToolbarItemClick:function(e){var t;!e.action||null!=(t=e.menus)&&t.length||"function"!==typeof e.action||e.action.call(e,this,this.toolbarConfig[e.name])},handleToolbarMenuClick:function(e){e.action&&"function"===typeof e.action&&e.action.call(e,this,this.toolbarConfig[e.name])}}}},$e=function(e){return{created:function(){var t=this,n=e.commands;this.commands={},Object.keys(n).forEach(function(e){t.registerCommand(e,n[e])})},methods:{registerCommand:function(e,t){s(this.commands,e,t)},execCommand:function(e){var t=this.commands[e];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,[this].concat(r))}else console.error("Command not found: "+e)}}}},ze={data:function(){return{tocVisible:this.defaultShowToc,titles:[]}},props:{includeLevel:{type:Array,default:function(){return[2,3]}},defaultShowToc:Boolean},watch:{text:{immediate:!0,handler:function(e,t){"undefined"!==typeof t?(this.updateTocNavTimmer&&clearTimeout(this.updateTocNavTimmer),this.updateTocNavTimmer=setTimeout(this.updateTocNav,800)):this.$nextTick(this.updateTocNav)}}},computed:{anchorsSelector:function(){return this.includeLevel.map(function(e){return"h"+e}).join(",")}},methods:{toggleToc:function(e){void 0===e&&(e=!this.tocVisible),this.tocVisible=e},updateTocNav:function(){var e,t=null==(e=this.$refs.preview)?void 0:e.$el;if(t){var n=t.querySelectorAll(this.anchorsSelector),r=Array.from(n).filter(function(e){return!!e.innerText.trim()});if(r.length){var o=Array.from(new Set(r.map(function(e){return e.tagName}))).sort();this.titles=r.map(function(e){return{title:e.innerText,lineIndex:e.getAttribute(Pe["c"]),indent:o.indexOf(e.tagName)}})}else this.titles=[]}},handleNavClick:function(e){var t=e.lineIndex;this.scrollToLine(t)}}},Ve={props:{previewScrollContainer:Function},computed:{getPreviewScrollContainer:function(){var e=this;return function(){var t=e.$refs.previewScroller.$el.querySelector(".scrollbar__wrap"),n=e.isPreviewMode?window:t;return e.previewScrollContainer?e.previewScrollContainer():n}}},methods:{previewScrollTo:function(e){this.$refs.previewScroller.scrollTo(e)},scrollToLine:function(e){var t=this;this.isPreviewMode||this.editorScrollToLine(e),this.isEditMode||(this.ignoreSyncScroll=!0,this.previewScrollToLine({lineIndex:e,onScrollEnd:function(){t.ignoreSyncScroll=!1}}))},editorScrollToLine:function(e){var t=this.heightAtLine(e-1,"local");this.editorScrollToTop(t)},previewScrollToTarget:function(){var e;(e=this.$refs.preview).scrollToTarget.apply(e,arguments)},previewScrollToLine:function(e){var t=e.lineIndex,n=e.onScrollEnd;this.$refs.preview.scrollToLine({lineIndex:t,onScrollEnd:n})}}},Be={};Object(a["c"])(Be,n(90));var He=function(e){return{mounted:function(){var t=this;if(!this.isPreviewMode){var n=e.hotkeys;Object.keys(Be).forEach(function(e){t.registerHotkeys(Be[e].default)}),n.forEach(function(e){t.registerHotkeys(e)})}},methods:{registerHotkeys:function(e){var t=this,n=e.modifier,r=e.key,o=e.action,i=e.preventDefault,a=void 0===i||i;this.editorRegisterHotkeys({modifier:n,key:r,preventDefault:a,action:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.apply(void 0,[t].concat(n))}})}}}},We=/^\s*([\d]+\.)( \[[ xX]])? /,qe=/^\s*([-*])( \[[ xX]])? /,Ue=/([*-] |[\d]+\. )/,Ge=/([\d])+\.( \[[ xX]])? /,Ye={mounted:function(){var e=this;this.isPreviewMode||this.registerHotkeys({key:"enter",preventDefault:!1,action:function(t,n){if(!n.isComposing){var r,o,i=e.getCursorLineLeftText();if(We.test(i))r="x. ",o=Ge,n.preventDefault();else{if(!qe.test(i))return;r="- ",o=Ue,n.preventDefault()}var a=i.search(o),l=a+r.length,s=i.slice(0,l),c=i.slice(l,i.length);c?("x. "===r&&(s=s.replace(/(\d+)/,window.parseInt(s)+1)),e.replaceSelectionText("\n"+s,"end")):(e.delLineLeft(),e.replaceSelectionText("\n","end"))}}})}},Ke={computed:{langConfig:function(){var e=this.$options.lang.config;return e.langConfig[e.lang]}}},Xe=new r["a"]({afterUse:function(e){h["default"].vMdParser.lang.config.lang=e}});function Ze(e){c(e),f(e),e.name="v-md-editor",e.lang=Xe,e.vMdParser=h["default"].vMdParser,e.Preview=h["default"],e.hotkeys=[],e.hotkey=function(t){e.hotkeys.push(t)},e.mixins=[we,Ce,Le(e),$e(e),He(e),ke,_e,je,ze,Ve,Ye,Ke]}Xe.config=Object(i["reactive"])(Xe.config),Xe.add({"zh-CN":o})},function(e,t,n){"use strict";var r={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"},o={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},i=function(){function e(){this.hotkeys={ctrl:{},shift:{},ctrlAlt:{},ctrlShift:{},keys:{}}}var t=e.prototype;return t.dispatch=function(e){var t,n=this.getKeyName(e).toLowerCase();if(n&&(this.isKeyEnterExact(e)?t=this.hotkeys.keys[n]:this.isCtrlEnterExact(e)?t=this.hotkeys.ctrl[n]:this.isShiftEnterExact(e)?t=this.hotkeys.shift[n]:this.isCtrlAltEnterExact(e)?t=this.hotkeys.ctrlAlt[n]:this.isCtrlShiftEnterExact(e)&&(t=this.hotkeys.ctrlShift[n]),t)){var r=t,o=r.action,i=r.preventDefault;i&&e.preventDefault(),o(e)}},t.isKeyEnterExact=function(e){return!this.isCtrlEnter(e)&&!this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isCtrlShiftEnterExact=function(e){return this.isCtrlEnter(e)&&this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isCtrlAltEnterExact=function(e){return this.isCtrlEnter(e)&&this.isAltEnter(e)&&!this.isShiftEnter(e)},t.isCtrlEnterExact=function(e){return this.isCtrlEnter(e)&&!this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isShiftEnterExact=function(e){return this.isShiftEnter(e)&&!this.isCtrlEnter(e)&&!this.isAltEnter(e)},t.isCtrlEnter=function(e){return e.ctrlKey||e.metaKey},t.isShiftEnter=function(e){return e.shiftKey},t.isAltEnter=function(e){return e.altKey},t.registerHotkeys=function(e){var t=e.modifier,n=e.key,r=e.preventDefault,o=void 0===r||r,i=e.action;t?this.hotkeys[t][n]={preventDefault:o,action:i}:this.hotkeys.keys[n]={preventDefault:o,action:i}},t.getKeyName=function(e){var t=e.key,n=e.keyCode;if(void 0!==t){var i=Object.keys(o).find(function(e){var n=o[e];return"string"===typeof n?n===t:-1!==n.indexOf(t)});return i||t}return r[n]},e}();t["a"]=i},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=T(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function b(){}var x={};x[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(M([])));w&&w!==n&&r.call(w,i)&&(x=w);var C=b.prototype=g.prototype=Object.create(x);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(o,i,a,l){var s=u(e[o],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,a,l)},function(e){n("throw",e,a,l)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,l)})}l(s.arg)}var o;function i(e,r){function i(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(i,i):i()}this._invoke=i}function T(e,t,n){var r=d;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return I()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var l=E(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function M(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){while(++o<e.length)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=C.constructor=b,b.constructor=v,v.displayName=s(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},k(C),s(C,l,"Generator"),C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r={"./bold.js":39,"./clear.js":40,"./code.js":41,"./fullscreen.js":42,"./h1.js":43,"./h2.js":44,"./h3.js":45,"./h4.js":46,"./h5.js":47,"./h6.js":48,"./hr.js":49,"./image.js":50,"./italic.js":51,"./link.js":52,"./ol.js":53,"./quote.js":54,"./redo.js":55,"./strikethrough.js":56,"./sync-scroll.js":57,"./table.js":58,"./ul.js":59,"./undo.js":60};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=38},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["a"]}),t["default"]=function(e){e.insert(function(t){var n="**",o="**",i=e.langConfig.bold.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["b"]}),t["default"]=function(e){e.clear()}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["c"]}),t["default"]=function(e){e.insert(function(e){var t="``` language",n="```",r=t+"\n"+n;return e&&(r=t+"\n  "+e+"\n"+n),{text:r,selected:"language"}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["d"]}),t["default"]=function(e,t){e.toggleFullScreen(t)}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["e"]}),t["default"]=function(e){e.insert(function(t){var n="#",o=e.langConfig.h1.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["f"]}),t["default"]=function(e){e.insert(function(t){var n="##",o=e.langConfig.h2.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["g"]}),t["default"]=function(e){e.insert(function(t){var n="###",o=e.langConfig.h3.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["h"]}),t["default"]=function(e){e.insert(function(t){var n="####",o=e.langConfig.h4.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["i"]}),t["default"]=function(e){e.insert(function(t){var n="#####",o=e.langConfig.h5.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["j"]}),t["default"]=function(e){e.insert(function(t){var n="######",o=e.langConfig.h6.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["k"]}),t["default"]=function(e){e.insert(function(){return{text:"------------------------------------"}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["l"]}),t["default"]=function(e,t){var n=void 0===t?{}:t,r=n.url,o=n.desc,i=n.width,a=n.height;e.insert(function(){var e="http://",t="Description",n=e,l="!["+(o||t)+"]("+(r||e)+")",s=[];return i&&s.push('width="'+i+'"'),a&&s.push('height="'+a+'"'),s.length&&(l+="{{{"+s.join(" ")+"}}}"),r&&o?n=null:r?n=t:o&&(n=e),{text:l,selected:n}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["m"]}),t["default"]=function(e){e.insert(function(t){var n="*",o="*",i=e.langConfig.italic.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["n"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.link.descPlaceholder,o="http://",i=Object(r["b"])({selected:t,InsertGetter:function(e){return"["+(e||n)+"]("+o+")"},selectedGetter:function(e){return e?o:n}}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["o"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.ol.placeholder,o=function(e){return e||n},i=Object(r["b"])({selected:t,InsertGetter:function(e,t){return t+". "+o(e)},selectedGetter:o,ignoreEmptyLine:!1}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["p"]}),t["default"]=function(e){e.insert(function(t){var n=">",r=t||e.langConfig.quote.placeholder;return{text:n+" "+r,selected:r}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["q"]}),t["default"]=function(e){e.redo()}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["r"]}),t["default"]=function(e){e.insert(function(t){var n="~~",o="~~",i=e.langConfig.strikethrough.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["s"]}),t["default"]=function(e,t){e.toggleSyncScroll(t)}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["t"]}),t["default"]=function(e){e.insert(function(){var e="|column1|column2|column3|\n|-|-|-|\n|content1|content2|content3|";return{text:e,selected:"column1"}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["u"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.ul.placeholder,o=function(e){return e||n},i=Object(r["b"])({selected:t,InsertGetter:function(e){return"- "+o(e)},selectedGetter:o,ignoreEmptyLine:!1}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["v"]}),t["default"]=function(e){e.undo()}},function(e,t,n){var r={"./bold.js":62,"./clear.js":63,"./code.js":64,"./fullscreen.js":65,"./h.js":66,"./hr.js":67,"./image.js":23,"./italic.js":68,"./link.js":69,"./ol.js":70,"./preview.js":71,"./quote.js":72,"./redo.js":73,"./save.js":74,"./strikethrough.js":75,"./sync-scroll.js":76,"./table.js":77,"./toc.js":78,"./ul.js":79,"./undo.js":80};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=61},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["a"],icon:"v-md-icon-bold",title:function(e){return e.langConfig.bold.toolbar+"（Ctrl+B）"},action:function(e){e.execCommand(r["a"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["b"],icon:"v-md-icon-clear",title:function(e){return e.langConfig.clear.toolbar},action:function(e){e.execCommand(r["b"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["c"],icon:"v-md-icon-code",title:function(e){return e.langConfig.code.toolbar},action:function(e){e.execCommand(r["c"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["d"],icon:"v-md-icon-fullscreen",title:function(e){var t=e.langConfig.fullscreen;return e.fullscreen?t.disabled:t.enabled},active:function(e){return e.fullscreen},action:function(e){e.execCommand(r["d"],!e.fullscreen)}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:"h",text:"H",title:function(e){return e.langConfig.h.toolbar+"（Ctrl+1~6）"},menus:[{name:r["e"],text:function(e){return e.langConfig.h1.toolbar},action:function(e){e.execCommand(r["e"])}},{name:r["f"],text:function(e){return e.langConfig.h2.toolbar},action:function(e){e.execCommand(r["f"])}},{name:r["g"],text:function(e){return e.langConfig.h3.toolbar},action:function(e){e.execCommand(r["g"])}},{name:r["h"],text:function(e){return e.langConfig.h4.toolbar},action:function(e){e.execCommand(r["h"])}},{name:r["i"],text:function(e){return e.langConfig.h5.toolbar},action:function(e){e.execCommand(r["i"])}},{name:r["j"],text:function(e){return e.langConfig.h6.toolbar},action:function(e){e.execCommand(r["j"])}}]}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["k"],icon:"v-md-icon-horizontal",title:function(e){return e.langConfig.hr.toolbar},action:function(e){e.execCommand(r["k"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["m"],icon:"v-md-icon-italic",title:function(e){return e.langConfig.italic.toolbar+"（Ctrl+I）"},action:function(e){e.execCommand(r["m"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["n"],icon:"v-md-icon-link",title:function(e){return e.langConfig.link.toolbar+"（Ctrl+L）"},action:function(e){e.execCommand(r["n"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["o"],icon:"v-md-icon-ol",title:function(e){return e.langConfig.ol.toolbar+"（Ctrl+O）"},action:function(e){e.execCommand(r["o"])}}},function(e,t,n){"use strict";n.r(t);var r=n(4);t["default"]={name:"preview",icon:"v-md-icon-preview",title:function(e){var t=e.langConfig.preview;return e.currentMode===r["a"].EDITABLE?t.disabled:t.enabled},active:function(e){return e.currentMode===r["a"].EDITABLE},action:function(e){e.currentMode=e.currentMode===r["a"].EDITABLE?r["a"].EDIT:r["a"].EDITABLE}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["p"],icon:"v-md-icon-quote",title:function(e){return e.langConfig.quote.toolbar+"（Ctrl+Q）"},action:function(e){e.execCommand(r["p"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["q"],icon:"v-md-icon-redo",title:function(e){return e.langConfig.redo.toolbar+"（Ctrl+Y）"},action:function(e){e.execCommand(r["q"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={name:"save",icon:"v-md-icon-save",title:function(e){return e.langConfig.save.toolbar+"（Ctrl+S）"},action:function(e){e.save()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["r"],icon:"v-md-icon-strikethrough",title:function(e){return e.langConfig.strikethrough.toolbar},action:function(e){e.execCommand(r["r"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["s"],icon:"v-md-icon-sync",title:function(e){var t=e.langConfig.syncScroll;return e.enableSyncScroll?t.disabled:t.enabled},active:function(e){return e.enableSyncScroll},action:function(e){e.execCommand(r["s"],!e.enableSyncScroll)}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["t"],icon:"v-md-icon-table",title:function(e){return e.langConfig.table.toolbar},action:function(e){e.execCommand(r["t"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={name:"toc",icon:"v-md-icon-toc",title:function(e){var t=e.langConfig.toc;return e.tocVisible?t.disabled:t.enabled},active:function(e){return e.tocVisible},action:function(e){e.toggleToc()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["u"],icon:"v-md-icon-ul",title:function(e){return e.langConfig.ul.toolbar+"（Ctrl+U）"},action:function(e){e.execCommand(r["u"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["v"],icon:"v-md-icon-undo",title:function(e){return e.langConfig.undo.toolbar+"（Ctrl+Z）"},action:function(e){e.execCommand(r["v"])}}},function(e,t,n){},function(e,t,n){"use strict";n(27)},function(e,t,n){"use strict";n(28)},function(e,t,n){"use strict";n(29)},function(e,t,n){"use strict";n(30)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n(31)},function(e,t,n){"use strict";n(32)},function(e,t,n){"use strict";n(33)},function(e,t,n){var r={"./bold.js":91,"./h1.js":92,"./h2.js":93,"./h3.js":94,"./h4.js":95,"./h5.js":96,"./h6.js":97,"./italic.js":98,"./link.js":99,"./ol.js":100,"./quote.js":101,"./save.js":102,"./ul.js":103};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=90},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"b",action:function(e){e.execCommand(r["a"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"1",action:function(e){e.execCommand(r["e"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"2",action:function(e){e.execCommand(r["f"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"3",action:function(e){e.execCommand(r["g"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"4",action:function(e){e.execCommand(r["h"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"5",action:function(e){e.execCommand(r["i"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"6",action:function(e){e.execCommand(r["j"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"i",action:function(e){e.execCommand(r["m"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"l",action:function(e){e.execCommand(r["n"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"o",action:function(e){e.execCommand(r["o"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"q",action:function(e){e.execCommand(r["p"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={modifier:"ctrl",key:"s",action:function(e){e.save()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"u",action:function(e){e.execCommand(r["u"])}}},function(e,t,n){},,function(e,t,n){"use strict";n(104)},,function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t,n,o,i,a){var l=Object(r["resolveComponent"])("toc-nav"),s=Object(r["resolveComponent"])("scrollbar"),c=Object(r["resolveComponent"])("v-md-textarea-editor"),u=Object(r["resolveComponent"])("v-md-preview"),d=Object(r["resolveComponent"])("v-md-upload-file"),p=Object(r["resolveComponent"])("v-md-container");return Object(r["openBlock"])(),Object(r["createBlock"])(p,{"left-toolbar":e.leftToolbar,"right-toolbar":e.rightToolbar,toolbars:e.toolbars,"disabled-menus":e.disabledMenus,height:e.height,fullscreen:e.fullscreen,"left-area-visible":e.tocVisible,"left-area-title":e.langConfig.toc.title,"left-area-reverse":e.tocNavPositionRight,mode:e.currentMode,onEditorWrapperClick:e.handleEditorWrapperClick,onToolbarItemClick:e.handleToolbarItemClick,onToolbarMenuClick:e.handleToolbarMenuClick,ref:"contaner"},Object(r["createSlots"])({"left-area":Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(l,{titles:e.titles,onNavClick:e.handleNavClick},null,8,["titles","onNavClick"])]}),_:1})]}),editor:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,{onScroll:e.handleEditorScroll,ref:"editorScroller"},{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(c,{"model-value":e.text,"min-height":e.textEditorMinHeight,placeholder:e.placeholder,"onUpdate:modelValue":e.handleInput,onClick:t[1]||(t[1]=Object(r["withModifiers"])(function(){},["stop"])),onDrop:e.handleDrop,onPaste:e.handlePaste,onBlur:e.handleBlur,ref:"editorEgine"},null,8,["model-value","min-height","placeholder","onUpdate:modelValue","onDrop","onPaste","onBlur"])]}),_:1},8,["onScroll"])]}),preview:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,{ref:"previewScroller"},{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(u,{text:e.text,"tab-size":e.tabSize,"scroll-container":e.getPreviewScrollContainer,"before-change":e.beforePreviewChange,onChange:e.handleChange,onImageClick:e.handlePreviewImageClick,ref:"preview"},null,8,["text","tab-size","scroll-container","before-change","onChange","onImageClick"])]}),_:1},512)]}),default:Object(r["withCtx"])(function(){return[e.hasUploadImage?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,"upload-config":e.uploadConfig,ref:"uploadFile"},null,8,["upload-config"])):Object(r["createCommentVNode"])("v-if",!0)]}),_:2},[Object(r["renderList"])(e.proxySlots,function(t){return{name:t,fn:Object(r["withCtx"])(function(n){return[Object(r["renderSlot"])(e.$slots,t,n)]})}})]),1032,["left-toolbar","right-toolbar","toolbars","disabled-menus","height","fullscreen","left-area-visible","left-area-title","left-area-reverse","mode","onEditorWrapperClick","onToolbarItemClick","onToolbarMenuClick"])}var i=n(10),a=n.n(i),l=n(17),s={class:"v-md-textarea-editor"},c=Object(r["createVNode"])("br",null,null,-1);function u(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("pre",{style:{minHeight:n.minHeight}},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.modelValue.split("\n"),function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("section",{"data-line":t+1},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e||" "),1),c],8,["data-line"])}),256))],4),Object(r["createVNode"])("textarea",{ref:"textarea",value:n.modelValue,placeholder:n.placeholder,spellcheck:"false",onCompositionstart:t[1]||(t[1]=function(){return a.handleCompositionStart.apply(a,arguments)}),onCompositionupdate:t[2]||(t[2]=function(){return a.handleCompositionUpdate.apply(a,arguments)}),onCompositionend:t[3]||(t[3]=function(){return a.handleCompositionEnd.apply(a,arguments)}),onInput:t[4]||(t[4]=function(){return a.handleInput.apply(a,arguments)}),onClick:t[5]||(t[5]=function(){return a.updateCurrentHistoryRange.apply(a,arguments)}),onPaste:t[6]||(t[6]=function(){return a.handlePaste.apply(a,arguments)}),onBlur:t[7]||(t[7]=function(){return a.handleBlur.apply(a,arguments)}),onKeydown:[t[8]||(t[8]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){},["prevent"]),["tab"])),t[9]||(t[9]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.undo.apply(a,arguments)},["ctrl","prevent","exact"]),["z"])),t[10]||(t[10]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.undo.apply(a,arguments)},["meta","prevent","exact"]),["z"])),t[11]||(t[11]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.redo.apply(a,arguments)},["ctrl","prevent","exact"]),["y"])),t[12]||(t[12]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.redo.apply(a,arguments)},["meta","prevent","exact"]),["y"]))],onKeyup:[t[13]||(t[13]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["up"])),t[14]||(t[14]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["down"])),t[15]||(t[15]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["left"])),t[16]||(t[16]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["right"]))]},null,40,["value","placeholder"])])}var d,p=n(6);function f(e){if("TEXTAREA"!==e.nodeName)return!1;if("undefined"===typeof d){var t=document.createElement("textarea");t.value=1,d=!!t.firstChild}return d}function h(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}var r=document.execCommand("insertText",!1,t);if(!r){var o=e.selectionStart,i=e.selectionEnd;if("function"===typeof e.setRangeText)e.setRangeText(t);else{var a=document.createRange(),l=document.createTextNode(t);if(f(e)){var s=e.firstChild;if(s){var c=0,u=null,d=null;while(s&&(null===u||null===d)){var p=s.nodeValue.length;o>=c&&o<=c+p&&a.setStart(u=s,o-c),i>=c&&i<=c+p&&a.setEnd(d=s,i-c),c+=p,s=s.nextSibling}o!==i&&a.deleteContents()}else e.appendChild(l)}if(f(e)&&"#text"===a.commonAncestorContainer.nodeName)a.insertNode(l);else{var h=e.value;e.value=h.slice(0,o)+t+h.slice(i)}}e.setSelectionRange(o+t.length,o+t.length);var m=document.createEvent("UIEvent");m.initEvent("input",!0,!1),e.dispatchEvent(m)}}var m=h,g=n(36),v=n(2),b={name:"v-md-textarea-editor",props:{modelValue:String,minHeight:String,placeholder:String,historyDebounce:{type:Number,default:400},historyMax:{type:Number,default:30}},emits:["blur","paste","update:modelValue"],data:function(){return{isComposing:!1}},computed:{textareaEl:function(){return this.$refs.textarea}},watch:{modelValue:function(){var e=this;this.clearTimeout(),this.triggerInputBySetHistory||(this.timmer=setTimeout(function(){e.saveHistory(),e.clearTimeout()},this.historyDebounce))}},created:function(){this.historyStack=[],this.historyIndex=0,this.hotkeysManager=new g["a"]},mounted:function(){this.saveHistory(),this.textareaEl.addEventListener("keydown",this.handleKeydown,!1)},beforeUnmount:function(){this.textareaEl.removeEventListener("keydown",this.handleKeydown,!1)},methods:{handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(v["e"])(n)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handlePaste:function(e){this.$emit("paste",e)},handleBlur:function(e){this.$emit("blur",e)},registerHotkeys:function(){var e;(e=this.hotkeysManager).registerHotkeys.apply(e,arguments)},handleKeydown:function(e){this.hotkeysManager.dispatch(e)},heightAtLine:function(e){var t=this.$el.querySelector('section[data-line="'+e+'"]');return t?t.offsetTop+t.offsetHeight:0},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timmer&&clearTimeout(this.timmer),this.timmer=null}),updateCurrentHistoryRange:function(){this.timmer||this.updateHistory(this.historyIndex,{range:this.getRange()})},handleInput:function(e){this.isComposing||this.$emit("update:modelValue",e.target.value)},saveHistory:function(){var e=this.getRange(),t={value:this.modelValue,range:e};this.historyStack=this.historyStack.slice(0,this.historyIndex+1),this.historyStack.push(t),this.historyStack.length>this.historyMax&&this.historyStack.shift(),this.historyIndex=this.historyStack.length-1},updateHistory:function(e,t){var n=this.historyStack[e];"value"in t&&(n.value=t.value),Object(p["a"])(n.range,t.range)},goHistory:function(e){var t=this,n=this.historyStack[e],r=n.value,o=n.range;this.$emit("update:modelValue",r),this.triggerInputBySetHistory=!0,this.$nextTick(function(){t.triggerInputBySetHistory=!1,t.setRange(o)})},getRange:function(){return{start:this.textareaEl.selectionStart,end:this.textareaEl.selectionEnd}},setRange:function(e){var t=e.start,n=e.end;this.textareaEl.setSelectionRange(t,n),this.updateCurrentHistoryRange()},focus:function(){this.textareaEl.focus()},insertText:function(e){m(this.textareaEl,e)},undo:function(){this.historyIndex>0&&(this.historyIndex--,this.goHistory(this.historyIndex))},redo:function(){this.historyIndex<this.historyStack.length-1&&(this.historyIndex++,this.goHistory(this.historyIndex))}}};n(106);b.render=u;var x,y=b,w=n(35),C={components:(x={},x[y.name]=y,x),watch:{modelValue:function(){this.text=this.modelValue},height:{handler:function(){var e=this;return Object(l["a"])(a.a.mark(function t(){var n;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(v["d"]){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$nextTick();case 4:e.height?(n=e.$el.querySelector(".v-md-editor__editor-wrapper"),e.textEditorMinHeight=window.getComputedStyle(n).height):e.textEditorMinHeight="";case 5:case"end":return t.stop()}},t)}))()},immediate:!0}},data:function(){return{textEditorMinHeight:""}},methods:{handleEditorWrapperClick:function(){this.setFocusEnd()},editorFocusEnd:function(){this.focus(),this.$refs.editorEgine.setRange({start:this.text.length,end:this.text.length})},delLineLeft:function(){var e=this.$refs.editorEgine,t=e.getRange(),n=t.start,r=this.getCursorLineLeftText();e.setRange({start:n-r.length-1,end:n}),this.replaceSelectionText("\n")},getCursorLineLeftText:function(){var e=this.$refs.editorEgine.getRange(),t=e.start,n=e.end;return t===n?this.text.slice(0,t).split("\n").pop():null},editorRegisterHotkeys:function(){var e;(e=this.$refs.editorEgine).registerHotkeys.apply(e,arguments)},editorScrollToTop:function(e){this.$refs.editorScroller.scrollTo(e)},getScrollInfo:function(){return this.$refs.editorScroller.getScrollInfo()},heightAtLine:function(){var e;return(e=this.$refs.editorEgine).heightAtLine.apply(e,arguments)},focus:function(){this.$refs.editorEgine.focus()},undo:function(){this.$refs.editorEgine.undo()},redo:function(){this.$refs.editorEgine.redo()},clear:function(){this.focus(),this.handleInput("")},replaceSelectionText:function(e){this.$refs.editorEgine.insertText(e)},getCurrentSelectedStr:function(){var e=this.$refs.editorEgine.getRange(),t=e.start,n=e.end;return n>t?this.text.slice(t,n):null},changeSelctionTo:function(e,t){var n=this.$refs.editorEgine,r=e.indexOf(t),o=n.getRange().end;if(-1!==r){var i=this.text.slice(0,o),a=i.length-e.length,l=a+r,s=l+t.length;this.$refs.editorEgine.setRange({start:l,end:s})}}}};Object(w["a"])(C);var k=C;k.render=o;var S=k,T=n(7),E=(n(18),"2.3.18"),O=function(e){e.component(S.name,S)};S.version=E,S.install=O,S.xss=T["a"],S.use=function(e,t){return"function"===typeof e?e(S,t):e.install(S,t),S};t["default"]=S}])["default"]})},3981:function(e,t,n){"use strict";var r=n(6031),o=n(6983),i=n(9441),a=!i("isSubsetOf",function(e){return e});r({target:"Set",proto:!0,real:!0,forced:a},{isSubsetOf:o})},3985:function(e,t,n){"use strict";var r=n(8031),o=n(9792),i=n(2634),a=n(1752).indexOf,l=n(3022),s=r([].push);e.exports=function(e,t){var n,r=i(e),c=0,u=[];for(n in r)!o(l,n)&&o(r,n)&&s(u,n);while(t.length>c)o(r,n=t[c++])&&(~a(u,n)||s(u,n));return u}},4221:function(e,t,n){"use strict";var r=n(8294),o=n(8621),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw new i("Wrong length or index");return n}},4329:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{forEach:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;i(t,function(t){e(t,n++)},{IS_RECORD:!0})}})},4388:function(e){"use strict";e.exports=!1},4396:function(e,t,n){"use strict";var r=n(1944);if(r)try{r([],"length")}catch(o){r=null}e.exports=r},4407:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(8371),a=n(2368),l=n(7993),s=n(306),c=o.Set,u=o.add,d=o.has;e.exports=function(e){var t=r(this),n=a(e),o=new c;return i(t)>n.size?s(n.getIterator(),function(e){d(t,e)&&u(o,e)}):l(t,function(e){n.includes(e)&&u(o,e)}),o}},4422:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4525:function(e,t,n){"use strict";var r=n(6031),o=n(6015);o&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},4561:function(e){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",o=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:o(n),i2cUrl:r,c2iUrl:o(r)}},4564:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(856),a=n(3636),l=n(5326),s=n(4752),c=n(5479),u=n(6427),d=n(5336),p=n(9792),f=n(6972),h=n(6008).IteratorPrototype,m=n(8115),g=n(4388),v="constructor",b="Iterator",x=f("toStringTag"),y=TypeError,w=o[b],C=g||!l(w)||w.prototype!==h||!d(function(){w({})}),k=function(){if(i(this,h),s(this)===h)throw new y("Abstract class Iterator not directly constructable")},S=function(e,t){m?c(h,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===h)throw new y("You can't redefine this property");p(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};p(h,x)||S(x,b),!C&&p(h,v)&&h[v]!==Object||S(v,k),k.prototype=h,r({global:!0,constructor:!0,forced:C},{Iterator:k})},4605:function(e,t,n){"use strict";var r=n(8294),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},4645:function(e,t,n){"use strict";var r=n(6031),o=n(142),i=n(419),a=n(374),l=n(9988),s=n(5336),c=s(function(){return 4294967297!==[].push.call({length:4294967296},1)}),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=o(this),n=i(t),r=arguments.length;l(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return a(t,n),n}})},4651:function(e,t,n){"use strict";var r,o=n(5755),i=n(4396);try{r=[].__proto__===Array.prototype}catch(c){if(!c||"object"!==typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var a=!!r&&i&&i(Object.prototype,"__proto__"),l=Object,s=l.getPrototypeOf;e.exports=a&&"function"===typeof a.get?o([a.get]):"function"===typeof s&&function(e){return s(null==e?e:l(e))}},4661:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(2341),a=n(8371),l=n(2368),s=n(7993),c=n(306),u=o.has,d=o.remove;e.exports=function(e){var t=r(this),n=l(e),o=i(t);return a(t)<=n.size?s(t,function(e){n.includes(e)&&d(o,e)}):c(n.getIterator(),function(e){u(o,e)&&d(o,e)}),o}},4686:function(e,t,n){"use strict";var r=n(6031),o=n(7726),i=n(9441),a=!i("isSupersetOf",function(e){return!e});r({target:"Set",proto:!0,real:!0,forced:a},{isSupersetOf:o})},4736:function(e,t,n){"use strict";n(3561)},4752:function(e,t,n){"use strict";var r=n(9792),o=n(5326),i=n(142),a=n(2094),l=n(5266),s=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=i(e);if(r(t,s))return t[s];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},4849:function(e,t,n){"use strict";var r=n(8115),o=n(5336);e.exports=r&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},4875:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4914:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},4944:function(e,t,n){"use strict";var r=n(9331),o=n(5326),i=n(6387),a=n(6972),l=a("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=s(e),l))?n:c?i(t):"Object"===(r=i(t))&&o(t.callee)?"Arguments":r}},5013:function(e,t,n){"use strict";var r=n(6031),o=n(6015);o&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},5038:function(e,t,n){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(766);e.exports=i.call(r,o)},5049:function(e){"use strict";e.exports=Object},5080:function(e,t,n){"use strict";var r=n(4875),o=n(2662);e.exports=function(e){if(o){try{return r.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},5143:function(e){"use strict";e.exports=SyntaxError},5222:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,o){return r.fromToBase(e,t,n,o)}n.en.relativeTime=o,r.fromToBase=function(t,r,i,a,l){for(var s,c,u,d=i.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=p.length,h=0;h<f;h+=1){var m=p[h];m.d&&(s=a?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(s));if(u=s>0,g<=m.r||!m.r){g<=1&&h>0&&(m=p[h-1]);var v=d[m.l];l&&(g=l(""+g)),c="string"==typeof v?v.replace("%d",g):v(g,r,m.l,u);break}}if(r)return c;var b=u?d.future:d.past;return"function"==typeof b?b(c):b.replace("%s",c)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}})},5266:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},5300:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,r,o){var i,a=function(e,n,r){void 0===r&&(r={});var o=new Date(e),i=function(e,n){void 0===n&&(n={});var r=n.timeZoneName||"short",o=e+"|"+r,i=t[o];return i||(i=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),t[o]=i),i}(n,r);return i.formatToParts(o)},l=function(t,n){for(var r=a(t,n),i=[],l=0;l<r.length;l+=1){var s=r[l],c=s.type,u=s.value,d=e[c];d>=0&&(i[d]=parseInt(u,10))}var p=i[3],f=24===p?0:p,h=i[0]+"-"+i[1]+"-"+i[2]+" "+f+":"+i[4]+":"+i[5]+":000",m=+t;return(o.utc(h).valueOf()-(m-=m%1e3))/6e4},s=r.prototype;s.tz=function(e,t){void 0===e&&(e=i);var n,r=this.utcOffset(),a=this.toDate(),l=a.toLocaleString("en-US",{timeZone:e}),s=Math.round((a-new Date(l))/1e3/60),c=15*-Math.round(a.getTimezoneOffset()/15)-s;if(Number(c)){if(n=o(l,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var u=n.utcOffset();n=n.add(r-u,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},s.offsetName=function(e){var t=this.$x.$timezone||o.tz.guess(),n=a(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return n&&n.value};var c=s.startOf;s.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},o.tz=function(e,t,n){var r=n&&t,a=n||t||i,s=l(+o(),a);if("string"!=typeof e)return o(e).tz(a);var c=function(e,t,n){var r=e-60*t*1e3,o=l(r,n);if(t===o)return[r,t];var i=l(r-=60*(o-t)*1e3,n);return o===i?[r,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}(o.utc(e,r).valueOf(),s,a),u=c[0],d=c[1],p=o(u).utcOffset(d);return p.$x.$timezone=a,p},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(e){i=e}}})},5326:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5336:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},5479:function(e,t,n){"use strict";var r=n(1940),o=n(3560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},5543:function(e,t,n){"use strict";var r=n(4875),o=n(1595),i=n(6387),a=r.ArrayBuffer,l=r.TypeError;e.exports=a&&o(a.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new l("ArrayBuffer expected");return e.byteLength}},5573:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},5699:function(e,t,n){"use strict";var r=n(4944),o=TypeError;e.exports=function(e){if("Uint8Array"===r(e))return e;throw new o("Argument is not an Uint8Array")}},5755:function(e,t,n){"use strict";var r=n(766),o=n(3040),i=n(3599),a=n(7433);e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new o("a function is required");return a(r,i,e)}},5765:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{find:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return i(t,function(t,r){if(e(t,n++))return r(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},5781:function(e){"use strict";e.exports=Math.pow},5788:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5816:function(e,t,n){"use strict";var r=n(6972),o=n(7450),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},5901:function(e,t,n){"use strict";var r=n(7375),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",d=function(e,t){var n={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;d=d.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p,f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=d.split(t.delimiter,f),m=-1,g=t.charset;if(t.charsetSentinel)for(p=0;p<h.length;++p)0===h[p].indexOf("utf8=")&&(h[p]===u?g="utf-8":h[p]===c&&(g="iso-8859-1"),m=p,p=h.length);for(p=0;p<h.length;++p)if(p!==m){var v,b,x=h[p],y=x.indexOf("]="),w=-1===y?x.indexOf("="):y+1;-1===w?(v=t.decoder(x,a.decoder,g,"key"),b=t.strictNullHandling?null:""):(v=t.decoder(x.slice(0,w),a.decoder,g,"key"),b=r.maybeMap(s(x.slice(w+1),t),function(e){return t.decoder(e,a.decoder,g,"value")})),b&&t.interpretNumericEntities&&"iso-8859-1"===g&&(b=l(b)),x.indexOf("[]=")>-1&&(b=i(b)?[b]:b);var C=o.call(n,v);C&&"combine"===t.duplicates?n[v]=r.combine(n[v],b):C&&"last"!==t.duplicates||(n[v]=b)}return n},p=function(e,t,n,r){for(var o=r?t:s(t,n),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&n.parseArrays)a=n.allowEmptyArrays&&(""===o||n.strictNullHandling&&null===o)?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&l!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[],a[d]=o):"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o},f=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}var d=0;while(n.depth>0&&null!==(s=l.exec(i))&&d<n.depth){if(d+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+i.slice(s.index)+"]")}return p(u,t,n,r)}},h=function(e){if(!e)return a;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset,n="undefined"===typeof e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");var o="undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots;return{allowDots:o,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"===typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var n=h(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var o="string"===typeof e?d(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(o),l=0;l<a.length;++l){var s=a[l],c=f(s,o[s],n,"string"===typeof e);i=r.merge(i,c,n)}return!0===n.allowSparse?i:r.compact(i)}},5924:function(e,t,n){"use strict";var r=n(4875),o=n(7990),i=n(6387),a=function(e){return o.slice(0,e.length)===e};e.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}()},5979:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(8031),a=n(1833),l=n(5699),s=n(9926),c=n(4561),u=n(2351),d=c.i2c,p=c.i2cUrl,f=i("".charAt),h=o.Uint8Array,m=!h||!h.prototype.toBase64||!function(){try{var e=new h;e.toBase64(null)}catch(t){return!0}}();h&&r({target:"Uint8Array",proto:!0,forced:m},{toBase64:function(){var e=l(this),t=arguments.length?a(arguments[0]):void 0,n="base64"===u(t)?d:p,r=!!t&&!!t.omitPadding;s(this.buffer);for(var o,i="",c=0,h=e.length,m=function(e){return f(n,o>>6*e&63)};c+2<h;c+=3)o=(e[c]<<16)+(e[c+1]<<8)+e[c+2],i+=m(3)+m(2)+m(1)+m(0);return c+2===h?(o=(e[c]<<16)+(e[c+1]<<8),i+=m(3)+m(2)+m(1)+(r?"":"=")):c+1===h&&(o=e[c]<<16,i+=m(3)+m(2)+(r?"":"==")),i}})},5996:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6008:function(e,t,n){"use strict";var r,o,i,a=n(5336),l=n(5326),s=n(9241),c=n(2735),u=n(4752),d=n(7147),p=n(6972),f=n(4388),h=p("iterator"),m=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):m=!0);var g=!s(r)||a(function(){var e={};return r[h].call(e)!==e});g?r={}:f&&(r=c(r)),l(r[h])||d(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},6015:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=n(1595),a=n(4221),l=n(9926),s=n(5543),c=n(8308),u=n(8785),d=r.structuredClone,p=r.ArrayBuffer,f=r.DataView,h=Math.min,m=p.prototype,g=f.prototype,v=o(m.slice),b=i(m,"resizable","get"),x=i(m,"maxByteLength","get"),y=o(g.getInt8),w=o(g.setInt8);e.exports=(u||c)&&function(e,t,n){var r,o=s(e),i=void 0===t?o:a(t),m=!b||!b(e);if(l(e),u&&(e=d(e,{transfer:[e]}),o===i&&(n||m)))return e;if(o>=i&&(!n||m))r=v(e,0,i);else{var g=n&&!m&&x?{maxByteLength:x(e)}:void 0;r=new p(i,g);for(var C=new f(e),k=new f(r),S=h(i,o),T=0;T<S;T++)w(k,T,y(C,T))}return u||c(e),r}},6031:function(e,t,n){"use strict";var r=n(4875),o=n(9818).f,i=n(7302),a=n(7147),l=n(888),s=n(2303),c=n(6923);e.exports=function(e,t){var n,u,d,p,f,h,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||l(m,{}):r[m]&&r[m].prototype,u)for(d in t){if(f=t[d],e.dontCallGetSet?(h=o(u,d),p=h&&h.value):p=u[d],n=c(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==p){if(typeof f==typeof p)continue;s(f,p)}(e.sham||p&&p.sham)&&i(f,"sham",!0),a(u,d,f,e)}}},6205:function(e,t,n){"use strict";var r=n(6387),o=n(8031);e.exports=function(e){if("Function"===r(e))return o(e)}},6356:function(e,t,n){"use strict";var r=n(4944),o=n(227),i=n(1156),a=n(7450),l=n(6972),s=l("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[r(e)]}},6378:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:r.RFC3986,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986}},6387:function(e,t,n){"use strict";var r=n(8031),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},6427:function(e,t,n){"use strict";var r=n(8115),o=n(3560),i=n(6541);e.exports=function(e,t,n){r?o.f(e,t,i(0,n)):e[t]=n}},6467:function(e,t,n){"use strict";var r=n(876),o=n(5755),i=o([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o([n]):n}},6509:function(e){"use strict";e.exports=Math.floor},6540:function(e,t,n){"use strict";var r=n(7434);e.exports=r("document","documentElement")},6541:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6631:function(e){"use strict";e.exports=RangeError},6632:function(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},6676:function(e,t,n){"use strict";var r=n(8031);e.exports=r({}.isPrototypeOf)},6738:function(e){"use strict";e.exports=EvalError},6923:function(e,t,n){"use strict";var r=n(5336),o=n(5326),i=/#|\.prototype\./,a=function(e,t){var n=s[l(e)];return n===u||n!==c&&(o(t)?r(t):!!t)},l=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},6934:function(e){"use strict";var t=TypeError;e.exports=function(e){if("string"==typeof e)return e;throw new t("Argument is not a string")}},6972:function(e,t,n){"use strict";var r=n(4875),o=n(2940),i=n(9792),a=n(8287),l=n(2106),s=n(2371),c=r.Symbol,u=o("wks"),d=s?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return i(u,e)||(u[e]=l&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},6983:function(e,t,n){"use strict";var r=n(9283),o=n(8371),i=n(7993),a=n(2368);e.exports=function(e){var t=r(this),n=a(e);return!(o(t)>n.size)&&!1!==i(t,function(e){if(!n.includes(e))return!1},!0)}},7147:function(e,t,n){"use strict";var r=n(5326),o=n(3560),i=n(1940),a=n(888);e.exports=function(e,t,n,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:t;if(r(n)&&i(n,c,l),l.global)s?e[t]=n:a(t,n);else{try{l.unsafe?e[t]&&(s=!0):delete e[t]}catch(u){}s?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},7302:function(e,t,n){"use strict";var r=n(8115),o=n(3560),i=n(6541);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},7328:function(e,t,n){"use strict";var r,o,i,a=n(1395),l=n(4875),s=n(9241),c=n(7302),u=n(9792),d=n(9812),p=n(2094),f=n(3022),h="Object already initialized",m=l.TypeError,g=l.WeakMap,v=function(e){return i(e)?o(e):r(e,{})},b=function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var x=d.state||(d.state=new g);x.get=x.get,x.has=x.has,x.set=x.set,r=function(e,t){if(x.has(e))throw new m(h);return t.facade=e,x.set(e,t),t},o=function(e){return x.get(e)||{}},i=function(e){return x.has(e)}}else{var y=p("state");f[y]=!0,r=function(e,t){if(u(e,y))throw new m(h);return t.facade=e,c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:r,get:o,has:i,enforce:v,getterFor:b}},7375:function(e,t,n){"use strict";var r=n(6378),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!==typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},c=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(i(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach(function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"===typeof a&&n&&"object"===typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t},a)},u=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},d=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},p=1024,f=function(e,t,n,o,i){if(0===e.length)return e;var l=e;if("symbol"===typeof e?l=Symbol.prototype.toString.call(e):"string"!==typeof e&&(l=String(e)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",c=0;c<l.length;c+=p){for(var u=l.length>=p?l.slice(c,c+p):l,d=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===r.RFC1738&&(40===h||41===h)?d[d.length]=u.charAt(f):h<128?d[d.length]=a[h]:h<2048?d[d.length]=a[192|h>>6]+a[128|63&h]:h<55296||h>=57344?d[d.length]=a[224|h>>12]+a[128|h>>6&63]+a[128|63&h]:(f+=1,h=65536+((1023&h)<<10|1023&u.charCodeAt(f)),d[d.length]=a[240|h>>18]+a[128|h>>12&63]+a[128|h>>6&63]+a[128|63&h])}s+=d.join("")}return s},h=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:c}),n.push(u))}return l(t),e},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},g=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},v=function(e,t){return[].concat(e,t)},b=function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};e.exports={arrayToObject:s,assign:u,combine:v,compact:h,decode:d,encode:f,isBuffer:g,isRegExp:m,maybeMap:b,merge:c}},7401:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,o){var i,a,l=r.indentUnit,s={},c=o.htmlMode?t:n;for(var u in c)s[u]=c[u];for(var u in o)s[u]=o[u];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r,o=e.next();return"<"==o?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(h("atom","]]>")):null:e.match("--")?n(h("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=h("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=p,"tag bracket"):"&"==o?(r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"):(e.eatWhile(/[^&<]/),null)}function p(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,i=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return i="equals",null;if("<"==n){t.tokenize=d,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=f(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=p;break}return"string"};return t.isInAttribute=!0,t}function h(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){var r;while(null!=(r=t.next())){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e){return e&&e.toLowerCase()}function v(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function b(e){e.context&&(e.context=e.context.prev)}function x(e,t){var n;while(1){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(g(n))||!s.contextGrabbers[g(n)].hasOwnProperty(g(t)))return;b(e)}}function y(e,t,n){return"openTag"==e?(n.tagStart=t.column(),w):"closeTag"==e?C:y}function w(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",T):s.allowMissingTagName&&"endTag"==e?(a="tag bracket",T(e,t,n)):(a="error",w)}function C(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&s.implicitlyClosed.hasOwnProperty(g(n.context.tagName))&&b(n),n.context&&n.context.tagName==r||!1===s.matchClosing?(a="tag",k):(a="tag error",S)}return s.allowMissingTagName&&"endTag"==e?(a="tag bracket",k(e,t,n)):(a="error",S)}function k(e,t,n){return"endTag"!=e?(a="error",k):(b(n),y)}function S(e,t,n){return a="error",k(e,t,n)}function T(e,t,n){if("word"==e)return a="attribute",E;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||s.autoSelfClosers.hasOwnProperty(g(r))?x(n,r):(x(n,r),n.context=new v(n,r,o==n.indented)),y}return a="error",T}function E(e,t,n){return"equals"==e?O:(s.allowMissing||(a="error"),T(e,t,n))}function O(e,t,n){return"string"==e?D:"word"==e&&s.allowUnquoted?(a="string",T):(a="error",T(e,t,n))}function D(e,t,n){return"string"==e?D:T(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:y,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var n=t.tokenize(e,t);return(n||i)&&"comment"!=n&&(a=null,t.state=t.state(i||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+l;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=p&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==s.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var i=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(i&&i[1])while(o){if(o.tagName==i[2]){o=o.prev;break}if(!s.implicitlyClosed.hasOwnProperty(g(o.tagName)))break;o=o.prev}else if(i)while(o){var a=s.contextGrabbers[g(o.tagName)];if(!a||!a.hasOwnProperty(g(i[2])))break;o=o.prev}while(o&&o.prev&&!o.startOfLine)o=o.prev;return o?o.indent+l:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:s.htmlMode?"html":"xml",helperType:s.htmlMode?"html":"xml",skipAttribute:function(e){e.state==O&&(e.state=T)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7433:function(e,t,n){"use strict";var r=n(766),o=n(9963),i=n(3599),a=n(6632);e.exports=a||r.call(i,o)},7434:function(e,t,n){"use strict";var r=n(4875),o=n(5326),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},7450:function(e){"use strict";e.exports={}},7454:function(e,t,n){"use strict";var r=n(1491),o=n(5901),i=n(6378);e.exports={formats:i,parse:o,stringify:r}},7534:function(e,t,n){"use strict";var r=n(9241);e.exports=function(e){return r(e)||null===e}},7536:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}e.exports=t},7578:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(43),a=n(3636),l=n(8848),s=n(8637),c=n(926),u=n(2846),d=n(2633),p=n(7716),f=n(4388),h=!f&&!d("map",function(){}),m=!f&&!h&&p("map",TypeError),g=f||h||m,v=s(function(){var e=this.iterator,t=a(o(this.next,e)),n=this.done=!!t.done;if(!n)return c(e,this.mapper,[t.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:g},{map:function(e){a(this);try{i(e)}catch(t){u(this,"throw",t)}return m?o(m,this,e):new v(l(this),{mapper:e})}})},7610:function(e,t,n){"use strict";n(2345)},7695:function(e,t,n){"use strict";n.d(t,{oR:function(){return Me}});var r=n(4061);const o={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},i={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},a={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},l={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},s={dangerouslyHTMLString:!1,multiple:!0,position:o.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},c={rtl:!1,newestOnTop:!1,toastClassName:""},u={...s,...c};a.DEFAULT;var d=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(d||{}),p=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(p||{});const f={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},h={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},m={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},g={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},v="Toastify--animate Toastify__none-enter";function b(e,t=!1){var n;let r=f;if(e&&"string"!=typeof e)r=e;else switch(e){case"flip":r=g;break;case"zoom":r=m;break;case"slide":r=h;break}if(t)r.enter=v;else if(r.enter===v){const e=null==(n=r.exit.split("__")[1])?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${e}-enter`}return r}function x(e){return e.containerId||String(e.position)}const y="will-unmount";function w(e=o.TOP_RIGHT){return!!document.querySelector(`.${d.CSS_NAMESPACE}__toast-container--${e}`)}function C(e=o.TOP_RIGHT){return`${d.CSS_NAMESPACE}__toast-container--${e}`}function k(e,t,n=!1){const r=[`${d.CSS_NAMESPACE}__toast-container`,`${d.CSS_NAMESPACE}__toast-container--${e}`,n?`${d.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Z(t)?t({position:e,rtl:n,defaultClassName:r}):`${r} ${t||""}`}function S(e){var t;const{position:n,containerClassName:r,rtl:o=!1,style:i={}}=e,a=d.CSS_NAMESPACE,l=C(n),s=document.querySelector(`.${a}`),c=document.querySelector(`.${l}`),u=!!c&&!(null!=(t=c.className)&&t.includes(y)),p=s||document.createElement("div"),f=document.createElement("div");f.className=k(n,r,o),f.dataset.testid=`${d.CSS_NAMESPACE}__toast-container--${n}`,f.id=x(e);for(const d in i)if(Object.prototype.hasOwnProperty.call(i,d)){const e=i[d];f.style[d]=e}return s||(p.className=d.CSS_NAMESPACE,document.body.appendChild(p)),u||p.appendChild(f),f}function T(e){var t,n,r;const o="string"==typeof e?e:(null==(t=e.currentTarget)?void 0:t.id)||(null==(n=e.target)?void 0:n.id),i=document.getElementById(o);i&&i.removeEventListener("animationend",T,!1);try{E[o].unmount(),null==(r=document.getElementById(o))||r.remove(),delete E[o],delete L[o]}catch{}}const E=(0,r.reactive)({});function O(e,t){const n=document.getElementById(String(t));n&&(E[n.id]=e)}function D(e,t=!0){const n=String(e);if(!E[n])return;const r=document.getElementById(n);r&&r.classList.add(y),t?(I(e),r&&r.addEventListener("animationend",T,!1)):T(n),$.items=$.items.filter(t=>t.containerId!==e)}function A(e){for(const t in E)D(t,e);$.items=[]}function M(e,t){const n=document.getElementById(e.toastId);if(n){let r=e;r={...r,...b(r.transition)};const o=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${o}`,t&&t(n)}}function I(e){for(const t in L)if(t===e)for(const e of L[t]||[])M(e)}function N(e){const t=z().find(t=>t.toastId===e);return null==t?void 0:t.containerId}function R(e){return document.getElementById(e)}function F(e){const t=R(e.containerId);return t&&t.classList.contains(y)}function _(e){var t;const n=(0,r.isVNode)(e.content)?(0,r.toRaw)(e.content.props):null;return null!=n?n:(0,r.toRaw)(null!=(t=e.data)?t:{})}function P(e){return e?$.items.filter(t=>t.containerId===e).length>0:$.items.length>0}function j(){if($.items.length>0){const e=$.items.shift();B(null==e?void 0:e.toastContent,null==e?void 0:e.toastProps)}}const L=(0,r.reactive)({}),$=(0,r.reactive)({items:[]});function z(){const e=(0,r.toRaw)(L);return Object.values(e).reduce((e,t)=>[...e,...t],[])}function V(e){return z().find(t=>t.toastId===e)}function B(e,t={}){if(F(t)){const n=R(t.containerId);n&&n.addEventListener("animationend",H.bind(null,e,t),!1)}else H(e,t)}function H(e,t={}){const n=R(t.containerId);n&&n.removeEventListener("animationend",H.bind(null,e,t),!1);const o=L[t.containerId]||[],i=o.length>0;if(!i&&!w(t.position)){const e=S(t),n=(0,r.createApp)(ke,t);t.useHandler&&t.useHandler(n),n.mount(e),O(n,e.id)}i&&!t.updateId&&(t.position=o[0].position),(0,r.nextTick)(()=>{t.updateId?W.update(t):W.add(e,t)})}const W={add(e,t){const{containerId:n=""}=t;n&&(L[n]=L[n]||[],L[n].find(e=>e.toastId===t.toastId)||setTimeout(()=>{var e,r;t.newestOnTop?null==(e=L[n])||e.unshift(t):null==(r=L[n])||r.push(t),t.onOpen&&t.onOpen(_(t))},t.delay||0))},remove(e){if(e){const t=N(e);if(t){const n=L[t];let o=n.find(t=>t.toastId===e);L[t]=n.filter(t=>t.toastId!==e),!L[t].length&&!P(t)&&D(t,!1),j(),(0,r.nextTick)(()=>{null!=o&&o.onClose&&(o.onClose(_(o)),o=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){L[t]=L[t]||[];const n=L[t].find(t=>t.toastId===e.toastId),r=(null==n?void 0:n.position)!==e.position||(null==n?void 0:n.transition)!==e.transition,o={...e,disabledEnterTransition:!r,updateId:void 0};W.dismissForce(null==e?void 0:e.toastId),setTimeout(()=>{Me(o.content,o)},e.delay||0)}},clear(e,t=!0){e?D(e,t):A(t)},dismissCallback(e){var t;const n=null==(t=e.currentTarget)?void 0:t.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",W.dismissCallback,!1),setTimeout(()=>{W.remove(n)}))},dismiss(e){if(e){const t=z();for(const n of t)if(n.toastId===e){M(n,e=>{e.addEventListener("animationend",W.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=z();for(const n of t)if(n.toastId===e){const t=document.getElementById(e);t&&(t.remove(),t.removeEventListener("animationend",W.dismissCallback,!1),W.remove(e));break}}}},q=(0,r.reactive)({useHandler:void 0}),U=(0,r.reactive)({}),G=(0,r.reactive)({});function Y(){return Math.random().toString(36).substring(2,9)}function K(e){return"number"==typeof e&&!isNaN(e)}function X(e){return"string"==typeof e}function Z(e){return"function"==typeof e}function J(...e){return(0,r.mergeProps)(...e)}function Q(e){return"object"==typeof e&&(!(null==e||!e.render)||!(null==e||!e.setup)||"object"==typeof(null==e?void 0:e.type))}function ee(e={}){U[`${d.CSS_NAMESPACE}-default-options`]=e}function te(){return U[`${d.CSS_NAMESPACE}-default-options`]||u}function ne(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||e?"dark":"light"}var re=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(re||{});const oe={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:o.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:i.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:a.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},ie={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:a.DEFAULT},theme:{type:String,required:!1,default:i.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},ae=(0,r.defineComponent)({name:"ProgressBar",props:ie,setup(e,{attrs:t}){const n=(0,r.ref)(),o=(0,r.computed)(()=>e.hide?"true":"false"),i=(0,r.computed)(()=>({...t.style||{},animationDuration:`${!0===e.autoClose?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||!1===e.autoClose?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),a=(0,r.computed)(()=>[`${d.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${d.CSS_NAMESPACE}__progress-bar--controlled`:`${d.CSS_NAMESPACE}__progress-bar--animated`,`${d.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${d.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${d.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),l=(0,r.computed)(()=>`${a.value} ${(null==t?void 0:t.class)||""}`),s=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},c=()=>{e.isIn&&e.closeToast&&!1!==e.autoClose&&(e.closeToast(),s())},u=(0,r.computed)(()=>e.controlledProgress?null:c),p=(0,r.computed)(()=>e.controlledProgress?c:null);return(0,r.watchEffect)(()=>{n.value&&(s(),n.value.onanimationend=u.value,n.value.ontransitionend=p.value)}),()=>(0,r.createVNode)("div",{ref:n,role:"progressbar","aria-hidden":o.value,"aria-label":"notification timer",class:l.value,style:i.value},null)}}),le=(0,r.defineComponent)({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:i.AUTO},type:{type:String,required:!1,default:i.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>(0,r.createVNode)("button",{class:`${d.CSS_NAMESPACE}__close-button ${d.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[(0,r.createVNode)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[(0,r.createVNode)("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),se=({theme:e,type:t,path:n,...o})=>(0,r.createVNode)("svg",(0,r.mergeProps)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`},o),[(0,r.createVNode)("path",{d:n},null)]);function ce(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function ue(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function de(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function pe(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function fe(){return(0,r.createVNode)("div",{class:`${d.CSS_NAMESPACE}__spinner`},null)}const he={info:ue,warning:ce,success:de,error:pe,spinner:fe},me=e=>e in he;function ge({theme:e,type:t,isLoading:n,icon:o}){let i;const a=!!n||"loading"===t,l={theme:e,type:t};if(a&&(void 0===o||"boolean"==typeof o))return he.spinner();if(!1!==o){if(Q(o))i=(0,r.toRaw)(o);else if(Z(o)){const e=o;l.type=a?"loading":t,i=e(l),i=!i&&a?he.spinner():i}else(0,r.isVNode)(o)?i=(0,r.cloneVNode)(o,l):X(o)||K(o)?i=o:me(t)&&(i=he[t](l));return i}}const ve=()=>{};function be(e,t,n=d.COLLAPSE_DURATION){const{scrollHeight:r,style:o}=e,i=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${i}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,i)})})}function xe(e){const t=(0,r.ref)(!1),n=(0,r.ref)(!1),o=(0,r.ref)(!1),i=(0,r.ref)(re.Enter),a=(0,r.reactive)({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"||e.collapse,collapseDuration:e.collapseDuration||d.COLLAPSE_DURATION}),l=a.done||ve,s=(0,r.computed)(()=>a.appendPosition?`${a.enter}--${a.position}`:a.enter),c=(0,r.computed)(()=>a.appendPosition?`${a.exit}--${a.position}`:a.exit),u=(0,r.computed)(()=>e.pauseOnHover?{onMouseenter:x,onMouseleave:b}:{});function f(){const t=s.value.split(" ");m().addEventListener(p.ENTRANCE_ANIMATION_END,b,{once:!0});const n=e=>{const r=m();e.target===r&&(r.dispatchEvent(new Event(p.ENTRANCE_ANIMATION_END)),r.removeEventListener("animationend",n),r.removeEventListener("animationcancel",n),i.value===re.Enter&&"animationcancel"!==e.type&&r.classList.remove(...t))},r=()=>{const e=m();e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)};e.pauseOnFocusLoss&&g(),r()}function h(){if(!m())return;const e=()=>{const t=m();t.removeEventListener("animationend",e),a.collapse?be(t,l,a.collapseDuration):l()},t=()=>{const t=m();i.value=re.Exit,t&&(t.className+=` ${c.value}`,t.addEventListener("animationend",e))};n.value||(o.value?e():setTimeout(t))}function m(){return e.toastRef.value}function g(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function v(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function b(){(!e.loading.value||void 0===e.isLoading)&&(t.value=!0)}function x(){t.value=!1}function y(e){e&&(e.stopPropagation(),e.preventDefault()),n.value=!1}return(0,r.watchEffect)(h),(0,r.watchEffect)(()=>{const e=z();n.value=e.findIndex(e=>e.toastId===a.toastId)>-1}),(0,r.watchEffect)(()=>{void 0!==e.isLoading&&(e.loading.value?x():b())}),(0,r.onMounted)(f),(0,r.onUnmounted)(()=>{e.pauseOnFocusLoss&&v()}),{isIn:n,isRunning:t,hideToast:y,eventHandlers:u}}const ye=(0,r.defineComponent)({name:"ToastItem",inheritAttrs:!1,props:oe,setup(e){const t=(0,r.ref)(),n=(0,r.computed)(()=>!!e.isLoading),o=(0,r.computed)(()=>void 0!==e.progress&&null!==e.progress),i=(0,r.computed)(()=>ge(e)),a=(0,r.computed)(()=>[`${d.CSS_NAMESPACE}__toast`,`${d.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${d.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${d.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:l,isIn:s,hideToast:c,eventHandlers:u}=xe({toastRef:t,loading:n,done:()=>{W.remove(e.toastId)},...b(e.transition,e.disabledEnterTransition),...e});return()=>(0,r.createVNode)("div",(0,r.mergeProps)({id:e.toastId,class:a.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:t=>{e.closeOnClick&&c(),e.onClick&&e.onClick(t)}},u.value),[(0,r.createVNode)("div",{role:e.role,"data-testid":"toast-body",class:`${d.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[null!=i.value&&(0,r.createVNode)("div",{"data-testid":`toast-icon-${e.type}`,class:[`${d.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${d.CSS_NAMESPACE}--animate-icon ${d.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Q(i.value)?(0,r.h)((0,r.toRaw)(i.value),{theme:e.theme,type:e.type}):Z(i.value)?i.value({theme:e.theme,type:e.type}):i.value]),(0,r.createVNode)("div",{"data-testid":"toast-content"},[Q(e.content)?(0,r.h)((0,r.toRaw)(e.content),{toastProps:(0,r.toRaw)(e),closeToast:c,data:e.data,...e.expandCustomProps?e.contentProps:{contentProps:e.contentProps||{}}}):Z(e.content)?e.content({toastProps:(0,r.toRaw)(e),closeToast:c,data:e.data}):e.dangerouslyHTMLString?(0,r.h)("div",{innerHTML:e.content}):e.content])]),(void 0===e.closeButton||!0===e.closeButton)&&(0,r.createVNode)(le,{theme:e.theme,closeToast:e=>{e.stopPropagation(),e.preventDefault(),c()}},null),Q(e.closeButton)?(0,r.h)((0,r.toRaw)(e.closeButton),{closeToast:c,type:e.type,theme:e.theme}):Z(e.closeButton)?e.closeButton({closeToast:c,type:e.type,theme:e.theme}):null,(0,r.createVNode)(ae,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:s.value,type:e.type,hide:e.hideProgressBar,isRunning:l.value,autoClose:e.autoClose,controlledProgress:o.value,progress:e.progress,closeToast:e.isLoading?void 0:c},null)])}});let we=0;function Ce(){typeof window>"u"||(we&&window.cancelAnimationFrame(we),we=window.requestAnimationFrame(Ce),G.lastUrl!==window.location.href&&(G.lastUrl=window.location.href,W.clear()))}const ke=(0,r.defineComponent)({name:"ToastifyContainer",inheritAttrs:!1,props:oe,setup(e){const t=(0,r.computed)(()=>e.containerId),n=(0,r.computed)(()=>L[t.value]||[]),o=(0,r.computed)(()=>n.value.filter(t=>t.position===e.position));return(0,r.onMounted)(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(Ce)}),(0,r.onUnmounted)(()=>{typeof window<"u"&&we&&(window.cancelAnimationFrame(we),G.lastUrl="")}),()=>(0,r.createVNode)(r.Fragment,null,[o.value.map(e=>{const{toastId:t=""}=e;return(0,r.createVNode)(ye,(0,r.mergeProps)({key:t},e),null)})])}});let Se=!1;const Te={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Ee(){const e=[];return z().forEach(t=>{const n=document.getElementById(t.containerId);n&&!n.classList.contains(y)&&e.push(t)}),e}function Oe(e){const t=Ee().length,n=null!=e?e:0;return n>0&&t+$.items.length>=n}function De(e){Oe(e.limit)&&!e.updateId&&$.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Ae(e,t,n={}){if(Se)return;n=J(te(),{type:t},(0,r.toRaw)(n)),(!n.toastId||"string"!=typeof n.toastId&&"number"!=typeof n.toastId)&&(n.toastId=Y()),n={...n,..."loading"===n.type?Te:{},content:e,containerId:n.containerId||String(n.position)};const o=Number(null==n?void 0:n.progress);return!isNaN(o)&&o<0&&(n.progress=0),o>1&&(n.progress=1),"auto"===n.theme&&(n.theme=ne()),De(n),G.lastUrl=window.location.href,n.multiple?$.items.length?n.updateId&&B(e,n):B(e,n):(Se=!0,Me.clearAll(void 0,!1),setTimeout(()=>{B(e,n)},0),setTimeout(()=>{Se=!1},390)),n.toastId}const Me=(e,t)=>Ae(e,a.DEFAULT,t);function Ie(e,{pending:t,error:n,success:r},o){var i,a,l;let s;const c={...o||{},autoClose:!1};t&&(s=X(t)?Me.loading(t,c):Me.loading(t.render,{...c,...t}));const u={autoClose:null==(i=null==o?void 0:o.autoClose)||i,closeOnClick:null==(a=null==o?void 0:o.closeOnClick)||a,closeButton:null!=(l=null==o?void 0:o.autoClose)?l:null,isLoading:void 0,draggable:null,delay:100},d=(e,t,n)=>{if(null==t)return void Me.remove(s);const r={type:e,...u,...o,data:n},i=X(t)?{render:t}:t;return s?Me.update(s,{...r,...i,isLoading:!1}):Me(i.render,{...r,...i,isLoading:!1}),n},p=Z(e)?e():e;return p.then(e=>{d("success",r,e)}).catch(e=>{d("error",n,e)}),p}Me.info=(e,t)=>Ae(e,a.DEFAULT,{...t,type:a.INFO}),Me.error=(e,t)=>Ae(e,a.DEFAULT,{...t,type:a.ERROR}),Me.warning=(e,t)=>Ae(e,a.DEFAULT,{...t,type:a.WARNING}),Me.warn=Me.warning,Me.success=(e,t)=>Ae(e,a.DEFAULT,{...t,type:a.SUCCESS}),Me.loading=(e,t)=>Ae(e,a.DEFAULT,J(t,Te)),Me.dark=(e,t)=>Ae(e,a.DEFAULT,J(t,{theme:i.DARK})),Me.remove=e=>{e?W.dismiss(e):W.clear()},Me.clearAll=(e,t)=>{(0,r.nextTick)(()=>{W.clear(e,t)})},Me.isActive=e=>{let t=!1;return t=Ee().findIndex(t=>t.toastId===e)>-1,t},Me.update=(e,t={})=>{setTimeout(()=>{const n=V(e);if(n){const o=(0,r.toRaw)(n),{content:i}=o,a={...o,...t,toastId:t.toastId||e,updateId:Y()},l=a.render||i;delete a.render,Ae(l,a.type,a)}},0)},Me.done=e=>{Me.update(e,{isLoading:!1,progress:1})},Me.promise=Ie,Me.POSITION=o,Me.THEME=i,Me.TYPE=a,Me.TRANSITIONS=l;const Ne={install(e,t={}){q.useHandler=t.useHandler||(()=>{}),Re(t)}};function Re(e={}){const t=J(u,e);ee(t)}typeof window<"u"&&(window.Vue3Toastify=Ne)},7716:function(e,t,n){"use strict";var r=n(4875);e.exports=function(e,t){var n=r.Iterator,o=n&&n.prototype,i=o&&o[e],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(l){l instanceof t||(a=!1)}if(!a)return i}},7726:function(e,t,n){"use strict";var r=n(9283),o=n(8965).has,i=n(8371),a=n(2368),l=n(306),s=n(2846);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<n.size)return!1;var c=n.getIterator();return!1!==l(c,function(e){if(!o(t,e))return s(c,"normal",!1)})}},7875:function(e,t,n){"use strict";var r=n(6031),o=n(4661),i=n(5336),a=n(9441),l=!a("difference",function(e){return 0===e.size}),s=l||i(function(){var e={size:1,has:function(){return!0},keys:function(){var e=0;return{next:function(){var n=e++>1;return t.has(1)&&t.clear(),{done:n,value:2}}}}},t=new Set([1,2,3,4]);return 3!==t.difference(e).size});r({target:"Set",proto:!0,real:!0,forced:s},{difference:o})},7990:function(e,t,n){"use strict";var r=n(4875),o=r.navigator,i=o&&o.userAgent;e.exports=i?String(i):""},7993:function(e,t,n){"use strict";var r=n(8031),o=n(306),i=n(8965),a=i.Set,l=i.proto,s=r(l.forEach),c=r(l.keys),u=c(new a).next;e.exports=function(e,t,n){return n?o({iterator:c(e),next:u},t):s(e,t)}},8031:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},8072:function(e,t,n){"use strict";var r=n(3342),o=n(9241),i=n(9830),a=n(227),l=n(9641),s=n(6972),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,s=a(e,u);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!o(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},8083:function(e,t,n){"use strict";var r=n(1156),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},8115:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8125:function(e,t,n){"use strict";var r=n(2815),o=n(2277),i=n(4651);e.exports=r?function(e){return r(e)}:o?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return o(e)}:i?function(e){return i(e)}:null},8158:function(e,t,n){"use strict";var r=n(7147);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},8171:function(e,t,n){"use strict";var r=n(6205),o=n(43),i=n(5573),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},8286:function(e,t,n){"use strict";var r=n(8031),o=n(5336),i=n(6387),a=Object,l=r("".split);e.exports=o(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===i(e)?l(e,""):a(e)}:a},8287:function(e,t,n){"use strict";var r=n(8031),o=0,i=Math.random(),a=r(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},8294:function(e,t,n){"use strict";var r=n(5996);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},8301:function(e,t,n){"use strict";n.d(t,{Ay$:function(){return xc}});var r={};n.r(r),n.d(r,{Alert:function(){return D},Anchor:function(){return ne},AnchorLink:function(){return ie},Avatar:function(){return ce},Badge:function(){return fe},Breadcrumb:function(){return be},BreadcrumbItem:function(){return we},Button:function(){return je},ButtonGroup:function(){return Ve},Calendar:function(){return rt},Card:function(){return st},Carousel:function(){return pt},CarouselItem:function(){return bt},Checkbox:function(){return Ct},CheckboxButton:function(){return Et},CheckboxGroup:function(){return Mt},Col:function(){return Ft},Collapse:function(){return Lt},CollapsePane:function(){return Wt},ColorPicker:function(){return dn},Countdown:function(){return gn},DatePanel:function(){return yn},DatePicker:function(){return Sn},DateRangePicker:function(){return Dn},Drawer:function(){return Bn},DrawerController:function(){return zn},Empty:function(){return Un},Form:function(){return Br},FormGather:function(){return Kr},FormGroup:function(){return Jr},FormItem:function(){return to},GLOBAL_EVENT_KEYS:function(){return o.un},Icon:function(){return oo},IconPicker:function(){return so},Image:function(){return mo},ImageGroup:function(){return xo},ImagePreview:function(){return Co},Input:function(){return To},LayoutAside:function(){return Ao},LayoutBody:function(){return Ro},LayoutContainer:function(){return jo},LayoutFooter:function(){return Vo},LayoutHeader:function(){return qo},Link:function(){return Ko},List:function(){return ei},Loading:function(){return Nn},LoadingController:function(){return In},Menu:function(){return oi},Modal:function(){return ki},ModalController:function(){return wi},NoticeBar:function(){return Oi},NumberInput:function(){return Mi},Optgroup:function(){return zi},Option:function(){return Wi},Pager:function(){return Ji},PasswordInput:function(){return na},Print:function(){return Da},PrintPageBreak:function(){return Sa},Pulldown:function(){return Na},Radio:function(){return Pa},RadioButton:function(){return za},RadioGroup:function(){return Wa},Rate:function(){return Ya},Result:function(){return Ja},Row:function(){return nl},Select:function(){return il},Slider:function(){return xl},Split:function(){return cl},SplitPane:function(){return ml},Steps:function(){return kl},Switch:function(){return Ol},TabPane:function(){return Rl},TableSelect:function(){return $l},Tabs:function(){return Wl},Tag:function(){return Yl},Text:function(){return ts},TextEllipsis:function(){return Jl},Textarea:function(){return as},Tip:function(){return ds},Tips:function(){return us},Tooltip:function(){return hs},Tree:function(){return Ss},TreeSelect:function(){return Ms},Upload:function(){return zs},VxeAlert:function(){return O},VxeAnchor:function(){return te},VxeAnchorLink:function(){return oe},VxeAvatar:function(){return se},VxeBadge:function(){return pe},VxeBreadcrumb:function(){return ve},VxeBreadcrumbItem:function(){return ye},VxeButton:function(){return Pe},VxeButtonGroup:function(){return ze},VxeCalendar:function(){return nt},VxeCard:function(){return lt},VxeCarousel:function(){return dt},VxeCarouselItem:function(){return vt},VxeCheckbox:function(){return wt},VxeCheckboxButton:function(){return Tt},VxeCheckboxGroup:function(){return At},VxeCol:function(){return Rt},VxeCollapse:function(){return jt},VxeCollapsePane:function(){return Ht},VxeColorPicker:function(){return un},VxeCore:function(){return o.lM},VxeCountdown:function(){return mn},VxeDatePanel:function(){return xn},VxeDatePicker:function(){return kn},VxeDateRangePicker:function(){return On},VxeDrawer:function(){return Vn},VxeEmpty:function(){return qn},VxeForm:function(){return Vr},VxeFormGather:function(){return Yr},VxeFormGroup:function(){return Zr},VxeFormItem:function(){return eo},VxeIcon:function(){return ro},VxeIconPicker:function(){return lo},VxeImage:function(){return ho},VxeImageGroup:function(){return bo},VxeImagePreview:function(){return wo},VxeInput:function(){return So},VxeLayoutAside:function(){return Do},VxeLayoutBody:function(){return No},VxeLayoutContainer:function(){return Po},VxeLayoutFooter:function(){return zo},VxeLayoutHeader:function(){return Wo},VxeLink:function(){return Yo},VxeList:function(){return Qo},VxeLoading:function(){return Mn},VxeMenu:function(){return ri},VxeModal:function(){return Ci},VxeNoticeBar:function(){return Ei},VxeNumberInput:function(){return Ai},VxeOptgroup:function(){return $i},VxeOption:function(){return Hi},VxePager:function(){return Zi},VxePasswordInput:function(){return ta},VxePrint:function(){return Oa},VxePrintPageBreak:function(){return ka},VxePulldown:function(){return Ia},VxeRadio:function(){return _a},VxeRadioButton:function(){return $a},VxeRadioGroup:function(){return Ha},VxeRate:function(){return Ga},VxeResult:function(){return Za},VxeRow:function(){return tl},VxeSelect:function(){return ol},VxeSlider:function(){return bl},VxeSplit:function(){return sl},VxeSplitPane:function(){return hl},VxeSteps:function(){return Cl},VxeSwitch:function(){return El},VxeTabPane:function(){return Nl},VxeTableSelect:function(){return Ll},VxeTabs:function(){return Hl},VxeTag:function(){return Gl},VxeText:function(){return es},VxeTextEllipsis:function(){return Zl},VxeTextarea:function(){return is},VxeTip:function(){return cs},VxeTooltip:function(){return fs},VxeTree:function(){return ks},VxeTreeSelect:function(){return As},VxeUI:function(){return o.OE},VxeUpload:function(){return $s},VxeWatermark:function(){return tc},Watermark:function(){return rc},WatermarkController:function(){return nc},checkVersion:function(){return o.ps},clipboard:function(){return o.Ns},commands:function(){return o.Pi},component:function(){return o.s9},config:function(){return g},coreVersion:function(){return o.kI},createEvent:function(){return o.lh},drawer:function(){return hc},formats:function(){return o.Fx},getComponent:function(){return o.QQ},getConfig:function(){return o.zj},getI18n:function(){return o.TO},getIcon:function(){return o.sW},getLanguage:function(){return o.Z0},getSlotVNs:function(){return o.OW},getTheme:function(){return o.O4},globalEvents:function(){return o.Nh},globalResize:function(){return o.yD},globalStore:function(){return o.J3},handleCheckInfo:function(){return o.PH},hasComponent:function(){return o.IS},hasLanguage:function(){return o.Lh},hooks:function(){return o.JL},install:function(){return uc},interceptor:function(){return o.GY},loading:function(){return pc},log:function(){return o.Rm},menus:function(){return o.T_},modal:function(){return fc},permission:function(){return o.EK},print:function(){return gc},readFile:function(){return bc},renderCustomIcon:function(){return o.nQ},renderEmptyElement:function(){return o.C1},renderGlobalIcon:function(){return o.PO},renderer:function(){return o.Uk},saveFile:function(){return vc},setConfig:function(){return o.Nk},setI18n:function(){return o.Vx},setIcon:function(){return o.fg},setLanguage:function(){return o.xC},setTheme:function(){return o.Yl},setup:function(){return v},use:function(){return o.Yx},useFns:function(){return o.nb},usePermission:function(){return o.JT},useSize:function(){return o.XX},validators:function(){return o.y$},version:function(){return m},watermark:function(){return mc}});var o=n(3199),i=n(4061);const a=i.defineComponent;let l;const s=(0,i.reactive)({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),c=a({setup(){const e=o.OE.getComponent("vxe-modal"),t=o.OE.getComponent("vxe-drawer"),n=o.OE.getComponent("vxe-loading"),r=o.OE.getComponent("vxe-watermark");return()=>{const{modals:o,drawers:a,globalWatermark:l,globalLoading:c}=s;return[o.length?(0,i.h)("div",{key:1,class:"vxe-dynamics--modal"},o.map(t=>(0,i.h)(e,t))):(0,i.createCommentVNode)(),a.length?(0,i.h)("div",{key:2,class:"vxe-dynamics--drawer"},a.map(e=>(0,i.h)(t,e))):(0,i.createCommentVNode)(),l?(0,i.h)(r,l):(0,i.createCommentVNode)(),c?(0,i.h)(n,c):(0,i.createCommentVNode)()]}}}),u=(0,i.createApp)(c);function d(){l||(l=document.createElement("div"),l.className="vxe-dynamics",document.body.appendChild(l),u.mount(l))}const p="ui v4.9.42",f=o.Rm.create("warn",p),h=o.Rm.create("error",p),m="4.9.42";function g(e){return f("vxe.error.delFunc",["config","setConfig"]),(0,o.Nk)(e)}function v(e){return f("vxe.error.delFunc",["setup","setConfig"]),(0,o.Nk)(e)}o.OE.uiVersion=m,o.OE.dynamicApp=u,o.OE.config=g,o.OE.setup=v,(0,o.Nk)({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"rgb",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showErrorMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},menu:{},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0,isArrow:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},split:{resize:!0,itemConfig:{minWidth:40,minHeight:40},resizeConfig:{showTip:!0}},splitPane:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{copyConfig:{showMessage:!0}},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},treeSelect:{autoClose:!0,virtualYConfig:{enabled:!0,gt:0,oSize:2},treeConfig:{maxHeight:300,radioConfig:{},checkboxConfig:{},filterConfig:{autoExpandAll:!0}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0,autoSubmit:!0,maxSimultaneousUploads:5},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{},gantt:{}});const b="vxe-icon-";(0,o.fg)({LOADING:b+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:b+"arrow-down",BUTTON_LOADING:b+"spinner roll",BUTTON_TOOLTIP_ICON:b+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:b+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:b+"arrow-down",SELECT_LOADED:b+"spinner roll",SELECT_OPEN:b+"caret-down rotate180",SELECT_CLOSE:b+"caret-down",SELECT_ADD_OPTION:b+"add",ICON_PICKER_OPEN:b+"caret-down rotate180",ICON_PICKER_CLOSE:b+"caret-down",PAGER_HOME:b+"home-page",PAGER_END:b+"end-page",PAGER_JUMP_PREV:b+"arrow-double-left",PAGER_JUMP_NEXT:b+"arrow-double-right",PAGER_PREV_PAGE:b+"arrow-left",PAGER_NEXT_PAGE:b+"arrow-right",PAGER_JUMP_MORE:b+"ellipsis-h",RADIO_CHECKED:b+"radio-checked-fill",RADIO_UNCHECKED:b+"radio-unchecked",RADIO_DISABLED_UNCHECKED:b+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:b+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:b+"checkbox-checked-fill",CHECKBOX_UNCHECKED:b+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:b+"checkbox-unchecked-fill",INPUT_CLEAR:b+"error-circle-fill",INPUT_SEARCH:b+"search",INPUT_PLUS_NUM:b+"caret-up",INPUT_MINUS_NUM:b+"caret-down",NUMBER_INPUT_MINUS_NUM:b+"minus",NUMBER_INPUT_PLUS_NUM:b+"add",DATE_PICKER_DATE:b+"calendar",PASSWORD_INPUT_SHOW_PWD:b+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:b+"eye-fill",MODAL_ZOOM_MIN:b+"minus",MODAL_ZOOM_REVERT:b+"recover",MODAL_ZOOM_IN:b+"square",MODAL_ZOOM_OUT:b+"maximize",MODAL_CLOSE:b+"close",MODAL_INFO:b+"info-circle-fill",MODAL_SUCCESS:b+"success-circle-fill",MODAL_WARNING:b+"warning-circle-fill",MODAL_ERROR:b+"error-circle-fill",MODAL_QUESTION:b+"question-circle-fill",MODAL_LOADING:b+"spinner roll",DRAWER_CLOSE:b+"close",FORM_PREFIX:b+"question-circle-fill",FORM_SUFFIX:b+"question-circle-fill",FORM_FOLDING:b+"arrow-up rotate180",FORM_UNFOLDING:b+"arrow-up",FORM_VALID_ERROR_ICON:b+"warning-circle-fill",FORM_DESIGN_STYLE_SETTING:b+"layout",FORM_DESIGN_PROPS_PC:b+"pc",FORM_DESIGN_PROPS_MOBILE:b+"mobile",FORM_DESIGN_PROPS_ADD:b+"add",FORM_DESIGN_PROPS_EDIT:b+"edit",FORM_DESIGN_WIDGET_ADD:b+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:b+"copy",FORM_DESIGN_WIDGET_DELETE:b+"delete",FORM_DESIGN_WIDGET_SWAP_LR:b+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:b+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:b+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:b+"square-minus",LIST_DESIGN_FIELD_SETTING:b+"custom-column",LIST_DESIGN_LIST_SETTING:b+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:b+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:b+"delete",UPLOAD_FILE_ERROR:b+"warning-circle-fill",UPLOAD_FILE_ADD:b+"upload",UPLOAD_FILE_REMOVE:b+"delete",UPLOAD_FILE_DOWNLOAD:b+"download",UPLOAD_IMAGE_UPLOAD:b+"upload",UPLOAD_IMAGE_RE_UPLOAD:b+"repeat",UPLOAD_IMAGE_ADD:b+"add",UPLOAD_IMAGE_REMOVE:b+"close",UPLOAD_LOADING:b+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:b+"file",UPLOAD_FILE_TYPE_XLSX:b+"file-excel",UPLOAD_FILE_TYPE_XLS:b+"file-excel",UPLOAD_FILE_TYPE_PDF:b+"file-pdf",UPLOAD_FILE_TYPE_PNG:b+"file-image",UPLOAD_FILE_TYPE_GIF:b+"file-image",UPLOAD_FILE_TYPE_JPG:b+"file-image",UPLOAD_FILE_TYPE_JPEG:b+"file-image",UPLOAD_FILE_TYPE_MD:b+"file-markdown",UPLOAD_FILE_TYPE_PPD:b+"file-ppt",UPLOAD_FILE_TYPE_DOCX:b+"file-word",UPLOAD_FILE_TYPE_DOC:b+"file-word",UPLOAD_FILE_TYPE_ZIP:b+"file-zip",UPLOAD_FILE_TYPE_TXT:b+"file-txt",IMAGE_PREVIEW_CLOSE:b+"close",IMAGE_PREVIEW_PREVIOUS:b+"arrow-left",IMAGE_PREVIEW_NEXT:b+"arrow-right",IMAGE_PREVIEW_PCT_FULL:b+"pct-full",IMAGE_PREVIEW_PCT_1_1:b+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:b+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:b+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:b+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:b+"rotate-right",IMAGE_PREVIEW_PRINT:b+"print",IMAGE_PREVIEW_DOWNLOAD:b+"download",ALERT_CLOSE:b+"close",ALERT_INFO:b+"info-circle-fill",ALERT_SUCCESS:b+"success-circle-fill",ALERT_WARNING:b+"warning-circle-fill",ALERT_ERROR:b+"error-circle-fill",TREE_NODE_OPEN:b+"caret-right rotate90",TREE_NODE_CLOSE:b+"caret-right",TREE_NODE_LOADED:b+"spinner roll",TREE_SELECT_LOADED:b+"spinner roll",TREE_SELECT_OPEN:b+"caret-down rotate180",TREE_SELECT_CLOSE:b+"caret-down",TABLE_SELECT_LOADED:b+"spinner roll",TABLE_SELECT_OPEN:b+"caret-down rotate180",TABLE_SELECT_CLOSE:b+"caret-down",TABS_TAB_BUTTON_TOP:b+"arrow-up",TABS_TAB_BUTTON_BOTTOM:b+"arrow-down",TABS_TAB_BUTTON_LEFT:b+"arrow-left",TABS_TAB_BUTTON_RIGHT:b+"arrow-right",TABS_TAB_CLOSE:b+"close",TABS_TAB_REFRESH:b+"refresh",TABS_TAB_REFRESH_LOADING:b+"refresh roll",TEXT_COPY:b+"copy",TEXT_LOADING:b+"spinner roll",TAG_CLOSE:b+"close",TAG_LOADING:b+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:b+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:b+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:b+"arrow-up",CAROUSEL_VERTICAL_NEXT:b+"arrow-down",COLLAPSE_OPEN:b+"arrow-right rotate90",COLLAPSE_CLOSE:b+"arrow-right",EMPTY_DEFAULT:b+"empty",RESULT_INFO:b+"info-circle-fill",RESULT_SUCCESS:b+"success-circle-fill",RESULT_WARNING:b+"warning-circle-fill",RESULT_ERROR:b+"error-circle-fill",RESULT_QUESTION:b+"question-circle-fill",RESULT_LOADING:b+"spinner roll",RATE_CHECKED:b+"star-fill",RATE_UNCHECKED:b+"star",COLOR_PICKER_COLOR_COPY:b+"copy",COLOR_PICKER_EYE_DROPPER:b+"dropper",COLOR_PICKER_TPTY_OPEN:b+"arrow-down rotate180",COLOR_PICKER_TPTY_CLOSE:b+"arrow-down",SPLIT_TOP_ACTION:b+"arrow-up",SPLIT_BOTTOM_ACTION:b+"arrow-down",SPLIT_LEFT_ACTION:b+"arrow-left",SPLIT_RIGHT_ACTION:b+"arrow-right"});var x={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},y=n(1845),w=n.n(y);function C(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function k(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function S(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function T(e){return w().isArray(e)?e:e?[e]:[]}var E=a({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>(0,o.zj)().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>(0,o.zj)().alert.icon}},emits:["close"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$alert:d},t))}},f=e=>{p.dispatchEvent("close",{},e)},h={};Object.assign(d,p,h);const m=()=>{const{status:t,content:n,icon:a,title:s,showIcon:c,showClose:u}=e,p=r.default,h=r.title,m=r.icon;return(0,i.h)("div",{ref:l,class:["vxe-alert",{[`theme--${t}`]:t}]},[m||c&&t||a?(0,i.h)("div",{class:"vxe-alert--icon"},m?T(m({})):[(0,i.h)("i",{class:a||(0,o.sW)()[`ALERT_${null===t||void 0===t?void 0:t.toUpperCase()}`]})]):(0,o.C1)(d),(0,i.h)("div",{class:"vxe-alert--body"},[h||s?(0,i.h)("div",{class:"vxe-alert--title"},h?T(h({})):w().toValueString(s)):(0,o.C1)(d),(0,i.h)("div",{class:"vxe-alert--content"},p?T(p({})):w().toValueString(n))]),u?(0,i.h)("div",{class:"vxe-alert--close-btn",onClick:f},[(0,i.h)("i",{class:(0,o.sW)().ALERT_CLOSE})]):(0,o.C1)(d)])};return d.renderVN=m,d},render(){return this.renderVN()}});const O=Object.assign({},E,{install(e){e.component(E.name,E)}});u.use(O),o.OE.component(E);const D=O;var A=O;let M;function I(){return M||(M=new Image,M.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),M}function N(){return M||I()}const R={};function F(e){return R[e]||(R[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),R[e]}function _(e,t,n){if(e){const r=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,r&&r!==document.documentElement&&r!==document.body&&(n.top-=r.scrollTop,n.left-=r.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return _(e.offsetParent,t,n)}return n}function P(e){return e&&/^\d+%$/.test(e)}function j(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(F(t)))}function L(e,t){e&&j(e,t)&&(e.className=e.className.replace(F(t),""))}function $(e,t){e&&!j(e,t)&&(L(e,t),e.className=`${e.className} ${t}`)}function z(e){return e.ctrlKey||e.metaKey}function V(e,t="px"){return w().isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function B(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function H(e,t,n,r){let o,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;while(i&&i.nodeType&&i!==document){if(n&&j(i,n)&&(!r||r(i)))o=i;else if(i===t)return{flag:!n||!!o,container:t,targetElem:o};i=i.parentNode}return{flag:!1}}function W(e,t){return _(e,t,{left:0,top:0})}function q(e){const t=e.getBoundingClientRect(),n=t.top,r=t.left,{scrollTop:o,scrollLeft:i,visibleHeight:a,visibleWidth:l}=B();return{boundingTop:n,top:o+n,boundingLeft:r,left:i+r,visibleHeight:a,visibleWidth:l}}function U(e){if(e){const t=getComputedStyle(e),n=w().toNumber(t.paddingTop),r=w().toNumber(t.paddingBottom);return n+r}return 0}const G="scrollIntoViewIfNeeded",Y="scrollIntoView";function K(e){e&&(e[G]?e[G]():e[Y]&&e[Y]())}function X(e,t,n){const{placement:r,teleportTo:o,marginSize:i}=Object.assign({teleportTo:!1,marginSize:18},n);let a="bottom",l="",s="",c="";const u="";let d="";const p={};if(t&&e){const n=document.documentElement,f=document.body,h=e.offsetHeight,m=t.offsetHeight,g=t.offsetWidth,v=t.getBoundingClientRect(),b=e.getBoundingClientRect(),x=n.clientHeight||f.clientHeight,y=n.clientWidth||f.clientWidth;d=e.offsetWidth,o?(c=b.left,l=b.top+h,"top"===r?(a="top",l=b.top-m):r||(l+m+i>x&&(a="top",l=b.top-m),l<i&&(a="bottom",l=b.top+h)),c+g+i>y&&(c-=c+g+i-y),c<i&&(c=i)):("top"===r?(a="top",s=h):r||(l=h,b.top+b.height+i>x&&b.top-h-m>i&&(a="top",l="",s=h)),v.left+v.width+i>y&&(c=-(v.left+v.width+i-y))),w().isNumber(l)&&(p.top=V(l)),w().isNumber(s)&&(p.bottom=V(s)),w().isNumber(c)&&(p.left=V(c)),w().isNumber(u)&&(p.right=V(u)),w().isNumber(d)&&(p.minWidth=V(d))}return{top:l||0,bottom:s||0,left:c||0,right:u||0,style:p,placement:a}}function Z(e,t,n,r){const o=e.reactData.staticLinks,i=t.parentNode,a=r?r.linkConfig:null,l=a?a.children:o;i&&l&&(l.splice(w().arrayIndexOf(i.children,t),0,n),e.reactData.staticLinks=o.slice(0))}function J(e,t){const n=e.reactData.staticLinks,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticLinks=n.slice(0)}var Q=a({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:n}=t,r=(0,i.inject)("$xeAnchor",null),a=(0,i.inject)("$xeAnchorLink",null),l=w().uniqueId(),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:l,href:e.href,children:[]}),d={refElem:s},p=(0,i.computed)(()=>{const{href:t}=e;return r?r.reactData.activeHref===t:null}),f={},h={xID:l,props:e,context:t,reactData:c,linkConfig:u,getRefMaps:()=>d,getComputeMaps:()=>f},m=t=>{const{href:n}=e;r&&r.handleClickLink(t,n)};(0,i.watch)(()=>e.href,e=>{u.href=e}),(0,i.onMounted)(()=>{const e=s.value;r&&e&&Z(r,e,u,a)}),(0,i.onUnmounted)(()=>{r&&J(r,u)});const g=()=>{const{href:t,content:r,title:a}=e,l=n.default,c=n.sub,u=p.value;return(0,i.h)("div",{ref:s,class:["vxe-anchor-link",{"is--active":u}]},[(0,i.h)("a",{class:"vxe-anchor-link--item",href:t,title:a,onClick:m},l?l({}):w().toValueString(r)),c?(0,i.h)("div",{class:"vxe-anchor-link--sub-items"},c({})):(0,o.C1)(h)])};return(0,i.provide)("$xeAnchorLink",h),h.renderVN=g,h},render(){return this.renderVN()}}),ee=a({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.reactive)({activeHref:null,staticLinks:[],containerElem:null}),u={refElem:l},d=(0,i.computed)(()=>{const e=[];return w().eachTree(c.staticLinks,t=>{e.push(t.href||"")},{children:"children"}),e}),p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$anchor:f},t))}},m=()=>{const{container:t}=e;if(t){if(w().isElement(t))return t;if(w().isString(t))return document.querySelector(t);if(w().isFunction(t))return t({$anchor:f})}return null},g=e=>{c.activeHref=e,r("update:modelValue",e)},v=()=>{const e=d.value,{containerElem:t}=c;if(t){const n=t.querySelectorAll(e.map(e=>`${e}`).join(","));for(let e=0;e<n.length;e++){const t=n[e],r=t.getBoundingClientRect();if(r.top>0){const e=t.id;c.activeHref=`#${e}`;break}}}},b=()=>{const{containerElem:e}=c;e&&e.removeEventListener("scroll",v)},x=()=>{const e=m();c.containerElem=e,e&&e.addEventListener("scroll",v,{passive:!1})},y=()=>{(0,i.nextTick)(()=>{const{activeHref:e}=c,t=l.value,n=s.value;if(t&&n&&e){const r=t.querySelector(`[href="${e}"]`);if(r){const{top:e}=W(r,t);n.style.top=`${e}px`}}})},C={handleClickLink(e,t){e.preventDefault();const n=document.getElementById(`${t}`.replace("#",""));n&&n.scrollIntoView({behavior:"smooth"}),g(t),h.dispatchEvent("click",{href:t},e)}};Object.assign(f,h,C);const k=e=>{const t=[];return e&&e.forEach(e=>{const n=e.children;n&&n.length?t.push((0,i.h)(Q,{content:e.content,title:e.title,href:e.href},{sub:()=>k(n)})):t.push((0,i.h)(Q,{content:e.content,title:e.title,href:e.href}))}),t},S=()=>{const{options:t,showMarker:r}=e,a=n.default;return(0,i.h)("div",{ref:l,class:["vxe-anchor",{"is--marker":r}]},[(0,i.h)("div",{class:"vxe-anchor--list"},a?a({}):k(t)),r?(0,i.h)("div",{ref:s,class:"vxe-anchor--marker"}):(0,o.C1)(f)])};return(0,i.watch)(()=>e.modelValue,e=>{c.activeHref=e}),(0,i.watch)(()=>c.activeHref,()=>{y()}),(0,i.watch)(()=>e.container,()=>{b(),x()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{x()})}),(0,i.onBeforeUnmount)(()=>{b()}),(0,i.provide)("$xeAnchor",f),f.renderVN=S,f},render(){return this.renderVN()}});const te=Object.assign({},ee,{install(e){e.component(ee.name,ee)}});u.use(te),o.OE.component(ee);const ne=te;var re=te;const oe=Object.assign({},Q,{install(e){e.component(Q.name,Q)}});u.use(oe),o.OE.component(Q);const ie=oe;var ae=oe,le=a({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>(0,o.zj)().avatar.circle},status:{type:String,default:()=>(0,o.zj)().avatar.status},size:{type:String,default:()=>(0,o.zj)().avatar.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),d=(0,i.computed)(()=>{const{count:t}=e;return t?w().toNumber(t):0}),p={},f={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$avatar:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{icon:t,content:n,src:r}=e;return t?(0,i.h)("span",{class:"vxe-avatar--icon"},[(0,i.h)("i",{class:t})]):n?(0,i.h)("span",{class:"vxe-avatar--content"},`${n}`):r?(0,i.h)("img",{class:"vxe-avatar--img",src:r}):(0,o.C1)(f)},b=()=>{const{circle:t,dot:n,status:r}=e,s=a.value,c=d.value,p=u.value;return(0,i.h)("div",{ref:l,class:["vxe-avatar",{[`size--${s}`]:s,[`theme--${r}`]:r,"is--circle":t,"is--dot":n}],style:p},[v(),c?(0,i.h)("span",{class:"vxe-avatar--count"},c>99?"99+":`${c}`):(0,o.C1)(f)])};return f.renderVN=b,f},render(){return this.renderVN()}});const se=Object.assign({},le,{install(e){e.component(le.name,le)}});u.use(se),o.OE.component(le);const ce=se;var ue=se,de=a({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>(0,o.zj)().badge.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{count:t}=e;return t?w().toNumber(t):0}),p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$badge:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{dot:t,content:n}=e,a=s.value,c=d.value,u=r.default;return(0,i.h)("div",{ref:l,class:["vxe-badge",{[`size--${a}`]:a,"is--dot":t}]},[u||n?(0,i.h)("div",{class:"vxe-badge--content"},u?u({}):`${n||""}`):[],c?(0,i.h)("span",{class:"vxe-badge--count"},c>99?"99+":`${c}`):(0,o.C1)(f)])};return f.renderVN=v,f},render(){return this.renderVN()}});const pe=Object.assign({},de,{install(e){e.component(de.name,de)}});u.use(pe),o.OE.component(de);const fe=pe;var he=pe,me=a({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.inject)("$xeBreadcrumb",null),s=(0,i.reactive)({}),c={refElem:a},u=(0,i.computed)(()=>l?l.props.separator:""),d=t=>{if(l){const n={title:e.title,routerLink:e.routerLink};l.handleClickLink(t,n)}},p={},f={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p},h=()=>{const{title:t,routerLink:r}=e,l=u.value,s=n.default;return(0,i.h)("span",{ref:a,class:"vxe-breadcrumb-item",onClick:d},[(0,i.h)("span",{class:"vxe-breadcrumb-item--content"},[r?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-breadcrumb-item--content-link",title:t,to:r},{default(){return(0,i.h)("span",{class:"vxe-breadcrumb-item--content-text"},s?s({}):`${t||""}`)}}):(0,i.h)("span",{class:"vxe-breadcrumb-item--content-text"},s?s({}):`${t||""}`)]),l?(0,i.h)("span",{class:"vxe-breadcrumb-item--separator"},`${l}`):(0,o.C1)(f)])};return f.renderVN=h,f},render(){return this.renderVN()}}),ge=a({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>(0,o.zj)().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$breadcrumb:d},t))}},f={handleClickLink(e,t){p.dispatchEvent("click",{option:t},e)}};Object.assign(d,p,f);const h=()=>{const{options:t}=e;return t&&t.length?t.map(e=>(0,i.h)(me,{title:e.title,routerLink:e.routerLink})):[]},m=()=>{const e=r.default;return(0,i.h)("div",{ref:l,class:"vxe-breadcrumb"},e?e({}):h())};return(0,i.provide)("$xeBreadcrumb",d),d.renderVN=m,d},render(){return this.renderVN()}});const ve=Object.assign({},ge,{install(e){e.component(ge.name,ge)}});u.use(ve),o.OE.component(ge);const be=ve;var xe=ve;const ye=Object.assign({},me,{install(e){e.component(me.name,me)}});u.use(ye),o.OE.component(me);const we=ye;var Ce=ye,ke=n(3333);function Se(e){return e&&!1!==e.enabled}function Te(){return ke.Ay.getNext()}function Ee(){return ke.Ay.getCurrent()}function Oe(){return ke.Ay.getSubNext()}function De(){return ke.Ay.getSubCurrent()}function Ae(e,t){return w().eqNull(e)?t:e}function Me(e,t){if(e){const n=(0,o.zj)().translate;return w().toValueString(n?n(""+e,t):e)}return""}function Ie(e){return null===e||void 0===e||""===e}function Ne(e){return w().isBoolean(e)?e:null}var Re=a({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>(0,o.zj)().tooltip.size||(0,o.zj)().size},selector:String,trigger:{type:String,default:()=>(0,o.zj)().tooltip.trigger||"hover"},theme:{type:String,default:()=>(0,o.zj)().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],width:{type:[String,Number],default:()=>(0,o.zj)().tooltip.Width},height:{type:[String,Number],default:()=>(0,o.zj)().tooltip.height},minWidth:{type:[String,Number],default:()=>(0,o.zj)().tooltip.minWidth},minHeight:{type:[String,Number],default:()=>(0,o.zj)().tooltip.minHeight},maxWidth:{type:[String,Number],default:()=>(0,o.zj)().tooltip.maxWidth},maxHeight:{type:[String,Number],default:()=>(0,o.zj)().tooltip.maxHeight},isArrow:{type:Boolean,default:()=>(0,o.zj)().tooltip.isArrow},enterable:{type:Boolean,default:()=>(0,o.zj)().tooltip.enterable},enterDelay:{type:Number,default:()=>(0,o.zj)().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>(0,o.zj)().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.reactive)({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),c={},u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.computed)(()=>{const{width:t,height:n,minHeight:r,minWidth:o,maxHeight:i,maxWidth:a}=e,l={};return t&&(l.width=V(t)),n&&(l.height=V(n)),o&&(l.minWidth=V(o)),r&&(l.minHeight=V(r)),a&&(l.maxWidth=V(a)),i&&(l.maxHeight=V(i)),l}),f={refElem:u},h={xID:a,props:e,context:t,reactData:s,internalData:c,getRefMaps:()=>f};let m={};const g=()=>{const{tipTarget:e,tipStore:t}=s;if(e){const{scrollTop:n,scrollLeft:r,visibleWidth:o}=B(),{top:i,left:a}=q(e),l=u.value;if(!l)return;const s=6,c=l.offsetHeight,d=l.offsetWidth;let p=a,f=i-c-s;p=Math.max(s,a+Math.floor((e.offsetWidth-d)/2)),p+d+s>r+o&&(p=r+o-d-s),i-c<n+s&&(t.placement="bottom",f=i+e.offsetHeight+s),t.style.top=`${f}px`,t.style.left=`${p}px`,t.arrowStyle.left=a-p+e.offsetWidth/2+"px"}},v=e=>{e!==s.visible&&(s.visible=e,s.isUpdate=!0,r("update:modelValue",e))},b=()=>{s.tipZindex<Ee()&&(s.tipZindex=Te())},x=()=>{s.visible?m.close():D(s.target||A(),e.content)},y=()=>{D(s.target||A(),e.content)},C=()=>{const{trigger:t,enterable:n,leaveDelay:r}=e;s.tipActive=!1,n&&"hover"===t?setTimeout(()=>{s.tipActive||m.close()},r):m.close()},k=()=>{s.tipActive=!0},S=()=>{const{trigger:t,enterable:n,leaveDelay:r}=e;s.tipActive=!1,n&&"hover"===t&&setTimeout(()=>{s.tipActive||m.close()},r)},E=()=>{const{tipStore:t}=s,n=u.value;if(n){const e=n.parentNode;e||document.body.appendChild(n)}return v(!0),b(),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||s.tipZindex},t.arrowStyle={left:"50%"},m.updatePlacement()},O=()=>{c.showDelayTip=w().debounce(()=>{s.tipActive&&E()},e.enterDelay,{leading:!1,trailing:!0})},D=(t,r)=>{const o=n.content;if(!o&&(""===r||w().eqNull(r)))return(0,i.nextTick)();if(t){const{showDelayTip:n}=c,{trigger:o,enterDelay:i}=e;if(s.tipActive=!0,s.tipTarget=t,s.tipContent=r,!i||"hover"!==o)return E();n&&n()}return(0,i.nextTick)()},A=()=>{const{selector:t}=e;if(t){if(w().isElement(t))return t;if(w().isString(t))return document.querySelector(t)}return null};m={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$tooltip:h},t))},open(e,t){return D(e||s.target||A(),t)},close(){return s.tipTarget=null,s.tipActive=!1,Object.assign(s.tipStore,{style:{},placement:"",arrowStyle:null}),v(!1),(0,i.nextTick)()},toVisible(e,t){return D(e,t)},updatePlacement(){return(0,i.nextTick)().then(()=>{const{tipTarget:e}=s,t=u.value;if(e&&t)return g(),(0,i.nextTick)().then(()=>{g()})})},isActived(){return s.tipActive},setActived(e){s.tipActive=!!e}};const M=e=>{e.stopPropagation()};Object.assign(h,m);const I=()=>{const{useHTML:t}=e,{tipContent:r}=s,o=p.value,a=n.content,l=[];return a?l.push((0,i.h)("div",{key:1},T(a({})))):t?l.push((0,i.h)("div",{key:2,innerHTML:r})):l.push((0,i.h)("span",{key:3},`${r}`)),(0,i.h)("div",{key:3,ref:d,class:"vxe-tooltip--content",style:o},l)},N=()=>{const{popupClassName:t,theme:r,isArrow:o,enterable:a}=e,{tipActive:c,visible:d,tipStore:p}=s,f=n.default,m=l.value;let g;return a&&(g={onMouseenter:k,onMouseleave:S}),(0,i.h)("div",Object.assign({ref:u,class:["vxe-tooltip--wrapper",`theme--${r}`,t?w().isFunction(t)?t({$tooltip:h}):t:"",{[`size--${m}`]:m,[`placement--${p.placement}`]:p.placement,"is--enterable":a,"is--visible":d,"is--arrow":o,"is--active":c}],style:p.style},g),[I(),(0,i.h)("div",{class:"vxe-tooltip--arrow",style:p.arrowStyle}),...f?T(f({})):[]])};return(0,i.watch)(()=>e.enterDelay,()=>{O()}),(0,i.watch)(()=>e.content,e=>{s.tipContent=e}),(0,i.watch)(()=>e.modelValue,t=>{s.isUpdate||(t?D(s.target||A(),e.content):m.close()),s.isUpdate=!1}),(0,i.onMounted)(()=>{const t=d.value;t&&t.addEventListener("wheel",M,{passive:!1}),(0,i.nextTick)(()=>{const{trigger:t,content:n}=e,r=u.value;if(r){const o=r.parentNode;if(o){s.tipContent=n,s.tipZindex=Te(),w().arrayEach(r.children,(e,t)=>{t>1&&(o.insertBefore(e,r),s.target||(s.target=e))}),o.removeChild(r);const{target:i}=s;i&&("hover"===t?(i.onmouseenter=y,i.onmouseleave=C):"click"===t&&(i.onclick=x)),e.modelValue&&D(i||A(),n)}}})}),(0,i.onBeforeUnmount)(()=>{const{target:e}=s,t=u.value;e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null);const n=d.value;if(n&&n.removeEventListener("wheel",M),t){const e=t.parentNode;e&&e.removeChild(t)}}),O(),h.renderVN=N,h},render(){return this.renderVN()}});const Fe=a({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>(0,o.zj)().button.size||(0,o.zj)().size},zIndex:Number,name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,iconRender:Object,prefixIcon:String,prefixRender:Object,suffixIcon:String,suffixRender:Object,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>(0,o.zj)().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("$xeButtonGroup",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),{computePermissionInfo:h}=(0,o.JT)(e),m=(0,i.reactive)({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),g={showTime:void 0,tooltipTimeout:void 0},v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y={refElem:v},C={xID:d,props:e,context:t,reactData:m,internalData:g,getRefMaps:()=>y};let k={};const S=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().button.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),E=(0,i.computed)(()=>{const{disabled:t}=e,n=h.value;return t||n.disabled}),O=(0,i.computed)(()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1}),D=(0,i.computed)(()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||u&&"text"===u.props.mode?"text":"button"}),A=(0,i.computed)(()=>{const{status:t}=e;return t||(u?u.props.status:"")}),M=(0,i.computed)(()=>{const{align:t}=e;return t||!!u&&u.props.align}),I=(0,i.computed)(()=>{const{round:t}=e;return t||!!u&&u.props.round}),N=(0,i.computed)(()=>{const{circle:t}=e;return t||!!u&&u.props.circle}),R=(0,i.computed)(()=>{const{options:t}=e;return t?t.filter(e=>{const{permissionCode:t}=e;return!t||o.EK.checkVisible(t)}):[]}),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().button.prefixTooltip,e.prefixTooltip)),_=(0,i.computed)(()=>Object.assign({},(0,o.zj)().button.suffixTooltip,e.suffixTooltip)),P=()=>{const{zIndex:t}=e;t?m.panelIndex=t:m.panelIndex<Ee()&&(m.panelIndex=Te())},j=()=>{const{placement:t}=e,{panelIndex:n}=m,r=b.value,o=x.value,a=S.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});m.panelStyle=i,m.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},L=t=>{u&&u.handleClick({name:e.name},t),te("click",{$event:t},t)},$=(e,t)=>{const{$event:n}=e;Z(),te("dropdown-click",{name:t.name,option:t},n)},z=e=>{const t=0===e.button;t&&e.stopPropagation()},V=e=>{const t=e.currentTarget,n=x.value,{flag:r,targetElem:o}=H(e,t,"vxe-button");r&&(n&&(n.dataset.active="N"),m.visiblePanel=!1,setTimeout(()=>{n&&"Y"===n.dataset.active||(m.isAniVisible=!1)},350),te("dropdown-click",{name:o.getAttribute("name"),option:null},e))},B=()=>{const e=x.value;e&&(e.dataset.active="Y",m.isAniVisible=!0,setTimeout(()=>{"Y"===e.dataset.active&&(m.visiblePanel=!0,P(),j(),setTimeout(()=>{m.visiblePanel&&j()},50))},20))},W=t=>{const{loading:n}=e,r=E.value;r||n||(K(),U(t))},q=e=>{Z(),G(e)},U=e=>{te("mouseenter",{},e)},G=e=>{te("mouseleave",{},e)},Y=t=>{const{loading:n,trigger:r}=e,o=E.value;o||n||("click"===r&&(m.visiblePanel?Z():K()),L(t))},K=()=>{const{trigger:t}=e,n=x.value;return n&&(n.dataset.active="Y",m.initialized||(m.initialized=!0),g.showTime=setTimeout(()=>{"Y"===n.dataset.active?B():m.isAniVisible=!1},"click"===t?50:250)),(0,i.nextTick)()},Z=()=>{const e=x.value;return clearTimeout(g.showTime),e?(e.dataset.active="N",setTimeout(()=>{"Y"!==e.dataset.active&&(m.visiblePanel=!1,setTimeout(()=>{"Y"!==e.dataset.active&&(m.isAniVisible=!1)},350))},100)):(m.isAniVisible=!1,m.visiblePanel=!1),(0,i.nextTick)()},J=()=>{Z()},Q=(e,t)=>(0,i.h)(Re,{useHTML:e.useHTML,content:e.content,enterable:e.enterable,theme:e.theme},{default(){return(0,i.h)("span",{class:`vxe-button--item vxe-button--tooltip-${t}-icon`},[(0,i.h)("i",{class:e.icon||(0,o.sW)().BUTTON_TOOLTIP_ICON})])}}),ee=()=>{const{content:t,suffixIcon:r,loading:a,prefixTooltip:l,suffixTooltip:s,suffixRender:c}=e,u=e.prefixIcon||e.icon,d=e.prefixRender||e.iconRender,p=F.value,f=_.value,h=n.prefix||n.icon,m=n.suffix,g=n.default,v=[];if(l&&v.push(Q(p,"prefix")),a)v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--loading-icon",(0,o.sW)().BUTTON_LOADING]}));else if(h)v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--custom-prefix-icon"},h({})));else if(d){const e=o.Uk.get(d.name),t=e?e.renderButtonPrefix:null;v.push((0,i.h)("span",{class:["vxe-button--item vxe-button--custom-prefix-icon"]},t?T(t(d,{$button:C})):[]))}else u&&v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--prefix-icon",u]}));if(g?v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--content"},g({}))):t&&v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--content"},Me(t))),m)v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--custom-suffix-icon"},m({})));else if(c){const e=o.Uk.get(c.name),t=e?e.renderButtonSuffix:null;v.push((0,i.h)("span",{class:["vxe-button--item vxe-button--custom-suffix-icon"]},t?T(t(c,{$button:C})):[]))}else r&&v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--suffix-icon",r]}));return s&&v.push(Q(f,"suffix")),v},te=(e,t,n)=>{r(e,(0,o.lh)(n,{$button:C},t))};k={dispatchEvent:te,openPanel:K,closePanel:Z,focus(){const e=b.value;return e&&e.focus(),(0,i.nextTick)()},blur(){const e=b.value;return e&&e.blur(),(0,i.nextTick)()}};const ne=e=>{const t=x.value;m.visiblePanel&&!H(e,t).flag&&Z()},re=e=>{const t=E.value,{visiblePanel:n}=m;if(!t){const t=v.value,r=x.value;m.isActivated=H(e,t).flag||H(e,r).flag,n&&!m.isActivated&&Z()}},oe=()=>{const{visiblePanel:e}=m;e&&j()};Object.assign(C,k);const ie=()=>{const{className:t,popupClassName:r,trigger:a,title:l,routerLink:s,type:c,destroyOnClose:u,name:d,loading:f}=e,{initialized:g,isAniVisible:y,visiblePanel:k}=m,T=O.value,F=D.value,_=A.value,P=I.value,j=M.value,H=N.value,K=S.value,X=E.value,Z=h.value,Q=R.value,te=p.value,ne=n.dropdowns;if(!Z.visible)return(0,o.C1)(C);if(ne||Q.length){const e={},n={};return"hover"===a&&(e.onMouseenter=W,e.onMouseleave=q,n.onMouseenter=B,n.onMouseleave=J),(0,i.h)("div",{ref:v,class:["vxe-button--dropdown",t?w().isFunction(t)?t({$button:C}):t:"",{[`size--${te}`]:te,"is--active":k}]},[s?(0,i.h)((0,i.resolveComponent)("router-link"),Object.assign({ref:b,class:["vxe-button","vxe-button--link",`type--${F}`,j?`align--${j}`:"",t?w().isFunction(t)?t({$button:C}):t:"",{[`size--${te}`]:te,[`theme--${_}`]:_,"is--round":P,"is--circle":H,"is--disabled":X||f,"is--loading":f}],title:l,name:d,type:T?c:"button",disabled:X||f,to:s,onClick:Y},e),{default(){return ee().concat([(0,i.h)("i",{class:`vxe-button--dropdown-arrow ${(0,o.sW)().BUTTON_DROPDOWN}`})])}}):(0,i.h)("button",Object.assign({ref:b,class:["vxe-button",`type--${F}`,j?`align--${j}`:"",t?w().isFunction(t)?t({$button:C}):t:"",{[`size--${te}`]:te,[`theme--${_}`]:_,"is--round":P,"is--circle":H,"is--disabled":X||f,"is--loading":f}],title:l,name:d,type:T?c:"button",disabled:X||f,onClick:Y},e),ee().concat([(0,i.h)("i",{class:`vxe-button--dropdown-arrow ${(0,o.sW)().BUTTON_DROPDOWN}`})])),(0,i.h)(i.Teleport,{to:"body",disabled:!K||!g},[(0,i.h)("div",Object.assign({ref:x,class:["vxe-button--dropdown-panel",r?w().isFunction(r)?r({$button:C}):r:"",{[`size--${te}`]:te,"is--transfer":K,"ani--leave":y,"ani--enter":k}],placement:m.panelPlacement,style:m.panelStyle},n),g&&(k||y)?[ne?(0,i.h)("div",{class:"vxe-button--dropdown-wrapper",onMousedown:z,onClick:V},g&&(!u||(k||y))?ne({}):[]):(0,i.h)("div",{class:"vxe-button--dropdown-wrapper"},g&&(!u||(k||y))?Q.map((e,t)=>(0,i.h)(Fe,{key:t,type:e.type,mode:e.mode||F,className:e.className,name:e.name,routerLink:e.routerLink,permissionCode:e.permissionCode,title:e.title,content:e.content,status:e.status,icon:e.icon,round:w().isBoolean(e.round)?e.round:"text"!==F&&P,circle:w().isBoolean(e.circle)?e.circle:"text"!==F&&H,disabled:e.disabled,loading:e.loading,align:e.align,onClick(t){$(t,e)}})):[])]:[])])])}return s?(0,i.h)((0,i.resolveComponent)("router-link"),{ref:b,class:["vxe-button","vxe-button--link",`type--${F}`,j?`align--${j}`:"",t?w().isFunction(t)?t({$button:C}):t:"",{[`size--${te}`]:te,[`theme--${_}`]:_,"is--round":P,"is--circle":H,"is--disabled":X||f,"is--loading":f}],title:l,name:d,type:T?c:"button",disabled:X||f,to:s,onClick:L,onMouseenter:U,onMouseleave:G},{default(){return ee()}}):(0,i.h)("button",{ref:b,class:["vxe-button",`type--${F}`,j?`align--${j}`:"",t?w().isFunction(t)?t({$button:C}):t:"",{[`size--${te}`]:te,[`theme--${_}`]:_,"is--round":P,"is--circle":H,"is--disabled":X||f,"is--loading":f}],title:l,name:d,type:T?c:"button",disabled:X||f,onClick:L,onMouseenter:U,onMouseleave:G},ee())};return C.renderVN=ie,(0,i.onMounted)(()=>{"text"===e.type&&f("vxe.error.delProp",["[button] type=text","mode=text"]),o.Nh.on(C,"mousewheel",ne),o.Nh.on(C,"mousedown",re),o.Nh.on(C,"resize",oe)}),(0,i.onUnmounted)(()=>{o.Nh.off(C,"mousewheel"),o.Nh.off(C,"mousedown"),o.Nh.off(C,"resize")}),C},render(){return this.renderVN()}});var _e=Fe;const Pe=Object.assign({},_e,{install(e){e.component(_e.name,_e)}});u.use(Pe),o.OE.component(_e);const je=Pe;var Le=Pe,$e=a({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().buttonGroup.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.reactive)({}),s={},c={xID:a,props:e,context:t,reactData:l,getComputeMaps:()=>s};(0,o.XX)(e);const{computePermissionInfo:u}=(0,o.JT)(e),d={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$buttonGroup:c},t))}},p={handleClick(t,n){const{options:r}=e,{name:o}=t,i=r?r.find(e=>e.name===o):null;d.dispatchEvent("click",Object.assign(Object.assign({},t),{option:i}),n)}};Object.assign(c,d,p);const f=()=>{const{className:t,options:r,vertical:a}=e,l=u.value,s=n.default;return l.visible?(0,i.h)("div",{class:["vxe-button-group",t?w().isFunction(t)?t({$buttonGroup:c}):t:"",{"is--vertical":a}]},s?s({}):r?r.map((e,t)=>(0,i.h)(_e,Object.assign({key:t},e))):[]):(0,o.C1)(c)};return c.renderVN=f,(0,i.provide)("$xeButtonGroup",c),c},render(){return this.renderVN()}});const ze=Object.assign({},$e,{install(e){e.component($e.name,$e)}});u.use(ze),o.OE.component($e);const Ve=ze;var Be=ze;function He(e){return"timestamp"===e}function We(e){return"date"===e}function qe(e,t){return!t||We(t)||He(t)?"time"===e?"HH:mm:ss":"datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd":t}function Ue(e){const t=new Date(2e3,0,1);if(e){let n=0,r=0,o=0;if((w().isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),w().isDate(e))n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();else{e=w().toValueString(e);const t=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=w().toNumber(t[1]),r=w().toNumber(t[3]),o=w().toNumber(t[5]))}return t.setHours(n),t.setMinutes(r),t.setSeconds(o),t}return t}function Ge(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const Ye=(e,t,n)=>{const{valueFormat:r}=n;return e?"time"===t?Ue(e):w().isNumber(e)||/^[0-9]{10,15}$/.test(`${e}`)?new Date(Number(e)):w().isString(e)?w().toStringDate(w().last(e.split(",")),r):w().toStringDate(e,r):null},Ke=(e,t,n)=>{const r=Ye(e,t,n);return r?w().toDateString(r,n.valueFormat):""};function Xe(e,t,n){const{labelFormat:r,firstDay:o}=n;let i=null,a="";if(e&&(i=Ye(e,t,n)),w().isValidDate(i)){if(a=w().toDateString(i,r,{firstDay:o}),r&&"week"===t){const e=w().getYearWeek(i,o),t=w().getWhatWeek(i,0,1===e?(6+o)%7:o,o),n=t.getFullYear();if(n!==i.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(a.substring(e,e+4));t&&!isNaN(t)&&(a=a.replace(`${t}`,`${n}`))}}}}else i=null;return{label:a,value:i}}function Ze(e,t,n,r){const{valueFormat:o,firstDay:i}=r;let a=null;const l=("prev"===e||"next"===e?new Date:t?Ye(t,n,r):null)||new Date;switch(e){case"prev":case"next":case"minus":case"plus":{const t="plus"===e||"next"===e?1:-1;switch(n){case"date":case"datetime":a=w().getWhatDay(l,t);break;case"week":a=w().getWhatWeek(l,t,i,i);break;case"month":a=w().getWhatMonth(l,t);break;case"quarter":a=w().getWhatQuarter(l,t);break;case"year":a=w().getWhatYear(l,t);break}break}default:a=new Date;break}return{value:a?w().toDateString(a,o):""}}const Je={last180:-180,last90:-90,last60:-60,last30:-30,last7:-7,last3:-3,last1:-1};function Qe(e){return Je[e]||0}function et(e,t,n,r){const{valueFormat:o,firstDay:i}=r;w().isArray(t)&&(t=t.join(""));const a=(t?Ye(t,n,r):null)||new Date;let l=null;const s=a;switch(e){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const t=Qe(e);switch(n){case"date":case"datetime":l=w().getWhatDay(a,t);break;case"week":l=w().getWhatWeek(a,t,i,i);break;case"month":l=w().getWhatMonth(a,t);break;case"quarter":l=w().getWhatQuarter(a,t);break;case"year":l=w().getWhatYear(a,t);break}break}default:l=new Date;break}const c=l?w().toDateString(l,o):"",u=s?w().toDateString(s,o):"";return{startValue:c,endValue:u}}var tt=a({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>(0,o.zj)().calendar.size||(0,o.zj)().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>(0,o.zj)().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>(0,o.zj)().calendar.maxDate},startDay:{type:[String,Number],default:()=>(0,o.zj)().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>(0,o.zj)().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().calendar.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().calendar.selectDay}},emits:["update:modelValue","change","click","date-prev","date-today","date-next","view-change"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.reactive)({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8},c=(0,i.ref)(),u={refElem:c},d={xID:r,props:e,context:t,reactData:l,internalData:s,getRefMaps:()=>u},p=(0,i.computed)(()=>{const{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),f=(0,i.computed)(()=>!1),h=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),m=(0,i.computed)(()=>e.minDate?w().toStringDate(e.minDate):null),g=(0,i.computed)(()=>e.maxDate?w().toStringDate(e.maxDate):null),v=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),b=(0,i.computed)(()=>{const{multiple:t}=e,{selectValue:n}=l,r=h.value,o=C.value;return t&&n&&r?w().toValueString(n).split(",").map(e=>{const t=H(e,o);return w().isValidDate(t)?t:null}):[]}),x=(0,i.computed)(()=>{const e=b.value,t=C.value;return e.map(e=>w().toDateString(e,t))}),y=(0,i.computed)(()=>{const e=b.value,t=O.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),C=(0,i.computed)(()=>{const{valueFormat:t}=e;return t||"yyyy-MM-dd"}),k=(0,i.computed)(()=>{const{selectValue:e}=l,t=h.value,n=C.value;let r=null;if(e&&t){const t=H(e,n);w().isValidDate(t)&&(r=t)}return r}),S=(0,i.computed)(()=>{const e=m.value,{selectMonth:t}=l;return!(!t||!e)&&t<=e}),T=(0,i.computed)(()=>{const e=g.value,{selectMonth:t}=l;return!(!t||!e)&&t>=e}),E=(0,i.computed)(()=>{const e=k.value;return e?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),O=(0,i.computed)(()=>{const{labelFormat:t}=e,n=h.value,r=C.value;return n?t||r||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`):null}),D=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{yearSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=e.getFullYear(),a=new Date(i-i%n,0,1);for(let e=-4;e<n+4;e++){const t=w().getWhatYear(a,e,"first"),i=t.getFullYear();r.push({date:t,isCurrent:!0,isPrev:e<0,isNow:o===i,isNext:e>=n,year:i})}}return r}),A=(0,i.computed)(()=>{const e=h.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=l,i=D.value;let a,s="";r&&(s=r.getFullYear(),a=r.getMonth()+1),"quarter"===e||"month"===e?t=`${s}`:"year"===e?t=i.length?`${i[0].year} - ${i[i.length-1].year}`:"":(t=`${s}`,n=a?(0,o.TO)(`vxe.input.date.m${a}`):"-")}return{y:t,m:n}}),M=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),I=(0,i.computed)(()=>{const e=[],t=h.value;if(t){let t=M.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),N=(0,i.computed)(()=>{const e=h.value;if(e){const e=I.value;return e.map(e=>({value:e,label:(0,o.TO)(`vxe.input.date.weeks.w${e}`)}))}return[]}),R=(0,i.computed)(()=>{const e=h.value;if(e){const e=N.value;return[{label:(0,o.TO)("vxe.input.date.weeks.w")}].concat(e)}return[]}),F=(0,i.computed)(()=>{const e=D.value;return w().chunk(e,4)}),_=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{quarterSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=Ge(t),a=w().getWhatYear(e,0,"first"),l=a.getFullYear();for(let e=-2;e<n-2;e++){const t=w().getWhatQuarter(a,e),n=t.getFullYear(),s=Ge(t),c=n<l;r.push({date:t,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),P=(0,i.computed)(()=>{const e=_.value;return w().chunk(e,2)}),j=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{monthSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=t.getMonth(),a=w().getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=w().getWhatYear(e,0,t),l=n.getFullYear(),s=n.getMonth(),c=l<a;r.push({date:n,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),L=(0,i.computed)(()=>{const e=j.value;return w().chunk(e,4)}),$=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,n=[];if(e&&t){const r=E.value,o=I.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),z=(0,i.computed)(()=>{const e=$.value;return w().chunk(e,7)}),B=(0,i.computed)(()=>{const e=z.value,t=M.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),H=(e,t)=>w().toStringDate(e,t),W=(t,r)=>{l.inputValue=t,n("update:modelValue",t),w().toValueString(e.modelValue)!==t&&Ce("change",{value:t},r)},q=t=>{const{type:n}=e,r=O.value,o=C.value,i=M.value;let a=null,s="";if(t&&(a=H(t,o)),w().isValidDate(a)){if(s=w().toDateString(a,r,{firstDay:i}),r&&"week"===n){const e=w().getWhatWeek(a,0,i,i);if(e.getFullYear()<a.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else a=null;l.datePanelValue=a,l.datePanelLabel=s},U=()=>{const t=h.value,{inputValue:n}=l;t&&(q(n),l.inputValue=e.multiple?y.value:l.datePanelLabel)},G=()=>{const e=h.value;e&&U()},Y=e=>{const t=w().getWhatMonth(e,0,"first");w().isEqual(t,l.selectMonth)||(l.selectMonth=t)},K=t=>{const{modelValue:n,multiple:r}=e,o=C.value,i=M.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,i)}const a=w().toDateString(t,o,{firstDay:i});if(Y(t),l.selectValue=t,r){const e=x.value;e.some(e=>w().isEqual(e,a))?W(e.filter(e=>!w().isEqual(e,a)).join(","),{type:"update"}):W(e.concat([a]).join(","),{type:"update"})}else w().isEqual(n,a)||W(a,{type:"update"})},X=(e,t)=>{l.selectMonth=w().getWhatMonth(e,t,"first")},Z=()=>{const e=w().getWhatDay(Date.now(),0,"first");l.currentDate=e,X(e,0)},J=()=>{l.datePanelType="year"},Q=e=>{let{datePanelType:t}=l;t="month"===t||"quarter"===t?"year":"month",l.datePanelType=t,oe(e)},ee=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o}=l,{yearSize:i}=s,a=S.value;a||(l.selectMonth="year"===n?w().getWhatYear(o,-i,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-i,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-i,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),Ce("date-prev",{type:n},t),oe(t))},te=t=>{Z(),e.multiple||K(l.currentDate),Ce("date-today",{type:e.type},t),oe(t)},ne=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o}=l,{yearSize:i}=s,a=T.value;a||(l.selectMonth="year"===n?w().getWhatYear(o,i,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,i,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,i,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),Ce("date-next",{type:n},t),oe(t))},re=t=>{const{disabledMethod:n}=e,{datePanelType:r}=l;return n&&n({type:r,viewType:r,date:t.date,$calendar:d})},oe=e=>{const{datePanelType:t}=l,n=F.value,r=P.value,o=L.value,i=B.value,a=z.value,s=[];let c=[];switch(t){case"year":c=n;break;case"quarter":c=r;break;case"month":c=o;break;case"week":c=i;break;case"day":c=a;break}c.forEach(e=>{e.forEach(e=>{s.push(e.date)})}),Ce("view-change",{viewType:t,viewDates:s},e)},ie=t=>{const{type:n}=e,{datePanelType:r}=l;"month"===n?"year"===r?(l.datePanelType="month",Y(t),oe(null)):K(t):"year"===n?K(t):"quarter"===n?"year"===r?(l.datePanelType="quarter",Y(t),oe(null)):K(t):"month"===r?(l.datePanelType="week"===n?n:"day",Y(t),oe(null)):"year"===r?(l.datePanelType="month",Y(t),oe(null)):K(t)},ae=e=>{re(e)||ie(e.date)},le=e=>{if(!re({date:e})){const t=$.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||Y(e),q(e)}},se=e=>{if(!re({date:e})){const t=D.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||Y(e),q(e)}},ce=e=>{if(!re({date:e})){const t=_.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||Y(e),q(e)}},ue=e=>{if(!re({date:e})){const t=j.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||Y(e),q(e)}},de=e=>{if(!re(e)){const{datePanelType:t}=l;"month"===t?ue(e.date):"quarter"===t?ce(e.date):"year"===t?se(e.date):le(e.date)}},pe=()=>{},fe=()=>{const{type:t}=e,n=k.value;["year","quarter","month","week"].indexOf(t)>-1?l.datePanelType=t:l.datePanelType="day",l.currentDate=w().getWhatDay(Date.now(),0,"first"),n?(X(n,0),q(n)):Z()},he=(t,n)=>{const{festivalMethod:r}=e;if(r){const{datePanelType:e}=l,o=r({type:e,viewType:e,date:t.date,$calendar:d}),a=o?w().isString(o)?{label:o}:o:{},s=a.extra?w().isString(a.extra)?{label:a.extra}:a.extra:null,c=[(0,i.h)("span",{class:["vxe-calendar--date-label",{"is-notice":a.notice}]},s&&s.label?[(0,i.h)("span",`${n||""}`),(0,i.h)("span",{class:["vxe-calendar--date-label--extra",s.important?"is-important":"",s.className],style:s.style},w().toValueString(s.label))]:[`${n||""}`])],u=a.label;if(u){const e=w().toValueString(u).split(",");c.push((0,i.h)("span",{class:["vxe-calendar--date-festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?(0,i.h)("span",{class:["vxe-calendar--date-festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("span",e.substring(0,3)))):(0,i.h)("span",{class:"vxe-calendar--date-festival--label"},e[0].substring(0,3))]))}return c}return`${n||""}`},me=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=k.value,a=N.value,s=z.value,c=b.value,u="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tr",a.map(e=>(0,i.h)("th",{class:"vxe-calendar--view-th"},e.label))),...s.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?c.some(t=>w().isDateSame(t,e.date,u)):w().isDateSame(o,e.date,u),"is--hover":w().isDateSame(r,e.date,u)}],onClick:()=>ae(e),onMouseenter:()=>de(e)},he(e,e.label)))))])]},ge=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=k.value,a=R.value,s=B.value,c=b.value,u="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tr",a.map(e=>(0,i.h)("td",{class:"vxe-calendar--view-th"},e.label))),...s.map(e=>{const n=t?e.some(e=>c.some(t=>w().isDateSame(t,e.date,u))):e.some(e=>w().isDateSame(o,e.date,u)),a=e.some(e=>w().isDateSame(r,e.date,u));return(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":n,"is--hover":a}],onClick:()=>ae(e),onMouseenter:()=>de(e)},he(e,e.label))))})])]},ve=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=k.value,s=L.value,c=b.value,u="yyyyMM";return[(0,i.h)("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",s.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?c.some(t=>w().isDateSame(t,e.date,u)):w().isDateSame(a,e.date,u),"is--hover":w().isDateSame(r,e.date,u)}],onClick:()=>ae(e),onMouseenter:()=>de(e)},he(e,(0,o.TO)(`vxe.input.date.months.m${e.month}`)))))))])]},be=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=k.value,s=P.value,c=b.value,u="yyyyq";return[(0,i.h)("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",s.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?c.some(t=>w().isDateSame(t,e.date,u)):w().isDateSame(a,e.date,u),"is--hover":w().isDateSame(r,e.date,u)}],onClick:()=>ae(e),onMouseenter:()=>de(e)},he(e,(0,o.TO)(`vxe.input.date.quarters.q${e.quarter}`)))))))])]},xe=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=k.value,a=F.value,s=b.value,c="yyyy";return[(0,i.h)("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",a.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(o,e.date,c),"is--hover":w().isDateSame(r,e.date,c)}],onClick:()=>ae(e),onMouseenter:()=>de(e)},he(e,e.year))))))])]},ye=()=>{const{datePanelType:e}=l;switch(e){case"week":return ge();case"month":return ve();case"quarter":return be();case"year":return xe()}return me()},we=()=>{const{multiple:t}=e,{datePanelType:n}=l,r=S.value,a=T.value,s=A.value;return[(0,i.h)("div",{class:"vxe-calendar--header"},[(0,i.h)("div",{class:"vxe-calendar--type-wrapper"},["year"===n?(0,i.h)(_e,{class:"vxe-calendar--date-picker-label",disabled:"year"===n,content:s.y}):(0,i.h)("span",{class:"vxe-calendar--date-picker-btns"},[(0,i.h)(_e,{class:"vxe-calendar--date-picker-btn",content:s.y,onClick:J}),s.m?(0,i.h)(_e,{class:"vxe-calendar--date-picker-btn",content:s.m,onClick:Q}):(0,o.C1)(d)])]),(0,i.h)("div",{class:"vxe-calendar--btn-wrapper"},[(0,i.h)(_e,{disabled:r,icon:"vxe-icon-caret-left",onClick:ee}),(0,i.h)(_e,{icon:"vxe-icon-dot",onClick:te}),(0,i.h)(_e,{disabled:a,icon:"vxe-icon-caret-right",onClick:ne}),t&&v.value?(0,i.h)("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[(0,i.h)("button",{class:"vxe-calendar--confirm",type:"button",onClick:pe},(0,o.TO)("vxe.button.confirm"))]):null])]),(0,i.h)("div",{class:"vxe-calendar--body"},ye())]},Ce=(e,t,r)=>{n(e,(0,o.lh)(r,{$input:d},t))},ke={dispatchEvent:Ce};Object.assign(d,ke);const Se=()=>{const{className:t,type:n}=e,r=a.value,o=f.value,l=p.value;return(0,i.h)("div",{ref:c,class:["vxe-calendar",`type--${n}`,t,{[`size--${r}`]:r,"is--disabled":o}],style:l},[we()])};return d.renderVN=Se,(0,i.watch)(()=>e.modelValue,e=>{l.inputValue=e,U()}),(0,i.watch)(()=>e.type,()=>{Object.assign(l,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),G(),fe()}),(0,i.watch)(O,()=>{const t=h.value;t&&(q(l.datePanelValue),l.inputValue=e.multiple?y.value:l.datePanelLabel)}),(0,i.onMounted)(()=>{fe()}),G(),d},render(){return this.renderVN()}});const nt=Object.assign({},tt,{install(e){e.component(tt.name,tt)}});u.use(nt),o.OE.component(tt);const rt=nt;var ot=nt,it=a({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>(0,o.zj)().loading.icon},showIcon:{type:Boolean,default:()=>(0,o.zj)().loading.showIcon},text:{type:String,default:()=>(0,o.zj)().loading.text},showText:{type:Boolean,default:()=>(0,o.zj)().loading.showText},status:String,size:{type:String,default:()=>(0,o.zj)().loading.size||(0,o.zj)().size}},setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.reactive)({initialized:!1}),c={computeSize:l},u={xID:a,props:e,context:t,reactData:s,getComputeMaps:()=>c},d=(0,i.computed)(()=>e.icon||(0,o.sW)().LOADING),p=(0,i.computed)(()=>{const{text:t}=e;return w().isString(t)?t:(0,o.TO)("vxe.loading.text")}),f=()=>{s.initialized||(s.initialized=!!s.initialized)},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$loading:u},t))},m={dispatchEvent:h},g={};Object.assign(u,m,g);const v=()=>{const{modelValue:t,showIcon:r,status:a}=e,{initialized:c}=s,f=l.value,h=n.default,m=n.text,g=n.icon,v=d.value,b=p.value;return c||t?(0,i.h)("div",{class:["vxe-loading",{[`size--${f}`]:f,[`theme--${a}`]:a,"is--visible":t}]},h?[(0,i.h)("div",{class:"vxe-loading--wrapper"},T(h({})))]:[(0,i.h)("div",{class:"vxe-loading--chunk"},[r&&(g||v)?(0,i.h)("div",{class:"vxe-loading--icon"},g?T(g({})):[(0,i.h)("i",{class:v})]):(0,i.h)("div",{class:"vxe-loading--spinner"}),m||b?(0,i.h)("div",{class:"vxe-loading--text"},m?T(m({})):`${b}`):null])]):(0,o.C1)(u)};return(0,i.watch)(()=>e.modelValue,()=>{f()}),f(),u.renderVN=v,u},render(){return this.renderVN()}}),at=a({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>(0,o.zj)().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>(0,o.zj)().card.shadow},padding:{type:Boolean,default:()=>(0,o.zj)().card.padding},size:{type:String,default:()=>(0,o.zj)().card.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),p={computeSize:s},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$card:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{title:t,border:r,shadow:a,padding:c,loading:u,showTitleOverflow:p}=e,h=n.default,m=n.header,g=n.title,v=n.extra,b=n.footer,x=n.left,y=n.right,w=s.value,C=d.value;return(0,i.h)("div",{ref:l,class:["vxe-card",{[`size--${w}`]:w,"is--border":r,"is--shadow":a,"is--padding":c}],style:C},[t||g||m?(0,i.h)("div",{class:"vxe-card--header"},m?T(m({})):[(0,i.h)("div",{class:["vxe-card--header-title",{"is--ellipsis":p}]},g?T(g({})):`${t||""}`),v?(0,i.h)("div",{class:"vxe-card--header-extra"},T(v({}))):(0,o.C1)(f)]):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-card--body"},[x?(0,i.h)("div",{class:"vxe-card--body-left"},T(x({}))):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-card--body-content"},h?T(h({})):[]),y?(0,i.h)("div",{class:"vxe-card--body-right"},T(y({}))):(0,o.C1)(f)]),b?(0,i.h)("div",{class:"vxe-card--footer"},T(b({}))):(0,o.C1)(f),(0,i.h)(it,{class:"vxe-card--loading",modelValue:u})])};return f.renderVN=v,f},render(){return this.renderVN()}});const lt=Object.assign({},at,{install(e){e.component(at.name,at)}});u.use(lt),o.OE.component(at);const st=lt;var ct=lt,ut=a({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>(0,o.zj)().carousel.height},width:{type:[Number,String],default:()=>(0,o.zj)().carousel.width},autoPlay:{type:Boolean,default:()=>(0,o.zj)().carousel.autoPlay},interval:{type:[Number,String],default:()=>(0,o.zj)().carousel.interval},loop:{type:Boolean,default:()=>(0,o.zj)().carousel.loop},vertical:{type:Boolean,default:()=>(0,o.zj)().carousel.vertical},showIndicators:{type:Boolean,default:()=>(0,o.zj)().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.reactive)({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),u={apTimeout:void 0,stopFlag:!1},d={refElem:l},p=(0,i.computed)(()=>{const{vertical:t,options:n}=e,{activeName:r,itemWidth:o,itemHeight:i,staticItems:a}=c,l=(a&&a.length?a:n)||[],s=Math.max(0,w().findIndexOf(l,e=>e.name===r)),u={};return t?u.transform=`translateY(-${s*i}px)`:(u.width=o*l.length+"px",u.transform=`translateX(-${s*o}px)`),u}),f={},h={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>f},m=()=>{(0,i.nextTick)(()=>{const e=s.value;e&&(c.itemWidth=e.clientWidth,c.itemHeight=e.clientHeight)})},g=(e,t)=>{const r=t.name;c.activeName=t.name,n("update:modelValue",r),n("change",{value:r},e),m()},v=t=>{let r=null;if(t&&t.length){let o=!1;r=e.modelValue,t.forEach(e=>{r===e.name&&(o=!0)}),o||(r=t[0].name,n("update:modelValue",r))}c.activeName=r},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$carousel:h},t))},x=t=>{const{options:r,loop:o}=e,{activeName:i,staticItems:a}=c,l=(a&&a.length?a:r)||[],s=Math.max(0,w().findIndexOf(l,e=>e.name===i));if(s>-1){let e=null;if(t?s<l.length-1?e=l[s+1]:o&&(e=l[0]):s>0?e=l[s-1]:o&&(e=l[l.length-1]),e){const t=e.name,r=t;return c.activeName=t,n("update:modelValue",r),!0}}return!1},y={dispatchEvent:b,prev(){return x(!1)&&E(),(0,i.nextTick)()},next(){return x(!0)&&E(),(0,i.nextTick)()}},C=e=>{if(x(!1)){const t=c.activeName;n("change",{value:t},e)}},k=e=>{if(x(!0)){const t=c.activeName;n("change",{value:t},e)}},S=()=>{const{apTimeout:e}=u;u.stopFlag=!0,e&&(clearTimeout(e),u.apTimeout=void 0)},E=()=>{const{autoPlay:t,interval:n}=e,{stopFlag:r}=u;S(),t&&(u.stopFlag=!1,u.apTimeout=setTimeout(()=>{r||x(!0)},w().toNumber(n)||300))},O=()=>{S()},D=()=>{E()},A={},M=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[];Object.assign(h,y,A);const I=t=>{const{height:n}=e,{activeName:r}=c,o=p.value;return(0,i.h)("div",{class:"vxe-carousel--list",style:o},t.map(e=>{const{name:t,url:o,slots:a}=e,l=a?a.default:null;return(0,i.h)("div",{key:`${t}`,class:["vxe-carousel--item-inner",{"is--active":r===t}],style:n?{height:V(n)}:null},l?M(l,{}):[(0,i.h)("img",{class:"vxe-carousel--item-img",src:o})])}))},N=e=>{const{activeName:t}=c;return(0,i.h)("div",{class:"vxe-carousel--indicators"},e.map(e=>{const{name:n}=e;return(0,i.h)("div",{key:`${n}`,class:["vxe-carousel--indicators-item",{"is--active":t===n}],onClick(t){g(t,e)}})}))},R=()=>{const{loading:t,height:n,width:a,showIndicators:u,vertical:d,options:p}=e,{staticItems:f}=c,m=r.default,g=(f&&f.length?f:p)||[];return(0,i.h)("div",{ref:l,class:["vxe-carousel","is--"+(d?"vertical":"horizontal")],style:a?{width:V(a)}:null,onMouseenter:O,onMouseleave:D},[(0,i.h)("div",{class:"vxe-carousel--slots"},m?m({}):[]),(0,i.h)("div",{ref:s,class:"vxe-carousel--item-wrapper",style:n?{height:V(n)}:null},[I(g)]),u?N(g):(0,o.C1)(h),(0,i.h)("div",{class:"vxe-carousel--btn-wrapper"},[(0,i.h)("div",{class:"vxe-carousel--previous-btn",onClick:C},[(0,i.h)("i",{class:d?(0,o.sW)().CAROUSEL_VERTICAL_PREVIOUS:(0,o.sW)().CAROUSEL_HORIZONTAL_PREVIOUS})]),(0,i.h)("div",{class:"vxe-carousel--next-btn",onClick:k},[(0,i.h)("i",{class:d?(0,o.sW)().CAROUSEL_VERTICAL_NEXT:(0,o.sW)().CAROUSEL_HORIZONTAL_NEXT})])]),(0,i.h)(it,{class:"vxe-carousel--loading",modelValue:t})])},F=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{F.value++}),(0,i.watch)(()=>e.options,()=>{F.value++}),(0,i.watch)(F,()=>{v(e.options)});const _=(0,i.ref)(0);return(0,i.watch)(()=>c.staticItems?c.staticItems.length:-1,()=>{_.value++}),(0,i.watch)(()=>c.staticItems,()=>{_.value++}),(0,i.watch)(_,()=>{v(c.staticItems)}),(0,i.watch)(()=>e.autoPlay,()=>{E()}),v(c.staticItems.length?c.staticItems:e.options),(0,i.onMounted)(()=>{E(),m()}),(0,i.onUnmounted)(()=>{S()}),(0,i.provide)("$xeCarousel",h),h.renderVN=R,h},render(){return this.renderVN()}});const dt=Object.assign({},ut,{install(e){e.component(ut.name,ut)}});u.use(dt),o.OE.component(ut);const pt=dt;var ft=dt;function ht(e,t,n){const r=e.reactData.staticItems,o=t.parentNode;o&&r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticItems=r.slice(0)}function mt(e,t){const n=e.reactData.staticItems,r=w().findIndexOf(n,e=>e.id===t.id);r>-1&&n.splice(r,1),e.reactData.staticItems=n.slice(0)}var gt=a({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeCarousel",null),l=w().uniqueId(),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:l,name:e.name,url:e.url,className:e.className,slots:n}),d={refElem:s},p={},f={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$carouselItem:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>(0,i.h)("div",{ref:s});return(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.url,e=>{u.url=e}),(0,i.onMounted)(()=>{const e=s.value;a&&e&&ht(a,e,u)}),(0,i.onUnmounted)(()=>{a&&mt(a,u)}),f.renderVN=v,f},render(){return this.renderVN()}});const vt=Object.assign({},gt,{install(e){e.component(gt.name,gt)}});u.use(vt),o.OE.component(gt);const bt=vt;var xt=vt,yt=a({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().checkbox.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeCheckboxGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),d={xID:c,props:e,context:t,reactData:u};let p={};const{computeSize:f}=(0,o.XX)(e),h=(0,i.computed)(()=>s?w().includes(s.props.modelValue,e.label):e.modelValue===e.checkedValue),m=(0,i.computed)(()=>{const{disabled:t}=e,n=h.value;if(null===t&&s){const{computeIsDisabled:e,computeIsMaximize:t}=s.getComputeMaps(),r=e.value,o=t.value;return r||o&&!n}return t}),g=t=>{const{checkedValue:n,uncheckedValue:o}=e,i=m.value;if(!i){const i=t.target.checked,c=i?n:o,u={checked:i,value:c,label:e.label};s?s.handleChecked(u,t):(r("update:modelValue",c),p.dispatchEvent("change",u,t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,c))}},v=(e,t,n)=>{r(e,(0,o.lh)(n,{$checkbox:d},t))};p={dispatchEvent:v},Object.assign(d,p);const b=()=>{const{label:t}=e,r=f.value,a=m.value,l=h.value,s=!l&&e.indeterminate;return(0,i.h)("label",{key:t,class:["vxe-checkbox vxe-checkbox--default",{[`size--${r}`]:r,"is--indeterminate":s,"is--disabled":a,"is--checked":l}],title:e.title},[(0,i.h)("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:a,checked:l,onChange:g}),(0,i.h)("span",{class:["vxe-checkbox--icon",s?(0,o.sW)().CHECKBOX_INDETERMINATE:l?(0,o.sW)().CHECKBOX_CHECKED:a?(0,o.sW)().CHECKBOX_DISABLED_UNCHECKED:(0,o.sW)().CHECKBOX_UNCHECKED]}),(0,i.h)("span",{class:"vxe-checkbox--label"},n.default?n.default({}):Me(e.content))])};return d.renderVN=b,d},render(){return this.renderVN()}});const wt=Object.assign(yt,{install(e){e.component(yt.name,yt)}});u.use(wt),o.OE.component(yt);const Ct=wt;var kt=wt,St=a({name:"VxeCheckboxButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().checkboxButton.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeCheckboxGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),{computeSize:d}=(0,o.XX)(e),p={xID:c,props:e,context:t,reactData:u},f=(0,i.computed)(()=>s?w().includes(s.props.modelValue,e.label):e.modelValue===e.checkedValue),h=(0,i.computed)(()=>{const{disabled:t}=e,n=f.value;if(null===t&&s){const{computeIsDisabled:e,computeIsMaximize:t}=s.getComputeMaps(),r=e.value,o=t.value;return r||o&&!n}return t}),m=t=>{const{checkedValue:n,uncheckedValue:o}=e,i=h.value;if(!i){const i=t.target.checked,c=i?n:o,u={checked:i,value:c,label:e.label};s?s.handleChecked(u,t):(r("update:modelValue",c),p.dispatchEvent("change",u,t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,c))}},g={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$checkboxButton:p},t))}},v={};Object.assign(p,g,v);const b=()=>{const{label:t}=e,r=d.value,o=h.value,a=f.value;return(0,i.h)("label",{key:t,class:["vxe-checkbox vxe-checkbox--button",{[`size--${r}`]:r,"is--disabled":o}],title:e.title},[(0,i.h)("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:o,checked:a,onChange:m}),(0,i.h)("span",{class:"vxe-checkbox--label"},n.default?n.default({}):Me(e.content))])};return p.renderVN=b,b}});const Tt=Object.assign(St,{install:function(e){e.component(St.name,St)}});u.use(Tt),o.OE.component(St);const Et=Tt;var Ot=Tt,Dt=a({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>(0,o.zj)().checkboxGroup.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),c=(0,i.reactive)({}),u=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),d=(0,i.computed)(()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=w().toNumber(n)}),p=(0,i.computed)(()=>Object.assign({},e.optionProps)),f=(0,i.computed)(()=>{const e=p.value;return e.label||"label"}),h=(0,i.computed)(()=>{const e=p.value;return e.value||"value"}),m=(0,i.computed)(()=>{const e=p.value;return e.disabled||"disabled"}),g={computeIsMaximize:d,computeIsDisabled:u},v={xID:s,props:e,context:t,reactData:c,getComputeMaps:()=>g};(0,o.XX)(e);const b=(e,t,n)=>{r(e,(0,o.lh)(n,{$checkboxGroup:v},t))},x={dispatchEvent:b},y={handleChecked(t,n){const{checked:o,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);o?-1===c&&s.push(i):s.splice(c,1),r("update:modelValue",s),v.dispatchEvent("change",Object.assign({},t,{checklist:s,value:s}),n),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,s)}};Object.assign(v,x,y);const C=()=>{const{options:t}=e,r=n.default,o=h.value,a=f.value,l=m.value;return(0,i.h)("div",{class:"vxe-checkbox-group"},r?r({}):t?t.map(e=>(0,i.h)(yt,{key:e[o],label:e[o],content:e[a],disabled:e[l]})):[])};return(0,i.provide)("$xeCheckboxGroup",v),v.renderVN=C,C}});const At=Object.assign(Dt,{install(e){e.component(Dt.name,Dt)}});u.use(At),o.OE.component(Dt);const Mt=At;var It=At,Nt=a({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>(0,o.zj)().col.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId();(0,o.XX)(e);const l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.inject)("$xeRow",null),d=(0,i.computed)(()=>u?u.props.gutter:null),p=(0,i.computed)(()=>u?u.props.vertical:null),f=(0,i.computed)(()=>{const{width:t}=e,n=d.value,r=p.value,o={};if(n){let[e,t]=w().isArray(n)?n:[n];if(r&&(t=e,e=""),e){const t=w().isNumber(e)?V(e/2):`calc(${V(e)} / 2)`;o.paddingLeft=t,o.paddingRight=t}if(t){const e=w().isNumber(t)?V(t/2):`calc(${V(t)} / 2)`;o.paddingTop=e,o.paddingBottom=e}}return t&&(o.width=V(t)),o}),h={},m={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>h},g=(e,t,n)=>{r(e,(0,o.lh)(n,{$col:m},t))},v={dispatchEvent:g},b={};Object.assign(m,v,b);const x=()=>{const{span:t,fill:r,align:o,width:a,ellipsis:s}=e,c=f.value,u=n.default;return(0,i.h)("div",{ref:l,class:["vxe-col",t?`span${t}`:"",o?`align--${o}`:"",{"is--span":!!t,"is--width":!!a,"is--fill":r,"is--ellipsis":s}],style:c},[(0,i.h)("div",{class:"vxe-col--inner"},u?u({}):[])])};return m.renderVN=x,m},render(){return this.renderVN()}});const Rt=Object.assign({},Nt,{install(e){e.component(Nt.name,Nt)}});u.use(Rt),o.OE.component(Nt);const Ft=Rt;var _t=Rt,Pt=a({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>(0,o.zj)().collapse.padding},expandConfig:Object,size:{type:String,default:()=>(0,o.zj)().collapse.size||(0,o.zj)().size}},emits:["update:modelValue","load","change","toggle-expand"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.reactive)({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),u={refElem:s},d=(0,i.computed)(()=>{const{options:t}=e;return(t||[]).filter(e=>g(e))}),p=(0,i.computed)(()=>{const{staticPanes:e}=c;return e.filter(e=>g(e))}),f=(0,i.computed)(()=>Object.assign({},(0,o.zj)().collapse.expandConfig,e.expandConfig)),h={},m={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},g=e=>{const{permissionCode:t}=e;return!(t&&!o.EK.checkVisible(t))},v=e=>{const{initNames:t}=c;return!(!e||t.includes(e))&&(t.push(e),x("load",{name:e},null),!0)},b=e=>{const{activeNames:t}=c,n={};e&&e.length&&e.forEach(e=>{const{name:r,preload:o}=e||{};if(r){const e=t.includes(r);n[`${r}`]={loading:!1},e&&v(r),o&&(e||t.push(r))}}),c.activeNames=t?t.slice(0):[],c.cachePaneMaps=n},x=(e,t,r)=>{n(e,(0,o.lh)(r,{$collapse:m},t))},y={dispatchEvent:x},C=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],k=(e,t)=>{const{activeNames:n}=c,{name:r}=t;if(r){const t=n.indexOf(r);let o=!1;-1===t?(o=!0,n.push(r)):n.splice(t,1),v(r),x("change",{value:n,name:r},e),x("toggle-expand",{value:n,name:r,expanded:o},e)}},S={};Object.assign(m,y,S);const E=e=>{const{activeNames:t,initNames:n}=c,r=f.value;return e.map(e=>{const{icon:a,name:l,title:s,slots:c}=e,u=c?c.title:null,d=c?c.default:null,p=l&&t.includes(l);return(0,i.h)("div",{class:"vxe-collapse-item"},[(0,i.h)("div",{class:"vxe-collapse--item-header",onClick(t){k(t,e)}},[r.showIcon?(0,i.h)("span",{class:"vxe-collapse--item-switch"},[(0,i.h)("i",{class:p?(0,o.sW)().COLLAPSE_OPEN:(0,o.sW)().COLLAPSE_CLOSE})]):(0,o.C1)(m),a?(0,i.h)("span",{class:"vxe-collapse--item-icon"},[(0,i.h)("i",{class:a})]):(0,o.C1)(m),(0,i.h)("span",{class:"vxe-collapse--item-name"},u?C(u,{name:l,title:s}):`${s}`)]),(0,i.h)("div",{class:["vxe-collapse--item-content",{"is--visible":p}]},[l&&n.includes(l)?(0,i.h)("div",{class:"vxe-collapse--item-inner"},[d?C(d,{name:l,title:s}):""]):(0,o.C1)(m)])])})},O=()=>{const{padding:t}=e,n=l.value,o=d.value,a=p.value,c=r.default,u=c?a:o;return(0,i.h)("div",{ref:s,class:["vxe-collapse",{[`size--${n}`]:n,"is--padding":t}]},[(0,i.h)("div",{class:"vxe-collapse-slots"},c?c({}):[]),E(u)])};(0,i.watch)(()=>e.modelValue,e=>{c.activeNames=e||[]});const D=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{D.value++}),(0,i.watch)(()=>e.options,()=>{D.value++}),(0,i.watch)(D,()=>{b(e.options)});const A=(0,i.ref)(0);return(0,i.watch)(()=>c.staticPanes?c.staticPanes.length:-1,()=>{A.value++}),(0,i.watch)(()=>c.staticPanes,()=>{A.value++}),(0,i.watch)(A,()=>{b(c.staticPanes)}),c.activeNames=e.modelValue||[],b(c.staticPanes.length?c.staticPanes:e.options),(0,i.provide)("$xeCollapse",m),m.renderVN=O,m},render(){return this.renderVN()}});const jt=Object.assign({},Pt,{install(e){e.component(Pt.name,Pt)}});u.use(jt),o.OE.component(Pt);const Lt=jt;var $t=jt;function zt(e,t,n){const r=e.reactData.staticPanes,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticPanes=r.slice(0))}function Vt(e,t){const n=e.reactData.staticPanes,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticPanes=n.slice(0)}var Bt=a({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeCollapse",null),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:a,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:r}),d={refElem:s},p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$collapsePane:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>(0,i.h)("div",{ref:s},[]);return(0,i.watch)(()=>e.title,e=>{u.title=e}),(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.icon,e=>{u.icon=e}),(0,i.watch)(()=>e.permissionCode,e=>{u.permissionCode=e}),(0,i.onMounted)(()=>{const e=s.value;l&&e&&zt(l,e,u)}),(0,i.onUnmounted)(()=>{l&&Vt(l,u)}),f.renderVN=v,f},render(){return this.renderVN()}});const Ht=Object.assign({},Bt,{install(e){e.component(Bt.name,Bt)}});u.use(Ht),o.OE.component(Bt);const Wt=Ht;var qt=Ht;const Ut={},Gt={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach((e,t)=>{const n=(100-t)/100;Ut[e]=n,Gt[n]=e});const Yt=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/;const Kt=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function Xt(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const n=e.match(Kt);n&&(t.value=e,t.type="hex",t.hex=e,t.hexV=n[2],t.hexA=n[3]||"",t.a=(n[3]?Ut[n[3].toUpperCase()]:1)||1);const r=e.match(Yt);r&&(t.value=e,t.type=r[6]?"rgba":"rgb",t.r=parseInt(r[2]),t.g=parseInt(r[3]),t.b=parseInt(r[4]),t.a=r[7]?parseInt(r[6])/100:r[6]?parseFloat(r[6]):1)}return t}function Zt(e,t=1){const n=Xt(e),{type:r,hexV:o,r:i,g:a,b:l}=n;return"rgb"===r||"rgba"===r?Jt(i,a,l,t):"hex"===r?`#${o}${1===t?"":Gt[t]||""}`:""}function Jt(e,t,n,r){return w().eqNull(r)?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${r})`}function Qt(e){if(!e)return"";const{r:t,g:n,b:r,a:o=1}=e,i=t.toString(16).padStart(2,"0"),a=n.toString(16).padStart(2,"0"),l=r.toString(16).padStart(2,"0"),s=1===o?"":Gt[o]||"";return`#${i}${a}${l}${s}`.toUpperCase()}function en(e){if(!e)return null;const{r:t,g:n,b:r}=e,o=t/255,i=n/255,a=r/255;let l=0,s=0;const c=Math.max(o,i,a),u=c-Math.min(o,i,a),d=e=>(c-e)/6/u+.5;if(0===u)l=s=0;else{s=u/c;const e=d(o),t=d(i),n=d(a);o===c?l=n-t:i===c?l=1/3+e-n:a===c&&(l=2/3+t-e),l<0?l+=1:l>1&&(l-=1)}return{h:Math.round(360*l),s:w().round(s,2),v:w().round(c,2)}}function tn(e,t,n){let r=0,o=0,i=0;const a=Math.floor(e/60),l=e/60-a,s=n*(1-t),c=n*(1-l*t),u=n*(1-(1-l)*t);switch(a){case 0:r=n,o=u,i=s;break;case 1:r=c,o=n,i=s;break;case 2:r=s,o=n,i=u;break;case 3:r=s,o=c,i=n;break;case 4:r=u,o=s,i=n;break;case 5:r=n,o=s,i=c;break}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*i)}}function nn(e){const t=rn(e);return t?en(t):null}function rn(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?Ut[t[5].toUpperCase()]:1)||1}}return null}function on(e){return w().isString(e)?e.replace(/[^0-9e.-]/g,""):e}function an(e,t){return/^-/.test(""+e)?w().toFixed(w().ceil(e,t),t):w().toFixed(w().floor(e,t),t)}var ln=a({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,title:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>(0,o.zj)().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>(0,o.zj)().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>(0,o.zj)().input.size||(0,o.zj)().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>(0,o.zj)().input.trim},exponential:{type:Boolean,default:()=>(0,o.zj)().input.exponential},controls:{type:Boolean,default:()=>(0,o.zj)().input.controls},digits:{type:[String,Number],default:()=>(0,o.zj)().input.digits},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().input.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>(0,o.zj)().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().input.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().input.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeSelect",null),l=(0,i.inject)("$xeTreeSelect",null),s=(0,i.inject)("$xeModal",null),c=(0,i.inject)("$xeDrawer",null),u=(0,i.inject)("$xeTable",null),d=(0,i.inject)("$xeForm",null),p=(0,i.inject)("xeFormItemInfo",null),h=w().uniqueId(),{computeSize:m}=(0,o.XX)(e),g=(0,i.reactive)({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),v={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k=(0,i.ref)(),S={refElem:b,refInput:x},E={xID:h,props:e,context:t,reactData:g,internalData:v,getRefMaps:()=>S};let O={};const D=(t,n)=>{const{type:r}=e;return"time"===r?Ue(t):w().toStringDate(t,n)},A=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().input.transfer;if(w().isBoolean(e))return e;if(u||s||c||d)return!0}return t}),M=(0,i.computed)(()=>!!d&&d.props.readonly),I=(0,i.computed)(()=>{const{readonly:t}=e;return t}),N=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t}),R=(0,i.computed)(()=>{const{maxLength:t,maxlength:n}=e,r=t||n,o=_.value;return o&&!w().toNumber(r)?16:r}),F=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),_=(0,i.computed)(()=>["number","integer","float"].indexOf(e.type)>-1),P=(0,i.computed)(()=>w().getSize(g.inputValue)),L=(0,i.computed)(()=>{const e=P.value,t=R.value;return t&&e>w().toNumber(t)}),$=(0,i.computed)(()=>{const t=F.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),V=(0,i.computed)(()=>"password"===e.type),B=(0,i.computed)(()=>"search"===e.type),W=(0,i.computed)(()=>w().toInteger(e.digits)||1),U=(0,i.computed)(()=>{const{type:t}=e,n=W.value,r=e.step;return"integer"===t?w().toInteger(r)||1:"float"===t?w().toNumber(r)||1/Math.pow(10,n):w().toNumber(r)||1}),G=(0,i.computed)(()=>{const{type:t}=e,n=_.value,r=$.value,o=V.value;return e.clearable&&(o||n||r||"text"===t||"search"===t)}),Y=(0,i.computed)(()=>e.startDate?w().toStringDate(e.startDate):null),K=(0,i.computed)(()=>e.endDate?w().toStringDate(e.endDate):null),X=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),Z=(0,i.computed)(()=>{const{modelValue:t,multiple:n}=e,r=$.value,o=ee.value;return n&&t&&r?w().toValueString(t).split(",").map(e=>{const t=D(e,o);return w().isValidDate(t)?t:null}):[]}),J=(0,i.computed)(()=>{const e=Z.value,t=ee.value;return e.map(e=>w().toDateString(e,t))}),Q=(0,i.computed)(()=>{const e=Z.value,t=ae.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),ee=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),te=(0,i.computed)(()=>{const{modelValue:t}=e,n=$.value,r=ee.value;let o=null;if(t&&n){const e=D(t,r);w().isValidDate(e)&&(o=e)}return o}),ne=(0,i.computed)(()=>{const e=Y.value,{selectMonth:t}=g;return!(!t||!e)&&t<=e}),re=(0,i.computed)(()=>{const e=K.value,{selectMonth:t}=g;return!(!t||!e)&&t>=e}),oe=(0,i.computed)(()=>{const{datetimePanelValue:e}=g,t=Se.value;return e?w().toDateString(e,t?"HH:mm:ss":"HH:mm"):""}),ie=(0,i.computed)(()=>{const e=te.value,t=F.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),ae=(0,i.computed)(()=>{const{labelFormat:t}=e,n=$.value;return n?t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`):""}),le=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{yearSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=e.getFullYear(),a=new Date(i-i%n,0,1);for(let e=-4;e<n+4;e++){const t=w().getWhatYear(a,e,"first"),i=t.getFullYear();r.push({date:t,isCurrent:!0,isPrev:e<0,isNow:o===i,isNext:e>=n,year:i})}}return r}),se=(0,i.computed)(()=>{const e=$.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=g,i=le.value;let a,l="";r&&(l=r.getFullYear(),a=r.getMonth()+1),"quarter"===e||"month"===e?t=(0,o.TO)("vxe.datePicker.yearTitle",[l]):"year"===e?t=i.length?`${i[0].year} - ${i[i.length-1].year}`:"":(t=(0,o.TO)("vxe.datePicker.yearTitle",[l]),n=a?(0,o.TO)(`vxe.input.date.m${a}`):"-")}return{y:t,m:n}}),ce=(0,i.computed)(()=>{const{startDay:t,startWeek:n}=e;return w().toNumber(w().isNumber(t)||w().isString(t)?t:n)}),ue=(0,i.computed)(()=>{const e=[],t=$.value;if(t){let t=ce.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),de=(0,i.computed)(()=>{const e=$.value;if(e){const e=ue.value;return e.map(e=>({value:e,label:(0,o.TO)(`vxe.input.date.weeks.w${e}`)}))}return[]}),pe=(0,i.computed)(()=>{const e=$.value;if(e){const e=de.value;return[{label:(0,o.TO)("vxe.input.date.weeks.w")}].concat(e)}return[]}),fe=(0,i.computed)(()=>{const e=le.value;return w().chunk(e,4)}),he=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{quarterSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=Ge(t),a=w().getWhatYear(e,0,"first"),l=a.getFullYear();for(let e=-2;e<n-2;e++){const t=w().getWhatQuarter(a,e),n=t.getFullYear(),s=Ge(t),c=n<l;r.push({date:t,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),me=(0,i.computed)(()=>{const e=he.value;return w().chunk(e,2)}),ge=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{monthSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=t.getMonth(),a=w().getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=w().getWhatYear(e,0,t),l=n.getFullYear(),s=n.getMonth(),c=l<a;r.push({date:n,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),ve=(0,i.computed)(()=>{const e=ge.value;return w().chunk(e,4)}),be=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,n=[];if(e&&t){const r=ie.value,o=ue.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),xe=(0,i.computed)(()=>{const e=be.value;return w().chunk(e,7)}),ye=(0,i.computed)(()=>{const e=xe.value,t=ce.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),we=(0,i.computed)(()=>{const e=[],t=F.value;if(t)for(let n=0;n<24;n++)e.push({value:n,label:(""+n).padStart(2,"0")});return e}),Ce=(0,i.computed)(()=>{const e=[],t=F.value;if(t)for(let n=0;n<60;n++)e.push({value:n,label:(""+n).padStart(2,"0")});return e}),ke=(0,i.computed)(()=>{const e=ee.value;return!/HH/.test(e)||/mm/.test(e)}),Se=(0,i.computed)(()=>{const e=ee.value;return!/HH/.test(e)||/ss/.test(e)}),Oe=(0,i.computed)(()=>{const e=Ce.value;return e}),De=(0,i.computed)(()=>{const{type:t,editable:n,multiple:r}=e,o=I.value;return o||r||!n||"week"===t||"quarter"===t}),Ae=(0,i.computed)(()=>{const{type:t}=e,{showPwd:n}=g,r=_.value,o=$.value,i=V.value;return o||r||i&&n||"number"===t?"text":t}),Ne=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);if(w().eqNull(t)){const e=(0,o.zj)().input.placeholder;return e?Me(e):(0,o.TO)("vxe.base.pleaseInput")}return t}),Re=(0,i.computed)(()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)}),Fe=(0,i.computed)(()=>{const{type:t}=e,{inputValue:n}=g,r=_.value;return r?"integer"===t?w().toInteger(on(n)):w().toNumber(on(n)):0}),_e=(0,i.computed)(()=>{const{min:t}=e,{inputValue:n}=g,r=_.value,o=Fe.value;return!(!n&&0!==n||!r||null===t)&&o<=w().toNumber(t)}),Pe=(0,i.computed)(()=>{const{max:t}=e,{inputValue:n}=g,r=_.value,o=Fe.value;return!(!n&&0!==n||!r||null===t)&&o>=w().toNumber(t)}),je=t=>{const{type:n,exponential:r}=e,o=R.value,i=W.value,a="float"===n?an(t,i):w().toValueString(t);return!r||t!==a&&w().toValueString(t).toLowerCase()!==w().toNumber(a).toExponential()?a.slice(0,o):t},Le=e=>{r("update:modelValue",e)},$e=e=>{const{inputValue:t}=g;O.dispatchEvent(e.type,{value:t},e)},ze=(t,n)=>{e.trim&&(t=`${t||""}`.trim()),g.inputValue=t,Le(t),O.dispatchEvent("input",{value:t},n),w().toValueString(e.modelValue)!==t&&(O.dispatchEvent("change",{value:t},n),a||l||d&&p&&d.triggerItemEvent(n,p.itemConfig.field,t))},Ve=(e,t)=>{const n=$.value,r=Re.value;g.inputValue=e,n||(r?ze(e,t):O.dispatchEvent("input",{value:e},t))},Be=e=>{const t=e.target,n=t.value;Ve(n,e)},He=e=>{const t=Re.value;t||$e(e),E.dispatchEvent("lazy-change",{value:g.inputValue},e)},We=e=>{const{inputValue:t}=g,n=Re.value,r=t;n||ze(r,e),at(),g.visiblePanel||(g.isActivated=!1),O.dispatchEvent("blur",{value:r},e),a||l||d&&p&&d.triggerItemEvent(e,p.itemConfig.field,r)},qe=e=>{const{inputValue:t}=g,n=_.value,r=$.value;g.isActivated=!0,n?g.inputValue=Ie(t)?"":`${w().toNumber(t)}`:r&&Gt(e),$e(e)},Ye=e=>{const t=N.value;if(!t){const{inputValue:t}=g;E.dispatchEvent("prefix-click",{value:t},e)}},Ke=()=>new Promise(e=>{g.visiblePanel=!1,v.hpTimeout=setTimeout(()=>{g.isAniVisible=!1,e()},350)}),Xe=(t,n)=>{const{type:r,autoFocus:o}=e,i=_.value,a=$.value;a&&Ke(),(o||null===o)&&(i||["text","search","password"].indexOf(r)>-1)&&focus(),ze("",t),E.dispatchEvent("clear",{value:n},t),E.dispatchEvent("lazy-change",{value:n},t)},Ze=e=>{const t=N.value;if(!t){const{inputValue:t}=g;E.dispatchEvent("suffix-click",{value:t},e)}},Je=t=>{const{type:n}=e,r=ae.value,o=ee.value,i=ce.value;let a=null,l="";if(t&&(a=D(t,o)),w().isValidDate(a)){if(l=w().toDateString(a,r,{firstDay:i}),r&&"week"===n){const e=w().getYearWeek(a,i),t=w().getWhatWeek(a,0,1===e?(6+i)%7:i,i),n=t.getFullYear();if(n!==a.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(l.substring(e,e+4));t&&!isNaN(t)&&(l=l.replace(`${t}`,`${n}`))}}}}else a=null;g.datePanelValue=a,g.datePanelLabel=l},Qe=()=>{const t=$.value,{inputValue:n}=g;t&&(Je(n),g.inputValue=e.multiple?Q.value:g.datePanelLabel)},et=()=>{const{type:t}=e,{inputValue:n}=g,r=$.value,o=W.value;if(r)Qe();else if("float"===t&&n){const e=an(n,o);n!==e&&ze(e,{type:"init"})}},tt=t=>null===e.max||""===e.max||w().toNumber(t)<=w().toNumber(e.max),nt=t=>null===e.min||""===e.min||w().toNumber(t)>=w().toNumber(e.min),rt=()=>{g.inputValue=e.multiple?Q.value:g.datePanelLabel},ot=e=>{const t=ce.value,n=w().getYearWeek(e,t),r=w().getWhatWeek(e,0,t,t),o=w().getWhatMonth(1===n?w().getWhatDay(r,6):e,0,"first");w().isEqual(o,g.selectMonth)||(g.selectMonth=o)},it=t=>{const{modelValue:n,multiple:r}=e,{datetimePanelValue:o}=g,i=F.value,a=ee.value,l=ce.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,l)}else i&&(t.setHours(o.getHours()),t.setMinutes(o.getMinutes()),t.setSeconds(o.getSeconds()));const s=w().toDateString(t,a,{firstDay:l});if(ot(t),r){const e=J.value;if(i){const e=[...Z.value],n=[],r=w().findIndexOf(e,e=>w().isDateSame(t,e,"yyyyMMdd"));-1===r?e.push(t):e.splice(r,1),e.forEach(e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))}),ze(n.map(e=>w().toDateString(e,a)).join(","),{type:"update"})}else e.some(e=>w().isEqual(e,s))?ze(e.filter(e=>!w().isEqual(e,s)).join(","),{type:"update"}):ze(e.concat([s]).join(","),{type:"update"})}else w().isEqual(n,s)||ze(s,{type:"update"})},at=()=>{const{type:t,min:n,max:r,exponential:o}=e,{inputValue:i,datetimePanelValue:a}=g,l=_.value,s=$.value,c=ae.value,u=De.value;if(!u)if(l){if(i){const e=`${on(i)}`;if(e){let a="integer"===t?w().toInteger(e):w().toNumber(e);if(nt(a)?tt(a)||(a=r):a=n,o){const e=w().toValueString(i).toLowerCase();e===w().toNumber(a).toExponential()&&(a=e)}ze(je(a),{type:"check"})}else{let e="";(n||0===n)&&(e=`${n}`),ze(e,{type:"check"})}}}else if(s)if(i){let e=D(i,c);if(w().isValidDate(e))if("time"===t)e=w().toDateString(e,c),i!==e&&ze(e,{type:"check"}),g.inputValue=e;else{let n=!1;const r=ce.value;if("datetime"===t){const t=te.value;i===w().toDateString(t,c)&&i===w().toDateString(e,c)||(n=!0,a.setHours(e.getHours()),a.setMinutes(e.getMinutes()),a.setSeconds(e.getSeconds()))}else n=!0;g.inputValue=w().toDateString(e,c,{firstDay:r}),n&&it(e)}else rt()}else ze("",{type:"check"})},lt=e=>{const{showPwd:t}=g,n=N.value,r=I.value;n||r||(g.showPwd=!t),O.dispatchEvent("toggle-visible",{visible:g.showPwd},e)},st=e=>{O.dispatchEvent("search-click",{},e)},ct=(t,n)=>{const{min:r,max:o,type:i}=e,{inputValue:a}=g,l=U.value,s="integer"===i?w().toInteger(on(a)):w().toNumber(on(a)),c=t?w().add(s,l):w().subtract(s,l);let u;u=nt(c)?tt(c)?c:o:r,Ve(je(u),n)},ut=e=>{const t=N.value,n=I.value,r=_e.value;gt(),t||n||r||ct(!1,e),O.dispatchEvent("next-number",{value:g.inputValue},e)},dt=e=>{v.dnTimeout=setTimeout(()=>{ut(e),dt(e)},60)},pt=e=>{const t=N.value,n=I.value,r=Pe.value;gt(),t||n||r||ct(!0,e),O.dispatchEvent("prev-number",{value:g.inputValue},e)},ft=e=>{const t=o.Nh.hasKey(e,o.un.ARROW_UP),n=o.Nh.hasKey(e,o.un.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?pt(e):ut(e))},ht=t=>{const{type:n,exponential:r,controls:i}=e,a=_.value;if(a){const e=z(t),a=t.shiftKey,l=t.altKey,s=t.keyCode,c=o.Nh.hasKey(t,o.un.ESCAPE),u=o.Nh.hasKey(t,o.un.ARROW_UP),d=o.Nh.hasKey(t,o.un.ARROW_DOWN);e||a||l||(o.Nh.hasKey(t,o.un.SPACEBAR)||"integer"===n&&110===s||(!r||69!==s)&&s>=65&&s<=90||s>=186&&s<=188||s>=191)&&t.preventDefault(),c?at():(u||d)&&i&&ft(t)}$e(t)},mt=e=>{$e(e)},gt=()=>{const{dnTimeout:e}=v;e&&(clearTimeout(e),v.dnTimeout=void 0)},vt=e=>{v.dnTimeout=setTimeout(()=>{pt(e),vt(e)},60)},bt=e=>{if(gt(),0===e.button){const t=j(e.currentTarget,"is--prev");t?pt(e):ut(e),v.dnTimeout=setTimeout(()=>{t?vt(e):dt(e)},500)}},xt=t=>{const n=_.value;if(n&&e.controls&&g.isActivated){const e=t.deltaY;e>0?ut(t):e<0&&pt(t),t.preventDefault()}$e(t)},yt=(e,t)=>{const n=ce.value,r=w().getYearWeek(e,n),o=w().getWhatWeek(e,0,n,n),i=w().getWhatMonth(1===r?w().getWhatDay(o,6):e,t,"first");g.selectMonth=i},wt=()=>{const e=w().getWhatDay(Date.now(),0,"first");g.currentDate=e,yt(e,0)},Ct=()=>{g.datePanelType="year"},kt=()=>{let{datePanelType:e}=g;e="month"===e||"quarter"===e?"year":"month",g.datePanelType=e},St=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputValue:i}=g,{yearSize:a}=v,l=i,s=ne.value;if(!s){let e;e="year"===n?w().getWhatYear(o,-a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-a,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-a,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),g.selectMonth=e,O.dispatchEvent("date-prev",{viewType:r,viewDate:e,value:l,type:n},t)}},Tt=t=>{wt(),e.multiple||(it(g.currentDate),Ke()),O.dispatchEvent("date-today",{type:e.type},t)},Et=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputValue:i}=g,{yearSize:a}=v,l=i,s=re.value;if(!s){let e;e="year"===n?w().getWhatYear(o,a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,a,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,a,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),g.selectMonth=e,O.dispatchEvent("date-next",{viewType:r,viewDate:e,value:l,type:n},t)}},Ot=t=>{const{disabledMethod:n}=e,{datePanelType:r}=g,o=Y.value,i=K.value,{date:a}=t;return!!(o&&o.getTime()>a.getTime())||(!!(i&&i.getTime()<a.getTime())||!!n&&n({type:r,viewType:r,date:a,$input:E}))},Dt=t=>{const{type:n,multiple:r}=e,{datePanelType:o}=g;"month"===n?"year"===o?(g.datePanelType="month",ot(t)):(it(t),r||Ke()):"year"===n?(it(t),r||Ke()):"quarter"===n?"year"===o?(g.datePanelType="quarter",ot(t)):(it(t),r||Ke()):"month"===o?(g.datePanelType="week"===n?n:"day",ot(t)):"year"===o?(g.datePanelType="month",ot(t)):(it(t),"datetime"===n||r||Ke())},At=e=>{Ot(e)||Dt(e.date)},Mt=e=>{if(!Ot({date:e})){const t=be.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||ot(e),Je(e)}},It=e=>{if(!Ot({date:e})){const t=le.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||ot(e),Je(e)}},Nt=e=>{if(!Ot({date:e})){const t=he.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||ot(e),Je(e)}},Rt=e=>{if(!Ot({date:e})){const t=ge.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||ot(e),Je(e)}},Ft=e=>{if(!Ot(e)){const{datePanelType:t}=g;"month"===t?Rt(e.date):"quarter"===t?Nt(e.date):"year"===t?It(e.date):Mt(e.date)}},_t=e=>{if(e){const t=e.offsetHeight,n=e.parentNode;n.scrollTop=e.offsetTop-4*t}},Pt=e=>{g.datetimePanelValue=new Date(g.datetimePanelValue.getTime()),_t(e.currentTarget)},jt=(e,t)=>{g.datetimePanelValue.setHours(t.value),Pt(e)},Lt=()=>{const{multiple:t}=e,{datetimePanelValue:n}=g,r=te.value,o=F.value;if(o){const e=ee.value;if(t){const t=J.value;if(o){const t=[...Z.value],r=[];t.forEach(e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),r.push(e))}),ze(r.map(t=>w().toDateString(t,e)).join(","),{type:"update"})}else ze(t.join(","),{type:"update"})}else it(r||g.currentDate)}Ke()},$t=(e,t)=>{g.datetimePanelValue.setMinutes(t.value),Pt(e)},zt=(e,t)=>{g.datetimePanelValue.setSeconds(t.value),Pt(e)},Vt=e=>{const{isActivated:t,datePanelValue:n,datePanelType:r}=g;if(t){e.preventDefault();const t=o.Nh.hasKey(e,o.un.ARROW_LEFT),i=o.Nh.hasKey(e,o.un.ARROW_UP),a=o.Nh.hasKey(e,o.un.ARROW_RIGHT),l=o.Nh.hasKey(e,o.un.ARROW_DOWN);if("year"===r){let e=w().getWhatYear(n||Date.now(),0,"first");t?e=w().getWhatYear(e,-1):i?e=w().getWhatYear(e,-4):a?e=w().getWhatYear(e,1):l&&(e=w().getWhatYear(e,4)),It(e)}else if("quarter"===r){let e=w().getWhatQuarter(n||Date.now(),0,"first");t?e=w().getWhatQuarter(e,-1):i?e=w().getWhatQuarter(e,-2):a?e=w().getWhatQuarter(e,1):l&&(e=w().getWhatQuarter(e,2)),Nt(e)}else if("month"===r){let e=w().getWhatMonth(n||Date.now(),0,"first");t?e=w().getWhatMonth(e,-1):i?e=w().getWhatMonth(e,-4):a?e=w().getWhatMonth(e,1):l&&(e=w().getWhatMonth(e,4)),Rt(e)}else{let e=n||w().getWhatDay(Date.now(),0,"first");const r=ce.value;t?e=w().getWhatDay(e,-1):i?e=w().getWhatWeek(e,-1,r):a?e=w().getWhatDay(e,1):l&&(e=w().getWhatWeek(e,1,r)),Mt(e)}}},Bt=e=>{const{isActivated:t}=g;if(t){const t=o.Nh.hasKey(e,o.un.PAGE_UP);e.preventDefault(),t?St(e):Et(e)}},Ht=()=>{const{type:t}=e,n=F.value,r=te.value;["year","quarter","month","week"].indexOf(t)>-1?g.datePanelType=t:g.datePanelType="day",g.currentDate=w().getWhatDay(Date.now(),0,"first"),r?(yt(r,0),Je(r)):wt(),n&&(g.datetimePanelValue=g.datePanelValue||w().getWhatDay(Date.now(),0,"first"),(0,i.nextTick)(()=>{const e=k.value;w().arrayEach(e.querySelectorAll("li.is--selected"),e=>{_t(e)})}))},Wt=()=>{g.panelIndex<Ee()&&(g.panelIndex=Te())},qt=()=>(0,i.nextTick)().then(()=>{const{placement:t}=e,{panelIndex:n}=g,r=x.value,o=y.value,a=A.value;if(r&&o){const e=r.offsetHeight,l=r.offsetWidth,s=o.offsetHeight,c=o.offsetWidth,u=5,d={zIndex:n},{boundingTop:p,boundingLeft:f,visibleHeight:h,visibleWidth:m}=q(r);let v="bottom";if(a){let n=f,r=p+e;"top"===t?(v="top",r=p-s):t||(r+s+u>h&&(v="top",r=p-s),r<u&&(v="bottom",r=p+e)),n+c+u>m&&(n-=n+c+u-m),n<u&&(n=u),Object.assign(d,{left:`${n}px`,top:`${r}px`,minWidth:`${l}px`})}else"top"===t?(v="top",d.bottom=`${e}px`):t||(d.top=`${e}px`,p+e+s>h&&p-e-s>u&&(v="top",d.top="",d.bottom=`${e}px`));return g.panelStyle=d,g.panelPlacement=v,(0,i.nextTick)()}}),Ut=()=>{const{visiblePanel:e}=g,{hpTimeout:t}=v,n=N.value,r=$.value;return n||e?(0,i.nextTick)():(g.initialized||(g.initialized=!0),t&&(clearTimeout(t),v.hpTimeout=void 0),g.isActivated=!0,g.isAniVisible=!0,r&&Ht(),setTimeout(()=>{g.visiblePanel=!0},10),Wt(),qt())},Gt=e=>{const t=I.value;t||(e.preventDefault(),Ut())},Yt=e=>{$e(e)},Kt=e=>{const{visiblePanel:t,isActivated:n}=g,r=$.value,o=b.value,i=C.value,a=N.value;!a&&n&&(g.isActivated=H(e,o).flag||H(e,i).flag,g.isActivated||(r?t&&(Ke(),at()):at()))},Xt=t=>{const{clearable:n}=e,{visiblePanel:r}=g,i=N.value,a=$.value;if(!i){const e=o.Nh.hasKey(t,o.un.TAB),i=o.Nh.hasKey(t,o.un.DELETE),l=o.Nh.hasKey(t,o.un.ESCAPE),s=o.Nh.hasKey(t,o.un.ENTER),c=o.Nh.hasKey(t,o.un.ARROW_LEFT),u=o.Nh.hasKey(t,o.un.ARROW_UP),d=o.Nh.hasKey(t,o.un.ARROW_RIGHT),p=o.Nh.hasKey(t,o.un.ARROW_DOWN),f=o.Nh.hasKey(t,o.un.PAGE_UP),h=o.Nh.hasKey(t,o.un.PAGE_DOWN),m=c||u||d||p;let v=g.isActivated;e?(v&&at(),v=!1,g.isActivated=v):m?a&&v&&(r?Vt(t):(u||p)&&Gt(t)):s?a&&(r?g.datePanelValue?Dt(g.datePanelValue):Ke():v&&Gt(t)):(f||h)&&a&&v&&Bt(t),e||l?r&&Ke():i&&n&&v&&Xe(t,null)}},Zt=e=>{const{visiblePanel:t}=g,n=N.value;if(!n&&t){const t=C.value;H(e,t).flag?qt():(Ke(),at())}},Jt=()=>{const{isActivated:e,visiblePanel:t}=g;if(t&&Ke(),e&&(g.isActivated=!1),t||e){const e=x.value;at(),e&&e.blur()}},Qt=(t,n)=>{const{festivalMethod:r}=e;if(r){const{datePanelType:e}=g,o=r({type:e,viewType:e,date:t.date,$input:E}),a=o?w().isString(o)?{label:o}:o:{},l=a.extra?w().isString(a.extra)?{label:a.extra}:a.extra:null,s=[(0,i.h)("span",{class:["vxe-input--date-label",{"is-notice":a.notice}]},l&&l.label?[(0,i.h)("span",`${n||""}`),(0,i.h)("span",{class:["vxe-input--date-label--extra",l.important?"is-important":"",l.className],style:l.style},w().toValueString(l.label))]:[`${n||""}`])],c=a.label;if(c){const e=w().toValueString(c).split(",");s.push((0,i.h)("span",{class:["vxe-input--date-festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?(0,i.h)("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("span",e.substring(0,3)))):(0,i.h)("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return s}return[`${n||""}`]},en=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=te.value,a=de.value,l=xe.value,s=Z.value,c="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("thead",[(0,i.h)("tr",a.map(e=>(0,i.h)("th",e.label)))]),(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ot(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(o,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>At(e),onMouseenter:()=>Ft(e)},Qt(e,e.label))))))])]},tn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=te.value,a=pe.value,l=ye.value,s=Z.value,c="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("thead",[(0,i.h)("tr",a.map(e=>(0,i.h)("th",e.label)))]),(0,i.h)("tbody",l.map(e=>{const n=t?e.some(e=>s.some(t=>w().isDateSame(t,e.date,c))):e.some(e=>w().isDateSame(o,e.date,c)),a=e.some(e=>w().isDateSame(r,e.date,c));return(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ot(e),"is--selected":n,"is--hover":a},onClick:()=>At(e),onMouseenter:()=>Ft(e)},Qt(e,e.label))))}))])]},nn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,a=te.value,l=ve.value,s=Z.value,c="yyyyMM";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ot(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(a,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>At(e),onMouseenter:()=>Ft(e)},Qt(e,(0,o.TO)(`vxe.input.date.months.m${e.month}`)))))))])]},rn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,a=te.value,l=me.value,s=Z.value,c="yyyyq";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ot(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(a,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>At(e),onMouseenter:()=>Ft(e)},Qt(e,(0,o.TO)(`vxe.input.date.quarters.q${e.quarter}`)))))))])]},ln=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=te.value,a=fe.value,l=Z.value,s="yyyy";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",a.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ot(e),"is--selected":t?l.some(t=>w().isDateSame(t,e.date,s)):w().isDateSame(o,e.date,s),"is--hover":w().isDateSame(r,e.date,s)},onClick:()=>At(e),onMouseenter:()=>Ft(e)},Qt(e,e.year))))))])]},sn=()=>{const{datePanelType:e}=g;switch(e){case"week":return tn();case"month":return nn();case"quarter":return rn();case"year":return ln()}return en()},cn=()=>{const{multiple:t}=e,{datePanelType:n}=g,r=ne.value,a=re.value,l=se.value;return[(0,i.h)("div",{class:"vxe-input--date-picker-header"},[(0,i.h)("div",{class:"vxe-input--date-picker-type-wrapper"},["year"===n?(0,i.h)("span",{class:"vxe-input--date-picker-label"},l.y):(0,i.h)("span",{class:"vxe-input--date-picker-btns"},[(0,i.h)("span",{class:"vxe-input--date-picker-btn",onClick:Ct},l.y),l.m?(0,i.h)("span",{class:"vxe-input--date-picker-btn",onClick:kt},l.m):(0,o.C1)(E)])]),(0,i.h)("div",{class:"vxe-input--date-picker-btn-wrapper"},[(0,i.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":r}],onClick:St},[(0,i.h)("i",{class:"vxe-icon-caret-left"})]),(0,i.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Tt},[(0,i.h)("i",{class:"vxe-icon-dot"})]),(0,i.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":a}],onClick:Et},[(0,i.h)("i",{class:"vxe-icon-caret-right"})]),t&&X.value?(0,i.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[(0,i.h)("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Lt},(0,o.TO)("vxe.button.confirm"))]):null])]),(0,i.h)("div",{class:"vxe-input--date-picker-body"},sn())]},un=()=>{const{datetimePanelValue:e}=g,t=oe.value,n=we.value,r=ke.value,a=Ce.value,l=Se.value,s=Oe.value;return[(0,i.h)("div",{class:"vxe-input--time-picker-header"},[r?(0,i.h)("span",{class:"vxe-input--time-picker-title"},t):(0,i.createCommentVNode)(),(0,i.h)("div",{class:"vxe-input--time-picker-btn"},[(0,i.h)("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Lt},(0,o.TO)("vxe.button.confirm"))])]),(0,i.h)("div",{ref:k,class:"vxe-input--time-picker-body"},[(0,i.h)("ul",{class:"vxe-input--time-picker-hour-list"},n.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>jt(e,t)},t.label))),r?(0,i.h)("ul",{class:"vxe-input--time-picker-minute-list"},a.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>$t(e,t)},t.label))):(0,i.createCommentVNode)(),r&&l?(0,i.h)("ul",{class:"vxe-input--time-picker-second-list"},s.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>zt(e,t)},t.label))):(0,i.createCommentVNode)()])]},dn=()=>{const{type:t}=e,{initialized:n,isAniVisible:r,visiblePanel:o,panelPlacement:a,panelStyle:l}=g,s=m.value,c=A.value,u=$.value,d=[];return u?("datetime"===t?d.push((0,i.h)("div",{key:t,ref:C,class:"vxe-input--panel-layout-wrapper"},[(0,i.h)("div",{class:"vxe-input--panel-left-wrapper"},cn()),(0,i.h)("div",{class:"vxe-input--panel-right-wrapper"},un())])):"time"===t?d.push((0,i.h)("div",{key:t,ref:C,class:"vxe-input--panel-wrapper"},un())):d.push((0,i.h)("div",{key:t||"default",ref:C,class:"vxe-input--panel-wrapper"},cn())),(0,i.h)(i.Teleport,{to:"body",disabled:!c||!n},[(0,i.h)("div",{ref:y,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${s}`]:s,"is--transfer":c,"ani--leave":r,"ani--enter":o}],placement:a,style:l},o||r?d:[])])):(0,i.createCommentVNode)()},pn=()=>{const e=Pe.value,t=_e.value;return(0,i.h)("div",{class:"vxe-input--control-icon"},[(0,i.h)("div",{class:"vxe-input--number-icon"},[(0,i.h)("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:bt,onMouseup:gt,onMouseleave:gt},[(0,i.h)("i",{class:(0,o.sW)().INPUT_PLUS_NUM})]),(0,i.h)("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:bt,onMouseup:gt,onMouseleave:gt},[(0,i.h)("i",{class:(0,o.sW)().INPUT_MINUS_NUM})])])])},fn=()=>(0,i.h)("div",{class:"vxe-input--control-icon",onClick:Gt},[(0,i.h)("i",{class:["vxe-input--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),hn=()=>(0,i.h)("div",{class:"vxe-input--control-icon",onClick:st},[(0,i.h)("i",{class:["vxe-input--search-icon",(0,o.sW)().INPUT_SEARCH]})]),mn=()=>{const{showPwd:e}=g;return(0,i.h)("div",{class:"vxe-input--control-icon",onClick:lt},[(0,i.h)("i",{class:["vxe-input--password-icon",e?(0,o.sW)().PASSWORD_INPUT_SHOW_PWD:(0,o.sW)().PASSWORD_INPUT_HIDE_PWD]})])},gn=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-input--prefix",onClick:Ye},[(0,i.h)("div",{class:"vxe-input--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},vn=()=>{const{suffixIcon:t}=e,{inputValue:r}=g,a=n.suffix,l=N.value,s=_.value,c=$.value,u=V.value,d=B.value,p=G.value,f=u||s||c||d;return p||a||t||f?(0,i.h)("div",{class:["vxe-input--suffix",{"is--clear":p&&!l&&!(""===r||w().eqNull(r))}]},[p?(0,i.h)("div",{class:"vxe-input--clear-icon",onClick:Xe},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,i.createCommentVNode)(),f?bn():(0,i.createCommentVNode)(),a||t?(0,i.h)("div",{class:"vxe-input--suffix-icon",onClick:Ze},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,i.createCommentVNode)()]):null},bn=()=>{const{controls:t}=e,n=_.value,r=$.value,o=V.value,a=B.value;return o?mn():n&&t?pn():r?fn():a?hn():(0,i.createCommentVNode)()},xn=(e,t,n)=>{r(e,(0,o.lh)(n,{$input:E},t))};O={dispatchEvent:xn,focus(){const e=x.value;return g.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=x.value;return e.blur(),g.isActivated=!1,(0,i.nextTick)()},select(){const e=x.value;return e.select(),g.isActivated=!1,(0,i.nextTick)()},showPanel:Ut,hidePanel:Ke,updatePlacement:qt},Object.assign(E,O);const yn=()=>{const{className:t,controls:n,type:r,title:o,align:a,showWordCount:l,countMethod:s,name:c,autoComplete:u,autocomplete:d}=e,{inputValue:p,visiblePanel:f,isActivated:h}=g,v=m.value,y=N.value,C=M.value;if(C)return(0,i.h)("div",{ref:b,class:["vxe-input--readonly",`type--${r}`,t]},p);const k=L.value,S=P.value,T=De.value,E=R.value,O=Ae.value,D=Ne.value,A=G.value,I=l&&["text","search"].includes(r),F=gn(),_=vn();return(0,i.h)("div",{ref:b,class:["vxe-input",`type--${r}`,t,{[`size--${v}`]:v,[`is--${a}`]:a,"is--controls":n,"is--prefix":!!F,"is--suffix":!!_,"is--visible":f,"is--count":I,"is--disabled":y,"is--active":h,"show--clear":A&&!y&&!(""===p||w().eqNull(p))}],spellcheck:!1},[F||(0,i.createCommentVNode)(),(0,i.h)("div",{class:"vxe-input--wrapper",title:o||null},[(0,i.h)("input",{ref:x,class:"vxe-input--inner",value:p,name:c,type:O,placeholder:D,maxlength:E,readonly:T,disabled:y,autocomplete:u||d,onKeydown:ht,onKeyup:mt,onClick:Yt,onInput:Be,onChange:He,onFocus:qe,onBlur:We})]),_||(0,i.createCommentVNode)(),dn(),I?(0,i.h)("span",{class:["vxe-input--count",{"is--error":k}]},s?`${s({value:p})}`:`${S}${E?`/${E}`:""}`):(0,i.createCommentVNode)()])};return(0,i.watch)(()=>e.modelValue,e=>{g.inputValue=e,Qe()}),(0,i.watch)(()=>e.type,()=>{Object.assign(g,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),et()}),(0,i.watch)(ae,()=>{const t=$.value;t&&(Je(g.datePanelValue),g.inputValue=e.multiple?Q.value:g.datePanelLabel)}),(0,i.onMounted)(()=>{const{type:t}=e;["date","time","datetime","week","month","quarter","year"].includes(t)?f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,`<vxe-date-picker type="${t}" ... />`]):["number","integer","float"].includes(t)?f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,`<vxe-number-input type="${t}" ... />`]):["password"].includes(t)&&f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,"<vxe-password-input ... />"]);const n=x.value;n&&n.addEventListener("wheel",xt,{passive:!1}),o.Nh.on(E,"mousewheel",Zt),o.Nh.on(E,"mousedown",Kt),o.Nh.on(E,"keydown",Xt),o.Nh.on(E,"blur",Jt)}),(0,i.onBeforeUnmount)(()=>{gt(),at();const e=x.value;e&&e.removeEventListener("wheel",xt),o.Nh.off(E,"mousewheel"),o.Nh.off(E,"mousedown"),o.Nh.off(E,"keydown"),o.Nh.off(E,"blur")}),et(),E.renderVN=yn,E},render(){return this.renderVN()}}),sn=a({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>(0,o.zj)().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>(0,o.zj)().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>(0,o.zj)().numberInput.size||(0,o.zj)().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>(0,o.zj)().numberInput.exponential},showCurrency:{type:Boolean,default:()=>(0,o.zj)().numberInput.showCurrency},currencySymbol:{type:String,default:()=>(0,o.zj)().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>(0,o.zj)().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),d={},p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),g=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),v=(0,i.computed)(()=>{const{type:t,digits:n}=e;let r=n;return null===r&&(r=(0,o.zj)().numberInput.digits,null===r&&"amount"===t&&(r=2)),w().toInteger(r)||1}),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().numberInput.controlConfig,e.controlConfig)),x=(0,i.computed)(()=>{const{type:t}=e;return"float"===t||"amount"===t}),y=(0,i.computed)(()=>{const{type:t}=e,n=v.value,r=x.value,o=e.step;return"integer"===t?w().toInteger(o)||1:r?w().toNumber(o)||1/Math.pow(10,n):w().toNumber(o)||1}),C=(0,i.computed)(()=>e.clearable),k=(0,i.computed)(()=>{const{editable:t}=e,n=m.value;return n||!t}),S=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().numberInput.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseInput")}),E=(0,i.computed)(()=>{const{maxLength:t,maxlength:n}=e;return w().toNumber(t||n)||16}),O=(0,i.computed)(()=>{const{immediate:t}=e;return t}),D=(0,i.computed)(()=>{const{type:t}=e,{inputValue:n}=u;return"integer"===t?w().toInteger(on(n)):w().toNumber(on(n))}),A=(0,i.computed)(()=>{const{type:t,showCurrency:n,currencySymbol:r,autoFill:i}=e,{inputValue:a}=u,l=v.value;if("amount"===t){const e=w().toNumber(a);let t=w().commafy(e,{digits:l});if(!i){const[e,n]=t.split(".");if(n){const r=n.replace(/0+$/,"");t=r?[e,".",r].join(""):e}}return n?`${r||(0,o.TO)("vxe.numberInput.currencySymbol")||""}${t}`:t}return w().toString(a)}),M=(0,i.computed)(()=>{const{min:t}=e,{inputValue:n}=u,r=D.value;return!(!n&&0!==n||null===t)&&r<=w().toNumber(t)}),I=(0,i.computed)(()=>{const{max:t}=e,{inputValue:n}=u,r=D.value;return!(!n&&0!==n||null===t)&&r>=w().toNumber(t)}),N={refElem:p,refInput:f},R={computeControlOpts:b},F={xID:s,props:e,context:t,reactData:u,internalData:d,getRefMaps:()=>N,getComputeMaps:()=>R};let _={};const P=e=>w().eqNull(e)?"":`${e}`,L=t=>{const{exponential:n,autoFill:r}=e,o=E.value,i=v.value,a=x.value;let l="";return a?(l=an(t,i),r||(l=P(w().toNumber(l)))):l=P(t),!n||t!==l&&P(t).toLowerCase()!==w().toNumber(l).toExponential()?l.slice(0,o):t},$=e=>{const{inputValue:t}=u;_.dispatchEvent(e.type,{value:t},e)},V=(t,n,o)=>{const s=Ie(t)?null:Number(t),c=s!==e.modelValue;c&&(d.isUM=!0,r("update:modelValue",s)),u.inputValue!==n&&(0,i.nextTick)(()=>{u.inputValue=n||""}),_.dispatchEvent("input",{value:s},o),c&&(_.dispatchEvent("change",{value:s},o),a&&l&&a.triggerItemEvent(o,l.itemConfig.field,s))},B=(e,t)=>{const n=O.value,r=Ie(e)?null:w().toNumber(e);u.inputValue=e,n?V(r,e,t):_.dispatchEvent("input",{value:r},t)},W=e=>{const t=e.target,n=t.value;B(n,e)},q=e=>{const t=O.value;t||$(e),F.dispatchEvent("lazy-change",{value:u.inputValue},e)},U=e=>{const t=k.value;if(!t){const{inputValue:t}=u;u.inputValue=Ie(t)?"":`${w().toNumber(t)}`,u.isFocus=!0,u.isActivated=!0,$(e)}},G=e=>{const t=g.value;if(!t){const{inputValue:t}=u;_.dispatchEvent("prefix-click",{value:t},e)}},Y=(e,t)=>{focus(),V(null,"",e),_.dispatchEvent("clear",{value:t},e),F.dispatchEvent("lazy-change",{value:t},e)},K=e=>{const t=g.value;if(!t){const{inputValue:t}=u;_.dispatchEvent("suffix-click",{value:t},e)}},X=t=>{const{autoFill:n}=e,{inputValue:r}=u,o=v.value,i=x.value;if(Ie(t))u.inputValue="";else{let e=`${t}`;i&&(e=an(t,o),n||(e=`${w().toNumber(e)}`)),e!==r&&(u.inputValue=e)}},Z=()=>{const{autoFill:t}=e,{inputValue:n}=u,r=v.value,o=x.value;if(o&&n){let e="",o=null;n&&(e=an(n,r),o=w().toNumber(e),t||(e=`${o}`)),n!==o?V(o,e,{type:"init"}):u.inputValue=e}},J=t=>null===e.max||""===e.max||w().toNumber(t)<=w().toNumber(e.max),Q=t=>null===e.min||""===e.min||w().toNumber(t)>=w().toNumber(e.min),ee=()=>{const{type:t,min:n,max:r,exponential:o}=e,{inputValue:i}=u,a=k.value;if(!a){if(Ie(i)){let e=null,t=i;return(n||0===n)&&(e=w().toNumber(n),t=`${e}`),void V(e,`${t||""}`,{type:"check"})}if(i||n||r){let e="integer"===t?w().toInteger(on(i)):w().toNumber(on(i));if(Q(e)?J(e)||(e=r):e=n,o){const t=P(i).toLowerCase();t===w().toNumber(e).toExponential()&&(e=t)}const a=L(e);V(Ie(a)?null:Number(a),a,{type:"check"})}}},te=e=>{const{inputValue:t}=u,n=O.value,r=t?Number(t):null;n||V(r,P(t),e),ee(),u.isFocus=!1,u.isActivated=!1,_.dispatchEvent("blur",{value:r},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,r)},ne=(t,n)=>{const{min:r,max:o,type:i}=e,{inputValue:a}=u,l=y.value,s="integer"===i?w().toInteger(on(a)):w().toNumber(on(a)),c=t?w().add(s,l):w().subtract(s,l);let d;d=Q(c)?J(c)?c:o:r,B(L(d),n)},re=e=>{const t=g.value,n=m.value,r=I.value;t||n||r||ne(!0,e),u.isActivated=!0,_.dispatchEvent("plus-number",{value:u.inputValue},e),F.dispatchEvent("lazy-change",{value:u.inputValue},e),_.dispatchEvent("next-number",{value:u.inputValue},e)},oe=e=>{const t=g.value,n=m.value,r=M.value;t||n||r||ne(!1,e),u.isActivated=!0,_.dispatchEvent("minus-number",{value:u.inputValue},e),F.dispatchEvent("lazy-change",{value:u.inputValue},e),_.dispatchEvent("prev-number",{value:u.inputValue},e)},ie=e=>{const t=o.Nh.hasKey(e,o.un.ARROW_UP),n=o.Nh.hasKey(e,o.un.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?re(e):oe(e))},ae=t=>{const{type:n,exponential:r,controls:i}=e,a=b.value,{isArrow:l}=a,s=k.value,c=z(t),u=t.shiftKey,d=t.altKey,p=t.keyCode,f=o.Nh.hasKey(t,o.un.ESCAPE),h=o.Nh.hasKey(t,o.un.ARROW_UP),m=o.Nh.hasKey(t,o.un.ARROW_DOWN);c||u||d||(o.Nh.hasKey(t,o.un.SPACEBAR)||"integer"===n&&110===p||(!r||69!==p)&&p>=65&&p<=90||p>=186&&p<=188||p>=191)&&t.preventDefault(),f?ee():(h||m)&&Se(a)&&(!1===i?i:l)&&!s&&ie(t),$(t)},le=e=>{$(e)},se=()=>{const{dnTimeout:e}=d;e&&(clearTimeout(e),d.dnTimeout=void 0)},ce=()=>{const{ainTimeout:e}=d;e&&(clearTimeout(e),d.ainTimeout=void 0)},ue=e=>{pe(),d.ainTimeout=setTimeout(()=>{oe(e),ue(e)},60)},de=e=>{pe(),d.ainTimeout=setTimeout(()=>{re(e),de(e)},60)},pe=()=>{se(),ce()},fe=e=>{if(d.isMouseDown)d.isMouseDown=!1;else{pe();const t=j(e.currentTarget,"is--plus");t?re(e):oe(e)}},he=e=>{if(pe(),d.isMouseDown=!0,0===e.button){const t=j(e.currentTarget,"is--plus");t?re(e):oe(e),d.dnTimeout=setTimeout(()=>{t?de(e):ue(e)},500)}},me=t=>{const{controls:n}=e,r=b.value,{isWheel:o}=r,i=k.value;if(Se(r)&&(!1===n?n:o)&&!i&&u.isActivated){t.stopPropagation(),t.preventDefault();const e=t.deltaY;e>0?oe(t):e<0&&re(t)}$(t)},ge=e=>{$(e)},ve=e=>{const{isActivated:t}=u,n=p.value,r=h.value,o=g.value,i=k.value,a=O.value;if(!o&&!i&&t&&(u.isActivated=H(e,n).flag||H(e,r).flag,!u.isActivated)){if(!a){const{inputValue:t}=u,n=t?Number(t):null;V(n,P(t),e)}ee()}},be=t=>{const{clearable:n}=e,r=g.value,i=k.value;if(!r&&!i){const e=o.Nh.hasKey(t,o.un.TAB),r=o.Nh.hasKey(t,o.un.DELETE);let i=u.isActivated;e&&(i&&ee(),i=!1,u.isActivated=i),r&&n&&i&&Y(t,null)}},xe=()=>{const{isActivated:e}=u;e&&ee()},ye=(e,t,n)=>{r(e,(0,o.lh)(n,{$numberInput:F},t))};_={dispatchEvent:ye,focus(){const e=k.value;if(!e){const e=f.value;u.isActivated=!0,e.focus()}return(0,i.nextTick)()},blur(){const e=f.value;return e.blur(),u.isActivated=!1,(0,i.nextTick)()},select(){const e=f.value;return e.select(),u.isActivated=!1,(0,i.nextTick)()}},Object.assign(F,_);const we=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-number-input--prefix",onClick:G},[(0,i.h)("div",{class:"vxe-number-input--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):(0,o.C1)(F)},Ce=()=>{const{suffixIcon:t}=e,{inputValue:r}=u,a=n.suffix,l=g.value,s=C.value;return(0,i.h)("div",{class:["vxe-number-input--suffix",{"is--clear":s&&!l&&!(""===r||w().eqNull(r))}]},[s?(0,i.h)("div",{class:"vxe-number-input--clear-icon",onClick:Y},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(F),a||t?(0,i.h)("div",{class:"vxe-number-input--suffix-icon",onClick:K},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(F)])},ke=()=>{const{type:t,name:n,autocomplete:r,autoComplete:o}=e,{inputValue:a,isFocus:l}=u,s=g.value,c=A.value,d=k.value,p=E.value,h=S.value;return(0,i.h)("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[we(),(0,i.h)("div",{class:"vxe-number-input--input-inner"},[(0,i.h)("input",{ref:f,class:"vxe-number-input--input",value:l||"amount"!==t?a:c,name:n,type:"text",placeholder:h,maxlength:p,readonly:d,disabled:s,autocomplete:o||r,onKeydown:ae,onKeyup:le,onClick:ge,onInput:W,onChange:q,onFocus:U,onBlur:te})]),Ce()])},Te=()=>{const{minusIcon:t}=e,n=M.value;return(0,i.h)("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":n}],type:"button",onClick:fe,onMousedown:he,onMouseup:pe,onMouseleave:pe},[(0,i.h)("i",{class:t||(0,o.sW)().NUMBER_INPUT_MINUS_NUM})])},Ee=()=>{const{plusIcon:t}=e,n=I.value;return(0,i.h)("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":n}],type:"button",onClick:fe,onMousedown:he,onMouseup:pe,onMouseleave:pe},[(0,i.h)("i",{class:t||(0,o.sW)().NUMBER_INPUT_PLUS_NUM})])},Oe=()=>(0,i.h)("div",{key:"cplr",class:"vxe-number-input--side-control"},[Ee(),Te()]),De=()=>{const{className:t,controls:r,type:o,align:a,prefixIcon:l,suffixIcon:s}=e,{inputValue:d,isActivated:f}=u,h=c.value,v=b.value,{layout:x,showButton:y}=v,S=g.value,T=m.value,E=A.value,O=n.prefix,D=n.suffix;if(T)return(0,i.h)("div",{ref:p,class:["vxe-number-input--readonly",`type--${o}`,t]},E);const M=k.value,I=C.value,N=Se(v)&&(!1===r?r:y);return(0,i.h)("div",{ref:p,class:["vxe-number-input",`type--${o}`,`control-${"right"===x||"left"===x?x:"default"}`,t,{[`size--${h}`]:h,[`is--${a}`]:a,"is--controls":N&&!M,"is--prefix":!!O||l,"is--suffix":!!D||s,"is--disabled":S,"is--active":f,"show--clear":I&&!S&&!(""===d||w().eqNull(d))}],spellcheck:!1},N?"right"===x?[ke(),Oe()]:"left"===x?[Oe(),ke()]:[Ee(),ke(),Te()]:[ke()])};return F.renderVN=De,(0,i.watch)(()=>e.modelValue,e=>{d.isUM||X(e),d.isUM=!1}),(0,i.watch)(()=>e.type,()=>{Object.assign(u,{inputValue:e.modelValue}),Z()}),(0,i.onMounted)(()=>{const e=f.value;e&&e.addEventListener("wheel",me,{passive:!1}),o.Nh.on(F,"mousedown",ve),o.Nh.on(F,"keydown",be),o.Nh.on(F,"blur",xe)}),(0,i.onBeforeUnmount)(()=>{u.isFocus=!1,pe(),ee();const e=f.value;e&&e.removeEventListener("wheel",me),o.Nh.off(F,"mousedown"),o.Nh.off(F,"keydown"),o.Nh.off(F,"blur")}),Z(),F},render(){return this.renderVN()}}),cn=a({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>(0,o.zj)().colorPicker.clearable},type:{type:String,default:()=>(0,o.zj)().colorPicker.type},size:{type:String,default:()=>(0,o.zj)().colorPicker.size||(0,o.zj)().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>w().clone((0,o.zj)().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showAlpha},showEyeDropper:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showEyeDropper},showColorExtractor:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>(0,o.zj)().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeModal",null),a=(0,i.inject)("$xeDrawer",null),l=(0,i.inject)("$xeTable",null),s=(0,i.inject)("$xeForm",null),c=(0,i.inject)("xeFormItemInfo",null),u="undefined"!==typeof window?window.EyeDropper:null,d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k=(0,i.reactive)({initialized:!1,selectTyle:"hex",selectColor:`${e.modelValue||""}`,showTypePopup:!1,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),S=[{label:"HEX",value:"hex"},{label:"RGB",value:"rgb"}],T={},E=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!s&&s.props.readonly:t}),O=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!s&&s.props.disabled:t}),D=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().colorPicker.transfer;if(w().isBoolean(e))return e;if(l||r||a||s)return!0}return t}),A=(0,i.computed)(()=>{const{colors:t}=e;return t?t.map(e=>w().isString(e)?{label:e,value:e}:{label:w().eqNull(e.label)?e.value:e.label,value:e.value}):[]}),M=(0,i.computed)(()=>{const{selectTyle:e}=k;return"rgb"===e}),I=(0,i.computed)(()=>{const{selectTyle:e}=k;return S.find(t=>t.value===e)}),N={refElem:f},R={},F={xID:d,props:e,context:t,reactData:k,getRefMaps:()=>N,getComputeMaps:()=>R},_=e=>{n("update:modelValue",e)},P=()=>{const{modelValue:t}=e;k.selectColor=w().toValueString(t),L()},j=()=>{const{type:t}=e;let n="hex";"rgb"!==t&&"rgba"!==t||(n="rgb"),k.selectTyle=n,P()},L=()=>{const{selectColor:e,isAniVisible:t}=k,n=M.value,r=g.value,o=b.value,i=Xt(e);if(k.hexValue=i.hex,k.rValue=i.r,k.gValue=i.g,k.bValue=i.b,k.aValue=i.a,i.value)if(n){if("hex"===i.type){const e=rn(i.hex);e&&(k.rValue=e.r,k.gValue=e.g,k.bValue=e.b,k.aValue=e.a)}}else"hex"!==i.type&&(k.hexValue=Qt(i));if(t){const e="hex"===i.type?nn(i.hex):en(i),t=y.value;if(e){if(t){const n=t.clientHeight*(1-e.v),r=t.clientWidth*e.s;pe(r,n)}r&&re(w().ceil((1-e.h/360)*r.clientWidth))}o&&ae(o.clientWidth*i.a)}},$=()=>{k.panelIndex<Ee()&&(k.panelIndex=Te())},z=()=>{const{placement:t}=e,{panelIndex:n}=k,r=f.value,o=m.value,a=D.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});k.panelStyle=i,k.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},B=()=>{const{hpTimeout:e}=T,t=O.value;t||(e&&(clearTimeout(e),T.hpTimeout=void 0),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,setTimeout(()=>{L(),k.visiblePanel=!0},10),$(),z())},W=()=>{k.visiblePanel=!1,T.hpTimeout=setTimeout(()=>{k.isAniVisible=!1},350)},q=(t,n)=>{k.selectColor=n,n!==e.modelValue&&(_(n),ye("change",{value:n},t),s&&c&&s.triggerItemEvent(t,c.itemConfig.field,n))},U=(e,t)=>{q(e,t),ye("clear",{value:t},e)},G=()=>{const e=O.value;e||k.visiblePanel||B()},Y=()=>{k.isActivated=!1},K=e=>{U(e,null),W()},Z=e=>{const{selectColor:t}=k;q(e,t),W()},J=e=>{e.preventDefault(),k.visiblePanel?W():B()},Q=e=>{J(e),ye("click",{},e)},ee=()=>{k.showTypePopup=!1},te=e=>{e.stopPropagation(),k.showTypePopup=!k.showTypePopup},ne=e=>{const{selectTyle:t}=k;e!==t&&(k.selectTyle=e,L()),k.showTypePopup=!1},re=e=>{const t=g.value,n=v.value;if(t&&n){e<0&&(e=0);const r=w().toInteger(t.clientWidth),o=255,i=6*o,a=w().ceil(i/r*e),l=a%o;let s=0,c=0,u=0;switch(Math.ceil(a/o)){case 1:s=o,u=l;break;case 2:s=o-l,u=o;break;case 3:c=l,u=o;break;case 4:c=o,u=o-l;break;case 5:s=l,c=o;break;case 6:s=o,c=o-l;break}k.panelColor=Jt(s,c,u),n.style.left=V(e)}},oe=e=>{const t=g.value,n=v.value;if(t&&n){const n=t.getBoundingClientRect(),r=w().toInteger(t.clientWidth),o=w().ceil(Math.min(r-1,Math.max(1,e.clientX-n.x)));re(o)}},ie=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),oe(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,oe(e)}},ae=e=>{const{selectColor:t}=k,n=b.value,r=x.value;if(n&&r){const o=n.getBoundingClientRect(),i=o.width;e<0&&(e=0),e>i&&(e=i);const a=w().ceil(100/i*e/100,2);k.aValue=a,r.style.left=V(e),k.selectColor=Zt(t,a)}},le=e=>{const t=b.value,n=x.value;if(t&&n){const n=t.getBoundingClientRect(),r=n.width,o=Math.min(r,Math.max(0,e.clientX-n.x));ae(o),L()}},se=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),le(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,le(e)}},ce=()=>{const{rValue:e,gValue:t,bValue:n,aValue:r}=k;k.selectColor=Jt(e,t,n,r),L()},ue=()=>{const{aValue:e}=k,t=b.value,n=x.value;if(t&&n){const n=t.getBoundingClientRect(),r=n.width,o=r*e;ae(o)}},de=(e,t)=>{const n=t.value;k.selectColor=n,L()},pe=(e,t)=>{const n=C.value;n&&(n.style.top=V(t),n.style.left=V(e))},fe=()=>{if(u)try{const e=new u;e.open().then(e=>{e&&e.sRGBHex&&(k.selectColor=e.sRGBHex,L())}).catch(()=>{})}catch(e){}},he=t=>{const{showAlpha:n}=e,{panelColor:r,aValue:o}=k,i=y.value,a=C.value;if(i&&a){const e=i.getBoundingClientRect(),a=t.clientY-e.y,l=t.clientX-e.x,s=Xt(r);if(s){const e="hex"===s.type?nn(s.hex):en(s);if(e){const t=tn(e.h,l/i.clientWidth,1-a/i.clientHeight);k.selectColor=Jt(t.r,t.g,t.b,n?o:null),pe(l,a),L()}}}},me=()=>{const{selectColor:e}=k;e&&o.OE.clipboard.copy(e)&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.colorPicker.copySuccess",[e]),status:"success"})},ge=e=>{const{visiblePanel:t}=k,n=O.value;if(!n&&t){const t=m.value;H(e,t).flag?z():W()}},ve=e=>{const{visiblePanel:t}=k,n=O.value;if(!n){const n=f.value,r=m.value;k.isActivated=H(e,n).flag||H(e,r).flag,t&&!k.isActivated&&W()}},be=()=>{const{visiblePanel:e,isActivated:t}=k;if(e&&W(),t&&(k.isActivated=!1),e||t){const e=h.value;e&&e.blur()}},xe=()=>{const{visiblePanel:e}=k;e&&z()},ye=(e,t,r)=>{n(e,(0,o.lh)(r,{$colorPicker:F},t))},we={dispatchEvent:ye},Ce={};Object.assign(F,we,Ce);const ke=()=>{const{showColorExtractor:t}=e,{panelColor:n}=k;return t?(0,i.h)("div",{ref:y,class:"vxe-color-picker--color-wrapper",onMousedown:he},[(0,i.h)("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:n}}),(0,i.h)("div",{class:"vxe-color-picker--white-bg"}),(0,i.h)("div",{class:"vxe-color-picker--black-bg"}),(0,i.h)("div",{ref:C,class:"vxe-color-picker--color-active"})]):(0,o.C1)(F)},Se=()=>{const{showAlpha:t,clickToCopy:n,showEyeDropper:r}=e,{selectTyle:a,showTypePopup:l,hexValue:s,rValue:c,gValue:d,bValue:p,aValue:f,selectColor:h,panelColor:m}=k,y=M.value,w=I.value;return(0,i.h)("div",{class:"vxe-color-picker--bar-wrapper"},[(0,i.h)("div",{class:"vxe-color-picker--slider-wrapper"},[r&&u?(0,i.h)("div",{class:"vxe-color-picker--color-dropper"},[(0,i.h)("span",{class:"vxe-color-picker--color-dropper-btn",onClick:fe},[(0,i.h)("i",{class:(0,o.sW)().COLOR_PICKER_EYE_DROPPER})])]):(0,o.C1)(F),(0,i.h)("div",{class:"vxe-color-picker--slider-preview"},[(0,i.h)("div",{class:"vxe-color-picker--preview-btn"},[(0,i.h)("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:h}},n?[(0,i.h)("span",{class:"vxe-color-picker--preview-copy-btn",onClick:me},[(0,i.h)("i",{class:(0,o.sW)().COLOR_PICKER_COLOR_COPY})])]:[])])]),(0,i.h)("div",{class:"vxe-color-picker--slider-handle"},[(0,i.h)("div",{ref:g,class:"vxe-color-picker--bar-hue-slider",onClick:oe},[(0,i.h)("div",{ref:v,class:"vxe-color-picker--bar-hue-btn",onMousedown:ie})]),t?(0,i.h)("div",{ref:b,class:"vxe-color-picker--bar-alpha-slider",onClick:le},[(0,i.h)("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${m})`}}),(0,i.h)("div",{ref:x,class:"vxe-color-picker--bar-alpha-btn",onMousedown:se})]):(0,o.C1)(F)])]),(0,i.h)("div",{class:"vxe-color-picker--custom-wrapper"},[(0,i.h)("div",{class:"vxe-color-picker--type-switch"},[(0,i.h)("div",{class:"vxe-color-picker--type-label",onClick:te},[(0,i.h)("span",`${w?w.label:a}`),(0,i.h)("span",{class:"vxe-color-picker--type-icon"},[(0,i.h)("i",{class:l?(0,o.sW)().COLOR_PICKER_TPTY_OPEN:(0,o.sW)().COLOR_PICKER_TPTY_CLOSE})])]),(0,i.h)("div",{class:["vxe-color-picker--type-popup",{"is--visible":l}]},S.map(e=>(0,i.h)("div",{class:"vxe-color-picker--type-item",onClick(t){t.stopPropagation(),ne(e.value)}},e.label)))]),(0,i.h)("div",{class:`vxe-color-picker--${a}-wrapper`},y?[(0,i.h)("div",{class:"vxe-color-picker--input-wrapper"},[(0,i.h)(sn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:c,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.rValue=e},onChange:ce}),(0,i.h)(sn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:d,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.gValue=e},onChange:ce}),(0,i.h)(sn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:p,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.bValue=e},onChange:ce}),(0,i.h)(sn,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:f,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.aValue=e},onChange:ue})]),(0,i.h)("div",{class:"vxe-color-picker--input-title"},[(0,i.h)("span","R"),(0,i.h)("span","G"),(0,i.h)("span","B"),(0,i.h)("span","A")])]:[(0,i.h)("div",{class:"vxe-color-picker--input-wrapper"},[(0,i.h)(ln,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:s,"onUpdate:modelValue"(e){k.hexValue=e},onChange(){const e=Xt(k.hexValue);e&&e.value&&(k.selectColor=e.value,L())}})]),(0,i.h)("div",{class:"vxe-color-picker--input-title"},(0,o.TO)("vxe.colorPicker.hex"))])])])},Oe=()=>{const{showQuick:t}=e,n=A.value;return t&&n.length?(0,i.h)("div",{class:"vxe-color-picker--quick-wrapper"},n.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-color-picker--quick-item",title:e.label||"",style:{backgroundColor:e.value},onClick(t){de(t,e)}}))):(0,o.C1)(F)},De=()=>{const{className:t,popupClassName:n,clearable:r,modelValue:a}=e,{initialized:l,isActivated:s,isAniVisible:c,visiblePanel:u}=k,d=p.value,g=O.value,v=D.value,b=E.value;return b?(0,i.h)("div",{ref:f,class:["vxe-color-picker--readonly",t]},[(0,i.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:a}})]):(0,i.h)("div",{ref:f,class:["vxe-color-picker",t?w().isFunction(t)?t({$colorPicker:F}):t:"",{[`size--${d}`]:d,"is--selected":!!a,"is--visible":u,"is--disabled":g,"is--active":s}]},[(0,i.h)("input",{ref:h,class:"vxe-color-picker--input",onFocus:G,onBlur:Y}),(0,i.h)("div",{class:"vxe-color-picker--inner",onClick:Q},[(0,i.h)("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:a}})]),(0,i.h)(i.Teleport,{to:"body",disabled:!v||!l},[(0,i.h)("div",{ref:m,class:["vxe-table--ignore-clear vxe-color-picker--panel",n?w().isFunction(n)?n({$colorPicker:F}):n:"",{[`size--${d}`]:d,"is--transfer":v,"ani--leave":c,"ani--enter":u}],placement:k.panelPlacement,style:k.panelStyle},[l&&(u||c)?(0,i.h)("div",{class:"vxe-color-picker--panel-wrapper",onClick:ee},[ke(),Se(),Oe(),(0,i.h)("div",{class:"vxe-color-picker--footer-wrapper"},[r?(0,i.h)(_e,{content:(0,o.TO)("vxe.colorPicker.clear"),size:"mini",onClick:K}):(0,o.C1)(F),(0,i.h)(_e,{content:(0,o.TO)("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:Z})])]):(0,o.C1)(F)])])])};return(0,i.watch)(()=>e.modelValue,()=>{P()}),(0,i.watch)(()=>e.type,()=>{j()}),(0,i.onMounted)(()=>{o.Nh.on(F,"mousewheel",ge),o.Nh.on(F,"mousedown",ve),o.Nh.on(F,"blur",be),o.Nh.on(F,"resize",xe)}),(0,i.onUnmounted)(()=>{o.Nh.off(F,"mousewheel"),o.Nh.off(F,"mousedown"),o.Nh.off(F,"blur"),o.Nh.off(F,"resize")}),j(),(0,i.provide)("$xeColorPicker",F),F.renderVN=De,F},render(){return this.renderVN()}});const un=Object.assign({},cn,{install(e){e.component(cn.name,cn)}});u.use(un),o.OE.component(cn);const dn=un;var pn=un,fn=a({name:"VxeText",props:{status:String,title:[String,Number],icon:String,prefixIcon:String,suffixIcon:String,loading:Boolean,content:[String,Number],clickToCopy:{type:Boolean,default:()=>(0,o.zj)().text.clickToCopy},copyConfig:Object,size:{type:String,default:()=>(0,o.zj)().text.size||(0,o.zj)().size}},emits:["click","dblclick","prefix-click","suffix-click","copy-success","copy-error"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.reactive)({}),d=(0,i.computed)(()=>Object.assign({},(0,o.zj)().text.copyConfig,e.copyConfig)),p={refElem:s},f={},h=t=>{const{content:n}=e,r=d.value,{showMessage:i}=r,a=c.value,l=(a?a.textContent:"")||n;l&&(o.OE.clipboard.copy(l)?(i&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.text.copySuccess"),status:"success"}),b("copy-success",{},t)):(i&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.text.copyError"),status:"error"}),b("copy-error",{},t)))},m=t=>{const{clickToCopy:n}=e,r=d.value;n&&"dblclick"!==r.trigger&&h(t)},g=t=>{const{clickToCopy:n}=e,r=d.value;n&&"dblclick"===r.trigger&&h(t)},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>f},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$text:v},t))},x={dispatchEvent:b},y=t=>{const{loading:n}=e;n||b("click",{},t)},C=t=>{const{loading:n}=e;n||b("dblclick",{},t)},k=t=>{const{loading:n}=e;n||b("prefix-click",{},t)},S=t=>{const{loading:n}=e;n||b("suffix-click",{},t)},T={};Object.assign(v,x,T);const E=()=>{const e=d.value,{icon:t,status:n}=e;return(0,i.h)("span",{key:"ci",class:["vxe-text--copy-icon",{[`theme--${n}`]:n}],onClick:m,onDblclick:g},[(0,i.h)("i",{class:t||(0,o.sW)().TEXT_COPY})])},O=()=>{const{loading:t,icon:n,prefixIcon:a,suffixIcon:l,clickToCopy:s,content:u}=e,p=d.value,f=r.default,h=r.prefixIcon||r["prefix-icon"]||r.icon,m=r.suffixIcon||r["suffix-icon"],g="right"===p.layout,v=[];return t?v.push((0,i.h)("span",{key:"lg",class:"vxe-text--loading"},[(0,i.h)("i",{class:(0,o.sW)().TEXT_LOADING})])):s&&!g&&v.push(E()),(a||n)&&v.push((0,i.h)("span",{key:"si",class:"vxe-text--prefix-icon",onClick:k},h?h({}):[(0,i.h)("i",{class:a||n})])),v.push((0,i.h)("span",{key:"ct",ref:c,class:"vxe-text--content",onClick:y,onDblclick:C},f?f({}):w().toValueString(u))),l&&v.push((0,i.h)("span",{key:"si",class:"vxe-text--suffix-icon",onClick:S},m?m({}):[(0,i.h)("i",{class:l})])),s&&g&&!t&&v.push(E()),v},D=()=>{const{loading:t,status:n,title:r,clickToCopy:o}=e,a=l.value;return(0,i.h)("span",{ref:s,title:r,class:["vxe-text",{[`size--${a}`]:a,[`theme--${n}`]:n,"is--copy":o,"is--loading":t}]},O())};return v.renderVN=D,v},render(){return this.renderVN()}}),hn=a({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>(0,o.zj)().countdown.size||(0,o.zj)().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({currNum:0,secondNum:0}),u={dnTimeout:void 0},d={refElem:l},p=(0,i.computed)(()=>{const{secondNum:e}=c;return e>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:e>=26784e5?["MM","dd","HH","mm","ss"]:e>=864e5?["dd","HH","mm","ss"]:e>=36e5?["HH","mm","ss"]:e>=6e4?["mm","ss"]:["ss"]}),f=(0,i.computed)(()=>{const{currNum:e}=c,t=w().getDateDiff(Date.now(),Date.now()+e);return Object.assign(t,{done:!(w().isBoolean(t.status)?t.status:t.done)})}),h=(0,i.computed)(()=>{const{format:t}=e,n=f.value;let r="";return t?(r=`${t}`,w().each(n,(e,t)=>{r=r.replace(new RegExp(t,"g"),w().padStart(e,t.length,"0"))}),r):r}),m=(0,i.computed)(()=>Object.assign({},e.prefixConfig,(0,o.zj)().countdown.prefixConfig)),g=(0,i.computed)(()=>Object.assign({},e.suffixConfig,(0,o.zj)().countdown.suffixConfig)),v={computeSize:s},b={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>v},x=(e,t,n)=>{r(e,(0,o.lh)(n,{$carousel:b},t))},y=()=>{const t=w().toNumber(e.modelValue||0);c.secondNum=t,c.currNum=t},C=()=>{const{currNum:e}=c;e>1e3?(c.currNum-=1e3,u.dnTimeout=setTimeout(()=>{C()},1e3)):(c.currNum=0,E())},k={dispatchEvent:x},S=()=>{x("start",{},null),C()},E=()=>{const{dnTimeout:e}=u;e&&(clearTimeout(e),u.dnTimeout=void 0,x("end",{},null))},O={};Object.assign(b,k,O);const D=()=>{const{format:t}=e,n=p.value,r=f.value,a=h.value;return t?[(0,i.h)("div",{key:"format",class:"vxe-countdown--content-format"},a)]:n.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-countdown--content-item"},[(0,i.h)("div",{class:"vxe-countdown--content-num"},`${r[e]||0}`),(0,i.h)("div",{class:"vxe-countdown--content-unit"},(0,o.TO)(`vxe.countdown.formats.${e}`))]))},A=()=>{const{prefixConfig:t,suffixConfig:r}=e,{currNum:a}=c,u=s.value,d=f.value,p=m.value,h=g.value,v=n.prefix,x=n.suffix,y=n.default;return(0,i.h)("div",{ref:l,class:["vxe-countdown",d.done?"is--progress":"is-end",{[`size--${u}`]:u}]},[v||t?(0,i.h)("div",{class:"vxe-countdown--prefix"},v?T(v({currentValue:a,diffConf:d})):[(0,i.h)(fn,{content:p.content,icon:p.icon,status:p.status})]):(0,o.C1)(b),(0,i.h)("div",{class:"vxe-countdown--content"},y?T(y({currentValue:a,diffConf:d})):D()),x||r?(0,i.h)("div",{class:"vxe-countdown--suffix"},x?T(x({currentValue:a,diffConf:d})):[(0,i.h)(fn,{content:h.content,icon:h.icon,status:h.status})]):(0,o.C1)(b)])};return(0,i.watch)(()=>e.modelValue,()=>{y(),E(),S()}),(0,i.onUnmounted)(()=>{E()}),(0,i.onMounted)(()=>{S()}),y(),b.renderVN=A,b},render(){return this.renderVN()}});const mn=Object.assign({},hn,{install(e){e.component(hn.name,hn)}});u.use(mn),o.OE.component(hn);const gn=mn;var vn=mn,bn=a({name:"VxeDatePanel",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>(0,o.zj)().datePanel.size||(0,o.zj)().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>(0,o.zj)().datePanel.limitCount},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePanel.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePanel.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>(0,o.zj)().datePanel.startDay},labelFormat:String,valueFormat:String,timeFormat:String,festivalMethod:{type:Function,default:()=>(0,o.zj)().datePanel.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().datePanel.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().datePanel.selectDay}},emits:["update:modelValue","change","click","clear","date-prev","date-today","date-next","confirm"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.reactive)({visiblePanel:!1,isAniVisible:!1,isActivated:!1,inputValue:"",inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p={refElem:c},f={xID:r,props:e,context:t,reactData:l,internalData:s,getRefMaps:()=>p},h=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),m=(0,i.computed)(()=>{const t=h.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),g=(0,i.computed)(()=>e.startDate?w().toStringDate(e.startDate):null),v=(0,i.computed)(()=>e.endDate?w().toStringDate(e.endDate):null),b=(0,i.computed)(()=>{const{modelValue:t,multiple:n}=e,r=m.value,o=S.value;return n&&t&&r?w().toValueString(t).split(",").map(e=>{const t=Z(e,o);return w().isValidDate(t),t}):[]}),x=(0,i.computed)(()=>{const e=b.value,t=S.value;return e.map(e=>w().toDateString(e,t))}),y=(0,i.computed)(()=>{const e=b.value,t=M.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),C=(0,i.computed)(()=>e.multiple?w().toNumber(e.limitCount):0),k=(0,i.computed)(()=>{const{multiple:t}=e,n=C.value,r=x.value;return!(!t||!n)&&r.length>=n}),S=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return qe(t,n)}),T=(0,i.computed)(()=>{const{modelValue:t}=e,n=m.value,r=S.value;let o=null;if(t&&n){const e=Z(t,r);w().isValidDate(e)&&(o=e)}return o}),E=(0,i.computed)(()=>{const e=g.value,{selectMonth:t}=l;return!(!t||!e)&&t<=e}),O=(0,i.computed)(()=>{const e=v.value,{selectMonth:t}=l;return!(!t||!e)&&w().getWhatMonth(t,0,"last")>=e}),D=(0,i.computed)(()=>{const{datetimePanelValue:e}=l,t=Y.value,n=G.value;return e?w().toDateString(e,n&&t?"HH:mm:ss":n?"HH:mm":"HH"):""}),A=(0,i.computed)(()=>{const e=T.value,t=h.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),M=(0,i.computed)(()=>{const{labelFormat:t}=e,n=m.value;return n?t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`):""}),I=(0,i.computed)(()=>{const{yearSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=t.getFullYear(),a=new Date(i-i%e,0,1);for(let t=-4;t<e+4;t++){const n=w().getWhatYear(a,t,"first"),i=n.getFullYear();r.push({date:n,isCurrent:!0,isPrev:t<0,isNow:o===i,isNext:t>=e,year:i})}}return r}),N=(0,i.computed)(()=>{const e=m.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=l,i=I.value;let a,s="";r&&(s=r.getFullYear(),a=r.getMonth()+1),"quarter"===e||"month"===e?t=(0,o.TO)("vxe.datePicker.yearTitle",[s]):"year"===e?t=i.length?`${i[0].year} - ${i[i.length-1].year}`:"":(t=(0,o.TO)("vxe.datePicker.yearTitle",[s]),n=a?(0,o.TO)(`vxe.input.date.m${a}`):"-")}return{y:t,m:n}}),R=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),F=(0,i.computed)(()=>{const e=[],t=m.value;if(t){let t=R.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),_=(0,i.computed)(()=>{const e=m.value;if(e){const e=F.value;return e.map(e=>({value:e,label:(0,o.TO)(`vxe.input.date.weeks.w${e}`)}))}return[]}),P=(0,i.computed)(()=>{const e=m.value;if(e){const e=_.value;return[{label:(0,o.TO)("vxe.input.date.weeks.w")}].concat(e)}return[]}),j=(0,i.computed)(()=>{const e=I.value;return w().chunk(e,4)}),L=(0,i.computed)(()=>{const{quarterSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=Ge(n),a=w().getWhatYear(t,0,"first"),l=a.getFullYear();for(let t=-2;t<e-2;t++){const e=w().getWhatQuarter(a,t),n=e.getFullYear(),s=Ge(e),c=n<l;r.push({date:e,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),$=(0,i.computed)(()=>{const e=L.value;return w().chunk(e,2)}),z=(0,i.computed)(()=>{const{monthSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=n.getMonth(),a=w().getWhatYear(t,0,"first").getFullYear();for(let n=-4;n<e-4;n++){const e=w().getWhatYear(t,0,n),l=e.getFullYear(),s=e.getMonth(),c=l<a;r.push({date:e,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),V=(0,i.computed)(()=>{const e=z.value;return w().chunk(e,4)}),B=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,n=[];if(e&&t){const r=A.value,o=F.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),H=(0,i.computed)(()=>{const e=B.value;return w().chunk(e,7)}),W=(0,i.computed)(()=>{const e=H.value,t=R.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),q=(0,i.computed)(()=>{const e=[],t=h.value;if(t)for(let n=0;n<24;n++)e.push({value:n,label:(""+n).padStart(2,"0")});return e}),U=(0,i.computed)(()=>{const e=[],t=h.value;if(t)for(let n=0;n<60;n++)e.push({value:n,label:(""+n).padStart(2,"0")});return e}),G=(0,i.computed)(()=>{const{timeFormat:t}=e,n=S.value;return!/HH/.test(t||n)||/mm/.test(t||n)}),Y=(0,i.computed)(()=>{const{timeFormat:t}=e,n=S.value;return!/HH/.test(t||n)||/ss/.test(t||n)}),K=(0,i.computed)(()=>{const e=U.value;return e}),X=t=>{const{type:n}=e,r=S.value,o=Ye(t,n,{valueFormat:r});l.inputValue=o,l.inputLabel=o,Ne()},Z=(t,n)=>{const{type:r,multiple:o}=e;return"time"===r?Ue(t):w().isArray(t)?w().toStringDate(t[0],n):w().isString(t)?w().toStringDate(o?w().last(t.split(",")):t,n):w().toStringDate(t,n)},J=()=>{l.inputLabel=e.multiple?y.value:l.datePanelLabel},Q=t=>{const{type:n}=e,{inputLabel:r,datetimePanelValue:o}=l,i=M.value;if(t){let e=Z(t,i);if(w().isValidDate(e))if("time"===n)e=w().toDateString(e,i),r!==e&&te(e,{type:"check"}),l.inputLabel=e;else{let r=!1;const a=R.value;if("datetime"===n){const n=T.value;t===w().toDateString(n,i)&&t===w().toDateString(e,i)||(r=!0,o&&(o.setHours(e.getHours()),o.setMinutes(e.getMinutes()),o.setSeconds(e.getSeconds())))}else r=!0;l.inputLabel=w().toDateString(e,i,{firstDay:a}),r&&le(e)}else J()}else te("",{type:"check"})},ee=e=>{l.inputValue=e,n("update:modelValue",e)},te=(t,n)=>{const{type:r,modelValue:o,valueFormat:i}=e,a=S.value;if(l.inputLabel=t,He(i)){const e=Ye(t,r,{valueFormat:a}),i=e?e.getTime():null;ee(i),o!==i&&Re("change",{value:i},n)}else if(We(i)){const e=Ye(t,r,{valueFormat:a});ee(e),(o&&e?w().toStringDate(o).getTime()!==e.getTime():o!==e)&&Re("change",{value:e},n)}else ee(t),w().toValueString(o)!==t&&Re("change",{value:t},n)},ne=()=>new Promise(e=>{l.visiblePanel=!1,s.hpTimeout=setTimeout(()=>{l.isAniVisible=!1,e()},350)}),re=t=>{const{type:n}=e,r=M.value,o=S.value,i=R.value,a=Xe(t,n,{valueFormat:o,labelFormat:r,firstDay:i});l.datePanelValue=a.value,l.datePanelLabel=a.label},oe=()=>{const t=m.value,{inputLabel:n}=l;t&&(re(n),l.inputLabel=e.multiple?y.value:l.datePanelLabel)},ie=()=>{const{modelValue:t}=e,n=m.value;X(t),n&&oe()},ae=e=>{const t=R.value,n=w().getYearWeek(e,t),r=w().getWhatWeek(e,0,t,t),o=w().getWhatMonth(1===n?w().getWhatDay(r,6):e,0,"first");w().isEqual(o,l.selectMonth)||(l.selectMonth=o)},le=(t,n)=>{const{modelValue:r,multiple:o}=e,{datetimePanelValue:i}=l,a=h.value,s=S.value,c=R.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,c)}else a&&i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()));const u=w().toDateString(t,s,{firstDay:c});if(ae(t),o){const e=k.value;if(a){const r=n?[]:[...b.value],o=[],a=w().findIndexOf(r,e=>w().isDateSame(t,e,"yyyyMMdd"));if(-1===a){if(e)return;r.push(t)}else r.splice(a,1);r.forEach(e=>{e&&(i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds())),o.push(e))}),te(o.map(e=>w().toDateString(e,s)).join(","),{type:"update"})}else{const t=n?[]:x.value;if(t.some(e=>w().isEqual(e,u)))te(t.filter(e=>!w().isEqual(e,u)).join(","),{type:"update"});else{if(e)return;te(t.concat([u]).join(","),{type:"update"})}}}else w().isEqual(r,u)||te(u,{type:"update"})},se=(e,t)=>{const n=R.value,r=w().getYearWeek(e,n),o=w().getWhatWeek(e,0,n,n),i=w().getWhatMonth(1===r?w().getWhatDay(o,6):e,t,"first");l.selectMonth=i},ce=()=>{const{type:t}=e,n=R.value;let r=new Date;switch(t){case"week":r=w().getWhatWeek(r,0,n);break;case"datetime":r=new Date,l.datetimePanelValue=new Date;break;default:r=w().getWhatDay(Date.now(),0,"first");break}l.currentDate=r,se(r,0)},ue=()=>{l.datePanelType="year"},de=()=>{let{datePanelType:e}=l;e="month"===e||"quarter"===e?"year":"month",l.datePanelType=e},pe=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputLabel:i}=l,{yearSize:a}=s,c=i,u=E.value;if(!u){let e;e="year"===n?w().getWhatYear(o,-a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-a,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-a,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),l.selectMonth=e,Re("date-prev",{viewType:r,viewDate:e,value:c,type:n},t)}},fe=t=>{ce(),le(l.currentDate,!0),e.multiple||ne(),Re("date-today",{type:e.type},t)},he=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputLabel:i}=l,{yearSize:a}=s,c=i,u=O.value;if(!u){let e;e="year"===n?w().getWhatYear(o,a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,a,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,a,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),l.selectMonth=e,Re("date-next",{viewType:r,value:c,type:n},t)}},me=e=>{const t=g.value,n=v.value,{date:r}=e;return!!(t&&t.getTime()>r.getTime())||!!(n&&n.getTime()<r.getTime())},ge=t=>{const{disabledMethod:n}=e,{datePanelType:r}=l,{date:o}=t;return!!n&&n({type:r,viewType:r,date:o,$datePanel:f})},ve=e=>me(e)||ge(e),be=t=>{const{type:n,multiple:r}=e,{datePanelType:o}=l;"month"===n?"year"===o?(l.datePanelType="month",ae(t)):(le(t),r||ne()):"year"===n?(le(t),r||ne()):"quarter"===n?"year"===o?(l.datePanelType="quarter",ae(t)):(le(t),r||ne()):"month"===o?(l.datePanelType="week"===n?n:"day",ae(t)):"year"===o?(l.datePanelType="month",ae(t)):(le(t),"datetime"===n||r||ne())},xe=e=>{ve(e)||be(e.date)},ye=e=>{if(!ve({date:e})){const t=B.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||ae(e),re(e)}},we=e=>{if(!ve({date:e})){const t=I.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||ae(e),re(e)}},Ce=e=>{if(!ve({date:e})){const t=L.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||ae(e),re(e)}},ke=e=>{if(!ve({date:e})){const t=z.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||ae(e),re(e)}},Se=e=>{if(!ve(e)){const{datePanelType:t}=l;"month"===t?ke(e.date):"quarter"===t?Ce(e.date):"year"===t?we(e.date):ye(e.date)}},Te=()=>{l.datePanelValue=null},Ee=e=>{if(e){const t=e.offsetHeight,n=e.parentNode;n.scrollTop=e.offsetTop-4*t}},Oe=e=>{const{datetimePanelValue:t}=l;l.datetimePanelValue=t?new Date(t.getTime()):new Date,Ee(e.currentTarget)},De=(e,t)=>{const{datetimePanelValue:n}=l;n&&n.setHours(t.value),Oe(e)},Ae=t=>{const{multiple:n}=e,{datetimePanelValue:r}=l,o=T.value,i=h.value;if(i){const e=S.value;if(n){const t=x.value;if(i){const t=[...b.value],n=[];t.forEach(e=>{e&&(r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds())),n.push(e))}),te(n.map(t=>w().toDateString(t,e)).join(","),{type:"update"})}else te(t.join(","),{type:"update"})}else le(o||l.currentDate)}ne(),Re("confirm",{},t)},Me=(e,t)=>{const{datetimePanelValue:n}=l;n&&n.setMinutes(t.value),Oe(e)},Ie=(e,t)=>{const{datetimePanelValue:n}=l;n&&n.setSeconds(t.value),Oe(e)},Ne=()=>{const{type:t,defaultDate:n}=e,r=h.value,o=S.value,a=T.value;if(["year","quarter","month","week"].indexOf(t)>-1?l.datePanelType=t:l.datePanelType="day",l.currentDate=w().getWhatDay(Date.now(),0,"first"),a)se(a,0),re(a);else if(n){const e=Z(n,o);w().isValidDate(e)?se(e,0):ce()}else ce();r&&(l.datetimePanelValue=l.datePanelValue||w().getWhatDay(Date.now(),0,"first"),(0,i.nextTick)(()=>{const e=d.value;w().arrayEach(e.querySelectorAll("li.is--selected"),e=>{Ee(e)})}))},Re=(e,t,r)=>{n(e,(0,o.lh)(r,{$datePanel:f},t))},Fe={dispatchEvent:Re,getModelValue(){return l.inputValue},setPanelDate(e){e&&ae(e)},getPanelDate(){return l.selectMonth},checkValue(e){Q(e)},confirmByEvent(e){Ae(e)}};Object.assign(f,Fe);const _e=(t,n)=>{const{festivalMethod:r}=e,o=[];if(r){const{datePanelType:e}=l,a=r({type:e,viewType:e,date:t.date,$datePanel:f}),s=a?w().isString(a)?{label:a}:a:{},c=s.extra?w().isString(s.extra)?{label:s.extra}:s.extra:null;o.push((0,i.h)("div",{class:["vxe-date-panel--label",{"is-notice":s.notice}]},c&&c.label?[(0,i.h)("div",`${n}`),(0,i.h)("div",{class:["vxe-date-panel--label--extra",c.important?"is-important":"",c.className],style:c.style},w().toValueString(c.label))]:`${n}`));const u=s.label;if(u){const e=w().toValueString(u).split(",");o.push((0,i.h)("div",{class:["vxe-date-panel--festival",s.important?"is-important":"",s.className],style:s.style},[e.length>1?(0,i.h)("div",{class:["vxe-date-panel--festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("div",e.substring(0,3)))):(0,i.h)("div",{class:"vxe-date-panel--festival--label"},e[0].substring(0,3))]))}}return o},Pe=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=T.value,a=_.value,s=H.value,c=b.value,u=k.value,d="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-header"},[(0,i.h)("div",{class:"vxe-date-panel--view-row"},a.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-item",style:{width:100/a.length+"%"}},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},[(0,i.h)("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const a=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(o,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":me(n),"is--disabled":ge(n),"is--selected":a,"is--over":u&&!a,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>xe(n),onMouseenter:()=>Se(n),onMouseleave:Te},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},_e(n,n.label))])}))))])]},je=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=T.value,a=P.value,s=W.value,c=b.value,u=k.value,d="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-header"},[(0,i.h)("div",{class:"vxe-date-panel--view-row"},a.map((e,t)=>(0,i.h)("div",{class:"vxe-date-panel--view-item",style:{width:(t?13:9)+"%"}},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},[(0,i.h)("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>{const n=t?e.some(e=>c.some(t=>w().isDateSame(t,e.date,d))):e.some(e=>w().isDateSame(o,e.date,d)),a=e.some(e=>w().isDateSame(r,e.date,d)),l=e.some(e=>e.isNow);return(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map((e,t)=>(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":t?e.isNow:l,"is--next":e.isNext,"is--range-disabled":me(e),"is--disabled":ge(e),"is--selected":n,"is--over":u&&!n,"is--hover":!u&&a}],style:{width:(t?13:9)+"%"},onClick:()=>xe(e),onMouseenter:()=>Se(e),onMouseleave:Te},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},_e(e,e.label))])))}))])]},Le=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=T.value,s=V.value,c=b.value,u=k.value,d="yyyyMM";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const l=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(a,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":me(n),"is--disabled":ge(n),"is--selected":l,"is--over":u&&!l,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>xe(n),onMouseenter:()=>Se(n),onMouseleave:Te},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},_e(n,(0,o.TO)(`vxe.input.date.months.m${n.month}`)))])}))))])]},$e=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=T.value,s=$.value,c=b.value,u=k.value,d="yyyyq";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const l=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(a,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":me(n),"is--disabled":ge(n),"is--selected":l,"is--over":u&&!l,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>xe(n),onMouseenter:()=>Se(n),onMouseleave:Te},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},_e(n,(0,o.TO)(`vxe.input.date.quarters.q${n.quarter}`)))])}))))])]},ze=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=T.value,a=j.value,s=b.value,c=k.value,u="yyyy";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},a.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map(n=>{const a=t?s.some(e=>w().isDateSame(e,n.date,u)):w().isDateSame(o,n.date,u);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":me(n),"is--disabled":ge(n),"is--selected":a,"is--over":c&&!a,"is--hover":!c&&w().isDateSame(r,n.date,u)}],style:{width:100/e.length+"%"},onClick:()=>xe(n),onMouseenter:()=>Se(n),onMouseleave:Te},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},_e(n,n.year))])}))))])]},Ve=()=>{const{datePanelType:e}=l;switch(e){case"week":return je();case"month":return Le();case"quarter":return $e();case"year":return ze()}return Pe()},Be=()=>{const{datePanelType:e}=l,t=E.value,n=O.value,r=N.value;return[(0,i.h)("div",{class:"vxe-date-panel--picker-header"},[(0,i.h)("div",{class:"vxe-date-panel--picker-type-wrapper"},["year"===e?(0,i.h)("span",{class:"vxe-date-panel--picker-label"},r.y):(0,i.h)("span",{class:"vxe-date-panel--picker-btns"},[(0,i.h)("span",{class:"vxe-date-panel--picker-btn",onClick:ue},r.y),r.m?(0,i.h)("span",{class:"vxe-date-panel--picker-btn",onClick:de},r.m):(0,o.C1)(f)])]),(0,i.h)("div",{class:"vxe-date-panel--picker-btn-wrapper"},[(0,i.h)("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-prev-btn",{"is--disabled":t}],onClick:pe},[(0,i.h)("i",{class:"vxe-icon-caret-left"})]),(0,i.h)("span",{class:"vxe-date-panel--picker-btn vxe-date-panel--picker-current-btn",onClick:fe},[(0,i.h)("i",{class:"vxe-icon-dot"})]),(0,i.h)("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-next-btn",{"is--disabled":n}],onClick:he},[(0,i.h)("i",{class:"vxe-icon-caret-right"})])])]),(0,i.h)("div",{class:"vxe-date-panel--picker-body"},Ve())]},Ke=()=>{const{type:t}=e,{datetimePanelValue:n}=l,r=D.value,a=q.value,s=G.value,c=U.value,u=Y.value,p=K.value;return["time"===t?(0,o.C1)(f):(0,i.h)("div",{class:"vxe-date-panel--time-header"},[(0,i.h)("div",{class:"vxe-date-panel--time-title"},r)]),(0,i.h)("div",{ref:d,class:"vxe-date-panel--time-body"},[(0,i.h)("ul",{class:"vxe-date-panel--time-hour-list"},a.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--selected":n&&n.getHours()===e.value},onClick:t=>De(t,e)},e.label))),s?(0,i.h)("ul",{class:"vxe-date-panel--time-minute-list"},c.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--selected":n&&n.getMinutes()===e.value},onClick:t=>Me(t,e)},e.label))):(0,o.C1)(f),s&&u?(0,i.h)("ul",{class:"vxe-date-panel--time-second-list"},p.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--selected":n&&n.getSeconds()===e.value},onClick:t=>Ie(t,e)},e.label))):(0,o.C1)(f)])]},Ze=()=>{const{type:t}=e;return"datetime"===t?(0,i.h)("div",{key:t,ref:u,class:"vxe-date-panel--time-layout-wrapper"},[(0,i.h)("div",{class:"vxe-date-panel--time-left-wrapper"},Be()),(0,i.h)("div",{class:"vxe-date-panel--time-right-wrapper"},Ke())]):"time"===t?(0,i.h)("div",{key:t,ref:u,class:"vxe-date-panel--wrapper"},Ke()):(0,i.h)("div",{key:t||"default",ref:u,class:"vxe-date-panel--wrapper"},Be())},Je=()=>{const{type:t}=e,n=a.value;return(0,i.h)("div",{class:["vxe-date-panel",`type--${t}`,{[`size--${n}`]:n}]},[Ze()])};return(0,i.watch)(()=>e.modelValue,e=>{X(e),oe()}),(0,i.watch)(()=>e.type,()=>{Object.assign(l,{inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),ie()}),(0,i.watch)(M,()=>{const t=m.value;t&&(re(l.datePanelValue),l.inputLabel=e.multiple?y.value:l.datePanelLabel)}),ie(),Ne(),f.renderVN=Je,f},render(){return this.renderVN()}});const xn=Object.assign({},bn,{install(e){e.component(bn.name,bn)}});u.use(xn),o.OE.component(bn);const yn=xn;var wn=xn,Cn=a({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>(0,o.zj)().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().datePicker.size||(0,o.zj)().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>(0,o.zj)().datePicker.limitCount},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePicker.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>(0,o.zj)().datePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().datePicker.selectDay},showClearButton:{type:Boolean,default:()=>(0,o.zj)().datePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().datePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>(0,o.zj)().datePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object,startWeek:Number},emits:["update:modelValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.reactive)({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",inputLabel:""}),m={hpTimeout:void 0},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C={refElem:g,refInput:v},k={xID:d,props:e,context:t,reactData:f,internalData:m,getRefMaps:()=>C},S=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().datePicker.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),E=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),O=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),D=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),A=(0,i.computed)(()=>{const t=D.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),M=(0,i.computed)(()=>e.clearable),I=(0,i.computed)(()=>{const{type:t,editable:n,multiple:r}=e,o=E.value;return o||r||!n||"week"===t||"quarter"===t}),N=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().datePicker.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseSelect")}),R=(0,i.computed)(()=>{const{immediate:t}=e;return t}),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().datePicker.shortcutConfig,e.shortcutConfig)),_=(0,i.computed)(()=>{const e=F.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),P=(0,i.computed)(()=>{const{labelFormat:t}=e;return t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`)}),j=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return qe(t,n)}),L=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),$=(0,i.computed)(()=>{const{type:t,multiple:n}=e,{inputValue:r}=f,o=P.value,i=j.value,a=L.value,l=r?n?r.split(","):[r]:[];return l.map(e=>{const n=Xe(e,t,{valueFormat:i,labelFormat:o,firstDay:a});return n.label}).join(", ")}),z=()=>{const{modelValue:t}=e;let n="";t&&(n=w().isNumber(t)&&/^[0-9]{11,15}$/.test(`${t}`)?new Date(t):t),f.inputValue=n},V=e=>{const{inputValue:t}=f;he(e.type,{value:t},e)},B=(t,n)=>{const{type:o,modelValue:i,valueFormat:a}=e,l=j.value;if(f.inputValue=t,He(a)){const e=Ye(t,o,{valueFormat:l}),a=e?e.getTime():null;r("update:modelValue",a),i!==a&&(he("change",{value:a},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,a))}else if(We(a)){const e=Ye(t,o,{valueFormat:l});r("update:modelValue",e),(i&&e?w().toStringDate(i).getTime()!==e.getTime():i!==e)&&(he("change",{value:e},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,e))}else r("update:modelValue",t),w().toValueString(i)!==t&&(he("change",{value:t},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,t))},W=e=>{const t=e.target,n=t.value;f.inputLabel=n,he("input",{value:n},e)},q=e=>{const t=R.value;t||V(e)},U=e=>{f.isActivated=!0;const t=A.value;t&&de(e),V(e)},G=e=>{const t=O.value;if(!t){const{inputValue:t}=f;he("prefix-click",{value:t},e)}},Y=()=>new Promise(e=>{f.visiblePanel=!1,m.hpTimeout=setTimeout(()=>{f.isAniVisible=!1,e()},350)}),K=(e,t)=>{const n=A.value;n&&Y(),B("",e),he("clear",{value:t},e)},Z=e=>{const t=O.value;if(!t){const{inputValue:t}=f;he("suffix-click",{value:t},e)}},J=e=>{const t=y.value,{inputValue:n}=f,r=R.value,o=n;r||B(o,e),f.visiblePanel||(f.isActivated=!1,t&&t.checkValue(f.inputLabel)),he("blur",{value:o},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},Q=e=>{V(e)},ee=e=>{V(e)},te=e=>{const t=y.value;t&&t.confirmByEvent(e),Y()},ne=t=>{const{multiple:n,autoClose:r}=e,{value:o,$event:i}=t,a=D.value;B(o,i),n||a||r&&Y()},re=e=>{const t=y.value,{visiblePanel:n,isActivated:r}=f,o=g.value,i=x.value,a=O.value;!a&&r&&(f.isActivated=H(e,o).flag||H(e,i).flag,f.isActivated||n&&(Y(),t&&t.checkValue(f.inputLabel)))},oe=e=>{const{visiblePanel:t}=f,n=O.value;if(!n){const n=o.Nh.hasKey(e,o.un.TAB),r=o.Nh.hasKey(e,o.un.ESCAPE);n&&(f.isActivated=!1),t&&(r||n)&&Y()}},ie=e=>{const{visiblePanel:t}=f,n=O.value;if(!n&&t){const t=x.value;H(e,t).flag?ce():Y()}},ae=()=>{const e=y.value,{isActivated:t,visiblePanel:n}=f;if(n&&Y(),t&&(f.isActivated=!1),n||t){e&&e.checkValue(f.inputLabel);const t=v.value;t&&t.blur()}},le=()=>{const{visiblePanel:e}=f;e&&ce()},se=()=>{const{zIndex:t}=e;t?f.panelIndex=t:f.panelIndex<Ee()&&(f.panelIndex=Te())},ce=()=>{const{placement:t}=e,{panelIndex:n}=f,r=v.value,o=b.value,a=S.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});f.panelStyle=i,f.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},ue=()=>{const{visiblePanel:e}=f,t=O.value;return t||e?(0,i.nextTick)():(f.initialized||(f.initialized=!0),m.hpTimeout&&(clearTimeout(m.hpTimeout),m.hpTimeout=void 0),f.isActivated=!0,f.isAniVisible=!0,setTimeout(()=>{f.visiblePanel=!0},10),se(),ce())},de=e=>{const t=E.value;t||(e.preventDefault(),ue())},pe=e=>{V(e)},fe=({option:t,$event:n})=>{const{type:r}=e,{inputValue:i}=f,a=F.value,{autoClose:l}=a,{code:s,clickMethod:c}=t;let u=i;const d={$datePicker:k,option:t,value:u,code:s};if(!c&&s){const e=o.Pi.get(s),t=e?e.datePickerCommandMethod:null;if(t)t(d);else{const e=j.value,t=L.value;switch(s){case"now":case"prev":case"next":case"minus":case"plus":{const o=Ze(s,u,r,{valueFormat:e,firstDay:t});u=o.value,d.value=u,B(u,n);break}default:h("vxe.error.notCommands",[`[date-picker] ${s}`]);break}}}else{const e=c||a.clickMethod;e&&e(d)}l&&Y(),he("shortcut-click",d,n)},he=(e,t,n)=>{r(e,(0,o.lh)(n,{$datePicker:k},t))},me={dispatchEvent:he,setModelValue(e){f.inputValue=e,r("update:modelValue",e)},setModelValueByEvent(e,t){B(t||"",e)},focus(){const e=v.value;return f.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=v.value;return e.blur(),f.isActivated=!1,(0,i.nextTick)()},select(){const e=v.value;return e.select(),f.isActivated=!1,(0,i.nextTick)()},showPanel:ue,hidePanel:Y,updatePlacement:ce};Object.assign(k,me);const ge=(e,t)=>{const n=F.value,{position:r,align:a,mode:l}=n,s=_.value;return Se(n)&&s.length&&(r||"left")===e?(0,i.h)("div",{class:`vxe-date-picker--layout-${e}-wrapper`},[(0,i.h)($e,{options:s,mode:l,align:a,vertical:t,onClick:fe})]):(0,o.C1)(k)},ve=()=>{const{type:t,multiple:r,showClearButton:a,showConfirmButton:l}=e,{initialized:s,isAniVisible:c,visiblePanel:u,panelPlacement:d,panelStyle:h,inputValue:m}=f,g=p.value,v=S.value,C=F.value,T=M.value,E=D.value,O=_.value,{position:A}=C,I=n.header,N=n.footer,R=n.top,P=n.bottom,j=n.left,L=n.right,$=O.length>0,z=null===l?E||r:l,V=null===a?T&&z&&"time"!==t:a;return(0,i.h)(i.Teleport,{to:"body",disabled:!v||!s},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${t}`,{[`size--${g}`]:g,"is--transfer":v,"ani--leave":c,"ani--enter":u,"show--top":!!(R||I||$&&("top"===A||"header"===A)),"show--bottom":!!(P||N||$&&("bottom"===A||"footer"===A)),"show--left":!!(j||$&&"left"===A),"show--right":!!(L||$&&"right"===A)}],placement:d,style:h},s&&(u||c)?[(0,i.h)("div",{ref:x,class:["vxe-date-picker--layout-all-wrapper",`type--${t}`,{[`size--${g}`]:g}]},[R?(0,i.h)("div",{class:"vxe-date-picker--layout-top-wrapper"},R({})):ge("top"),(0,i.h)("div",{class:"vxe-date-picker--layout-body-layout-wrapper"},[j?(0,i.h)("div",{class:"vxe-date-picker--layout-left-wrapper"},j({})):ge("left",!0),(0,i.h)("div",{class:"vxe-date-picker--layout-body-content-wrapper"},[I?(0,i.h)("div",{class:"vxe-date-picker--layout-header-wrapper"},I({})):ge("header"),(0,i.h)("div",{class:"vxe-date-picker--layout-body-wrapper"},[(0,i.h)(bn,{ref:y,modelValue:f.inputValue,type:e.type,className:e.className,multiple:e.multiple,limitCount:e.limitCount,startDate:e.startDate,endDate:e.endDate,defaultDate:e.defaultDate,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:ne})]),(0,i.h)("div",{class:"vxe-date-picker--layout-footer-wrapper"},[(0,i.h)("div",{class:"vxe-date-picker--layout-footer-custom"},N?N({}):[ge("footer")]),V||z?(0,i.h)("div",{class:"vxe-date-picker--layout-footer-btns"},[V?(0,i.h)(_e,{size:"mini",disabled:""===m||w().eqNull(m),content:(0,o.TO)("vxe.button.clear"),onClick:K}):(0,o.C1)(k),z?(0,i.h)(_e,{size:"mini",status:"primary",content:(0,o.TO)("vxe.button.confirm"),onClick:te}):(0,o.C1)(k)]):(0,o.C1)(k)])]),L?(0,i.h)("div",{class:"vxe-date-picker--layout-right-wrapper"},L({})):ge("right",!0)]),P?(0,i.h)("div",{class:"vxe-date-picker--layout-bottom-wrapper"},P({})):ge("bottom")])]:[])])},be=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-date-picker--prefix",onClick:G},[(0,i.h)("div",{class:"vxe-date-picker--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},xe=()=>{const{suffixIcon:t}=e,{inputValue:r}=f,a=n.suffix,l=O.value,s=M.value;return(0,i.h)("div",{class:["vxe-date-picker--suffix",{"is--clear":s&&!l&&!(""===r||w().eqNull(r))}]},[s?(0,i.h)("div",{class:"vxe-date-picker--clear-icon",onClick:K},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(k),ye(),a||t?(0,i.h)("div",{class:"vxe-date-picker--suffix-icon",onClick:Z},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(k)])},ye=()=>(0,i.h)("div",{class:"vxe-date-picker--control-icon",onClick:de},[(0,i.h)("i",{class:["vxe-date-picker--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),we=()=>{const{className:t,type:n,name:r,autoComplete:a}=e,{inputValue:l,inputLabel:s,visiblePanel:c,isActivated:u}=f,d=p.value,h=O.value,m=E.value,b=$.value;if(m)return(0,i.h)("div",{ref:g,class:["vxe-date-picker--readonly",`type--${n}`,t]},b);const x=I.value,y=N.value,C=M.value,S=be(),T=xe();return(0,i.h)("div",{ref:g,class:["vxe-date-picker",`type--${n}`,t,{[`size--${d}`]:d,"is--prefix":!!S,"is--suffix":!!T,"is--visible":c,"is--disabled":h,"is--active":u,"show--clear":C&&!h&&!(""===l||w().eqNull(l))}],spellcheck:!1},[S||(0,o.C1)(k),(0,i.h)("div",{class:"vxe-date-picker--wrapper"},[(0,i.h)("input",{ref:v,class:"vxe-date-picker--inner",value:s,name:r,type:"text",placeholder:y,readonly:x,disabled:h,autocomplete:a,onKeydown:Q,onKeyup:ee,onClick:pe,onInput:W,onChange:q,onFocus:U,onBlur:J})]),T||(0,o.C1)(k),ve()])};return(0,i.watch)($,e=>{f.inputLabel=e}),(0,i.watch)(()=>e.modelValue,()=>{z()}),(0,i.nextTick)(()=>{o.Nh.on(k,"mousewheel",ie),o.Nh.on(k,"mousedown",re),o.Nh.on(k,"keydown",oe),o.Nh.on(k,"blur",ae),o.Nh.on(k,"resize",le)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"mousewheel"),o.Nh.off(k,"mousedown"),o.Nh.off(k,"blur"),o.Nh.off(k,"resize")}),z(),(0,i.provide)("$xeDatePicker",k),k.renderVN=we,k},render(){return this.renderVN()}});const kn=Object.assign({},Cn,{install(e){e.component(Cn.name,Cn)}});u.use(kn),o.OE.component(Cn);const Sn=kn;var Tn=kn,En=a({name:"VxeDateRangePicker",props:{modelValue:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().dateRangePicker.size||(0,o.zj)().size},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,valueType:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().dateRangePicker.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().dateRangePicker.disabledMethod},separator:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.separator},selectDay:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.selectDay},showClearButton:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object},emits:["update:modelValue","update:startValue","update:endValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.reactive)({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""}),m={},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k={refElem:g,refInput:v},S={xID:d,props:e,context:t,reactData:f,internalData:m,getRefMaps:()=>k};let E={};const O=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().dateRangePicker.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),D=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),A=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),M=(0,i.computed)(()=>{const{startValue:t,endValue:n}=e;return`${t||""}${n||""}`}),I=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),N=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),R=(0,i.computed)(()=>e.clearable),F=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().dateRangePicker.placeholder;return n?Me(n):(0,o.TO)("vxe.dateRangePicker.pleaseRange")}),_=(0,i.computed)(()=>{const{immediate:t}=e;return t}),P=(0,i.computed)(()=>Object.assign({},(0,o.zj)().dateRangePicker.shortcutConfig,e.shortcutConfig)),j=(0,i.computed)(()=>{const e=P.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),L=(0,i.computed)(()=>{const{labelFormat:t}=e;return t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`)}),$=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return qe(t,n)}),z=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),V=(0,i.computed)(()=>{const{startValue:e,endValue:t}=f,n=e||t?[e||"",t||""]:[];return W(n)}),B=(0,i.computed)(()=>{const e=V.value;return e.label}),W=t=>{const{type:n,separator:r}=e,o=L.value,i=$.value,a=z.value,l=t[0]?Xe(t[0],n,{valueFormat:i,labelFormat:o,firstDay:a}):null,s=t[1]?Xe(t[1],n,{valueFormat:i,labelFormat:o,firstDay:a}):null,c=l?l.label:"",u=s?s.label:"";return{label:(c||u?[c,u]:[]).join(`${r||" ~ "}`),startLabel:c,endLabel:u}},q=(t,n)=>{const{modelValue:r,valueType:o}=e;let i=w().isArray(r);if(o)switch(o){case"array":i=!0;break;case"string":i=!1;break}if(t||n){const e=[t||"",n||""];return i?e:e.join(",")}return i?[]:""},U=()=>{const{type:t,modelValue:n}=e,r=$.value;let o="",i="";if(w().isArray(n)){const e=Ke(n[0],t,{valueFormat:r}),a=Ke(n[1],t,{valueFormat:r});(e||a)&&(o=e||"",i=a||"")}else if(w().isString(n)){const e=n.split(",");(e[0]||e[1])&&(o=e[0]||"",i=e[1]||"")}return{sValue:o,eValue:i}},G=()=>{const{type:t,startValue:n,endValue:r}=e,o=$.value;let i="",a="";return i=Ke(n,t,{valueFormat:o}),a=Ke(r,t,{valueFormat:o}),{sValue:i,eValue:a}},Y=t=>{const{modelValue:n,startValue:r,endValue:o}=e;let i={sValue:"",eValue:""};i=t?n?U():G():r||o?G():U(),f.startValue=i.sValue,f.endValue=i.eValue},K=e=>{const{startValue:t,endValue:n}=f,r=q(t,n);ke(e.type,{value:r,startValue:t,endValue:n},e)},Z=(t,n,o)=>{const{modelValue:i}=e;f.startValue=t,f.endValue=n;const a=q(t,n);r("update:modelValue",a),r("update:startValue",t||""),r("update:endValue",n||""),w().toValueString(i)!==a&&(ke("change",{value:a},o),c&&u&&c.triggerItemEvent(o,u.itemConfig.field,a))},J=e=>{const t=_.value;t||K(e)},Q=e=>{f.isActivated=!0,ye(e),K(e)},ee=e=>{const t=A.value;if(!t){const{startValue:t,endValue:n}=f,r=q(t,n);ke("prefix-click",{value:r,startValue:t,endValue:n},e)}},te=()=>new Promise(e=>{f.visiblePanel=!1,m.hpTimeout=setTimeout(()=>{f.isAniVisible=!1,e()},350)}),ne=(e,t)=>{const n=N.value;n&&te(),Z("","",e),ke("clear",{value:t},e)},re=()=>{const e=y.value,t=C.value;if(e&&t){const n=e.getModelValue(),r=t.getModelValue();n&&r||Z("","",{type:"check"})}},oe=()=>{const{autoClose:t}=e,{startValue:n,endValue:r}=f,{selectStatus:o}=m,i=N.value;t?o&&i&&n&&r&&te():n&&r&&(m.selectStatus=!1)},ie=e=>{const t=A.value;if(!t){const{startValue:t,endValue:n}=f,r=q(t,n);ke("suffix-click",{value:r,startValue:t,endValue:n},e)}},ae=e=>{const{startValue:t,endValue:n}=f,r=_.value,o="";r||Z(t,n,e),f.visiblePanel||(f.isActivated=!1),ke("blur",{value:o,startValue:t,endValue:n},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},le=e=>{K(e)},se=e=>{K(e)},ce=e=>{const t=y.value,n=C.value;if(t&&n){const r=t.getModelValue(),o=n.getModelValue();r&&!o||!r&&o?Z("","",e):(t.confirmByEvent(e),n.confirmByEvent(e))}te()},ue=e=>{const{selectStatus:t}=m,{value:n,$event:r}=e,o=t?f.endValue:"";Z(n,o,r),oe(),t||(m.selectStatus=!0),(0,i.nextTick)(()=>{const e=y.value,t=C.value;if(e&&t){const n=e.getModelValue();!o&&n&&t.setPanelDate(w().toStringDate(n))}})},de=e=>{const{selectStatus:t}=m,{value:n,$event:r}=e,o=t?f.startValue:"";Z(o,n,r),oe(),t||(m.selectStatus=!0),(0,i.nextTick)(()=>{const e=y.value,t=C.value;if(e&&t){const n=t.getModelValue();!o&&n&&e.setPanelDate(w().toStringDate(n))}})},pe=e=>{const{visiblePanel:t,isActivated:n}=f,r=g.value,o=x.value,i=A.value;!i&&n&&(f.isActivated=H(e,r).flag||H(e,o).flag,f.isActivated||t&&(re(),te()))},fe=e=>{const{visiblePanel:t}=f,n=A.value;if(!n){const n=o.Nh.hasKey(e,o.un.TAB),r=o.Nh.hasKey(e,o.un.ESCAPE);n&&(f.isActivated=!1),t&&(r||n)&&te()}},he=e=>{const{visiblePanel:t}=f,n=A.value;if(!n&&t){const t=x.value;H(e,t).flag?be():te()}},me=()=>{const{visiblePanel:e,isActivated:t}=f;if(e&&te(),t&&(f.isActivated=!1),e||t){const e=v.value;e&&e.blur()}},ge=()=>{const{visiblePanel:e}=f;e&&be()},ve=()=>{const{zIndex:t}=e;t?f.panelIndex=t:f.panelIndex<Ee()&&(f.panelIndex=Te())},be=()=>{const{placement:t}=e,{panelIndex:n}=f,r=v.value,o=b.value,a=O.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});f.panelStyle=i,f.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},xe=()=>{const{visiblePanel:e}=f,t=A.value;return t||e?(0,i.nextTick)():(f.initialized||(f.initialized=!0),m.hpTimeout&&(clearTimeout(m.hpTimeout),m.hpTimeout=void 0),m.selectStatus=!1,f.isActivated=!0,f.isAniVisible=!0,setTimeout(()=>{f.visiblePanel=!0},10),ve(),be())},ye=e=>{const t=D.value;t||(e.preventDefault(),xe())},we=e=>{K(e)},Ce=({option:t,$event:n})=>{const{type:r}=e,i=P.value,{autoClose:a}=i,{code:l,clickMethod:s}=t;let c=f.startValue,u=f.endValue,d=q(c,u);const p={$dateRangePicker:S,option:t,value:d,startValue:c,endValue:u,code:l};if(!s&&l){const e=o.Pi.get(l),t=e?e.dateRangePickerCommandMethod:null;if(t)t(p);else{const e=$.value,t=z.value;switch(l){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const o=et(l,d,r,{valueFormat:e,firstDay:t});c=o.startValue,u=o.endValue,d=q(c,u),p.value=d,p.startValue=c,p.endValue=u,Z(c,u,n);break}default:h("vxe.error.notCommands",[`[date-range-picker] ${l}`]);break}}}else{const e=s||i.clickMethod;e&&e(p)}a&&te(),ke("shortcut-click",p,n)},ke=(e,t,n)=>{r(e,(0,o.lh)(n,{$dateRangePicker:S},t))};E={dispatchEvent:ke,setModelValue(e,t){f.startValue=e||"",f.endValue=t||"";const n=q(e,t);r("update:modelValue",n)},setModelValueByEvent(e,t,n){Z(t||"",n||"",e)},focus(){const e=v.value;return f.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=v.value;return e.blur(),f.isActivated=!1,(0,i.nextTick)()},select(){const e=v.value;return e.select(),f.isActivated=!1,(0,i.nextTick)()},showPanel:xe,hidePanel:te,updatePlacement:be},Object.assign(S,E);const Oe=(e,t)=>{const n=P.value,{position:r,align:a,mode:l}=n,s=j.value;return Se(n)&&s.length&&(r||"left")===e?(0,i.h)("div",{class:`vxe-date-range-picker--layout-${e}-wrapper`},[(0,i.h)($e,{options:s,mode:l,align:a,vertical:t,onClick:Ce})]):(0,o.C1)(S)},De=()=>{const{type:t,separator:r,autoClose:a,showConfirmButton:l,showClearButton:s}=e,{initialized:c,isAniVisible:u,visiblePanel:d,panelPlacement:h,panelStyle:m,startValue:g,endValue:v}=f,w=p.value,k=O.value,T=P.value,E=R.value,D=V.value,A=j.value,M=I.value,{startLabel:N,endLabel:F}=D,{position:_}=T,L=n.header,$=n.footer,z=n.top,B=n.bottom,H=n.left,W=n.right,q=A.length>0,U=null===l?M||!a:l,G=null===s?E:s;return(0,i.h)(i.Teleport,{to:"body",disabled:!k||!c},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-date-range-picker--panel",`type--${t}`,{[`size--${w}`]:w,"is--transfer":k,"ani--leave":u,"ani--enter":d,"show--top":!!(z||L||q&&("top"===_||"header"===_)),"show--bottom":!!(B||$||q&&("bottom"===_||"footer"===_)),"show--left":!!(H||q&&"left"===_),"show--right":!!(W||q&&"right"===_)}],placement:h,style:m},c&&(d||u)?[(0,i.h)("div",{ref:x,class:["vxe-date-range-picker--layout-all-wrapper",`type--${t}`,{[`size--${w}`]:w}]},[z?(0,i.h)("div",{class:"vxe-date-range-picker--layout-top-wrapper"},z({})):Oe("top"),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[H?(0,i.h)("div",{class:"vxe-date-range-picker--layout-left-wrapper"},H({})):Oe("left",!0),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[L?(0,i.h)("div",{class:"vxe-date-range-picker--layout-header-wrapper"},L({})):Oe("header"),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[(0,i.h)(bn,{ref:y,modelValue:g,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,endDate:v,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:ue}),(0,i.h)(bn,{ref:C,modelValue:v,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDate:g,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:de})]),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-label"},N||F?[(0,i.h)("span",N),(0,i.h)("span",`${r||""}`),(0,i.h)("span",F)]:[]),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-custom"},$?$({}):[Oe("footer")]),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-btns"},[G?(0,i.h)(_e,{size:"mini",disabled:!(g||v),content:(0,o.TO)("vxe.button.clear"),onClick:ne}):(0,o.C1)(S),U?(0,i.h)(_e,{size:"mini",status:"primary",content:(0,o.TO)("vxe.button.confirm"),onClick:ce}):(0,o.C1)(S)])])]),W?(0,i.h)("div",{class:"vxe-date-range-picker--layout-right-wrapper"},W({})):Oe("right",!0)]),B?(0,i.h)("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},B({})):Oe("bottom")])]:[])])},Ae=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-date-range-picker--prefix",onClick:ee},[(0,i.h)("div",{class:"vxe-date-range-picker--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},Ie=()=>{const{suffixIcon:t}=e,{startValue:r,endValue:a}=f,l=n.suffix,s=A.value,c=R.value;return(0,i.h)("div",{class:["vxe-date-range-picker--suffix",{"is--clear":c&&!s&&(r||a)}]},[c?(0,i.h)("div",{class:"vxe-date-range-picker--clear-icon",onClick:ne},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(S),Ne(),l||t?(0,i.h)("div",{class:"vxe-date-range-picker--suffix-icon",onClick:ie},l?T(l({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(S)])},Ne=()=>(0,i.h)("div",{class:"vxe-date-range-picker--control-icon",onClick:ye},[(0,i.h)("i",{class:["vxe-date-range-picker--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),Re=()=>{const{className:t,type:n,name:r,autoComplete:a}=e,{startValue:l,endValue:s,visiblePanel:c,isActivated:u}=f,d=p.value,h=A.value,m=D.value,b=B.value;if(m)return(0,i.h)("div",{ref:g,class:["vxe-date-range-picker--readonly",`type--${n}`,t]},b);const x=F.value,y=R.value,w=Ae(),C=Ie();return(0,i.h)("div",{ref:g,class:["vxe-date-range-picker",`type--${n}`,t,{[`size--${d}`]:d,"is--prefix":!!w,"is--suffix":!!C,"is--visible":c,"is--disabled":h,"is--active":u,"show--clear":y&&!h&&(l||s)}],spellcheck:!1},[w||(0,o.C1)(S),(0,i.h)("div",{class:"vxe-date-range-picker--wrapper"},[(0,i.h)("input",{ref:v,class:"vxe-date-range-picker--inner",value:b,name:r,type:"text",placeholder:x,readonly:!0,disabled:h,autocomplete:a,onKeydown:le,onKeyup:se,onClick:we,onChange:J,onFocus:Q,onBlur:ae})]),C||(0,o.C1)(S),De()])};return(0,i.watch)(()=>e.modelValue,()=>{Y(!0)}),(0,i.watch)(M,()=>{Y(!1)}),Y(!0),(0,i.nextTick)(()=>{o.Nh.on(S,"mousewheel",he),o.Nh.on(S,"mousedown",pe),o.Nh.on(S,"keydown",fe),o.Nh.on(S,"blur",me),o.Nh.on(S,"resize",ge)}),(0,i.onDeactivated)(()=>{re()}),(0,i.onUnmounted)(()=>{o.Nh.off(S,"mousewheel"),o.Nh.off(S,"mousedown"),o.Nh.off(S,"blur"),o.Nh.off(S,"resize")}),(0,i.onBeforeUnmount)(()=>{re()}),(0,i.provide)("$xeDateRangePicker",S),S.renderVN=Re,S},render(){return this.renderVN()}});const On=Object.assign({},En,{install(e){e.component(En.name,En)}});u.use(On),o.OE.component(En);const Dn=On;var An=On;const Mn=Object.assign({},it,{install(e){e.component(it.name,it)}}),In={open(e){const t=Object.assign({},e);s.globalLoading={modelValue:!0,text:t.text,icon:t.icon},d()},close(){s.globalLoading=null}};u.use(Mn),o.OE.component(it),o.OE.loading=In;const Nn=Mn;var Rn=Mn;const Fn=[];var _n=a({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>(0,o.zj)().drawer.position},lockView:{type:Boolean,default:()=>(0,o.zj)().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>(0,o.zj)().drawer.mask},maskClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.maskClosable},escClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>(0,o.zj)().drawer.showHeader},showFooter:{type:Boolean,default:()=>(0,o.zj)().drawer.showFooter},showClose:{type:Boolean,default:()=>(0,o.zj)().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>(0,o.zj)().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>(0,o.zj)().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>(0,o.zj)().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>(0,o.zj)().drawer.transfer},padding:{type:Boolean,default:()=>(0,o.zj)().drawer.padding},size:{type:String,default:()=>(0,o.zj)().drawer.size||(0,o.zj)().size},beforeHideMethod:{type:Function,default:()=>(0,o.zj)().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),{computeSize:d}=(0,o.XX)(e),p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.reactive)({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0,resizeFlag:1}),v={refElem:p},b=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().modal.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),x=(0,i.computed)(()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"}),y={},C={xID:a,props:e,context:t,reactData:g,getRefMaps:()=>v,getComputeMaps:()=>y},k=()=>{const e=f.value;return e},S=()=>{const{width:t,height:n}=e,r=k();return r&&(r.style.width=V(t),r.style.height=V(n)),(0,i.nextTick)()},E=()=>{const{zIndex:t}=e,{drawerZIndex:n}=g;t?g.drawerZIndex=t:n<Ee()&&(g.drawerZIndex=Te())},O=t=>{const{beforeHideMethod:n}=e,{visible:o}=g,a={type:t};return o&&Promise.resolve(n?n(a):null).then(e=>{w().isError(e)||(g.contentVisible=!1,w().remove(Fn,e=>e===C),N("before-hide",a,null),setTimeout(()=>{g.visible=!1,r("update:modelValue",!1),N("hide",a,null)},200))}).catch(e=>e),(0,i.nextTick)()},D=e=>{const t="close";N(t,{type:t},e),O(t)},A=t=>{const{confirmClosable:n}=e,r="confirm";N(r,{type:r},t),n&&O(r)},M=t=>{const{cancelClosable:n}=e,r="cancel";N(r,{type:r},t),n&&O(r)},I=()=>{const{showFooter:t}=e,{initialized:n,visible:o}=g;return n||(g.initialized=!0),o||(g.visible=!0,g.contentVisible=!1,E(),Fn.push(C),setTimeout(()=>{S(),g.contentVisible=!0,(0,i.nextTick)(()=>{if(t){const e=h.value,t=m.value,n=e||t;n&&n.focus()}const e="",n={type:e};r("update:modelValue",!0),N("show",n,null)})},10)),(0,i.nextTick)()},N=(e,t,n)=>{r(e,(0,o.lh)(n,{$drawer:C},t))},R={dispatchEvent:N,open:I,close(){return O("close")},getBox:k},F=t=>{const n=p.value;if(e.maskClosable&&t.target===n){const e="mask";O(e)}},_=e=>{const t=o.Nh.hasKey(e,o.un.ESCAPE);if(t){const t=w().max(Fn,e=>e.reactData.drawerZIndex);t&&setTimeout(()=>{if(t===C&&t.props.escClosable){const t="exit";N("close",{type:t},e),O(t)}},10)}},P=()=>{const{drawerZIndex:e}=g;Fn.some(t=>t.reactData.visible&&t.reactData.drawerZIndex>e)&&E()},j=e=>{e.preventDefault();const{visibleHeight:t,visibleWidth:n}=B(),r=0,o=e.target,i=o.getAttribute("type"),a=0,l=0,s=n,c=t,u=k(),d=u.clientWidth,p=u.clientHeight,f=e.clientX,h=e.clientY,m=u.offsetTop,v=u.offsetLeft,b={type:"resize"};document.onmousemove=e=>{let o,x,y,w;switch(e.preventDefault(),i){case"wl":o=f-e.clientX,y=o+d,v-o>r&&y>a&&(u.style.width=`${y<s?y:s}px`);break;case"st":x=h-e.clientY,w=p+x,m-x>r&&w>l&&(u.style.height=`${w<c?w:c}px`);break;case"wr":o=e.clientX-f,y=o+d,v+y+r<n&&y>a&&(u.style.width=`${y<s?y:s}px`);break;case"sb":x=e.clientY-h,w=x+p,m+w+r<t&&w>l&&(u.style.height=`${w<c?w:c}px`);break}u.className=u.className.replace(/\s?is--drag/,"")+" is--drag",N("resize",b,e),g.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,g.resizeFlag++,setTimeout(()=>{u.className=u.className.replace(/\s?is--drag/,"")},50)}},L={};Object.assign(C,R,L);const $=()=>{const{slots:t={},showClose:r,title:a}=e,l=n.title||t.title,s=n.corner||t.corner;return[(0,i.h)("div",{class:"vxe-drawer--header-title"},l?T(l({$drawer:C})):a?Me(a):(0,o.TO)("vxe.alert.title")),(0,i.h)("div",{class:"vxe-drawer--header-right"},[s?(0,i.h)("div",{class:"vxe-drawer--corner-wrapper"},T(s({$drawer:C}))):(0,o.C1)(C),r?(0,i.h)("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:(0,o.TO)("vxe.drawer.close"),onClick:D},[(0,i.h)("i",{class:(0,o.sW)().DRAWER_CLOSE})]):(0,o.C1)(C)])]},z=()=>{const{slots:t={},showTitleOverflow:r}=e,a=n.header||t.header;return e.showHeader?(0,i.h)("div",{class:["vxe-drawer--header",{"is--ellipsis":r}]},a?T(a({$drawer:C})):$()):(0,o.C1)(C)},H=()=>{const{slots:t={},content:r}=e,a=n.default||t.default,l=n.left||t.left,s=n.right||t.right;return(0,i.h)("div",{class:"vxe-drawer--body"},[l?(0,i.h)("div",{class:"vxe-drawer--body-left"},T(l({$drawer:C}))):(0,o.C1)(C),(0,i.h)("div",{class:"vxe-drawer--body-default"},[(0,i.h)("div",{class:"vxe-drawer--content"},a?T(a({$drawer:C})):Me(r))]),s?(0,i.h)("div",{class:"vxe-drawer--body-right"},T(s({$drawer:C}))):(0,o.C1)(C),(0,i.h)(Rn,{class:"vxe-drawer--loading",modelValue:e.loading})])},W=()=>{const{slots:t={},showCancelButton:r,showConfirmButton:a,loading:l}=e,s=n.leftfoot||t.leftfoot,c=n.rightfoot||t.rightfoot,u=[];return r&&u.push((0,i.h)(_e,{key:1,ref:m,content:e.cancelButtonText||(0,o.TO)("vxe.button.cancel"),onClick:M})),a&&u.push((0,i.h)(_e,{key:2,ref:h,loading:l,status:"primary",content:e.confirmButtonText||(0,o.TO)("vxe.button.confirm"),onClick:A})),(0,i.h)("div",{class:"vxe-drawer--footer-wrapper"},[(0,i.h)("div",{class:"vxe-drawer--footer-left"},s?T(s({$drawer:C})):[]),(0,i.h)("div",{class:"vxe-drawer--footer-right"},c?T(c({$drawer:C})):u)])},q=()=>{const{slots:t={}}=e,r=n.footer||t.footer;return e.showFooter?(0,i.h)("div",{class:"vxe-drawer--footer"},r?T(r({$drawer:C})):[W()]):(0,o.C1)(C)},U=()=>{const{slots:t={},className:r,position:a,loading:l,lockScroll:s,padding:c,lockView:u,mask:h,resize:m,destroyOnClose:v}=e,{initialized:y,contentVisible:w,visible:k}=g,S=n.aside||t.aside,E=d.value,O=x.value,D=b.value;return(0,i.h)(i.Teleport,{to:"body",disabled:!D||!y},[(0,i.h)("div",{ref:p,class:["vxe-drawer--wrapper",`pos--${a}`,r||"",{[`size--${E}`]:E,"is--padding":c,"lock--scroll":s,"lock--view":u,"is--resize":m,"is--mask":h,"is--visible":w,"is--active":k,"is--loading":l}],style:{zIndex:g.drawerZIndex},onClick:F},[(0,i.h)("div",{ref:f,class:"vxe-drawer--box",onMousedown:P},[S?(0,i.h)("div",{class:"vxe-drawer--aside"},T(S({$drawer:C}))):(0,o.C1)(C),(0,i.h)("div",{class:"vxe-drawer--container"},!g.initialized||v&&!g.visible?[]:[z(),H(),q(),m?(0,i.h)("span",{class:"vxe-drawer--resize"},[(0,i.h)("span",{class:`${O}-resize`,type:O,onMousedown:j})]):(0,o.C1)(C)])])])])};return(0,i.watch)(()=>e.width,S),(0,i.watch)(()=>e.height,S),(0,i.watch)(()=>e.modelValue,e=>{e?I():O("model")}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{e.modelValue&&I(),S()}),e.escClosable&&o.Nh.on(C,"keydown",_)}),(0,i.onUnmounted)(()=>{o.Nh.off(C,"keydown")}),(0,i.provide)("$xeDrawer",C),C.renderVN=U,C},render(){return this.renderVN()}});function Pn(e){return d(),new Promise(t=>{if(e&&e.id&&Fn.some(t=>t.props.id===e.id))t("exist");else{const n=e.onHide,r=Object.assign(e,{key:w().uniqueId(),modelValue:!0,onHide(e){const o=s.drawers;n&&n(e),s.drawers=o.filter(e=>e.key!==r.key),t(e.type)}});s.drawers.push(r)}})}function jn(e){return w().find(Fn,t=>t.props.id===e)}function Ln(e){const t=e?[jn(e)]:Fn,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)}function $n(e){return Pn(Object.assign({},e))}const zn={get:jn,close:Ln,open:$n},Vn=Object.assign(_n,{install:function(e){e.component(_n.name,_n)}});o.OE.drawer=zn,u.use(Vn),o.OE.component(_n);const Bn=Vn;var Hn=Vn,Wn=a({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$empty:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>{const{imageUrl:t,imageStyle:n,icon:r,status:l,content:s}=e;return(0,i.h)("div",{ref:a,class:["vxe-empty",{[`theme--${l}`]:l}]},[(0,i.h)("div",{class:"vxe-empty--inner"},[t?(0,i.h)("div",{class:"vxe-empty--img-wrapper"},[(0,i.h)("img",{src:t,style:n})]):(0,i.h)("div",{class:"vxe-empty--icon-wrapper"},[(0,i.h)("i",{class:r||(0,o.sW)().EMPTY_DEFAULT})]),(0,i.h)("div",{class:"vxe-empty--content-wrapper"},`${s||(0,o.TO)("vxe.empty.defText")}`)])])};return u.renderVN=h,u},render(){return this.renderVN()}});const qn=Object.assign({},Wn,{install(e){e.component(Wn.name,Wn)}});u.use(qn),o.OE.component(Wn);const Un=qn;var Gn=qn;class Yn{constructor(e,t){const{field:n,itemRender:r,formatter:i}=t;if(i)if(w().isString(i)){const e=o.Fx.get(i);e&&e.formItemFormatMethod||h("vxe.error.notFormats",[`[form] ${i}`])}else if(w().isArray(i)){const e=o.Fx.get(i[0]);e&&e.formItemFormatMethod||h("vxe.error.notFormats",[`[form] ${i[0]}`])}n&&r&&(r.startField&&`${r.startField}`.indexOf(n)>=0&&h("vxe.error.modelConflicts",[`[form] field=${n}`,`item-render.startField=${r.startField}`]),r.endField&&`${r.endField}`.indexOf(n)>=0&&h("vxe.error.modelConflicts",[`[form] field=${n}`,`item-render.endField=${r.endField}`])),Object.assign(this,{id:w().uniqueId("item_"),title:t.title,field:n,span:t.span,align:t.align,verticalAlign:t.verticalAlign,titleBackground:t.titleBackground,titleBold:t.titleBold,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,vertical:t.vertical,padding:t.padding,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,showContent:t.showContent,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:r,rules:t.rules,formatter:i,params:t.params,showError:!1,showIconMsg:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Kn(e){return e instanceof Yn}function Xn(e,t){return Kn(t)?t:new Yn(e,t)}function Zn(e,t){return t?w().isString(t)?e.getItemByField(t):t:null}function Jn(e,t){const{reactData:n}=e,{collapseAll:r}=n,{folding:o,visible:i}=t;return!1===i||o&&r}function Qn(e,t){const n=e.xeGrid;let{visibleMethod:r,itemRender:i,visible:a,field:l}=t;if(!1===a)return a;const s=Se(i)?o.Uk.get(i.name):null,c=s?s.formItemVisibleMethod||s.itemVisibleMethod:null;if(!r&&c&&(r=c),!r)return!0;const u=e.props,{data:d}=u;return r({data:d,field:l,property:l,item:t,$form:e,$grid:n})}function er(e,t){Object.keys(e).forEach(n=>{(0,i.watch)(()=>e[n],e=>{t.update(n,e)})})}function tr(e,t,n,r){const{reactData:o}=e,i=e.props,{customLayout:a}=i,{staticItems:l}=o;if(a)l.some(e=>e.id===n.id)||l.push(n);else if(t){const e=t.parentNode,i=r?r.formItem:null,a=i?i.children:l;e&&(a.splice(w().arrayIndexOf(e.children,t),0,n),o.staticItems=l.slice(0))}}function nr(e,t){const{reactData:n}=e,{staticItems:r}=n,o=w().findIndexOf(r,e=>e.id===t.id);o>-1&&r.splice(o,1),n.staticItems=r.slice(0)}var rr=a({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>(0,o.zj)().icon.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l={xID:r,props:e,context:t},s=e=>{n("click",(0,o.lh)(e,{}))},c=(e,t,r)=>{n(e,(0,o.lh)(r,{$icon:l},t))},u={dispatchEvent:c},d={};Object.assign(l,u,d);const p=()=>{const{name:t,roll:n,status:r,className:o}=e,l=a.value;return(0,i.h)("i",{class:["vxe-icon",`vxe-icon-${t}`,`${o||""}`,{[`size--${l}`]:l,[`theme--${r}`]:r,roll:n}],onClick:s})};return l.renderVN=p,l},render(){return this.renderVN()}});function or(e){return(0,i.h)("span",{class:"vxe-form--item-title-tip-prefix"},[(0,i.h)(rr,{class:e.icon||(0,o.sW)().FORM_PREFIX,status:e.iconStatus})])}function ir(e){return(0,i.h)("span",{class:"vxe-form--item-title-tip-suffix"},[(0,i.h)(rr,{class:e.icon||(0,o.sW)().FORM_SUFFIX,status:e.iconStatus})])}function ar(e,t,n){const r=e.props,i=e.reactData,a=e.xeGrid,{computeSize:l,computeValidOpts:s}=e.getComputeMaps(),{data:c,rules:u,readonly:d,disabled:p,span:f,titleBackground:h,titleBold:m,titleColon:g,titleAsterisk:v,vertical:b,padding:x}=r,{collapseAll:y}=i,{folding:C,field:k,itemRender:S,showError:T,className:E,vertical:O,padding:D,children:A,showContent:M}=t,I=l.value,N=s.value,{showErrorMessage:R,showMessage:F,showErrorIcon:_}=N,P=Se(S)?o.Uk.get(S.name):null,j=P?P.formItemClassName||P.itemClassName:"",L=t.span||f,$=w().eqNull(D)?x:D,z=w().eqNull(O)?b:O,V=w().eqNull(t.titleBackground)?h:t.titleBackground,B=w().eqNull(t.titleBold)?m:t.titleBold,H=w().eqNull(t.titleColon)?g:t.titleColon,W=w().eqNull(t.titleAsterisk)?v:t.titleAsterisk,q={data:c,disabled:p,readonly:d,field:k,property:k,item:t,$form:e,$grid:a},U=A&&A.length>0;let G=!1,Y=!1;if(!d&&u){const e=u[k];e&&e.length&&(Y=!0,G=e.some(e=>e.required))}return[n||U?"vxe-form--group":"","vxe-form--item",t.id,L?`vxe-form--item-col_${L} is--span`:"",((w().isBoolean(R)?R:F)?"show":"hide")+"--err-msg",E?w().isFunction(E)?E(q):E:"",j?w().isFunction(j)?j(q):j:"",{[`size--${I}`]:I,"is--colon":H,"is--tbg":V,"is--bold":B,"is--padding":$,"is--vertical":z,"is--asterisk":W,"hide--content":!1===M,"is--valid":Y,"is--required":G,"is--hidden":C&&y,"is--active":Qn(e,t),"err--icon":_,"is--error":T}]}function lr(e,t,n){const r=e.props,i=e.xeGrid,{data:a,readonly:l,disabled:s,align:c,verticalAlign:u}=r,{field:d,itemRender:p,contentClassName:f,children:h}=t,m=h&&h.length>0,g=Se(p)?o.Uk.get(p.name):null,v=g?g.formItemContentClassName||g.itemContentClassName:"",b=m?t.align:w().eqNull(t.align)?c:t.align,x=m?t.verticalAlign:w().eqNull(t.verticalAlign)?u:t.verticalAlign,y={data:a,disabled:s,readonly:l,field:d,property:d,item:t,$form:e,$grid:i};return[n||m?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",b?`align--${b}`:"",x?`vertical-align--${x}`:"",v?w().isFunction(v)?v(y):v:"",f?w().isFunction(f)?f(y):f:""]}function sr(e,t,n){const r=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c,titleAlign:u,titleWidth:d,titleOverflow:p,vertical:f}=r,{slots:h,title:m,field:g,itemRender:v,titleOverflow:b,vertical:x,showTitle:y,titleClassName:C,titleStyle:k,titlePrefix:S,titleSuffix:E,children:O,showContent:D}=t,{computeTooltipOpts:A}=e.getComputeMaps(),M=A.value,I=Se(v)?o.Uk.get(v.name):null,N=I?I.formItemTitleClassName||I.itemTitleClassName:"",R=I?I.formItemTitleStyle||I.itemTitleStyle:null,F=w().eqNull(x)?f:x,_=w().eqNull(t.titleAlign)?u:t.titleAlign,P=F?null:w().eqNull(t.titleWidth)?d:t.titleWidth,j=w().eqNull(b)?p:b,L="ellipsis"===j,$="title"===j,z=!0===j||"tooltip"===j,B=$||z||L,H={data:l,disabled:c,readonly:s,field:g,property:g,item:t,$form:e,$grid:a},W=h?h.title:null,q=h?h.prefix:null,U=h?h.suffix||h.extra:null,G=!1!==y&&(m||W),Y=O&&O.length>0,K=[];q&&K.push((0,i.h)("span",{key:"pt",class:"vxe-form--item-title-prefix"},e.callSlot(q,H))),S&&K.push(S.content||S.message?(0,i.h)(Re,Object.assign(Object.assign(Object.assign({key:"pm"},M),S),{content:Me(S.content||S.message)}),{default:()=>or(S)}):or(S));const X=I?I.renderFormItemTitle||I.renderItemTitle:null;K.push((0,i.h)("span",{key:"pl",class:"vxe-form--item-title-label"},W?e.callSlot(W,H):X?T(X(v,H)):Me(t.title)));const Z=[];E&&Z.push(E.content||E.message?(0,i.h)(Re,Object.assign(Object.assign(Object.assign({key:"sm"},M),E),{content:Me(E.content||E.message)}),{default:()=>ir(E)}):ir(E)),U&&Z.push((0,i.h)("span",{key:"st",class:"vxe-form--item-title-suffix"},e.callSlot(U,H)));const J=z?{onMouseenter(t){e.triggerTitleTipEvent(t,H)},onMouseleave:e.handleTitleTipLeaveEvent}:{},Q=Object.assign({},w().isFunction(R)?R(H):R,w().isFunction(k)?k(H):k);return P&&"auto"!==P&&!1!==D&&(Q.width=V(P)),G?(0,i.h)("div",Object.assign({class:[n||Y?"vxe-form--group-title":"","vxe-form--item-title",_?`align--${_}`:"",B?"is--ellipsis":"",N?w().isFunction(N)?N(H):N:"",C?w().isFunction(C)?C(H):C:""],style:Q,itemid:t.id,title:$?Me(m):null},J),[(0,i.h)("div",{class:"vxe-form--item-title-content"},K),(0,i.h)("div",{class:"vxe-form--item-title-postfix"},Z)]):(0,o.C1)(e)}function cr(e,t){const{computeValidOpts:n}=e.getComputeMaps(),r=n.value,{showErrorIcon:a,errorIcon:l}=r,{errRule:s,showIconMsg:c}=t;return a?(0,i.h)("div",{key:"emi",class:["vxe-form-item--valid-error-icon-wrapper",{"is--show":c,"is--hide":!c}]},[(0,i.h)("span",{class:"vxe-form-item--valid-error-icon-btn",onClick(n){e.handleValidIconEvent(n,{item:t})}},[(0,i.h)("i",{class:l||(0,o.sW)().FORM_VALID_ERROR_ICON})]),(0,i.h)("div",{class:"vxe-form-item--valid-error-icon-msg-tip"},s?[(0,i.h)("div",{class:`vxe-form-item--valid-error-icon-msg vxe-form-item--valid-error-icon-theme-${r.theme||"normal"}`},s.content||s.message)]:[])]):(0,o.C1)(e)}function ur(e,t){const n=e.props,r=e.reactData,a=e.internalData,l=e.xeGrid,{computeCollapseOpts:s,computeValidOpts:c}=e.getComputeMaps(),{itemFormatCache:u}=a,{data:d,readonly:p,disabled:f}=n,{collapseAll:h}=r,{slots:m,field:g,itemRender:v,collapseNode:b,errRule:x,formatter:y}=t,C=m?m.default:null,k=m?m.valid:null,S=s.value,E=c.value,{showErrorMessage:O,showMessage:D}=E,A=Se(v)?o.Uk.get(v.name):null,M=w().get(d,g),I={data:d,disabled:f,readonly:p,field:g,property:g,item:t,itemValue:M,$form:e,$grid:l};let N=[];const R=A?A.renderFormItemContent||A.renderItemContent:null;if(C)N=e.callSlot(C,I);else if(R)N=T(R(v,I));else if(g){let e=M;if(y){let t;if(g){const e=u[g];if(e)if(t=e.formatData,t){if(t.value===M)return t.label}else t=e.formatData={};else u[g]={field:g}}if(w().isString(y)){const t=o.Fx.get(y),n=t?t.formItemFormatMethod:null;e=n?n(I):""}else if(w().isArray(y)){const t=o.Fx.get(y[0]),n=t?t.formItemFormatMethod:null;e=n?n(I,...y.slice(1)):""}else e=y(I);t&&(t.value=M,t.label=e)}N=[Ie(e)?"":`${e}`]}if(b&&N.push((0,i.h)("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[(0,i.h)("span",{class:"vxe-form--item-trigger-text"},h?S.unfoldButtonText||(0,o.TO)("vxe.form.unfolding"):S.foldButtonText||(0,o.TO)("vxe.form.folding")),(0,i.h)("i",{class:["vxe-form--item-trigger-icon",h?S.foldIcon||(0,o.sW)().FORM_FOLDING:S.unfoldIcon||(0,o.sW)().FORM_UNFOLDING]})])),x&&(w().isBoolean(O)?O:D)){const t=Object.assign(Object.assign({},I),{rule:x});N.push((0,i.h)("div",{class:"vxe-form-item--valid-error-tip",style:x.maxWidth?{width:V(x.maxWidth)}:null},[(0,i.h)("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${E.theme||"normal"}`},[k?e.callSlot(k,t):[(0,i.h)("span",{class:"vxe-form--item--valid-error-msg"},x.content||x.message)]])]))}return(0,i.h)("div",{key:"ct",class:"vxe-form--item-inner"},N)}const dr=a({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=(0,i.inject)("$xeForm",{}),n={itemConfig:e.itemConfig};(0,i.provide)("xeFormItemInfo",n);const r=(e,t)=>{const n=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c}=n,{visible:u,field:d,itemRender:p,contentStyle:f,children:h,showContent:m}=t,g=Se(p)?o.Uk.get(p.name):null,v=g?g.formItemStyle||g.itemStyle:null,b=g?g.formItemContentStyle||g.itemContentStyle:null,x={data:l,disabled:c,readonly:s,field:d,property:d,item:t,$form:e,$grid:a},y=h&&h.length>0;return!1===u?(0,o.C1)(e):(0,i.h)("div",{key:t.id,itemid:t.id,class:ar(e,t),style:w().isFunction(v)?v(x):v},[sr(e,t),!1===m?(0,o.C1)(e):(0,i.h)("div",{class:lr(e,t),style:Object.assign({},w().isFunction(b)?b(x):b,w().isFunction(f)?f(x):f)},y?h.map(t=>r(e,t)):[ur(e,t),cr(e,t)])])},a=()=>r(t,e.itemConfig),l={renderVN:a};return(0,i.provide)("$xeFormGroup",null),l},render(){return this.renderVN()}});var pr=dr;const fr="modelValue";function hr(e){return`vxe-${`${e||""}`.replace("$","")}`}function mr(e){const{name:t}=e;return(0,o.QQ)(t)||(0,i.resolveComponent)(`${t}`)}function gr({name:e}){return(0,i.resolveComponent)(hr(e))}function vr(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function br(e,t,n,r){return w().assign({},r,e.props,{[fr]:n})}function xr(e,t,n,r){const{events:o}=e,i=k(e),a=S(e),l=a===i,s={};return o&&w().objectEach(o,(e,n)=>{s[C(n)]=function(...n){e(t,...n)}}),n&&(s[C(i)]=function(e){n(e),l&&r&&r(e),o&&o[i]&&o[i](t,e)}),!l&&r&&(s[C(a)]=function(...e){r(...e),o&&o[a]&&o[a](t,...e)}),s}function yr(e,t,n,r){const{events:o}=e,{model:i,change:a}=n||{},l=k(e),s=S(e),c={};return w().objectEach(o,(e,n)=>{c[C(n)]=function(...n){w().isFunction(e)||h("vxe.error.errFunc",[`[form] ${e}`]),e(t,...n)}}),i&&(c[C(l)]=function(e){i(e),o&&o[l]&&o[l](t,e)}),a&&(c[C(s)]=function(...e){a(...e),o&&o[s]&&o[s](t,...e)}),r?Object.assign(c,r):c}function wr(e,t){const{$form:n,data:r,field:o}=t;return yr(e,t,{model(e){w().set(r,o,e)},change(e){n.updateStatus(e)}})}function Cr(e,t){const{$form:n,data:r,field:o}=t;return xr(e,t,e=>{const t=e.target.value;w().set(r,o,t)},()=>{n.updateStatus(t)})}function kr(e,t,n){const{optionGroups:r,optionGroupProps:o={}}=e,a=o.options||"options",l=o.label||"label";return r?r.map((r,o)=>(0,i.h)("optgroup",{key:o,label:r[l]},n(r[a],e,t))):[]}function Sr(e,t){const{data:n,field:r}=t,{name:o}=e,a=vr(e),l=w().get(n,r);return[(0,i.h)(`${o}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},a),{value:!a||"input"!==o||"submit"!==a.type&&"reset"!==a.type?l:null}),Cr(e,t)))]}function Tr(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,o)),wr(e,t)))]}function Er(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(gr(e),Object.assign(Object.assign({},br(e,t,o)),wr(e,t)))]}function Or(e,t){return[(0,i.h)((0,i.resolveComponent)("vxe-button"),Object.assign(Object.assign({},br(e,t,null)),yr(e,t)))]}function Dr(e,t){const{children:n}=e;return n?n.map(e=>Or(e,t)[0]):[]}function Ar(e,t,n){const{data:r,field:o}=n,{optionProps:a={}}=t,l=a.label||"label",s=a.value||"value",c=a.disabled||"disabled",u=w().get(r,o);return e?e.map((e,t)=>(0,i.h)("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[l])):[]}function Mr(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,o)),wr(e,t)))]}function Ir(e,t){const{options:n,optionProps:r}=e,{data:o,field:a}=t,l=w().get(o,a);return[(0,i.h)(mr(e),Object.assign(Object.assign({options:n,optionProps:r},br(e,t,l)),wr(e,t)))]}function Nr(e,t){const{name:n,options:r,optionProps:o={}}=e,{data:a,field:l}=t,s=o.label||"label",c=o.value||"value",u=o.disabled||"disabled",d=w().get(a,l),p=hr(n);return r?[(0,i.h)((0,i.resolveComponent)(`${p}-group`),Object.assign(Object.assign({},br(e,t,d)),wr(e,t)),{default:()=>r.map((e,t)=>(0,i.h)((0,i.resolveComponent)(p),{key:t,label:e[c],content:e[s],disabled:e[u]}))})]:[(0,i.h)((0,i.resolveComponent)(p),Object.assign(Object.assign({},br(e,t,d)),wr(e,t)))]}o.Uk.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:Sr},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Sr},select:{formItemAutoFocus:"input",renderFormItemContent(e,t){return[(0,i.h)("select",Object.assign(Object.assign({class:"vxe-default-select"},vr(e)),Cr(e,t)),e.optionGroups?kr(e,t,Ar):Ar(e.options,e,t))]}},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:Tr},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:Tr},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:Tr},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:Tr},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:Tr},VxeDateRangePicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{startField:n,endField:r}=e,{$form:o,data:a,field:l}=t,s=w().get(a,l),c={},u={};return n&&r&&(c.startValue=w().get(a,n),c.endValue=w().get(a,r),u["onUpdate:startValue"]=e=>{n&&w().set(a,n,e)},u["onUpdate:endValue"]=e=>{r&&w().set(a,r,e)}),[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,s,c)),yr(e,t,{model(e){w().set(a,l,e)},change(){o.updateStatus(t)}},u)))]}},VxeButton:{renderFormItemContent:Mr},VxeButtonGroup:{renderFormItemContent(e,t){const{options:n}=e,{data:r,field:o}=t,a=w().get(r,o);return[(0,i.h)(mr(e),Object.assign(Object.assign({options:n},br(e,t,a)),wr(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s}=e,c=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,c,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s})),wr(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a}=e,l=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,l,{options:o,optionProps:a})),wr(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a}=e,l=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,l,{options:o,optionProps:a})),wr(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o}=e,a=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,a,{colors:o})),wr(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o}=e,a=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign({},br(e,t,a,{icons:o})),wr(e,t)))]}},VxeRadio:{renderFormItemContent:Mr},VxeRadioGroup:{renderFormItemContent:Ir},VxeCheckbox:{renderFormItemContent:Mr},VxeCheckboxGroup:{renderFormItemContent:Ir},VxeSwitch:{renderFormItemContent:Tr},VxeRate:{renderFormItemContent:Tr},VxeSlider:{renderFormItemContent:Tr},VxeImage:{renderFormItemContent(e,t){const{data:n,field:r}=t,{props:o}=e,a=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign(Object.assign({},o),{src:a}),wr(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:n,field:r}=t,{props:o}=e,a=w().get(n,r);return[(0,i.h)(mr(e),Object.assign(Object.assign(Object.assign({},o),{urlList:a}),wr(e,t)))]}},VxeUpload:{renderFormItemContent:Tr},$input:{formItemAutoFocus:"input",renderFormItemContent:Er},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Er},$button:{renderFormItemContent:Or},$buttons:{renderFormItemContent:Dr},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s}=e,c=w().get(n,r);return[(0,i.h)(gr(e),Object.assign(Object.assign({},br(e,t,c,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s})),wr(e,t)))]}},$radio:{renderFormItemContent:Nr},$checkbox:{renderFormItemContent:Nr},$switch:{renderFormItemContent:Er}});class Rr{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return Me(this.$options.content||this.$options.message)}get message(){return this.content}}function Fr(e,t){return!(e&&!(w().isRegExp(e)?e:new RegExp(e)).test(t))}function _r(e,t){return!(!w().eqNull(e)&&t>w().toNumber(e))}function Pr(e,t){return!(!w().eqNull(e)&&t<w().toNumber(e))}function jr(e,t,n){const{type:r,min:o,max:i,pattern:a}=e,l="array"===r,s="number"===r,c="string"===r,u=`${t}`;if(!Fr(a,u))return!1;if(l){if(!w().isArray(t))return!1;if(n&&!t.length)return!1;if(!Pr(o,t.length))return!1;if(!_r(i,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!Pr(o,e))return!1;if(!_r(i,e))return!1}else{if(c&&!w().isString(t))return!1;if(n&&!u)return!1;if(!Pr(o,u.length))return!1;if(!_r(i,u.length))return!1}return!0}function Lr(e,t){const{required:n}=e,r=w().isArray(t)?!t.length:Ie(t);if(n){if(r)return!1;if(!jr(e,t,n))return!1}else if(!r&&!jr(e,t,n))return!1;return!0}function $r(){return{meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1},itemFormatCache:{}}}var zr=a({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>(0,o.zj)().form.size||(0,o.zj)().size},span:{type:[String,Number],default:()=>(0,o.zj)().form.span},align:{type:String,default:()=>(0,o.zj)().form.align},verticalAlign:{type:String,default:()=>(0,o.zj)().form.verticalAlign},border:{type:Boolean,default:()=>(0,o.zj)().form.border},titleBackground:{type:Boolean,default:()=>(0,o.zj)().form.titleBackground},titleBold:{type:Boolean,default:()=>(0,o.zj)().form.titleBold},titleAlign:{type:String,default:()=>(0,o.zj)().form.titleAlign},titleWidth:{type:[String,Number],default:()=>(0,o.zj)().form.titleWidth},titleColon:{type:Boolean,default:()=>(0,o.zj)().form.titleColon},titleAsterisk:{type:Boolean,default:()=>(0,o.zj)().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>(0,o.zj)().form.titleOverflow},vertical:{type:Boolean,default:()=>(0,o.zj)().form.vertical},padding:{type:Boolean,default:()=>(0,o.zj)().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>(0,o.zj)().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>(0,o.zj)().form.customLayout},params:Object},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeGrid",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({collapseAll:e.collapseStatus,staticItems:[],formItems:[],itemWidth:0}),u=$r(),d=(0,i.ref)(),p=(0,i.ref)();let m={};const g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().form.validConfig,e.validConfig)),v=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tooltip,(0,o.zj)().form.tooltipConfig,e.tooltipConfig)),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().form.collapseConfig,e.collapseConfig)),x=(0,i.computed)(()=>{const{titleWidth:t,vertical:n}=e,{formItems:r}=c,o=[];return w().eachTree(r,e=>{const{titleWidth:r,vertical:i}=e;if("auto"===r)o.push(e);else{const a=w().eqNull(i)?n:i,l=a?null:w().eqNull(r)?t:r;"auto"!==l||e.children&&e.children.length||o.push(e)}},{children:"children"}),o}),y={refElem:d},C={computeSize:s,computeValidOpts:g,computeTooltipOpts:v,computeCollapseOpts:b,computeAutoItemWidthList:x},k={xID:l,props:e,context:t,reactData:c,internalData:u,xeGrid:a,getRefMaps:()=>y,getComputeMaps:()=>C},S=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],E=e=>(e.length&&e.forEach(e=>{e.slots&&w().each(e.slots,e=>{w().isFunction(e)||n[e]||h("vxe.error.notSlot",[`[form] ${e}`])})}),c.staticItems=w().mapTree(e,e=>Xn(k,e),{children:"children"}),u.itemFormatCache={},(0,i.nextTick)().then(()=>G())),O=()=>{const e=[];return w().eachTree(c.formItems,t=>{e.push(t)},{children:"children"}),e},D=e=>{const t=w().findTree(c.formItems,t=>t.field===e,{children:"children"});return t?t.item:null},A=()=>c.collapseAll,M=()=>{const e=!A();return c.collapseAll=e,r("update:collapseStatus",e),(0,i.nextTick)()},I=t=>{M();const n=A();m.dispatchEvent("toggle-collapse",{status:n,collapse:n,data:e.data},t),m.dispatchEvent("collapse",{status:n,collapse:n,data:e.data},t),(0,i.nextTick)(()=>{G(),a&&a.recalculate()})},N=e=>{if(e){let t=e;w().isArray(e)||(t=[e]),t.forEach(e=>{if(e){const t=Zn(k,e);t&&(t.showError=!1,t.showIconMsg=!1)}})}else O().forEach(e=>{e.showError=!1,e.showIconMsg=!1});return(0,i.nextTick)()},R=(e,t,n)=>{const{field:r,resetValue:o}=e;return w().isFunction(o)?o({field:r,item:e,data:t,$form:k,$grid:a}):w().eqNull(o)&&w().isArray(n)?[]:o},F=()=>{const{data:t}=e,n=O();return t&&n.forEach(e=>{const{field:n,itemRender:r}=e;if(Se(r)){const{name:i,startField:l,endField:s}=r,c=o.Uk.get(i),u=c?c.formItemResetMethod||c.itemResetMethod:null;if(c&&u)u({data:t,field:n,property:n,item:e,$form:k,$grid:a});else if(n){const r=w().get(t,n);w().set(t,n,R(e,t,r))}l&&s&&(w().set(t,l,R(e,t,w().get(t,l))),w().set(t,s,R(e,t,w().get(t,s))))}}),u.itemFormatCache={},N(),G()},_=t=>{t.preventDefault(),F(),m.dispatchEvent("reset",{data:e.data},t)},P=t=>{const n=d.value;if(n)for(let r=0;r<t.length;r++){const i=t[r],l=D(i);if(l&&Se(l.itemRender)){const{itemRender:t}=l,s=o.Uk.get(t.name);r||K(n.querySelector(`.${l.id}`));let c=null;const u=t.autoFocus||t.autofocus||(s?s.formItemAutoFocus:null);if(w().isFunction(u)?c=u({$form:k,$grid:a,item:l,data:e.data,field:i}):!0===u?c=n.querySelector(`.${l.id} input,textarea`):u&&(c=n.querySelector(`.${l.id} ${u}`)),c){c.focus();break}}}},j=(t,n,r)=>{const{data:i,rules:a}=e,l={};return w().isArray(n)||(n=[n]),Promise.all(n.map(e=>{const n=[],s=[];if(e&&a){const l=w().get(a,e);if(l){const a=w().isUndefined(r)?w().get(i,e):r;l.forEach(r=>{const{trigger:c,validator:u}=r;if("all"===t||!c||t===c)if(u){const t={itemValue:a,rule:r,rules:l,data:i,field:e,property:e,$form:k};let d;if(w().isString(u)){const e=o.y$.get(u);if(e){const n=e.formItemValidatorMethod||e.itemValidatorMethod;n?d=n(t):f("vxe.error.notValidators",[`[form] ${u}`])}else h("vxe.error.notValidators",[`[form] ${u}`])}else d=u(t);d&&(w().isError(d)?n.push(new Rr({type:"custom",trigger:c,content:d.message,rule:new Rr(r)})):d.catch&&s.push(d.catch(e=>{n.push(new Rr({type:"custom",trigger:c,content:e?e.message:r.content||r.message,rule:new Rr(r)}))})))}else Lr(r,a)||n.push(new Rr(r))})}}return Promise.all(s).then(()=>{n.length&&(l[e]=n.map(t=>({$form:k,rule:t,data:i,field:e,property:e})))})})).then(()=>{if(!w().isEmpty(l))return Promise.reject(l)})},L=(t,n,r)=>{const{data:o,rules:a}=e,l=g.value,s={},c=[],d=[];return clearTimeout(u.meTimeout),o&&a?(t.forEach(e=>{const{field:t}=e;t&&!Jn(k,e)&&Qn(k,e)&&d.push(j(n||"all",t).then(()=>{e.errRule=null}).catch(n=>{const r=n[t];return s[t]||(s[t]=[]),s[t].push(r),c.push(t),e.errRule=r[0].rule,Promise.reject(r)}))}),Promise.all(d).then(()=>{r&&r()}).catch(()=>new Promise(e=>{u.meTimeout=setTimeout(()=>{t.forEach(e=>{e.errRule&&(e.showError=!0)})},20),!1!==l.autoPos&&(0,i.nextTick)(()=>{P(c)}),r?(r(s),e()):e(s)}))):(r&&r(),Promise.resolve())},$=t=>{const{readonly:n}=e;return N(),n?(0,i.nextTick)():L(O(),"",t).then(e=>(G(),e))},z=(t,n)=>{const{readonly:r}=e;if(r)return(0,i.nextTick)();let o=[];return t&&(o=w().isArray(t)?t:[t]),L(o.map(e=>Zn(k,e)),"",n).then(e=>(G(),e))},V=t=>{const{readonly:n}=e;if(t.preventDefault(),!e.preventSubmit){if(N(),n)return m.dispatchEvent("submit",{data:e.data},t),void G();L(O()).then(n=>{n?m.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):m.dispatchEvent("submit",{data:e.data},t),G()})}},B=()=>{const{tooltipStore:e}=u,t=p.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),(0,i.nextTick)()},H=(e,t)=>{const{item:n}=t,{tooltipStore:r}=u,o=p.value,i=e.currentTarget.children[0],a=(i.textContent||"").trim(),l=i.scrollWidth>i.clientWidth;clearTimeout(u.stTimeout),r.item!==n&&B(),a&&l&&(Object.assign(r,{item:n,visible:!0}),o&&o.open(i,a))},W=()=>{const e=v.value;let t=p.value;t&&t.setActived(!1),e.enterable?u.stTimeout=setTimeout(()=>{t=p.value,t&&!t.isActived()&&B()},e.leaveDelay):B()},q=(e,t,n)=>t?j(e?["blur"].includes(e.type)?"blur":"change":"all",t,n).then(()=>{N(t)}).catch(e=>{const n=e[t],r=D(t);n&&r&&(r.showError=!0,r.errRule=n[0].rule)}):(0,i.nextTick)(),U=(e,t)=>{const{field:n}=e;return q(new Event("change"),n,t)},G=()=>{const e=x.value,t=d.value;if(t&&e.length){const n=t.querySelectorAll(e.map(e=>`.vxe-form--item-title[itemid="${e.id}"]`).join(","));let r=0;w().arrayEach(n,e=>{e.style.width="",r=Math.max(r,Math.ceil(e.clientWidth+2))}),w().arrayEach(n,e=>{e.style.width=`${r}px`})}return(0,i.nextTick)()},Y=()=>{G()};m={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$form:k,$grid:a},t))},reset:F,validate:$,validateField:z,clearValidate:N,updateStatus:U,toggleCollapse:M,getItems:O,getItemByField:D,closeTooltip:B,recalculate:G};const X={callSlot:S,triggerItemEvent:q,toggleCollapseEvent:I,triggerTitleTipEvent:H,handleTitleTipLeaveEvent:W,handleValidIconEvent(e,t){const{item:n}=t;n.showIconMsg=!n.showIconMsg}};Object.assign(k,m,X);const Z=()=>{const{loading:t,border:r,className:o,data:a,customLayout:l}=e,{formItems:u}=c,f=s.value,h=v.value,m=n.default;return(0,i.h)("form",{ref:d,class:["vxe-form",o?w().isFunction(o)?o({items:u,data:a,$form:k}):o:"",{[`size--${f}`]:f,"is--border":r,"custom--layout":l,"is--loading":t}],onSubmit:V,onReset:_},[(0,i.h)("div",{class:"vxe-form--wrapper vxe-form--item-row"},l?m?m({}):[]:u.map((e,t)=>(0,i.h)(pr,{key:t,itemConfig:e}))),(0,i.h)("div",{class:"vxe-form-slots",ref:"hideItem"},l?[]:m?m({}):[]),(0,i.h)(it,{class:"vxe-form--loading",modelValue:t}),(0,i.h)(Re,Object.assign({ref:p},h))])},J=(0,i.ref)(0);(0,i.watch)(()=>e.vertical,()=>{J.value++}),(0,i.watch)(()=>e.titleWidth,()=>{J.value++}),(0,i.watch)(J,()=>{(0,i.nextTick)().then(()=>{G()})});const Q=(0,i.ref)(0);(0,i.watch)(()=>c.staticItems.length,()=>{Q.value++}),(0,i.watch)(()=>c.staticItems,()=>{Q.value++}),(0,i.watch)(Q,()=>{c.formItems=c.staticItems,J.value++});const ee=(0,i.ref)(0);return(0,i.watch)(()=>e.items?e.items.length:-1,()=>{ee.value++}),(0,i.watch)(()=>e.items,()=>{ee.value++}),(0,i.watch)(ee,()=>{E(e.items||[])}),(0,i.watch)(()=>e.collapseStatus,e=>{c.collapseAll=!!e}),(0,i.watch)(()=>e.readonly,()=>{N()}),(0,i.watch)(()=>e.disabled,()=>{N()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{e.customLayout&&e.items&&h("vxe.error.errConflicts",["[form] custom-layout","items"])}),o.Nh.on(k,"resize",Y)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"resize"),w().assign(u,$r())}),e.items&&E(e.items),(0,i.provide)("xeFormItemInfo",null),(0,i.provide)("$xeForm",k),(0,i.provide)("$xeFormGroup",null),(0,i.provide)("$xeFormItem",null),k.renderVN=Z,k},render(){return this.renderVN()}});const Vr=Object.assign(zr,{install(e){e.component(zr.name,zr)}});u.use(Vr),o.OE.component(zr);const Br=Vr;var Hr=Vr;const Wr={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array,params:Object};var qr=a({name:"VxeFormItem",props:Wr,setup(e,{slots:t}){const n=w().uniqueId(),r=(0,i.ref)(),a=(0,i.inject)("$xeForm",{}),l=(0,i.inject)("$xeFormGroup",null),s=(0,i.reactive)(Xn(a,e));s.slots=t;const c={itemConfig:s};(0,i.provide)("xeFormItemInfo",c);const u=(e,t)=>{const n=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c}=n,{visible:u,field:d,itemRender:f,contentStyle:h,showContent:m}=t,g=Se(f)?o.Uk.get(f.name):null,v=g?g.formItemStyle||g.itemStyle:null,b=g?g.formItemContentStyle||g.itemContentStyle:null,x={data:l,disabled:c,readonly:s,field:d,property:d,item:t,$form:e,$grid:a};return!1===u?(0,o.C1)(p):(0,i.h)("div",{ref:r,key:t.id,itemid:t.id,class:ar(e,t),style:w().isFunction(v)?v(x):v},[sr(e,t),!1===m?(0,o.C1)(p):(0,i.h)("div",{class:lr(e,t),style:Object.assign({},w().isFunction(b)?b(x):b,w().isFunction(h)?h(x):h)},[ur(e,t),cr(e,t)])])},d=()=>{const e=!!a&&a.props.customLayout,t=s;return e?u(a,t):(0,i.h)("div",{ref:r})},p={xID:n,formItem:s,renderVN:d};return er(e,s),(0,i.onMounted)(()=>{const e=r.value;tr(a,e,s,l)}),(0,i.onUnmounted)(()=>{nr(a,s)}),(0,i.provide)("$xeFormItem",p),(0,i.provide)("$xeFormGroup",null),p},render(){return this.renderVN()}}),Ur=a({name:"VxeFormGroup",props:Wr,setup(e,t){const{slots:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.inject)("$xeForm",{}),s=(0,i.inject)("$xeFormGroup",null),c=(0,i.reactive)(Xn(l,e));c.slots=n,c.children=[];const u={itemConfig:c};(0,i.provide)("xeFormItemInfo",u);const d=()=>{const e=l.props,t=l.xeGrid,r=c,{data:s,readonly:u,disabled:d}=e,{visible:f,field:h,itemRender:m,contentStyle:g}=r,v=Se(m)?o.Uk.get(m.name):null,b=v?v.formItemStyle||v.itemStyle:null,x=v?v.formItemContentStyle||v.itemContentStyle:null,y=n?n.default:null,C={data:s,disabled:d,readonly:u,field:h,property:h,item:r,$form:l,$grid:t};return!1===f?(0,o.C1)(p):(0,i.h)("div",{ref:a,key:r.id,itemid:r.id,class:ar(l,r,!0),style:w().isFunction(b)?b(C):b},[sr(l,r,!0),(0,i.h)("div",{class:lr(l,r,!0),style:Object.assign({},w().isFunction(x)?x(C):x,w().isFunction(g)?g(C):g)},y?y({}):[])])},p={xID:r,formItem:c,renderVN:d};return er(e,c),(0,i.onMounted)(()=>{const e=a.value;tr(l,e,c,s)}),(0,i.onUnmounted)(()=>{nr(l,c)}),(0,i.provide)("$xeFormGroup",p),(0,i.provide)("$xeFormItem",null),p},render(){return this.renderVN()}});const Gr=Object.assign({},Ur,{name:"VxeFormGather"}),Yr=Object.assign(Gr,{install(e){e.component(Gr.name,Gr)}});u.use(Yr),o.OE.component(Gr);const Kr=Yr;var Xr=Yr;const Zr=Object.assign(Ur,{install(e){e.component(Ur.name,Ur)}});u.use(Zr),o.OE.component(Ur);const Jr=Zr;var Qr=Zr;const eo=Object.assign(qr,{install(e){e.component(qr.name,qr)}});u.use(eo),o.OE.component(qr);const to=eo;var no=eo;const ro=Object.assign({},rr,{install(e){e.component(rr.name,rr)}});u.use(ro),o.OE.component(rr);const oo=ro;var io=ro,ao=a({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>(0,o.zj)().iconPicker.size||(0,o.zj)().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>(0,o.zj)().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeModal",null),a=(0,i.inject)("$xeDrawer",null),l=(0,i.inject)("$xeTable",null),s=(0,i.inject)("$xeForm",null),c=(0,i.inject)("xeFormItemInfo",null),u=w().uniqueId(),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),f={},h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v={refElem:h},b={xID:u,props:e,context:t,reactData:p,getRefMaps:()=>v};let x={};const y=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!s&&s.props.readonly:t}),C=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!s&&s.props.disabled:t}),k=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().iconPicker.transfer;if(w().isBoolean(e))return e;if(l||r||a||s)return!0}return t}),S=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().select.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseSelect")}),E=(0,i.computed)(()=>{let{icons:t}=e;return t&&t.length||(t=(0,o.zj)().iconPicker.icons||[]),t.map(e=>w().isString(e)?{title:e,icon:`vxe-icon-${`${e||""}`.replace(/^vxe-icon-/,"")}`}:{title:`${e.title||""}`,icon:e.icon||"",iconRender:e.iconRender})}),O=(0,i.computed)(()=>{const e=E.value;return w().chunk(e,4)}),D=(0,i.computed)(()=>{const{selectIcon:e}=p,t=E.value;return e?t.find(t=>t.icon===e):null}),A=()=>{p.panelIndex<Ee()&&(p.panelIndex=Te())},M=()=>(0,i.nextTick)().then(()=>{const{placement:t}=e,{panelIndex:n}=p,r=h.value,o=g.value,a=k.value;if(o&&r){const e=r.offsetHeight,l=r.offsetWidth,s=o.offsetHeight,c=o.offsetWidth,u=5,d={zIndex:n},{boundingTop:f,boundingLeft:h,visibleHeight:m,visibleWidth:g}=q(r);let v="bottom";if(a){let n=h,r=f+e;"top"===t?(v="top",r=f-s):t||(r+s+u>m&&(v="top",r=f-s),r<u&&(v="bottom",r=f+e)),n+c+u>g&&(n-=n+c+u-g),n<u&&(n=u),Object.assign(d,{left:`${n}px`,top:`${r}px`,minWidth:`${l}px`})}else"top"===t?(v="top",d.bottom=`${e}px`):t||f+e+s>m&&f-e-s>u&&(v="top",d.bottom=`${e}px`);return p.panelStyle=d,p.panelPlacement=v,(0,i.nextTick)()}}),I=()=>{const{hpTimeout:e}=f,t=C.value;t||(e&&(clearTimeout(e),f.hpTimeout=void 0),p.initialized||(p.initialized=!0),p.isActivated=!0,p.isAniVisible=!0,setTimeout(()=>{p.visiblePanel=!0},10),A(),M())},N=()=>{p.visiblePanel=!1,f.hpTimeout=setTimeout(()=>{p.isAniVisible=!1},350)},R=(t,r)=>{p.selectIcon=r,r!==e.modelValue&&(n("update:modelValue",r),U("change",{value:r},t),s&&c&&s.triggerItemEvent(t,c.itemConfig.field,r))},F=()=>{const e=C.value;e||p.visiblePanel||I()},_=()=>{p.isActivated=!1},P=(e,t)=>{R(e,t),U("clear",{value:t},e)},j=(e,t)=>{P(t,null),N()},L=e=>{e.preventDefault(),p.visiblePanel?N():I()},$=e=>{L(e),U("click",{},e)},z=e=>{const{visiblePanel:t}=p,n=C.value;if(!n&&t){const t=g.value;H(e,t).flag?M():N()}},V=e=>{const{visiblePanel:t}=p,n=C.value;if(!n){const n=h.value,r=g.value;p.isActivated=H(e,n).flag||H(e,r).flag,t&&!p.isActivated&&N()}},B=t=>{const{clearable:n}=e,{visiblePanel:r}=p,i=C.value;if(!i){const e=o.Nh.hasKey(t,o.un.TAB),i=o.Nh.hasKey(t,o.un.ENTER),a=o.Nh.hasKey(t,o.un.ESCAPE),l=o.Nh.hasKey(t,o.un.ARROW_UP),s=o.Nh.hasKey(t,o.un.ARROW_DOWN),c=o.Nh.hasKey(t,o.un.DELETE),u=o.Nh.hasKey(t,o.un.SPACEBAR);e&&(p.isActivated=!1),r?a||e?N():i?(t.preventDefault(),t.stopPropagation()):(l||s||u)&&t.preventDefault():(l||s||i||u)&&p.isActivated&&(t.preventDefault(),I()),p.isActivated&&c&&n&&P(t,null)}},W=()=>{const{visiblePanel:e,isActivated:t}=p;if(e&&N(),t&&(p.isActivated=!1),e||t){const e=m.value;e&&e.blur()}},U=(e,t,r)=>{n(e,(0,o.lh)(r,{$iconPicker:b},t))};x={dispatchEvent:U,isPanelVisible(){return p.visiblePanel},togglePanel(){return p.visiblePanel?N():I(),(0,i.nextTick)()},hidePanel(){return p.visiblePanel&&N(),(0,i.nextTick)()},showPanel(){return p.visiblePanel||I(),(0,i.nextTick)()},focus(){const e=m.value;return p.isActivated=!0,e&&e.blur(),(0,i.nextTick)()},blur(){const e=m.value;return e&&e.blur(),p.isActivated=!1,(0,i.nextTick)()}};const G=(e,t)=>{const n=t.icon;R(e,n),N()};Object.assign(b,x);const Y=()=>{const{showIconTitle:t}=e,n=O.value,r=C.value;return(0,i.h)("div",{class:"vxe-ico-picker--list-wrapper"},n.map(e=>(0,i.h)("div",{class:"vxe-ico-picker--list"},e.map(e=>{const{iconRender:n}=e,a=n?o.Uk.get(n.name):null,l=a?a.renderIconPickerOptionIcon:null;return(0,i.h)("div",{class:"vxe-ico-picker--item",onClick(t){r||G(t,e)}},[(0,i.h)("div",{class:"vxe-ico-picker--item-icon"},l&&n?T(l(n,{$iconPicker:b,option:e})):[(0,i.h)("i",{class:e.icon||""})]),t?(0,i.h)("div",{class:"vxe-ico-picker--item-title"},`${e.title||""}`):(0,o.C1)(b)])}))))},K=()=>{const{selectIcon:e}=p,t=D.value;if(t){const{iconRender:e}=t,n=e?o.Uk.get(e.name):null,r=n?n.renderIconPickerOptionIcon:null;if(r&&e)return(0,i.h)("div",{key:"inc",class:"vxe-ico-picker--icon"},T(r(e,{$iconPicker:b,option:t})))}return(0,i.h)("div",{key:"ind",class:"vxe-ico-picker--icon"},[(0,i.h)("i",{class:e})])},X=()=>{const{className:t,popupClassName:n,clearable:r}=e,{initialized:a,isActivated:l,isAniVisible:s,visiblePanel:c,selectIcon:u}=p,f=d.value,v=C.value,x=k.value,T=y.value,E=S.value;return T?(0,i.h)("div",{ref:h,class:["vxe-ico-picker--readonly",t]},[(0,i.h)("i",{class:u})]):(0,i.h)("div",{ref:h,class:["vxe-ico-picker",t?w().isFunction(t)?t({$iconPicker:b}):t:"",{[`size--${f}`]:f,"show--clear":r&&!v&&!!u,"is--visible":c,"is--disabled":v,"is--active":l}]},[(0,i.h)("div",{class:"vxe-ico-picker--inner",onClick:$},[(0,i.h)("input",{ref:m,class:"vxe-ico-picker--input",onFocus:F,onBlur:_}),u?K():(0,i.h)("div",{class:"vxe-ico-picker--placeholder"},E),(0,i.h)("div",{class:"vxe-ico-picker--suffix"},[(0,i.h)("div",{class:"vxe-ico-picker--clear-icon",onClick:j},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]),(0,i.h)("div",{class:"vxe-ico-picker--suffix-icon"},[(0,i.h)("i",{class:c?(0,o.sW)().ICON_PICKER_OPEN:(0,o.sW)().ICON_PICKER_CLOSE})])])]),(0,i.h)(i.Teleport,{to:"body",disabled:!x||!a},[(0,i.h)("div",{ref:g,class:["vxe-table--ignore-clear vxe-ico-picker--panel",n?w().isFunction(n)?n({$iconPicker:b}):n:"",{[`size--${f}`]:f,"is--transfer":x,"ani--leave":s,"ani--enter":c}],placement:p.panelPlacement,style:p.panelStyle},[a&&(c||s)?(0,i.h)("div",{class:"vxe-ico-picker--panel-wrapper"},[Y()]):(0,o.C1)(b)])])])};return(0,i.watch)(()=>e.modelValue,e=>{p.selectIcon=`${e||""}`}),(0,i.onMounted)(()=>{o.Nh.on(b,"mousewheel",z),o.Nh.on(b,"mousedown",V),o.Nh.on(b,"keydown",B),o.Nh.on(b,"blur",W)}),(0,i.onUnmounted)(()=>{o.Nh.off(b,"mousewheel"),o.Nh.off(b,"mousedown"),o.Nh.off(b,"keydown"),o.Nh.off(b,"blur")}),(0,i.provide)("$xeIconPicker",b),b.renderVN=X,b},render(){return this.renderVN()}});const lo=Object.assign(ao,{install:function(e){e.component(ao.name,ao)}});u.use(lo),o.OE.component(ao);const so=lo;var co=lo,uo=a({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>(0,o.zj)().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>(0,o.zj)().imagePreview.maskClosable},marginSize:{type:String,default:()=>(0,o.zj)().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>(0,o.zj)().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().imagePreview.showDownloadButton},zIndex:Number,toolbarConfig:Object,beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","rotate","close"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l={refElem:a},s=(0,i.reactive)({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),c=(0,i.computed)(()=>e.urlField||"url"),u=(0,i.computed)(()=>w().toNumber(e.marginSize||0)||16),d=(0,i.computed)(()=>Object.assign({},(0,o.zj)().imagePreview.toolbarConfig,e.toolbarConfig)),p=(0,i.computed)(()=>{const{offsetRotate:e}=s;return e?`${e}°`:"0°"}),f=(0,i.computed)(()=>{const{offsetScale:e}=s;return e?`${w().ceil(100*(1+e))}%`:"100%"}),h=(0,i.computed)(()=>{const{urlList:t}=e,n=c.value;return t&&t.length?t.map(e=>w().isString(e)?e:e[n]?e[n]:""):[]}),m=(0,i.computed)(()=>{let{offsetScale:e,offsetRotate:t,offsetLeft:n,offsetTop:r}=s;const o=[];let i=1;if(e&&(i=1+e,o.push(`scale(${i})`)),t&&o.push(`rotate(${t}deg)`),n||r){n/=i,r/=i;let e=n,a=r;if(t)switch(t%360){case 90:case-270:e=r,a=-n;break;case 180:case-180:e=-n,a=-r;break;case 270:case-90:e=-r,a=n;break}o.push(`translate(${e}px, ${a}px)`)}return o.length?o.join(" "):""}),g={computeImgList:h},v={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>l,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$imagePreview:v},t))},x={dispatchEvent:b},y=e=>{s.activeIndex=e,n("update:modelValue",e)},C=e=>{b("close",{},e)},k={},S=()=>{const e=a.value;L(e,"is--move"),Object.assign(s,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},T=()=>{const{offsetScale:e}=s;let t=.02;return e>=-.6&&(t=.04,e>=-.4&&(t=.07,e>=0&&(t=.1,e>=3&&(t=.25,e>=8&&(t=.4,e>=16&&(t=.6,e>=24&&(t=.9,e>=32&&(t=1.3,e>=39&&(t=1.9,e>=45&&(t=2.5)))))))))),t},E=e=>{const{offsetScale:t}=s,n=T();s.offsetScale=Number(e?Math.min(49,t+n).toFixed(2):Math.max(-.9,t-n).toFixed(2))},O=(e,t)=>{let n=s.activeIndex||0;const r=h.value;t?n>=r.length-1?n=0:n++:n<=0?n=r.length-1:n--;const o=r[n||0];s.activeIndex=n,S(),y(n),b("change",{url:o,activeIndex:n},e)},D=(e,t)=>{const n=h.value,{activeIndex:r}=s,o=n[r||0];let i=s.offsetRotate;t?i+=90:i-=90,s.offsetRotate=i,b("rotate",{url:o,rotateValue:i},e)},A=()=>{S(),s.offsetPct11=!0},M=()=>{const{activeIndex:e}=s,t=h.value,n=t[e||0];o.OE.print&&o.OE.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${n}" style="max-width:100%;max-height:100%;">`}]})},I=(e,t)=>{b("download",{url:t},e)},N=(e,t)=>{o.OE.saveFile&&fetch(t).then(n=>n.blob().then(n=>{o.OE.saveFile({filename:t,content:n}),I(e,t)})).catch(()=>{o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.downErr"),status:"error"})})},R=t=>{const{activeIndex:n}=s,r=d.value,i=r.download,a=w().isBoolean(i)?{}:i?Object.assign({},i):{},l=h.value,c=l[n||0],u=e.beforeDownloadMethod||a.beforeDownloadMethod||(0,o.zj)().imagePreview.beforeDownloadMethod,p=e.downloadMethod||a.downloadMethod||(0,o.zj)().imagePreview.downloadMethod;Promise.resolve(!u||u({$imagePreview:v,url:c,index:n||0})).then(e=>{e&&(p?Promise.resolve(p({$imagePreview:v,url:c,index:n||0})).then(()=>{I(t,c)}).catch(e=>e):N(t,c))})},F=(e,t)=>{const{activeIndex:n}=s,r=h.value,o=r[n||0];if(o)switch(t){case"zoomOut":E(!1);break;case"zoomIn":E(!0);break;case"pctFull":S();break;case"pct11":A();break;case"rotateLeft":D(e,!1);break;case"rotateRight":D(e,!0);break;case"print":M();break;case"download":R(e);break}},_=e=>{const t=e.deltaY;t>0?(e.preventDefault(),E(!1)):t<0&&(e.preventDefault(),E(!0))},P=e=>{const{offsetTop:t,offsetLeft:n}=s,r=a.value;e.preventDefault();const o=document.onmousemove,i=document.onmouseup,l=e.pageX,c=e.pageY,d=u.value;document.onmousemove=e=>{const{pageX:o,pageY:i}=e,{visibleHeight:a,visibleWidth:u}=B();e.preventDefault(),$(r,"is--move"),o>d&&i>d&&o<u-d&&i<a-d&&(s.offsetLeft=n+o-l,s.offsetTop=t+i-c)},document.onmouseup=()=>{document.onmousemove=o,document.onmouseup=i,L(r,"is--move")}},j=e=>{const t=z(e),n=e.shiftKey,r=o.Nh.hasKey(e,o.un.ARROW_UP),i=o.Nh.hasKey(e,o.un.ARROW_DOWN),a=o.Nh.hasKey(e,o.un.ARROW_LEFT),l=o.Nh.hasKey(e,o.un.ARROW_RIGHT),c=o.Nh.hasKey(e,o.un.R),u=o.Nh.hasKey(e,o.un.P);r?(e.preventDefault(),n?s.offsetTop-=1:E(!0)):i?(e.preventDefault(),n?s.offsetTop+=1:E(!1)):a?(e.preventDefault(),n?s.offsetLeft-=1:O(e,!1)):l?(e.preventDefault(),n?s.offsetLeft+=1:O(e,!0)):c&&t?(e.preventDefault(),D(e,!n)):u&&t&&(e.preventDefault(),M())},V=t=>{e.maskClosable&&t.target===t.currentTarget&&b("close",{},t)};Object.assign(v,x,k);const H=()=>{const{activeIndex:e}=s,t=h.value,n=m.value;return(0,i.h)("div",{class:"vxe-image-preview--img-list",onClick:V},t.map((t,r)=>{const o=e===r;return(0,i.h)("img",{class:["vxe-image-preview--img-item",{"is--active":o}],src:t,style:o?{transform:n}:null,onMousedown(e){P(e)}})}))},W=(e,t)=>{const n=d.value,r=n[e],a=w().isBoolean(r)?{}:r?Object.assign({},r):{},l=!1!==r;return l?(0,i.h)("div",{class:"vxe-image-preview--operation-btn",title:(0,o.TO)(`vxe.imagePreview.operBtn.${e}`),onClick(t){F(t,e)}},[(0,i.h)("i",{class:a.icon||(0,o.sW)()[t]})]):(0,o.C1)(v)},q=()=>{const{showPrintButton:t,showDownloadButton:n}=e,{activeIndex:r}=s,a=h.value,l=p.value,c=f.value,u=d.value;return(0,i.h)("div",{class:"vxe-image-preview--btn-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--close-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--close-btn",onClick:C},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_CLOSE})]),(0,i.h)("div",{class:"vxe-image-preview--close-bg"})]),a.length>1?(0,i.h)("div",{class:"vxe-image-preview--previous-btn",onClick(e){O(e,!1)}},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_PREVIOUS})]):(0,o.C1)(v),a.length>1?(0,i.h)("div",{class:"vxe-image-preview--next-btn",onClick(e){O(e,!0)}},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_NEXT})]):(0,o.C1)(v),(0,i.h)("div",{class:"vxe-image-preview--operation-info"},[(0,i.h)("div",{class:"vxe-image-preview--operation-deg"},l),(0,i.h)("div",{class:"vxe-image-preview--operation-pct"},c)]),(0,i.h)("div",{class:"vxe-image-preview--operation-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--operation-active-count"},[(0,i.h)("span",{class:"vxe-image-preview--operation-active-current"},`${(r||0)+1}`),(0,i.h)("span",{class:"vxe-image-preview--operation-active-total"},`/${a.length}`)]),W("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),W("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),W("pctFull","IMAGE_PREVIEW_PCT_FULL"),W("pct11","IMAGE_PREVIEW_PCT_1_1"),W("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),W("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),t||u.print?W("print","IMAGE_PREVIEW_PRINT"):(0,o.C1)(v),n||u.download?W("download","IMAGE_PREVIEW_DOWNLOAD"):(0,o.C1)(v)])])},U=()=>{const{offsetPct11:e}=s;return(0,i.h)("div",{ref:a,class:["vxe-image-preview",{"is--pct11":e}]},[H(),q()])};return(0,i.watch)(()=>e.modelValue,e=>{s.activeIndex=e,S()}),(0,i.onMounted)(()=>{const e=a.value;e&&e.addEventListener("wheel",_,{passive:!1}),o.Nh.on(v,"keydown",j)}),(0,i.onBeforeUnmount)(()=>{const e=a.value;e&&(e.removeEventListener("wheel",_),L(e,"is--move"))}),(0,i.onUnmounted)(()=>{o.Nh.off(v,"keydown")}),(0,i.provide)("$xeImagePreview",v),v.renderVN=U,U}});const po=e=>{if(o.OE.modal){const t=Object.assign({escClosable:!0},e),{urlList:n,activeIndex:r,zIndex:a}=t,{rotate:l,change:s}=t.events||{},c=w().uniqueId("image-preview");o.OE.modal.open({id:c,title:"预览",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,zIndex:a,className:"vxe-image-preview-popup-wrapper",slots:{default(){return(0,i.h)(uo,{modelValue:r,urlList:n,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,toolbarConfig:t.toolbarConfig,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){o.OE.modal.close(c)},onChange(e){s&&s.call(this,e)},onRotate(e){l&&l.call(this,e)}})}}})}return Promise.resolve()};var fo=a({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,zIndex:Number,maskClosable:{type:Boolean,default:()=>(0,o.zj)().image.maskClosable},toolbarConfig:Object,showPreview:{type:Boolean,default:()=>(0,o.zj)().image.showPreview},showPrintButton:{type:Boolean,default:()=>(0,o.zj)().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().image.showDownloadButton},size:{type:String,default:()=>(0,o.zj)().image.size||(0,o.zj)().size},getThumbnailUrlMethod:Function},emits:["click","change","rotate"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.inject)("$xeImageGroup",null),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&n?(r.maxWidth=V(t),r.maxHeight=V(n)):(t&&(r.width=V(t)),n&&(r.height=V(n))),r}),p=(0,i.computed)(()=>{const{src:t}=e;return t?(w().isArray(t)?t:[t]).map(e=>w().isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),f=(0,i.computed)(()=>{const e=p.value;return e[0]}),h=(0,i.computed)(()=>{const e=f.value;return e?`${e.url||""}`:""}),m=(0,i.computed)(()=>{const t=e.getThumbnailUrlMethod||(0,o.zj)().image.getThumbnailUrlMethod,n=h.value;return t?t({url:n,$image:v}):""}),g={computeSize:s},v={xID:r,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>g},b={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$image:v},t))}},x=t=>{const{showPreview:n,toolbarConfig:r,showPrintButton:o,showDownloadButton:i,maskClosable:l,zIndex:s}=e,c=p.value,u=h.value;a?a.handleClickImgEvent(t,{url:u}):(n&&u&&po({urlList:c,toolbarConfig:r,showPrintButton:o,showDownloadButton:i,maskClosable:l,zIndex:s,events:{change(e){v.dispatchEvent("change",e,e.$event)},rotate(e){v.dispatchEvent("rotate",e,e.$event)}}}),v.dispatchEvent("click",{url:u},t))},y={};Object.assign(v,b,y);const C=()=>{const{alt:t,loading:n,circle:r}=e,o=d.value,a=h.value,c=m.value,u=s.value;return(0,i.h)("img",{ref:l,class:["vxe-image",{[`size--${u}`]:u,"is--circle":r}],src:c||a,alt:t,loading:n,style:o,onClick:x})};return v.renderVN=C,v},render(){return this.renderVN()}});const ho=Object.assign({},fo,{install(e){e.component(fo.name,fo)}});u.use(ho),o.OE.component(fo);const mo=ho;var go=ho,vo=a({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showPreview},imageStyle:Object,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().imageGroup.size||(0,o.zj)().size},toolbarConfig:Object,showPrintButton:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showDownloadButton},getThumbnailUrlMethod:Function},emits:["click","change","rotate"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.computed)(()=>{const{urlList:t}=e;return t?(w().isArray(t)?t:[t]).map(e=>w().isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),s=(0,i.computed)(()=>Object.assign({},(0,o.zj)().imageGroup.imageStyle,e.imageStyle)),c=(0,i.computed)(()=>e.getThumbnailUrlMethod||(0,o.zj)().imageGroup.getThumbnailUrlMethod),u={computeSize:a},d={xID:r,props:e,context:t,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$imageGroup:d},t))}},f={handleClickImgEvent(t,n){const{showPreview:r,toolbarConfig:o,showPrintButton:i,showDownloadButton:a,zIndex:s}=e,{url:c}=n,u=l.value;r&&c&&po({activeIndex:Math.max(0,w().findIndexOf(u,e=>e.url===c)),urlList:u,toolbarConfig:o,showPrintButton:i,showDownloadButton:a,zIndex:s,events:{change(e){d.dispatchEvent("change",e,e.$event)},rotate(e){d.dispatchEvent("rotate",e,e.$event)}}}),d.dispatchEvent("click",{url:c,urlList:u},t)}};Object.assign(d,p,f);const h=()=>{const e=l.value,t=a.value,n=s.value,r=c.value;return(0,i.h)("div",{class:["vxe-image-group",{[`size--${t}`]:t}]},e?e.map((e,t)=>(0,i.h)(fo,{key:t,src:e.url,alt:e.alt,width:n.width,height:n.height,getThumbnailUrlMethod:r})):[])};return d.renderVN=h,(0,i.provide)("$xeImageGroup",d),d},render(){return this.renderVN()}});const bo=Object.assign({},vo,{install(e){e.component(vo.name,vo)}});u.use(bo),o.OE.component(vo);const xo=bo;var yo=bo;const wo=Object.assign(uo,{install(e){e.component(uo.name,uo)}});o.OE.previewImage=po,u.use(wo),o.OE.component(uo);const Co=wo;var ko=wo;const So=Object.assign(ln,{install(e){e.component(ln.name,ln)}});u.use(So),o.OE.component(ln);const To=So;var Eo=So,Oo=a({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>(0,o.zj)().layoutAside.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{width:t,collapsed:n,collapseWidth:r}=e;if(n){if(r)return V(r)}else if(t)return V(t);return""}),p={computeSize:s},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutAside:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{width:t,collapsed:r,loading:o,padding:a}=e,c=d.value,u=s.value,p=n.default;return(0,i.h)("aside",{ref:l,class:["vxe-layout-aside",{[`size--${u}`]:u,"is--padding":a,"is--default-width":!t,"is--collapse":r,"is--loading":o}],style:c?{width:c}:null},[(0,i.h)("div",{class:"vxe-layout-aside--inner"},p?p({}):[]),(0,i.h)(it,{class:"vxe-list-view--loading",modelValue:o})])};return(0,i.provide)("$xeLayoutAside",f),f.renderVN=v,f},render(){return this.renderVN()}});const Do=Object.assign({},Oo,{install(e){e.component(Oo.name,Oo)}});u.use(Do),o.OE.component(Oo);const Ao=Do;var Mo=Do,Io=a({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,size:{type:String,default:()=>(0,o.zj)().layoutBody.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d={computeSize:s},p={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutBody:p},t))},h={dispatchEvent:f},m={};Object.assign(p,h,m);const g=()=>{const{loading:t,padding:r}=e,o=s.value,a=n.default;return(0,i.h)("div",{ref:l,class:["vxe-layout-body",{[`size--${o}`]:o,"is--loading":t,"is--padding":r}]},[(0,i.h)("div",{class:"vxe-layout-body--inner"},a?a({}):[]),(0,i.h)(it,{class:"vxe-list-view--loading",modelValue:t})])};return p.renderVN=g,p},render(){return this.renderVN()}});const No=Object.assign({},Io,{install(e){e.component(Io.name,Io)}});u.use(No),o.OE.component(Io);const Ro=No;var Fo=No,_o=a({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>(0,o.zj)().layoutContainer.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d={computeSize:s},p={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutContainer:p},t))},h={dispatchEvent:f},m={};Object.assign(p,h,m);const g=()=>{const{vertical:t}=e,r=s.value,o=n.default;return(0,i.h)("div",{ref:l,class:["vxe-layout-container",{[`size--${r}`]:r,"is--vertical":t}]},o?o({}):[])};return p.renderVN=g,p},render(){return this.renderVN()}});const Po=Object.assign({},_o,{install(e){e.component(_o.name,_o)}});u.use(Po),o.OE.component(_o);const jo=Po;var Lo=Po,$o=a({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutFooter:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{fixed:t,align:r}=e,o=n.default;return(0,i.h)("footer",{ref:l,class:["vxe-layout-footer",r?`align--${r}`:"",{"is--fixed":t}]},o?o({}):[])};return d.renderVN=m,d},render(){return this.renderVN()}});const zo=Object.assign({},$o,{install(e){e.component($o.name,$o)}});u.use(zo),o.OE.component($o);const Vo=zo;var Bo=zo,Ho=a({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutHeader:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{fixed:t}=e,r=n.default;return(0,i.h)("header",{ref:l,class:["vxe-layout-header",{"is--fixed":t}]},r?r({}):[])};return d.renderVN=m,d},render(){return this.renderVN()}});const Wo=Object.assign({},Ho,{install(e){e.component(Ho.name,Ho)}});u.use(Wo),o.OE.component(Ho);const qo=Wo;var Uo=Wo,Go=a({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],disabled:Boolean,icon:String,routerLink:Object,underline:{type:Boolean,default:()=>(0,o.zj)().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>(0,o.zj)().link.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),{computePermissionInfo:s}=(0,o.JT)(e),c=(0,i.ref)(),u=(0,i.reactive)({}),d={refElem:c},p={},f={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$link:f},t))},m={dispatchEvent:h},g={},v=t=>{const{disabled:n}=e;n||h("click",{},t)};Object.assign(f,m,g);const b=()=>{const{icon:t,content:r}=e,a=n.default,l=n.icon,s=w().toValueString(r);return[l||t?(0,i.h)("span",{class:"vxe-link--icon"},l?T(l({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(f),a||s?(0,i.h)("span",{class:"vxe-link--content"},a?a({}):s):(0,o.C1)(f)]},x=()=>{const{status:t,target:n,href:r,title:a,underline:u,disabled:d,routerLink:p}=e,h=s.value,m=l.value;return h.visible?p&&!d?(0,i.h)((0,i.resolveComponent)("router-link"),{class:["vxe-link",{[`size--${m}`]:m,[`theme--${t}`]:t,"is--disabled":d,"is--underline":u}],title:a,target:n,to:d?null:p,onClick:v},{default(){return b()}}):(0,i.h)("a",{ref:c,class:["vxe-link",{[`size--${m}`]:m,[`theme--${t}`]:t,"is--disabled":d,"is--underline":u}],href:d?null:r,target:n,title:a,onClick:v},b()):(0,o.C1)(f)};return f.renderVN=x,f},render(){return this.renderVN()}});const Yo=Object.assign({},Go,{install(e){e.component(Go.name,Go)}});u.use(Yo),o.OE.component(Go);const Ko=Yo;var Xo=Yo;function Zo(){return{resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}}}var Jo=a({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>(0,o.zj)().list.size||(0,o.zj)().size},autoResize:{type:Boolean,default:()=>(0,o.zj)().list.autoResize},syncResize:[Boolean,String,Number],virtualYConfig:Object,scrollY:Object},emits:["scroll"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=w().browse(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}),u=Zo(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.ref)(),h={refElem:d},m={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>h},g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().list.virtualYConfig||(0,o.zj)().list.scrollY,e.virtualYConfig||e.scrollY)),v=(0,i.computed)(()=>{const{height:t,maxHeight:n}=e,{customHeight:r,customMaxHeight:o}=c,i={};return t?i.height=`${r}px`:n&&(i.height="auto",i.maxHeight=`${o}px`),i}),b=(e,t,n)=>{r(e,(0,o.lh)(n,{$list:m},t))},x=t=>{const{parentHeight:n}=c,r=e[t];let o=0;return r&&("100%"===r||"auto"===r?o=n:(o=P(r)?Math.floor((w().toInteger(r)||1)/100*n):w().toNumber(r),o=Math.max(40,o))),o},y=()=>{c.customHeight=x("height"),c.customMaxHeight=x("maxHeight")},C=()=>{const{scrollYLoad:e}=c,{scrollYStore:t,fullData:n}=u;c.bodyHeight=e?n.length*t.rowHeight:0,c.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},k=()=>{const{scrollYLoad:e}=c,{fullData:t,scrollYStore:n}=u;return c.items=e?t.slice(n.startIndex,n.endIndex):t.slice(0),(0,i.nextTick)()},S=()=>{k(),C()},T=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=c,{scrollYStore:t}=u,n=f.value,r=g.value;let o,i=0;if(n&&(r.sItem&&(o=n.querySelector(r.sItem)),o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(12,i),t.rowHeight=i,e){const e=p.value,n=Math.max(8,Math.ceil(e.clientHeight/i)),o=r.oSize?w().toNumber(r.oSize):l.edge?10:0;t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex+n+o,t.endIndex),S()}else C()}),E=()=>{const e=p.value;return e&&(e.scrollTop=0),(0,i.nextTick)()},O=(e,t)=>{const n=p.value;return e&&(w().isNumber(e)||(t=e.top,e=e.left)),w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t),c.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},D=()=>{const{lastScrollLeft:e,lastScrollTop:t}=u;return E().then(()=>{if(e||t)return u.lastScrollLeft=0,u.lastScrollTop=0,O(e,t)})},A=()=>{const e=d.value;if(e){const t=e.parentElement;if(c.parentHeight=t?t.clientHeight:0,y(),e.clientWidth&&e.clientHeight)return T()}return(0,i.nextTick)()},M=e=>{const{scrollYStore:t}=u,{startIndex:n,endIndex:r,visibleSize:o,offsetSize:i,rowHeight:a}=t,l=e.target,s=l.scrollTop,c=Math.floor(s/a),d=Math.max(0,c-1-i),p=c+o+i;(c<=n||c>=r-o-1)&&(n===d&&r===p||(t.startIndex=d,t.endIndex=p,S()))},I=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==u.lastScrollLeft,i=n!==u.lastScrollTop;u.lastScrollTop=n,u.lastScrollLeft=r,c.scrollYLoad&&M(e),b("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},N=e=>{const{scrollYStore:t}=u,n=g.value,r=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),u.fullData=r,c.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=r.length),k(),T().then(()=>{D()})},R={dispatchEvent:b,loadData:N,reloadData(e){return E(),N(e)},recalculate:A,scrollTo:O,refreshScroll:D,clearScroll:E};Object.assign(m,R);const F=()=>{const{className:t,loading:r}=e,{bodyHeight:o,topSpaceHeight:a,items:l}=c,u=n.default,h=s.value,g=v.value;return(0,i.h)("div",{ref:d,class:["vxe-list",t?w().isFunction(t)?t({$list:m}):t:"",{[`size--${h}`]:h,"is--loading":r}]},[(0,i.h)("div",{ref:p,class:"vxe-list--virtual-wrapper",style:g,onScroll:I},[(0,i.h)("div",{class:"vxe-list--y-space",style:{height:o?`${o}px`:""}}),(0,i.h)("div",{ref:f,class:"vxe-list--body",style:{marginTop:a?`${a}px`:""}},u?u({items:l,$list:m}):[])]),(0,i.h)(it,{class:"vxe-list--loading",modelValue:r})])},_=(0,i.ref)(0);return(0,i.watch)(()=>e.data?e.data.length:-1,()=>{_.value++}),(0,i.watch)(()=>e.data,()=>{_.value++}),(0,i.watch)(_,()=>{N(e.data||[])}),(0,i.watch)(()=>e.height,()=>{A()}),(0,i.watch)(()=>e.maxHeight,()=>{A()}),(0,i.watch)(()=>e.syncResize,e=>{e&&(A(),(0,i.nextTick)(()=>setTimeout(()=>A())))}),(0,i.onActivated)(()=>{A().then(()=>D())}),(0,i.nextTick)(()=>{N(e.data||[])}),(0,i.onMounted)(()=>{if(A(),e.autoResize){const e=d.value,t=o.yD.create(()=>A());t.observe(e),e&&t.observe(e.parentElement),u.resizeObserver=t}o.Nh.on(m,"resize",A)}),(0,i.onUnmounted)(()=>{const{resizeObserver:e}=u;e&&e.disconnect(),o.Nh.off(m,"resize"),w().assign(u,Zo())}),m.renderVN=F,m},render(){return this.renderVN()}});const Qo=Object.assign(Jo,{install(e){e.component(Jo.name,Jo)}});u.use(Qo),o.OE.component(Jo);const ei=Qo;var ti=Qo,ni=a({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,accordion:{type:Boolean,default:()=>(0,o.zj)().menu.accordion},collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>(0,o.zj)().menu.size||(0,o.zj)().size}},emits:["update:modelValue","click"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeLayoutAside",null),s=(0,i.ref)(),c=(0,i.ref)(),{computeSize:u}=(0,o.XX)(e),d=(0,i.reactive)({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),p={refElem:s},f=(0,i.computed)(()=>{const{collapsed:t}=e;return w().isBoolean(t)?t:!!l&&!!l.props.collapsed}),h=(0,i.computed)(()=>{let e="";return l&&(e=l.props.collapseWidth||""),e}),m=(0,i.computed)(()=>{let e="";return l&&(e=l.props.width||""),e}),g={computeSize:u},v={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>g},b=e=>`${e.title||e.name}`,x=()=>{d.collapseZindex<Ee()&&(d.collapseZindex=Te())},y=e=>{const{activeName:t}=d;w().eachTree(d.menuList,(n,r,o,i,a,l)=>{n.itemKey===t?(l.forEach(t=>{t.isActive=!0,e&&(t.isExpand=!0)}),n.isExactActive=!0):(n.isExactActive=!1,n.isActive=!1)},{children:"childList"})},C=()=>{const{options:t,expandAll:n}=e;d.menuList=w().mapTree(t,(e,t,r,o,i)=>{const a=Object.assign(Object.assign({},e),{parentKey:i?i.name||o.slice(0,o.length-1).join(","):"",level:o.length,itemKey:e.name||o.join(","),isExactActive:!1,isActive:!1,isExpand:w().isBoolean(e.expanded)?e.expanded:!!n,hasChild:e.children&&e.children.length>0});return a},{children:"children",mapChildren:"childList"})},k=()=>{const{collapseFixed:t}=e;t&&(0,i.nextTick)(()=>{const{isEnterCollapse:e}=d,t=f.value,n=m.value,r=h.value,o=s.value;if(o){const i=o.getBoundingClientRect(),a=o.parentNode;d.collapseStyle=t?{top:V(i.top),left:V(i.left),height:V(a.clientHeight),width:e?n?V(n):"":r?V(r):"",zIndex:d.collapseZindex}:{}}})},S=()=>{const{collapseFixed:t}=e;if(t){const{initialized:e}=d,t=f.value;t&&(e||(d.initialized=!0,(0,i.nextTick)(()=>{const e=c.value;e&&document.body.appendChild(e)}))),d.isEnterCollapse=!1,x(),k()}},E=(t,n,r)=>{const{accordion:o}=e,{hasChild:i,isExpand:a}=n;i&&(t.stopPropagation(),t.preventDefault(),o&&r.forEach(e=>{e!==n&&(e.isExpand=!1)}),n.isExpand=!a)},O=e=>{d.activeName=e,n("update:modelValue",e)},D=(e,t,n)=>{const{itemKey:r,routerLink:o,hasChild:i}=t;o?(O(r),I()):i?E(e,t,n):(O(r),I()),R("click",{menu:t},e)},A=()=>{const{collapseStyle:e}=d,t=m.value;d.collapseStyle=Object.assign({},e,{width:t?V(t):""}),d.isEnterCollapse=!0},M=()=>{const{isEnterCollapse:e}=d;e||A()},I=()=>{const{collapseStyle:e}=d,t=s.value;d.collapseStyle=Object.assign({},e,{width:t?V(t.offsetWidth):""}),d.isEnterCollapse=!1},N=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],R=(e,t,r)=>{n(e,(0,o.lh)(r,{$menu:v},t))},F={dispatchEvent:R},_={};Object.assign(v,F,_);const P=(e,t)=>{const{icon:n,isExpand:a,hasChild:l}=e,s=e.slots||{},c=s.default||r.option,u=s.title||r.optionTitle||r["option-title"],d=s.icon||r.optionIcon||r["option-icon"],p=b(e),h=f.value,m={option:e,collapsed:h};return[c?(0,o.C1)(v):(0,i.h)("div",{class:"vxe-menu--item-link-icon"},d?N(d,m):n?[(0,i.h)("i",{class:n})]:[]),c?(0,i.h)("div",{class:"vxe-menu--item-custom-title"},N(c,m)):(0,i.h)("div",{class:"vxe-menu--item-link-title",title:p},u?N(u,m):p),l?(0,i.h)("div",{class:"vxe-menu--item-link-collapse",onClick(n){E(n,e,t)}},[(0,i.h)("i",{class:a?(0,o.sW)().MENU_ITEM_EXPAND_OPEN:(0,o.sW)().MENU_ITEM_EXPAND_CLOSE})]):(0,o.C1)(v)]},j=(e,t)=>{const{itemKey:n,level:r,hasChild:a,isActive:l,isExactActive:s,isExpand:c,routerLink:u,childList:p}=e,{isEnterCollapse:h}=d,m=f.value;return e.permissionCode&&!o.EK.checkVisible(e.permissionCode)?(0,o.C1)(v):(0,i.h)("div",{key:n,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${r}`,{"is--exact-active":s,"is--active":l,"is--expand":(!m||h)&&c}]},[u?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-menu--item-link",to:u,onClick(n){D(n,e,t)}},{default:()=>P(e,t)}):(0,i.h)("div",{class:"vxe-menu--item-link",onClick(n){D(n,e,t)}},P(e,t)),a?(0,i.h)("div",{class:"vxe-menu--item-group"},p.map(e=>j(e,p))):(0,o.C1)(v)])},L=(e,t)=>{const{itemKey:n,level:r,hasChild:a,isActive:l,isExactActive:s,routerLink:c,childList:u}=e;return e.permissionCode&&!o.EK.checkVisible(e.permissionCode)?(0,o.C1)(v):(0,i.h)("div",{key:n,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${r}`,{"is--exact-active":s,"is--active":l}]},[c?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-menu--item-link",to:c,onClick(n){D(n,e,t)}},{default:()=>P(e,t)}):(0,i.h)("div",{class:"vxe-menu--item-link",onClick(n){D(n,e,t)}},P(e,t)),a?(0,i.h)("div",{class:"vxe-menu--item-group"},u.map(e=>j(e,u))):(0,o.C1)(v)])},$=()=>{const{loading:t,collapseFixed:n}=e,{initialized:r,menuList:a,collapseStyle:l,isEnterCollapse:p}=d,h=u.value,m=f.value;let g={};return n&&(g={onMouseenter:A,onMouseover:M,onMouseleave:I}),(0,i.h)("div",{ref:s,class:["vxe-menu",{[`size--${h}`]:h,"is--collapsed":m,"is--loading":t}]},[(0,i.h)("div",{class:"vxe-menu--item-list"},a.map(e=>m?L(e,a):j(e,a))),r?(0,i.h)("div",Object.assign({ref:c,class:["vxe-menu--collapse-wrapper",{[`size--${h}`]:h,"is--collapsed":m,"is--enter":p,"is--loading":t}],style:l},g),[m?(0,i.h)("div",{class:"vxe-menu--item-list"},a.map(e=>j(e,a))):(0,o.C1)(v)]):(0,o.C1)(v),(0,i.h)(it,{class:"vxe-list-view--loading",modelValue:t})])},z=(0,i.ref)(0);return(0,i.watch)(()=>e.options?e.options.length:-1,()=>{z.value++}),(0,i.watch)(()=>e.options,()=>{z.value++}),(0,i.watch)(z,()=>{C(),y(!0)}),(0,i.watch)(()=>e.modelValue,e=>{d.activeName=e}),(0,i.watch)(()=>d.activeName,()=>{y(!0)}),(0,i.watch)(f,()=>{S()}),(0,i.onMounted)(()=>{o.Nh.on(v,"resize",k),k()}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(v,"resize");const e=c.value;if(e){const t=e.parentNode;t&&t.removeChild(e)}}),C(),y(!0),v.renderVN=$,v},render(){return this.renderVN()}});const ri=Object.assign({},ni,{install(e){e.component(ni.name,ni)}});u.use(ri),o.OE.component(ni);const oi=ri;var ii=ri;const ai=[],li=[],si=[],ci="data-vxe-lock-scroll",ui="--vxe-ui-modal-lock-scroll-view-width";var di=a({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>(0,o.zj)().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>(0,o.zj)().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>(0,o.zj)().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>(0,o.zj)().modal.confirmButtonText},lockView:{type:Boolean,default:()=>(0,o.zj)().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>(0,o.zj)().modal.mask},maskClosable:{type:Boolean,default:()=>(0,o.zj)().modal.maskClosable},escClosable:{type:Boolean,default:()=>(0,o.zj)().modal.escClosable},cancelClosable:{type:Boolean,default:()=>(0,o.zj)().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>(0,o.zj)().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>(0,o.zj)().modal.showHeader},showFooter:{type:Boolean,default:()=>(0,o.zj)().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>Ne((0,o.zj)().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>Ne((0,o.zj)().modal.showMinimize)},showClose:{type:Boolean,default:()=>(0,o.zj)().modal.showClose},dblclickZoom:{type:Boolean,default:()=>(0,o.zj)().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>(0,o.zj)().modal.minWidth},minHeight:{type:[Number,String],default:()=>(0,o.zj)().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>(0,o.zj)().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>(0,o.zj)().modal.draggable},remember:{type:Boolean,default:()=>(0,o.zj)().modal.remember},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>(0,o.zj)().modal.transfer},storage:{type:Boolean,default:()=>(0,o.zj)().modal.storage},storageKey:{type:String,default:()=>(0,o.zj)().modal.storageKey},padding:{type:Boolean,default:()=>(0,o.zj)().modal.padding},size:{type:String,default:()=>(0,o.zj)().modal.size||(0,o.zj)().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>(0,o.zj)().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),m={msgTimeout:void 0},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C={refElem:g},k=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().modal.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),S=(0,i.computed)(()=>"message"===e.type||"notification"===e.type),E=(0,i.computed)(()=>"minimize"===p.zoomStatus),O=(0,i.computed)(()=>"maximize"===p.zoomStatus),D=(0,i.computed)(()=>Object.assign({},(0,o.zj)().modal.zoomConfig,e.zoomConfig)),A={computeSize:d,computeZoomOpts:D},M={xID:a,props:e,context:t,reactData:p,internalData:m,getRefMaps:()=>C,getComputeMaps:()=>A};let I={};const N=()=>{const e=v.value;return e},R=()=>{const{width:t,height:n}=e,r=N();return r&&(r.style.width=t?V(t):"",r.style.height=n?V(n):""),(0,i.nextTick)()},F=()=>{const{zIndex:t}=e,{modalZindex:n}=p;if(t)p.modalZindex=t;else{const e=S.value;e?n<De()&&(p.modalZindex=Oe()):n<Ee()&&(p.modalZindex=Te())}},_=()=>(0,i.nextTick)().then(()=>{const{position:t}=e,n=w().toNumber(e.marginSize),r=N();if(!r)return;const o=document.documentElement.clientWidth||document.body.clientWidth,i=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:l,left:s}=w().isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===l,u=a||"center"===s;let d="",p="";p=s&&!u?isNaN(s)?s:`${s}px`:`${Math.max(n,o/2-r.offsetWidth/2)}px`,d=l&&!c?isNaN(l)?l:`${l}px`:`${Math.max(n,i/2-r.offsetHeight/2)}px`,r.style.top=d,r.style.left=p}),P=()=>{(0,i.nextTick)(()=>{const{type:t}=e,n="notification"===t?si:li;let r=0;n.forEach(e=>{const t=e.getBox();t&&(r+=w().toNumber(e.props.top),e.reactData.modalTop=r,r+=t.clientHeight)})})},j=()=>{const{type:t}=e,n="notification"===t?si:li;n.indexOf(M)>-1&&w().remove(n,e=>e===M),P()},L=t=>{const{remember:n}=e,{visible:r}=p,a=S.value,l=e.beforeHideMethod||(0,o.zj)().modal.beforeHideMethod,s={type:t};return r&&Promise.resolve(l?l(s):null).then(e=>{w().isError(e)||(a&&j(),p.contentVisible=!1,n||se(),w().remove(ai,e=>e===M),ve("before-hide",s,null),setTimeout(()=>{p.visible=!1,be(!1),ve("hide",s,null)},200),Q())}).catch(e=>e),(0,i.nextTick)()},$=e=>{const t="close";ve(t,{type:t},e),L(t)},z=t=>{const{confirmClosable:n}=e,r="confirm";ve(r,{type:r},t),n&&L(r)},W=t=>{const{cancelClosable:n}=e,r="cancel";ve(r,{type:r},t),n&&L(r)},q=e=>{const t=(0,o.zj)().version,n=w().toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},U=()=>{const{id:t,storage:n,storageKey:r}=e;return!!(t&&n&&q(r)[t])},G=()=>{const{id:t,storage:n,storageKey:r}=e;if(t&&n){const e=q(r)[t];if(e){const t=N(),[n,r,o,i,a,l,s,c]=e.split(",");t&&(n&&(t.style.left=`${n}px`),r&&(t.style.top=`${r}px`),o&&(t.style.width=`${o}px`),i&&(t.style.height=`${i}px`)),a&&l&&(p.revertLocat={left:a,top:l,width:s,height:c})}}},Y=()=>{const{type:t}=e,n="notification"===t?si:li;-1===n.indexOf(M)&&n.push(M),P()},K=()=>{const{id:t,storage:n,storageKey:r}=e,{zoomStatus:o,revertLocat:i}=p;if(!o&&t&&n){const e=N();if(!e)return;const n=q(r);n[t]=[e.style.left,e.style.top,e.clientWidth,e.clientHeight].concat(i?[i.left,i.top,i.width,i.height]:[]).map(e=>e?w().toNumber(e):"").join(","),localStorage.setItem(r,w().toJSONString(n))}},X=()=>{const e=D.value,{minimizeLayout:t,minimizeMaxSize:n,minimizeHorizontalOffset:r,minimizeVerticalOffset:a,minimizeOffsetMethod:l}=e,s="horizontal"===t,c=p.zoomStatus,u=[],d=[];ai.forEach(e=>{if(e.xID!==M.xID&&"modal"===e.props.type&&"minimize"===e.reactData.zoomStatus){const t=e.getComputeMaps().computeZoomOpts.value;"horizontal"===t.minimizeLayout?u.push(e):d.push(e)}});const f=s?u:d;return n&&f.length>=n?(o.OE.modal&&o.OE.modal.message({status:"error",content:(0,o.TO)("vxe.modal.miniMaxSize",[n])}),Promise.resolve({status:!1})):(p.prevZoomStatus=c,p.zoomStatus="minimize",(0,i.nextTick)().then(()=>{const e=N();if(!e)return{status:!1};const t=b.value;if(!t)return{status:!1};const{visibleHeight:n}=B();c||(p.revertLocat={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth+(e.style.width?0:1),height:e.offsetHeight+(e.style.height?0:1)});const o=w()[s?"max":"min"](f,e=>{const t=e.getBox();return t?w().toNumber(t.style[s?"left":"top"]):0});let i=n-t.offsetHeight-16,u=16;if(o){const e=o.getBox();if(e){const t=w().toNumber(e.style.left),n=w().toNumber(e.style.top);let o={};o=s?Object.assign({},r):Object.assign({},a),u=t+w().toNumber(o.left),i=n+w().toNumber(o.top),l&&(o=l({$modal:M,left:u,top:i}),u=w().toNumber(o.left),i=w().toNumber(o.top))}}return Object.assign(e.style,{top:`${i}px`,left:`${u}px`,width:"200px",height:`${t.offsetHeight}px`}),K(),{status:!0}}))},Z=()=>{const t=p.zoomStatus;return p.prevZoomStatus=t,p.zoomStatus="maximize",(0,i.nextTick)().then(()=>{const n=N();if(n){if(!t){const t=w().toNumber(e.marginSize),r=document.documentElement.clientWidth||document.body.clientWidth,o=document.documentElement.clientHeight||document.body.clientHeight;p.revertLocat={top:Math.max(t,o/2-n.offsetHeight/2),left:Math.max(t,r/2-n.offsetWidth/2),width:n.offsetWidth+(n.style.width?0:1),height:n.offsetHeight+(n.style.height?0:1)}}Object.assign(n.style,{top:"0",left:"0",width:"100%",height:"100%"})}return K(),{status:!0}})},J=()=>{const{duration:t}=e;-1!==t&&(m.msgTimeout=setTimeout(()=>L("close"),w().toNumber(t)))},Q=()=>{const e=document.documentElement,t=e.getAttribute(ci);if(t){const n=t.split(",").filter(e=>e!==a);n.length?e.setAttribute(ci,n.join(",")):(e.removeAttribute(ci),e.style.removeProperty(ui))}},ee=()=>{const{lockScroll:t}=e,n=S.value;if(t&&!n){const e=document.documentElement,t=document.body.clientWidth,n=e.getAttribute(ci),r=n?n.split(","):[];r.includes(a)||(r.push(a),e.setAttribute(ci,r.join(","))),e.style.setProperty(ui,`${t}px`)}},te=()=>{const{remember:t,showFooter:n}=e,{initialized:r,visible:o}=p,a=S.value;return r||(p.initialized=!0),o||(ee(),p.visible=!0,p.contentVisible=!1,F(),ai.push(M),setTimeout(()=>{p.contentVisible=!0,(0,i.nextTick)(()=>{if(n){const e=x.value,t=y.value,n=e||t;n&&n.focus()}const e="",t={type:e};be(!0),ve("show",t,null)})},10),a?(Y(),J()):(0,i.nextTick)(()=>{const{fullscreen:n}=e,{firstOpen:r}=p;r?(p.firstOpen=!1,U()?G():n?(0,i.nextTick)(()=>Z()):(R(),_().then(()=>{setTimeout(()=>_(),20)}))):t||(R(),_().then(()=>{setTimeout(()=>_(),20)}))})),(0,i.nextTick)()},ne=t=>{const n=g.value;if(e.maskClosable&&t.target===n){const e="mask";L(e)}},re=()=>{const{msgTimeout:e}=m;if(!e)return;const t=S.value;t&&(clearTimeout(e),m.msgTimeout=void 0)},oe=()=>{const{msgTimeout:e}=m;if(!e){const e=S.value;e&&J()}},ie=e=>{const t=o.Nh.hasKey(e,o.un.ESCAPE);if(t){const t=w().max(ai,e=>e.reactData.modalZindex);t&&setTimeout(()=>{if(t===M&&t.props.escClosable){const t="exit";ve("close",{type:t},e),L(t)}},10)}},ae=()=>"minimize"===p.zoomStatus,le=()=>"maximize"===p.zoomStatus,se=()=>(p.prevZoomStatus=p.zoomStatus,p.zoomStatus="",(0,i.nextTick)().then(()=>{const{revertLocat:e}=p;if(e){const t=N();return p.revertLocat=null,t&&Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),K(),(0,i.nextTick)().then(()=>({status:!0}))}return{status:!1}})),ce=e=>{const{zoomStatus:t}=p;return new Promise(n=>{if(e)return"maximize"===e?void n(Z()):"minimize"===e?void n(X()):void n(se());n(t?se():Z())}).then(()=>p.zoomStatus||"revert")},ue=e=>{const{zoomStatus:t,prevZoomStatus:n}=p;return ce("minimize"===t?n||"revert":"minimize").then(t=>{const n={type:t};ve("zoom",n,e)})},de=e=>ce().then(t=>{const n={type:t};ve("zoom",n,e)}),pe=()=>{const e=S.value;if(!e){const e=N();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},fe=(e,t)=>{const n=S.value;if(!n){const n=N();n&&(w().isNumber(e)&&(n.style.top=`${e}px`),w().isNumber(t)&&(n.style.left=`${t}px`))}return(0,i.nextTick)()},he=()=>{const{modalZindex:e}=p;ai.some(t=>t.reactData.visible&&t.reactData.modalZindex>e)&&F()},me=t=>{const{storage:n}=e,{zoomStatus:r}=p,o=w().toNumber(e.marginSize),a=N();if(a&&"maximize"!==r&&0===t.button&&!H(t,a,"trigger--btn").flag){t.preventDefault();const e=t.clientX-a.offsetLeft,r=t.clientY-a.offsetTop,{visibleHeight:l,visibleWidth:s}=B();document.onmousemove=t=>{t.preventDefault();const n=a.offsetWidth,i=a.offsetHeight,c=o,u=s-n-o-1,d=o,f=l-i-o-1;let h=t.clientX-e,m=t.clientY-r;h>u&&(h=u),h<c&&(h=c),m>f&&(m=f),m<d&&(m=d),a.style.left=`${h}px`,a.style.top=`${m}px`,a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",ve("move",{type:"move"},t),p.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,n&&(0,i.nextTick)(()=>{K()}),p.resizeFlag++,setTimeout(()=>{a.className=a.className.replace(/\s?is--drag/,"")},50)}}},ge=t=>{t.preventDefault();const{storage:n}=e,{visibleHeight:r,visibleWidth:o}=B(),i=w().toNumber(e.marginSize),a=t.target,l=a.getAttribute("type"),s=w().toNumber(e.minWidth),c=w().toNumber(e.minHeight),u=o,d=r,f=N(),h=f.clientWidth,m=f.clientHeight,g=t.clientX,v=t.clientY,b=f.offsetTop,x=f.offsetLeft,y={type:"resize"};document.onmousemove=e=>{let t,a,p,w;switch(e.preventDefault(),l){case"wl":t=g-e.clientX,p=t+h,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px");break;case"swst":t=g-e.clientX,a=v-e.clientY,p=t+h,w=a+m,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px"),b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"swlb":t=g-e.clientX,a=e.clientY-v,p=t+h,w=a+m,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px"),b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break;case"st":a=v-e.clientY,w=m+a,b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"wr":t=e.clientX-g,p=t+h,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`);break;case"sest":t=e.clientX-g,a=v-e.clientY,p=t+h,w=a+m,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`),b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"selb":t=e.clientX-g,a=e.clientY-v,p=t+h,w=a+m,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`),b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break;case"sb":a=e.clientY-v,w=a+m,b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break}f.className=f.className.replace(/\s?is--drag/,"")+" is--drag",n&&K(),ve("resize",y,e)},document.onmouseup=()=>{p.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{f.className=f.className.replace(/\s?is--drag/,"")},50)}},ve=(e,t,n)=>{r(e,(0,o.lh)(n,{$modal:M},t))},be=e=>{r("update:modelValue",e)};I={dispatchEvent:ve,open:te,close(){return L("close")},getBox:N,getPosition:pe,setPosition:fe,isMinimized:ae,isMaximized:le,zoom(){return ce()},minimize(){return p.visible?X():Promise.resolve({status:!1})},maximize(){return p.visible?Z():Promise.resolve({status:!1})},revert(){return p.visible?se():Promise.resolve({status:!1})}},Object.assign(M,I);const xe=()=>{const{slots:t={},showClose:r,showZoom:a,showMaximize:l,showMinimize:s,title:c}=e,{zoomStatus:u}=p,d=n.title||t.title,f=n.corner||t.corner,h=E.value,m=O.value;return[(0,i.h)("div",{class:"vxe-modal--header-title"},d?T(d({$modal:M,minimized:h,maximized:m})):c?Me(c):(0,o.TO)("vxe.alert.title")),(0,i.h)("div",{class:"vxe-modal--header-right"},[f&&!h?(0,i.h)("div",{class:"vxe-modal--corner-wrapper"},T(f({$modal:M}))):(0,o.C1)(M),(w().isBoolean(s)?s:a)?(0,i.h)("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.zoom"+("minimize"===u?"Out":"Min")),onClick:ue},[(0,i.h)("i",{class:"minimize"===u?(0,o.sW)().MODAL_ZOOM_REVERT:(0,o.sW)().MODAL_ZOOM_MIN})]):(0,o.C1)(M),(w().isBoolean(l)?l:a)&&"minimize"!==u?(0,i.h)("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.zoom"+("maximize"===u?"Out":"In")),onClick:de},[(0,i.h)("i",{class:"maximize"===u?(0,o.sW)().MODAL_ZOOM_OUT:(0,o.sW)().MODAL_ZOOM_IN})]):(0,o.C1)(M),r?(0,i.h)("div",{class:["vxe-modal--close-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.close"),onClick:$},[(0,i.h)("i",{class:(0,o.sW)().MODAL_CLOSE})]):(0,o.C1)(M)])]},ye=()=>{const{slots:t={},showZoom:r,showMaximize:a,draggable:l}=e,s=n.header||t.header;if(e.showHeader){const t={};return l&&(t.onMousedown=me),(w().isBoolean(a)?a:r)&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=de),(0,i.h)("div",Object.assign({ref:b,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},t),s?T(s({$modal:M})):xe())}return(0,o.C1)(M)},we=()=>{const{slots:t={},status:r,message:a,iconStatus:l}=e,s=e.content||a,c=S.value,u=n.default||t.default,d=n.left||t.left,p=n.right||t.right,f=[];return c||!r&&!l||f.push((0,i.h)("div",{class:"vxe-modal--status-wrapper"},[(0,i.h)("i",{class:["vxe-modal--status-icon",l||(0,o.sW)()[`MODAL_${r}`.toLocaleUpperCase()]]})])),f.push((0,i.h)("div",{class:"vxe-modal--content"},u?T(u({$modal:M})):Me(s))),(0,i.h)("div",{class:"vxe-modal--body"},[d?(0,i.h)("div",{class:"vxe-modal--body-left"},T(d({$modal:M}))):(0,o.C1)(M),(0,i.h)("div",{class:"vxe-modal--body-default"},f),p?(0,i.h)("div",{class:"vxe-modal--body-right"},T(p({$modal:M}))):(0,o.C1)(M),c?(0,o.C1)(M):(0,i.h)(Rn,{class:"vxe-modal--loading",modelValue:e.loading})])},Ce=()=>{const{slots:t={},showCancelButton:r,showConfirmButton:a,type:l,loading:s}=e,c=n.leftfoot||t.leftfoot,u=n.rightfoot||t.rightfoot,d=[];return(w().isBoolean(r)?r:"confirm"===l)&&d.push((0,i.h)(_e,{key:1,ref:y,content:e.cancelButtonText||(0,o.TO)("vxe.button.cancel"),onClick:W})),(w().isBoolean(a)?a:"confirm"===l||"alert"===l)&&d.push((0,i.h)(_e,{key:2,ref:x,loading:s,status:"primary",content:e.confirmButtonText||(0,o.TO)("vxe.button.confirm"),onClick:z})),(0,i.h)("div",{class:"vxe-modal--footer-wrapper"},[(0,i.h)("div",{class:"vxe-modal--footer-left"},c?T(c({$modal:M})):[]),(0,i.h)("div",{class:"vxe-modal--footer-right"},u?T(u({$modal:M})):d)])},ke=()=>{const{slots:t={}}=e,r=n.footer||t.footer;return e.showFooter?(0,i.h)("div",{class:"vxe-modal--footer"},r?T(r({$modal:M})):[Ce()]):(0,o.C1)(M)},Se=()=>{const{slots:t={},className:r,type:a,animat:l,draggable:s,iconStatus:c,position:u,loading:f,destroyOnClose:h,status:m,lockScroll:b,padding:x,lockView:y,mask:w,resize:C}=e,{initialized:O,modalTop:D,contentVisible:A,visible:I,zoomStatus:N}=p,R=n.aside||t.aside,F=d.value,_=S.value,P=E.value,j=k.value,L={};return _&&(L.onMouseover=re,L.onMouseout=oe),(0,i.h)(i.Teleport,{to:"body",disabled:!j||!O},[(0,i.h)("div",Object.assign({ref:g,class:["vxe-modal--wrapper",`type--${a}`,`zoom--${N||"revert"}`,r||"",u?`pos--${u}`:"",{[`size--${F}`]:F,[`status--${m}`]:m,"is--padding":x,"is--animat":l,"lock--scroll":b,"lock--view":y,"is--draggable":s,"is--resize":C,"is--mask":w,"is--visible":A,"is--active":I,"is--loading":f}],style:{zIndex:p.modalZindex,top:D?`${D}px`:null},onClick:ne},L),[(0,i.h)("div",{ref:v,class:"vxe-modal--box",onMousedown:he},[!_&&!R||P?(0,o.C1)(M):(0,i.h)("div",{class:"vxe-modal--aside"},R?T(R({$modal:M})):[m||c?(0,i.h)("div",{class:"vxe-modal--status-wrapper"},[(0,i.h)("i",{class:["vxe-modal--status-icon",c||(0,o.sW)()[`MODAL_${m}`.toLocaleUpperCase()]]})]):(0,o.C1)(M)]),(0,i.h)("div",{class:"vxe-modal--container"},!p.initialized||h&&!p.visible?[]:[ye(),we(),ke(),!_&&C?(0,i.h)("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(e=>(0,i.h)("span",{class:`${e}-resize`,type:e,onMousedown:ge}))):(0,o.C1)(M)])])])])};return M.renderVN=Se,(0,i.watch)(()=>e.width,R),(0,i.watch)(()=>e.height,R),(0,i.watch)(()=>e.modelValue,e=>{e?te():L("model")}),(0,i.onMounted)(()=>{"modal"===e.type&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||n.footer)&&f("vxe.modal.footPropErr"),(0,i.nextTick)(()=>{e.storage&&!e.id&&h("vxe.error.reqProp",["[modal] id"]),e.modelValue&&te(),R()}),e.escClosable&&o.Nh.on(M,"keydown",ie)}),(0,i.onUnmounted)(()=>{o.Nh.off(M,"keydown"),j(),Q()}),(0,i.provide)("$xeModal",M),M},render(){return this.renderVN()}});function pi(e){return d(),new Promise(t=>{const n=Object.assign({},e);if(n.id&&ai.some(e=>e.props.id===n.id))t("exist");else{const e=n.onHide,r=Object.assign(n,{key:w().uniqueId(),modelValue:!0,onHide(n){const o=s.modals;e&&e(n),s.modals=o.filter(e=>e.key!==r.key),t(n.type)}});s.modals.push(r)}})}function fi(e){return w().find(ai,t=>t.props.id===e)}function hi(e){const t=e?[fi(e)]:ai,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)}function mi(e,t,n,r){let o;return o=w().isObject(t)?t:{content:w().toValueString(t),title:n},pi(Object.assign(Object.assign(Object.assign({},e),r),o))}function gi(e){return mi({type:"modal"},e)}function vi(e,t,n){return mi({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)}function bi(e,t,n){return mi({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)}function xi(e,t){return mi({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function yi(e,t,n){return mi({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,n)}const wi={get:fi,close:hi,open:gi,alert:vi,confirm:bi,message:xi,notification:yi},Ci=Object.assign(di,{install:function(e){e.component(di.name,di)}});o.OE.modal=wi,u.use(Ci),o.OE.component(di);const ki=Ci;var Si=Ci,Ti=a({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>(0,o.zj)().noticeBar.direction},speed:{type:String,default:()=>(0,o.zj)().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>(0,o.zj)().noticeBar.size||(0,o.zj)().size}},emits:["start","end"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeTabs",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.reactive)({animationStatus:!1,animationDuration:0}),p={refElem:c},f=(0,i.computed)(()=>{const{content:t}=e;return`${t||""}`}),h=(0,i.computed)(()=>a?a.reactData.resizeFlag:null),m={},g={xID:l,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>m},v=(e,t,n)=>{r(e,(0,o.lh)(n,{$noticeBar:g},t))},b={dispatchEvent:v},x={},y=()=>{const{speed:t}=e,n=u.value;if(n){let e=46;"fast"===t?e=118:"slow"===t&&(e=18),d.animationDuration=Math.ceil(n.scrollWidth/e)}},C=e=>{d.animationStatus=!0,v("start",{status:!0},e)},k=e=>{d.animationStatus=!1,v("end",{status:!1},e)};Object.assign(g,b,x);const S=()=>{const{vertical:t,duration:r,direction:a,loop:l}=e,{animationDuration:p,animationStatus:h}=d,m=s.value,v=f.value,b=n.default,x=n.prefix,y=n.suffix;return(0,i.h)("div",{ref:c,class:["vxe-notice-bar","is--"+(t?"vertical":"horizontal"),`dir--${a||"left"}`,{[`size--${m}`]:m,"is--loop":l}]},[x?(0,i.h)("div",{class:"vxe-notice-bar--prefix"},x({})):(0,o.C1)(g),(0,i.h)("div",{class:"vxe-notice-bar--content"},[(0,i.h)("div",{ref:u,class:"vxe-notice-bar--inner"},[(0,i.h)("div",{class:["vxe-notice-bar--wrapper","is--"+(h?"progress":"end")],style:{animationDuration:r?V(r,"s"):`${p}s`},onAnimationstart:C,onAnimationend:k},b?b({}):v)])]),y?(0,i.h)("div",{class:"vxe-notice-bar--suffix"},y({})):(0,o.C1)(g)])};return(0,i.watch)(h,()=>{y()}),(0,i.onMounted)(()=>{o.Nh.on(g,"resize",y),y()}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(g,"resize")}),g.renderVN=S,g},render(){return this.renderVN()}});const Ei=Object.assign({},Ti,{install(e){e.component(Ti.name,Ti)}});u.use(Ei),o.OE.component(Ti);const Oi=Ei;var Di=Ei;const Ai=Object.assign({},sn,{install(e){e.component(sn.name,sn)}});u.use(Ai),o.OE.component(sn);const Mi=Ai;var Ii=Ai;class Ni{constructor(e,t){Object.assign(this,{id:w().uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function Ri(e){return e instanceof Ni}function Fi(e,t){return Ri(t)?t:new Ni(e,t)}function _i(e,t){Object.keys(e).forEach(n=>{(0,i.watch)(()=>e[n],e=>{t.update(n,e)})})}function Pi(e,t,n,r){const{reactData:o}=e,{staticOptions:i}=o,a=t.parentNode,l=r?r.optionConfig:null,s=l?l.options:i;a&&s&&(s.splice(w().arrayIndexOf(a.children,t),0,n),o.staticOptions=i.slice(0))}function ji(e,t){const{reactData:n}=e,{staticOptions:r}=n,o=w().findTree(r,e=>e.id===t.id,{children:"options"});o&&o.items.splice(o.index,1),n.staticOptions=r.slice(0)}var Li=a({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=(0,i.ref)(),r=(0,i.inject)("$xeSelect",{}),o=Fi(r,e),a={optionConfig:o};return o.options=[],(0,i.provide)("$xeOptgroup",a),_i(e,o),(0,i.onMounted)(()=>{const e=n.value;Pi(r,e,o)}),(0,i.onUnmounted)(()=>{ji(r,o)}),()=>{const e=t.default;return(0,i.h)("div",{ref:n},e?e({}):[])}}});const $i=Object.assign(Li,{install:function(e){e.component(Li.name,Li)}});u.use($i),o.OE.component(Li);const zi=$i;var Vi=$i,Bi=a({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=(0,i.ref)(),r=(0,i.inject)("$xeSelect",{}),o=(0,i.inject)("$xeOptgroup",null),a=Fi(r,e);return a.slots=t,_i(e,a),(0,i.onMounted)(()=>{const e=n.value;Pi(r,e,a,o)}),(0,i.onUnmounted)(()=>{ji(r,a)}),()=>(0,i.h)("div",{ref:n})}});const Hi=Object.assign(Bi,{install:function(e){e.component(Bi.name,Bi)}});u.use(Hi),o.OE.component(Bi);const Wi=Hi;var qi=Hi;function Ui(e){return!1!==e.visible}function Gi(){return w().uniqueId("opt_")}function Yi(){return{synchData:[],fullData:[],afterVisibleList:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0}}var Ki=a({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>(0,o.zj)().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>(0,o.zj)().select.allowCreate},placement:String,lazyOptions:Array,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},zIndex:Number,size:{type:String,default:()=>(0,o.zj)().select.size||(0,o.zj)().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteConfig:Object,emptyText:String,showTotalButoon:{type:Boolean,default:()=>(0,o.zj)().select.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>(0,o.zj)().select.showCheckedButoon},showClearButton:{type:Boolean,default:()=>(0,o.zj)().select.showClearButton},transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,remoteMethod:Function,optionId:{type:String,default:()=>(0,o.zj)().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","all-change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),{computeSize:b}=(0,o.XX)(e),x=(0,i.reactive)({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),y=Yi(),C={refElem:p},k={xID:d,props:e,context:t,reactData:x,internalData:y,getRefMaps:()=>C},S=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),E=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),O=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().select.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),D=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().select.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseSelect")}),A=(0,i.computed)(()=>Object.assign({},e.defaultConfig)),M=(0,i.computed)(()=>Object.assign({},e.optionProps)),I=(0,i.computed)(()=>Object.assign({},e.optionGroupProps)),N=(0,i.computed)(()=>{const e=M.value;return e.label||"label"}),R=(0,i.computed)(()=>{const e=M.value;return e.value||"value"}),F=(0,i.computed)(()=>{const e=I.value;return e.label||"label"}),_=(0,i.computed)(()=>{const e=I.value;return e.options||"options"}),P=(0,i.computed)(()=>{const{modelValue:t}=e;return Y(t)}),j=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.virtualYConfig||(0,o.zj)().select.scrollY,e.virtualYConfig||e.scrollY)),L=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.remoteConfig,e.remoteConfig)),$=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.optionConfig,e.optionConfig)),z=(0,i.computed)(()=>w().toNumber(e.multiCharOverflow)),V=(0,i.computed)(()=>{const{modelValue:t,remote:n,multiple:r}=e,{reactFlag:o}=x,i=z.value;if(w().eqNull(t))return"";const a=w().isArray(t)?t:[t];return n&&o?a.map(e=>K(e)).join(", "):a.map(e=>{const t=Z(e);return r&&i>0&&t.length>i?`${t.substring(0,i)}...`:t}).join(", ")}),B=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],W=(e,t,n)=>{r(e,(0,o.lh)(n,{$select:k},t))},q=e=>{r("update:modelValue",e)},U=()=>{const t=$.value;return t.keyField||e.optionId||"_X_OPTION_KEY"},G=e=>{const t=e[U()];return t?encodeURIComponent(t):""},Y=t=>{const{multiple:n,max:r}=e;return!(!n||!r)&&(w().isArray(t)?t.length:w().eqNull(t)?0:1)>=w().toNumber(r)},K=t=>{const{lazyOptions:n}=e,{remoteValMaps:r,optFullValMaps:o}=y,i=R.value,a=N.value,l=r[t]||o[t],s=l?l.item:null;if(s)return w().toValueString(s[a]);if(n){const e=n.find(e=>e[i]===t);if(e)return e[a]}return t},Z=t=>{const{lazyOptions:n}=e,{optFullValMaps:r}=y,o=R.value,i=N.value,a=x.reactFlag?r[t]:null;if(a)return a.item[i];if(n){const e=n.find(e=>e[o]===t);if(e)return e[i]}return t},J=e=>{const t=_.value,n=R.value,r=U(),o={},i={},a=[],l=e=>{a.push(e);let t=G(e);t||(t=Gi(),e[r]=t),i[e[n]]={key:t,item:e,_index:-1}};e.forEach(e=>{l(e),e[t]&&(o[e[r]]=e,e[t].forEach(l))}),y.fullData=a,y.optGroupKeyMaps=o,y.optFullValMaps=i,x.reactFlag++,Q()},Q=()=>{const{modelValue:t,filterable:n,filterMethod:r}=e,{searchValue:o}=x,{fullData:a,optFullValMaps:l}=y,s=N.value,c=R.value,u=`${o||""}`.toLowerCase();let d=[];return d=n&&r?a.filter(e=>Ui(e)&&r({$select:k,group:null,option:e,searchValue:o,value:t})):n?a.filter(e=>Ui(e)&&(!u||`${e[s]||e[c]}`.toLowerCase().indexOf(u)>-1)):a.filter(Ui),d.forEach((e,t)=>{const n=l[e[c]];n&&(n._index=t)}),y.afterVisibleList=d,(0,i.nextTick)()},ee=e=>{e&&(x.currentOption=e)},te=()=>{const{zIndex:t}=e;t?x.panelIndex=t:x.panelIndex<Ee()&&(x.panelIndex=Te())},ne=()=>{const{placement:t}=e,{panelIndex:n}=x,r=p.value,o=g.value,a=O.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});x.panelStyle=i,x.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},re=()=>{(0,i.nextTick)(()=>{const{modelValue:t}=e,{isAniVisible:n,visiblePanel:r}=x,{optFullValMaps:o}=y,i=w().isArray(t)?t[0]:t;if(i&&n&&r){const e=x.reactFlag?o[`${i}`]:null;e&&Le(e.item)}})},oe=()=>{const{loading:t,filterable:n,remote:r}=e,{fullData:o,hpTimeout:i}=y,a=E.value,l=L.value;t||a||(i&&(clearTimeout(i),y.hpTimeout=void 0),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,n&&(r&&l.enabled&&l.autoLoad&&!o.length?De():(Q(),Pe())),setTimeout(()=>{x.visiblePanel=!0,xe(),Ve().then(()=>{re(),ze()})},10),setTimeout(()=>{Ve().then(()=>ze())},100),te(),ne(),W("visible-change",{visible:!0},null))},ie=()=>{x.searchValue="",x.searchLoading=!1,x.visiblePanel=!1,y.hpTimeout=setTimeout(()=>{x.isAniVisible=!1},350),W("visible-change",{visible:!1},null)},ae=(t,n,r)=>{q(n),n!==e.modelValue&&(W("change",{value:n,option:r},t),c&&u&&c.triggerItemEvent(t,u.itemConfig.field,n))},le=(e,t)=>{y.remoteValMaps={},ae(e,t,null),W("clear",{value:t},e)},se=e=>{const{$event:t}=e;le(t,null),ie()},ce=t=>{const{$event:n}=t,{modelValue:r,multiple:i,max:a}=e,{optList:l}=x,s=R.value;if(i){const e=w().eqNull(r)?[]:w().isArray(r)?r:[r];for(let t=0;t<l.length;t++){const n=l[t],r=n[s];if(Y(e)){o.OE&&o.OE.modal.message({content:(0,o.TO)("vxe.select.overSizeErr",[a]),status:"warning"});break}e.some(e=>e===r)||e.push(r)}ae(n,e,l[0]),W("all-change",{value:e},n)}},ue=e=>{const{$event:t}=e;le(t,null),ie()},de=(t,n)=>{const{modelValue:r,multiple:o}=e,{remoteValMaps:i}=y,a=R.value,l=n[a],s=i[l];if(x.visiblePanel){if(s?s.item=n:i[l]={key:G(n),item:n,_index:-1},o){let e=[];const o=w().eqNull(r)?[]:w().isArray(r)?r:[r],i=w().findIndexOf(o,e=>e===l);e=-1===i?o.concat([l]):o.filter(e=>e!==l),ae(t,e,n)}else ae(t,l,n),ie();x.reactFlag++}},pe=e=>{const{visiblePanel:t}=x,n=E.value;if(!n&&t){const t=g.value;H(e,t).flag?ne():ie()}},fe=e=>{const{visiblePanel:t}=x,n=E.value;if(!n){const n=p.value,r=g.value;x.isActivated=H(e,n).flag||H(e,r).flag,t&&!x.isActivated&&ie()}},he=e=>{const t=e.disabled,n=G(e);return!t&&!Ge(n)},me=(t,n)=>{const{allowCreate:r}=e,{optList:o}=x,{optFullValMaps:i,optAddMaps:a,afterVisibleList:l}=y,s=R.value;let c=l,u=0;if(r&&o.length){const e=o[0],t=G(e);a[t]&&(u=1,c=[a[t]].concat(c))}if(!t)if(n)for(let e=0;e<c.length;e++){const t=c[e];if(he(t))return t}else for(let e=c.length-1;e>=0;e--){const t=c[e];if(he(t))return t}let d=0;const p=t?i[t[s]]:null;if(p&&(d=p._index+u),d>-1)if(n)for(let e=d+1;e<=c.length-1;e++){const t=c[e];if(he(t))return t}else if(d>0)for(let e=d-1;e>=0;e--){const t=c[e];if(he(t))return t}return null},ge=t=>{const{clearable:n}=e,{visiblePanel:r,currentOption:i}=x,a=E.value;if(!a){const e=o.Nh.hasKey(t,o.un.TAB),a=o.Nh.hasKey(t,o.un.ENTER),l=o.Nh.hasKey(t,o.un.ESCAPE),s=o.Nh.hasKey(t,o.un.ARROW_UP),c=o.Nh.hasKey(t,o.un.ARROW_DOWN),u=o.Nh.hasKey(t,o.un.DELETE);if(e&&(x.isActivated=!1),r){if(l||e)ie();else if(a)i&&(t.preventDefault(),t.stopPropagation(),de(t,i));else if(s||c){t.preventDefault();let e=me(i,c);e||(e=me(null,c)),e&&(ee(e),Le(e,c))}}else(s||c||a)&&x.isActivated&&(t.preventDefault(),oe());x.isActivated&&u&&n&&le(t,null)}},ve=()=>{const{visiblePanel:e,isActivated:t}=x;if(e&&ie(),t&&(x.isActivated=!1),e||t){const e=f.value;e&&e.blur()}},be=()=>{const{visiblePanel:e}=x;e&&ne()},xe=()=>{e.filterable&&(0,i.nextTick)(()=>{const e=h.value;e&&e.focus()})},ye=e=>{const t=E.value;t||x.visiblePanel||(x.triggerFocusPanel=!0,oe(),setTimeout(()=>{x.triggerFocusPanel=!1},500)),W("focus",{},e)},we=e=>{Ie(e),W("click",{triggerButton:!1,visible:x.visiblePanel},e)},Ce=e=>{x.isActivated=!1,W("blur",{},e)},ke=e=>{Ie(e),W("click",{triggerButton:!0,visible:x.visiblePanel},e)},Se=e=>{x.searchValue=e},Oe=()=>{x.isActivated=!0},De=()=>{const{modelValue:t,remote:n,remoteMethod:r}=e,{searchValue:o}=x,a=L.value,l=a.queryMethod||r;n&&l&&a.enabled?(x.searchLoading=!0,Promise.resolve(l({$select:k,searchValue:o,value:t})).then(()=>(0,i.nextTick)()).catch(()=>(0,i.nextTick)()).finally(()=>{x.searchLoading=!1,Q(),Pe()})):(Q(),Pe())},Ae=w().debounce(De,350,{trailing:!0}),Ie=e=>{const{$event:t}=e;t.preventDefault(),x.triggerFocusPanel?x.triggerFocusPanel=!1:x.visiblePanel?ie():oe()},Ne=(e,t)=>{if(t.disabled)return!0;const n=P.value;return!(!n||e)},Re=()=>{const{scrollYLoad:e}=x,{scrollYStore:t,afterVisibleList:n}=y;x.bodyHeight=e?n.length*t.rowHeight:0,x.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},Fe=()=>{const{filterable:t,allowCreate:n}=e,{scrollYLoad:r,searchValue:o}=x,{optAddMaps:a,scrollYStore:l,afterVisibleList:s}=y,c=N.value,u=R.value,d=r?s.slice(l.startIndex,l.endIndex):s.slice(0);if(t&&n&&o&&!d.some(e=>e[c]===o)){const e=a[o]||(0,i.reactive)({[U()]:o,[c]:o,[u]:o});a[o]=e,d.unshift(e)}return x.optList=d,(0,i.nextTick)()},Pe=()=>{Fe(),Re()},je=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=x,{scrollYStore:t}=y,n=v.value,r=j.value;let o,i=0;if(n&&(o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(20,i),t.rowHeight=i,e){const e=m.value,n=Math.max(8,e?Math.ceil(e.clientHeight/i):0),o=Math.max(0,Math.min(2,w().toNumber(r.oSize)));t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+o,t.endIndex),Pe()}else Re()}),Le=(e,t)=>{const{scrollYLoad:n}=x,{optFullValMaps:r,scrollYStore:o}=y,i=R.value,a=r[e[i]];if(a){const e=a.key,r=a._index;if(r>-1){const i=m.value,a=g.value;if(!a)return;const l=a.querySelector(`[optid='${e}']`);if(i)if(l){const e=i.offsetHeight,n=1;t?l.offsetTop+l.offsetHeight-i.scrollTop>e?i.scrollTop=l.offsetTop+l.offsetHeight-e:(l.offsetTop+n<i.scrollTop||l.offsetTop+n>i.scrollTop+i.clientHeight)&&(i.scrollTop=l.offsetTop-n):l.offsetTop+n<i.scrollTop||l.offsetTop+n>i.scrollTop+i.clientHeight?i.scrollTop=l.offsetTop-n:l.offsetTop+l.offsetHeight-i.scrollTop>e&&(i.scrollTop=l.offsetTop+l.offsetHeight-e)}else n&&(i.scrollTop=t?r*o.rowHeight-i.clientHeight+o.rowHeight:r*o.rowHeight)}}},$e=(e,t)=>{const n=m.value;return n&&(w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t)),x.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},ze=()=>{const{lastScrollLeft:e,lastScrollTop:t}=y;return Ue().then(()=>{if(e||t)return y.lastScrollLeft=0,y.lastScrollTop=0,$e(e,t)})},Ve=()=>{const e=p.value;return e&&e.clientWidth&&e.clientHeight?je():Promise.resolve()},Be=e=>{const{scrollYStore:t}=y,{startIndex:n,endIndex:r,visibleSize:o,offsetSize:i,rowHeight:a}=t,l=e.target,s=l.scrollTop,c=Math.floor(s/a),u=Math.max(0,c-1-i),d=c+o+i;(c<=n||c>=r-o-1)&&(n===u&&r===d||(t.startIndex=u,t.endIndex=d,Pe()))},He=()=>{const e=250,{lastScrollTime:t}=y;return!!(t&&Date.now()<t+e)},We=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==y.lastScrollLeft,i=n!==y.lastScrollTop;y.lastScrollTop=n,y.lastScrollLeft=r,x.scrollYLoad&&Be(e),y.lastScrollTime=Date.now(),W("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},qe=t=>{J(t||[]);const{isLoaded:n,fullData:r,scrollYStore:o}=y,a=A.value,l=j.value,s=R.value;if(Object.assign(o,{startIndex:0,endIndex:1,visibleSize:0}),y.synchData=t||[],x.scrollYLoad=!!l.enabled&&l.gt>-1&&(0===l.gt||l.gt<=r.length),Fe(),!n){const{selectMode:n}=a;if(t.length>0&&w().eqNull(e.modelValue)){if("first"===n||"last"===n){const r=w()[n](t);r&&(0,i.nextTick)(()=>{w().eqNull(e.modelValue)&&q(r[s])})}y.isLoaded=!0}}return je().then(()=>{ze()})},Ue=()=>{const e=m.value;return e&&(e.scrollTop=0,e.scrollLeft=0),y.lastScrollTop=0,y.lastScrollLeft=0,(0,i.nextTick)()},Ge=e=>{const{optGroupKeyMaps:t}=y;return!!t[e]},Ye={dispatchEvent:W,loadData:qe,reloadData(e){return y.isLoaded=!1,Ue(),qe(e)},isPanelVisible(){return x.visiblePanel},togglePanel(){return x.visiblePanel?ie():oe(),(0,i.nextTick)()},hidePanel(){return x.visiblePanel&&ie(),(0,i.nextTick)()},showPanel(){return x.visiblePanel||oe(),(0,i.nextTick)()},refreshOption(){return Q(),Pe(),(0,i.nextTick)()},focus(){const e=f.value;return e&&e.blur(),x.isActivated=!0,(0,i.nextTick)()},blur(){const e=f.value;return e&&e.blur(),x.isActivated=!1,(0,i.nextTick)()},recalculate:Ve,clearScroll:Ue};Object.assign(k,Ye);const Ke=t=>{const{allowCreate:r,optionKey:a,modelValue:l}=e,{currentOption:s}=x,{optAddMaps:c}=y,u=$.value,d=N.value,p=R.value,f=F.value,{useKey:h}=u,m=n.option;return t.map((e,t)=>{const{slots:n,className:u}=e,g=G(e),v=e[p],b=Ge(g),x=!(!r||!c[g]),y=!x&&(w().isArray(l)?l.indexOf(v)>-1:l===v),C=x||!b||Ui(e),S=!x&&Ne(y,e),T=n?n.default:null,E={option:e,group:b?e:null,$select:k};let O="",D=[];return m?D=B(m,E):T?D=B(T,E):(O=Me(e[b?f:d]||v),D=O),C?(0,i.h)("div",{key:h||a?g:t,class:["vxe-select-option",u?w().isFunction(u)?u(E):u:"",{"vxe-select-optgroup":b,"is--disabled":S,"is--selected":y,"is--add":x,"is--hover":s&&G(s)===g}],optid:g,title:O||null,onMousedown:e=>{const t=0===e.button;t&&e.stopPropagation()},onClick:t=>{S||b||de(t,e)},onMouseenter:()=>{S||b||He()||ee(e)}},r?[(0,i.h)("span",{key:1,class:"vxe-select-option--label"},D),x?(0,i.h)("span",{key:2,class:"vxe-select-option--add-icon"},[(0,i.h)("i",{class:(0,o.sW)().SELECT_ADD_OPTION})]):(0,o.C1)(k)]:D):(0,o.C1)(k)})},Xe=()=>{const{optList:t,searchLoading:n}=x;return n?[(0,i.h)("div",{class:"vxe-select--search-loading"},[(0,i.h)("i",{class:["vxe-select--search-icon",(0,o.sW)().SELECT_LOADED]}),(0,i.h)("span",{class:"vxe-select--search-text"},(0,o.TO)("vxe.select.loadingText"))])]:t.length?Ke(t):[(0,i.h)("div",{class:"vxe-select--empty-placeholder"},e.emptyText||(0,o.TO)("vxe.select.emptyText"))]},Ze=()=>{const{modelValue:t,className:r,popupClassName:a,multiple:l,loading:s,filterable:c,showTotalButoon:u,showCheckedButoon:d,showClearButton:y}=e,{initialized:C,isActivated:T,isAniVisible:A,optList:M,visiblePanel:I,bodyHeight:N,topSpaceHeight:R}=x,F=b.value,_=E.value,P=V.value,j=O.value,L=S.value,$=D.value,z=n.default,H=n.header,W=n.footer,q=n.prefix;if(L)return(0,i.h)("div",{ref:p,class:["vxe-select--readonly",r]},[(0,i.h)("div",{class:"vxe-select-slots",ref:"hideOption"},z?z({}):[]),(0,i.h)("span",{class:"vxe-select-label"},P)]);const U=w().eqNull(t)?[]:w().isArray(t)?t:[t];return(0,i.h)("div",{ref:p,class:["vxe-select",r?w().isFunction(r)?r({$select:k}):r:"",{[`size--${F}`]:F,"is--visible":I,"is--disabled":_,"is--filter":c,"is--loading":s,"is--active":T}]},[(0,i.h)("div",{class:"vxe-select-slots",ref:"hideOption"},z?z({}):[]),(0,i.h)(ln,{ref:f,clearable:e.clearable,placeholder:$,readonly:!0,disabled:_,type:"text",prefixIcon:e.prefixIcon,suffixIcon:s?(0,o.sW)().SELECT_LOADED:I?(0,o.sW)().SELECT_OPEN:(0,o.sW)().SELECT_CLOSE,autoFocus:!1,title:P,modelValue:P,onClear:se,onClick:we,onFocus:ye,onBlur:Ce,onSuffixClick:ke},q?{prefix:()=>q({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!j||!C},[(0,i.h)("div",{ref:g,class:["vxe-table--ignore-clear vxe-select--panel",a?w().isFunction(a)?a({$select:k}):a:"",{[`size--${F}`]:F,"is--transfer":j,"ani--leave":!s&&A,"ani--enter":!s&&I}],placement:x.panelPlacement,style:x.panelStyle},C&&(I||A)?[(0,i.h)("div",{class:"vxe-select--panel-wrapper"},[c?(0,i.h)("div",{class:"vxe-select--panel-search"},[(0,i.h)(ln,{ref:h,class:"vxe-select-search--input",modelValue:x.searchValue,type:"text",clearable:!0,disabled:!1,readonly:!1,placeholder:(0,o.TO)("vxe.select.search"),prefixIcon:(0,o.sW)().INPUT_SEARCH,"onUpdate:modelValue":Se,onFocus:Oe,onChange:Ae,onSearch:Ae})]):(0,o.C1)(k),u||d&&l||y||H?(0,i.h)("div",{class:"vxe-select--panel-header"},H?B(H,{}):[(0,i.h)("div",{class:"vxe-select--header-button"},[u?(0,i.h)("div",{class:"vxe-select--header-total"},(0,o.TO)("vxe.select.total",[U.length,M.length])):(0,o.C1)(k),(0,i.h)("div",{class:"vxe-select--header-btns"},[d&&l?(0,i.h)(_e,{content:(0,o.TO)("vxe.select.allChecked"),mode:"text",onClick:ce}):(0,o.C1)(k),y?(0,i.h)(_e,{content:(0,o.TO)("vxe.select.clear"),mode:"text",onClick:ue}):(0,o.C1)(k)])])]):(0,o.C1)(k),(0,i.h)("div",{class:"vxe-select--panel-body"},[(0,i.h)("div",{ref:m,class:"vxe-select-option--wrapper",onScroll:We},[(0,i.h)("div",{class:"vxe-select--y-space",style:{height:N?`${N}px`:""}}),(0,i.h)("div",{ref:v,class:"vxe-select--body",style:{transform:`translateY(${R}px)`}},Xe())])]),W?(0,i.h)("div",{class:"vxe-select--panel-footer"},B(W,{})):(0,o.C1)(k)])]:[])])])};return(0,i.watch)(()=>x.staticOptions,e=>{qe(e)}),(0,i.watch)(()=>e.options,e=>{qe(e||[])}),(0,i.watch)(()=>e.optionGroups,e=>{qe(e||[])}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{const{options:t,optionGroups:n}=e;n?qe(n):t&&qe(t)}),o.Nh.on(k,"mousewheel",pe),o.Nh.on(k,"mousedown",fe),o.Nh.on(k,"keydown",ge),o.Nh.on(k,"blur",ve),o.Nh.on(k,"resize",be)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"mousewheel"),o.Nh.off(k,"mousedown"),o.Nh.off(k,"keydown"),o.Nh.off(k,"blur"),o.Nh.off(k,"resize"),w().assign(y,Yi())}),(0,i.provide)("$xeSelect",k),k.renderVN=Ze,k},render(){return this.renderVN()}}),Xi=a({name:"VxePager",props:{size:{type:String,default:()=>(0,o.zj)().pager.size||(0,o.zj)().size},layouts:{type:Array,default:()=>(0,o.zj)().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>(0,o.zj)().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>(0,o.zj)().pager.pagerCount||7},pageSizes:{type:Array,default:()=>(0,o.zj)().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>(0,o.zj)().pager.align},border:{type:Boolean,default:()=>(0,o.zj)().pager.border},background:{type:Boolean,default:()=>(0,o.zj)().pager.background},perfect:{type:Boolean,default:()=>(0,o.zj)().pager.perfect},autoHidden:{type:Boolean,default:()=>(0,o.zj)().pager.autoHidden},transfer:{type:Boolean,default:()=>(0,o.zj)().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>(0,o.zj)().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.inject)("$xeGrid",null),c=(0,i.reactive)({inpCurrPage:e.currentPage}),u=(0,i.ref)(),d={refElem:u},p=(0,i.computed)(()=>y(e.total,e.pageSize)),m=(0,i.computed)(()=>{const{pagerCount:t}=e,n=p.value,r=n>t?t-2:t,o=[];for(let e=0;e<r;e++)o.push(e);return o}),g=(0,i.computed)(()=>Math.floor((e.pagerCount-2)/2)),v=(0,i.computed)(()=>e.pageSizes.map(e=>w().isNumber(e)?{value:e,label:`${(0,o.TO)("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))),b={xID:a,props:e,context:t,getRefMaps:()=>d},x=(e,t,n)=>{r(e,(0,o.lh)(n,{$pager:b},t))},y=(e,t)=>Math.max(Math.ceil(e/t),1),C=(t,n)=>{r("update:currentPage",n),t&&n!==e.currentPage&&x("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},k=(t,n)=>{r("update:currentPage",t),n&&t!==e.currentPage&&x("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},S=e=>{const{$event:t}=e,n=t.target,r=w().toInteger(n.value),o=p.value,i=r<=0?1:r>=o?o:r,a=w().toValueString(i);n.value=a,c.inpCurrPage=a,k(i,t)},T=t=>{const{currentPage:n}=e;n>1&&k(1,t)},E=t=>{const{currentPage:n}=e,r=p.value;n<r&&k(r,t)},O=t=>{const{currentPage:n}=e,r=p.value;n>1&&k(Math.min(r,Math.max(n-1,1)),t)},D=t=>{const{currentPage:n}=e,r=p.value;n<r&&k(Math.min(r,n+1),t)},A=t=>{const n=m.value;k(Math.max(e.currentPage-n.length,1),t)},M=t=>{const n=p.value,r=m.value;k(Math.min(e.currentPage+r.length,n),t)},I=t=>{const{value:n,$event:o}=t,i=w().toNumber(n),a=y(e.total,i);let l=e.currentPage;l>a&&(l=a,r("update:currentPage",a)),r("update:pageSize",i),o&&x("page-change",{type:"size",pageSize:i,currentPage:l},o)},N=e=>{const{$event:t}=e;o.Nh.hasKey(t,o.un.ENTER)?S(e):o.Nh.hasKey(t,o.un.ARROW_UP)?(t.preventDefault(),D(t)):o.Nh.hasKey(t,o.un.ARROW_DOWN)&&(t.preventDefault(),O(t))},R=()=>{const{currentPage:t,total:r}=e,a=n.home,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-home-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--home-btn",{"is--disabled":t<=1}],type:"button",title:(0,o.TO)("vxe.pager.homePageTitle"),onClick:T},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconHomePage||(0,o.sW)().PAGER_HOME]})])},F=()=>{const{currentPage:t,total:r}=e,a=n.prevPage||n["prev-page"],l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-prev-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--prev-btn",{"is--disabled":t<=1}],type:"button",title:(0,o.TO)("vxe.pager.prevPageTitle"),onClick:O},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||(0,o.sW)().PAGER_PREV_PAGE]})])},_=t=>{const{currentPage:r,total:a}=e,l=n.prevJump||n["prev-jump"],s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump-prev"},l({$pager:b,total:a,currentPage:r,pageCount:s})):(0,i.h)(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":r<=1}],type:"button",title:(0,o.TO)("vxe.pager.prevJumpTitle"),onClick:A},[t?(0,i.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||(0,o.sW)().PAGER_JUMP_MORE]}):null,(0,i.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||(0,o.sW)().PAGER_JUMP_PREV]})])},P=t=>{const{currentPage:r,total:a}=e,l=n.nextJump||n["next-jump"],s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump-next"},l({$pager:b,total:a,currentPage:r,pageCount:s})):(0,i.h)(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":r>=s}],type:"button",title:(0,o.TO)("vxe.pager.nextJumpTitle"),onClick:M},[t?(0,i.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||(0,o.sW)().PAGER_JUMP_MORE]}):null,(0,i.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||(0,o.sW)().PAGER_JUMP_NEXT]})])},j=()=>{const{currentPage:t,total:r}=e,a=n.nextPage||n["next-page"],l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-next-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--next-btn",{"is--disabled":t>=l}],type:"button",title:(0,o.TO)("vxe.pager.nextPageTitle"),onClick:D},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconNextPage||(0,o.sW)().PAGER_NEXT_PAGE]})])},L=()=>{const{currentPage:t,total:r}=e,a=n.end,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-end-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--end-btn",{"is--disabled":t>=l}],type:"button",title:(0,o.TO)("vxe.pager.endPageTitle"),onClick:E},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconEndPage||(0,o.sW)().PAGER_END]})])},$=t=>{const{currentPage:r,total:o,pagerCount:a}=e,l=t?n.numberJump||n["number-jump"]:n.number,s=[],c=p.value,u=m.value,d=g.value,f=c>a,h=f&&r>d+1,v=f&&r<c-d,x=[];let y=1;return f&&(y=r>=c-d?Math.max(c-u.length+1,1):Math.max(r-d,1)),t&&h&&(x.push(1),s.push((0,i.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,1)},"1"),_("span"))),u.forEach((e,t)=>{const n=y+t;n<=c&&(x.push(n),s.push((0,i.h)("button",{key:n,class:["vxe-pager--num-btn",{"is--active":r===n}],type:"button",onClick:e=>C(e,n)},`${n}`)))}),t&&v&&(x.push(c),s.push(P("button"),(0,i.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,c)},c))),l?(0,i.h)("span",{class:"vxe-pager--custom-btn-wrapper"},l({$pager:b,total:o,numList:x,currentPage:r,pageCount:c})):(0,i.h)("span",{class:"vxe-pager--btn-wrapper"},s)},z=()=>$(!0),V=()=>{const{total:t,currentPage:r,pageSize:o,pageSizePlacement:a,transfer:l}=e,s=n.sizes,c=v.value,u=p.value;return s?(0,i.h)("span",{class:"vxe-pager--custom-sizes"},s({$pager:b,total:t,currentPage:r,pageCount:u,pageSize:o,options:c})):(0,i.h)(Ki,{class:"vxe-pager--sizes",modelValue:o,placement:a,transfer:l,options:c,onChange:I})},B=t=>{const{total:r}=e,{inpCurrPage:a}=c,l=t?n.fullJump||n["full-jump"]:n.jump,s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump"},l({$pager:b,total:r,currentPage:a,pageCount:s})):(0,i.h)("span",{class:"vxe-pager--jump"},[t?(0,i.h)("span",{class:"vxe-pager--goto-text"},(0,o.TO)("vxe.pager.goto")):null,(0,i.h)(sn,{class:"vxe-pager--goto",modelValue:c.inpCurrPage,placeholder:(0,o.TO)("vxe.pager.gotoTitle"),align:"center",type:"integer",max:s,min:1,controls:!1,onKeydown:N,onBlur:S,"onUpdate:modelValue"(e){c.inpCurrPage=e}}),t?(0,i.h)("span",{class:"vxe-pager--classifier-text"},(0,o.TO)("vxe.pager.pageClassifier")):null])},H=()=>B(!0),W=()=>{const{currentPage:t,total:r}=e,o=n.pageCount||n["page-count"],a=p.value;return o?(0,i.h)("span",{class:"vxe-pager--custom-count"},o({$pager:b,total:r,currentPage:t,pageCount:a})):(0,i.h)("span",{class:"vxe-pager--count"},[(0,i.h)("span",{class:"vxe-pager--separator"}),(0,i.h)("span",a)])},q=()=>{const{currentPage:t,total:r}=e,a=n.total,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-total"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("span",{class:"vxe-pager--total"},(0,o.TO)("vxe.pager.total",[r]))},U={dispatchEvent:x,setPageSize(e){return I({value:e}),(0,i.nextTick)()},setPageSizeByEvent(e,t){I({value:t,$event:e})},homePage(){return T(),(0,i.nextTick)()},homePageByEvent(e){T(e)},endPage(){return E(),(0,i.nextTick)()},endPageByEvent(e){E(e)},prevPage(){return O(),(0,i.nextTick)()},prevPageByEvent(e){O(e)},nextPage(){return D(),(0,i.nextTick)()},nextPageByEvent(e){D(e)},prevJump(){return A(),(0,i.nextTick)()},prevJumpByEvent(e){A(e)},nextJump(){return M(),(0,i.nextTick)()},nextJumpByEvent(e){M(e)},setCurrentPage(e){const t=w().toNumber(e)||1;return c.inpCurrPage=t,k(t),(0,i.nextTick)()},setCurrentPageByEvent(e,t){const n=w().toNumber(t)||1;c.inpCurrPage=n,k(n,e)},jumpPage(e){return f("vxe.error.delFunc",["[pager] jumpPage","setCurrentPage"]),b.setCurrentPage(e)}},G={handlePrevPage:O,handleNextPage:D,handlePrevJump:A,handleNextJump:M};Object.assign(b,U,G),(0,i.watch)(()=>e.currentPage,e=>{c.inpCurrPage=e});const Y=()=>{const{align:t,layouts:r,className:o}=e,a=[],c=l.value,d=p.value;return n.left&&a.push((0,i.h)("span",{class:"vxe-pager--left-wrapper"},n.left({$grid:s}))),r.forEach(e=>{let t;switch(e){case"Home":t=R;break;case"PrevJump":t=_;break;case"PrevPage":t=F;break;case"Number":t=$;break;case"JumpNumber":t=z;break;case"NextPage":t=j;break;case"NextJump":t=P;break;case"End":t=L;break;case"Sizes":t=V;break;case"FullJump":t=H;break;case"Jump":t=B;break;case"PageCount":t=W;break;case"Total":t=q;break}t?a.push(t()):h("vxe.error.notProp",[`[pager] layouts -> ${e}`])}),n.right&&a.push((0,i.h)("span",{class:"vxe-pager--right-wrapper"},n.right({$grid:s}))),(0,i.h)("div",{ref:u,class:["vxe-pager",o?w().isFunction(o)?o({$pager:b}):o:"",{[`size--${c}`]:c,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===d,"is--loading":e.loading}]},[(0,i.h)("div",{class:"vxe-pager--wrapper"},a)])};return b.renderVN=Y,b},render(){return this.renderVN()}});const Zi=Object.assign(Xi,{install:function(e){e.component(Xi.name,Xi)}});u.use(Zi),o.OE.component(Xi);const Ji=Zi;var Qi=Zi,ea=a({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>(0,o.zj)().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>(0,o.zj)().passwordInput.size||(0,o.zj)().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>(0,o.zj)().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","lazy-change","toggle-visible","prefix-click","suffix-click"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),d=(0,i.ref)(),p=(0,i.ref)(),f={refElem:d,refInput:p},h={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>f};let m={};const g=(0,i.computed)(()=>e.clearable),v=(0,i.computed)(()=>{const{readonly:t}=e;return t}),b=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().passwordInput.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseInput")}),x=(0,i.computed)(()=>{const{showPwd:e}=u;return e?"text":"password"}),y=(0,i.computed)(()=>{const{immediate:t}=e;return t}),C=e=>{const{inputValue:t}=u;m.dispatchEvent(e.type,{value:t},e)},k=(e,t)=>{const n=y.value;u.inputValue=e,n?E(e,t):m.dispatchEvent("input",{value:e},t)},S=e=>{const t=e.target,n=t.value;k(n,e)},E=(t,r)=>{u.inputValue=t,n("update:modelValue",t),m.dispatchEvent("input",{value:t},r),w().toValueString(e.modelValue)!==t&&(m.dispatchEvent("change",{value:t},r),a&&l&&a.triggerItemEvent(r,l.itemConfig.field,t))},O=e=>{C(e),h.dispatchEvent("lazy-change",{value:u.inputValue},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,u.inputValue)},D=e=>{u.isActivated=!0,C(e)},A=e=>{const{inputValue:t}=u,n=t;h.dispatchEvent("blur",{value:n},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,n)},M=t=>{const{readonly:n,disabled:r}=e,{showPwd:o}=u;r||n||(u.showPwd=!o),h.dispatchEvent("toggle-visible",{visible:u.showPwd},t)},I=e=>{C(e)},N=(e,t)=>{focus(),E("",e),h.dispatchEvent("clear",{value:t},e),h.dispatchEvent("lazy-change",{value:u.inputValue},e)},R=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=u;h.dispatchEvent("suffix-click",{value:e},t)}},F=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=u;h.dispatchEvent("prefix-click",{value:e},t)}},_=()=>{const{showPwd:e}=u;return(0,i.h)("div",{class:"vxe-password-input--control-icon",onClick:M},[(0,i.h)("i",{class:["vxe-password-input--password-icon",e?(0,o.sW)().PASSWORD_INPUT_SHOW_PWD:(0,o.sW)().PASSWORD_INPUT_HIDE_PWD]})])},P=()=>{const{prefixIcon:t}=e,n=r.prefix;return n||t?(0,i.h)("div",{class:"vxe-password-input--prefix",onClick:F},[(0,i.h)("div",{class:"vxe-password-input--prefix-icon"},n?T(n({})):[(0,i.h)("i",{class:t})])]):null},j=()=>{const{disabled:t,suffixIcon:n,controls:a}=e,{inputValue:l}=u,s=r.suffix,c=g.value;return c||a||s||n?(0,i.h)("div",{class:["vxe-password-input--suffix",{"is--clear":c&&!t&&!(""===l||w().eqNull(l))}]},[c?(0,i.h)("div",{class:"vxe-password-input--clear-icon",onClick:N},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(h),a?_():(0,o.C1)(h),s||n?(0,i.h)("div",{class:"vxe-password-input--suffix-icon",onClick:R},s?T(s({})):[(0,i.h)("i",{class:n})]):(0,o.C1)(h)]):null};m={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$passwordInput:h},t))},focus(){const e=p.value;return u.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=p.value;return e.blur(),u.isActivated=!1,(0,i.nextTick)()},select(){const e=p.value;return e.select(),u.isActivated=!1,(0,i.nextTick)()}},Object.assign(h,m),(0,i.watch)(()=>e.modelValue,e=>{u.inputValue=e});const L=()=>{const{className:t,name:n,disabled:r,readonly:a,autocomplete:l,autoComplete:s,maxLength:f}=e,{inputValue:m,isActivated:y}=u,C=c.value,k=v.value,T=x.value,E=b.value,M=g.value,N=P(),R=j();return(0,i.h)("div",{ref:d,class:["vxe-password-input",t,{[`size--${C}`]:C,"is--prefix":!!N,"is--suffix":!!R,"is--readonly":a,"is--disabled":r,"is--active":y,"show--clear":M&&!r&&!(""===m||w().eqNull(m))}],spellcheck:!1},[N||(0,o.C1)(h),(0,i.h)("div",{class:"vxe-password-input--wrapper"},[(0,i.h)("input",{ref:p,class:"vxe-password-input--inner",value:m,name:n,type:T,placeholder:E,readonly:k,disabled:r,autocomplete:l||s,maxlength:f,onClick:I,onInput:S,onChange:O,onFocus:D,onBlur:A})]),R||(0,o.C1)(h)])};return h.renderVN=L,h},render(){return this.renderVN()}});const ta=Object.assign({},ea,{install(e){e.component(ea.name,ea)}});u.use(ta),o.OE.component(ea);const na=ta;var ra=ta;const oa=w().browse();let ia;const aa='body{padding:0;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function la(e){return`${e}`.replace(/(<!---->)/,"")}function sa(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function ca(){ia.parentNode||document.body.appendChild(ia)}function ua(){requestAnimationFrame(da)}function da(){if(ia){if(ia.parentNode){try{ia.contentDocument.write("")}catch(e){}ia.parentNode.removeChild(ia)}ia=null}}function pa(e,t){return new Blob([e],{type:`text/${t};charset=utf-8;`})}const fa=50,ha="#000000";function ma(e){const t=Object.assign({},e),n=Object.assign({},t.header),r=Object.assign({},t.title),o=Object.assign({},t.footer),i=Object.assign({},t.pageNumber);let a=fa,l=a,s=a,c=a,u=a;return(w().isNumber(t.margin)||w().isString(t.margin))&&(a=t.margin,l=a,s=a,c=a,u=a),{marginTop:V(t.marginTop||l),marginBottom:V(t.marginBottom||s),marginLeft:V(t.marginLeft||c),marginRight:V(t.marginRight||u),fontSize:V(t.fontSize),color:t.color,textAlign:t.textAlign,header:{height:V(n.height),textAlign:n.textAlign},title:{color:r.color,fontSize:V(r.fontSize),textAlign:r.textAlign},footer:{height:V(o.height),textAlign:o.textAlign},pageNumber:{color:i.color,fontSize:V(i.fontSize),textAlign:i.textAlign}}}function ga(e,t){const{pageStyle:n,customStyle:r}=e,o=ma(n),i=o.header,a=o.title,l=o.header,s=o.pageNumber,c=e._pageBreaks||e.pageBreaks&&e.pageBreaks.length;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title||""}</title>`,`<style media="print">@page{size:auto;${c?"margin: 0mm;":""}}</style>`,`<style>body{font-size:${o.fontSize||"14px"};color:${o.color||ha};text-align:${o.textAlign||"left"};}</style>`,"<style>",".vxe-print-slots{display:none;}",".vxe-print-page-break.align--center{text-align:center;}",".vxe-print-page-break.align--left{text-align:left;}",".vxe-print-page-break.align--right{text-align:right;}",".vxe-print-page-break{break-before:always;page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}",".vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow:hidden;}",".vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;height:100%;}",`.vxe-print-page-break--left{width:${o.marginLeft};}`,`.vxe-print-page-break--right{width:${o.marginRight};}`,".vxe-print-page-break--header,.vxe-print-page-break--footer{display:flex;justify-content:center;flex-direction:column;flex-shrink:0;width:100%;}",`.vxe-print-page-break--header{height:${i.height||o.marginTop};padding:0 ${o.marginLeft} 0 ${o.marginRight};text-align:${i.textAlign||"left"};}`,`.vxe-print-page-break--header-title{font-size:${a.fontSize||"1.6em"};color:${a.color||ha};text-align:${e.headerAlign||s.textAlign||"center"};}`,`.vxe-print-page-break--footer{height:${l.height||o.marginBottom};padding:0 ${o.marginLeft} 0 ${o.marginRight};text-align:${l.textAlign||"left"};}`,".vxe-print-page-break--content{flex-grow:1;overflow:hidden;}",`.vxe-print-page-break--footer-page-number{font-size:${s.fontSize||"1.2em"};color:${s.color||ha};text-align:${e.footerAlign||s.textAlign||"center"};}`,"</style>","<style>.vxe-table{white-space:pre;}</style>",`<style>${aa}</style>`,c?"<style>body{margin:0;}</style>":"",r?`<style>${r}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}function va(e,t=""){const{beforeMethod:n}=e;n&&(t=n({content:t,html:t,options:e})||""),t=ga(e,t);const r=pa(t,"html");return new Promise(e=>{if(oa.msie){da(),ia=sa(),ca();const n=ia.contentDocument;n&&(n.write(t),n.execCommand("print")),setTimeout(()=>{e({status:!0})},300)}else ia||(ia=sa(),ia.onload=t=>{const n=t.target;if(n.src)try{const e=n.contentWindow;e&&(e.onafterprint=ua,e.print())}catch(r){}e({status:!0})},ia.onerror=()=>{e({status:!1})}),ca(),ia.src=URL.createObjectURL(r)})}function ba(e){const{title:t,showPageNumber:n,align:r,headerAlign:o,footerAlign:i,showAllPageTitle:a}=e,l=e.pageBreaks||[],s=l.length;return l.map((l,c)=>{const u=l.bodyHtml,d=l.headerHtml||e.headerHtml,p=l.footerHtml||e.footerHtml,f=l.leftHtml||e.leftHtml,h=l.rightHtml||e.rightHtml,m=c+1,g={currentPage:m,pageCount:s};return[`<div class="${["vxe-print-page-break",r?`align--${r}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",o?`align--${o}`:""].join(" ")}">`,d?`${w().isFunction(d)?d(g):d||""}`:!t||!a&&c?"":`<div class="vxe-print-page-break--header-title">${t||""}</div>`,"</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${w().isFunction(f)?f(g):f||""}</div>`,`<div class="vxe-print-page-break--content">${w().isFunction(u)?u(g):u||""}</div>`,`<div class="vxe-print-page-break--right">${w().isFunction(h)?h(g):h||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",i?`align--${i}`:""].join(" ")}">`,p?`${w().isFunction(p)?p(g):p||""}`:n?`<div class="vxe-print-page-break--footer-page-number">${m}/${s}</div>`:"","</div>","</div>"].join("")}).join("")}const xa=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return va(t,ba(t));const n=t.html||t.content;return va(t,n)};function ya(e,t,n){const r=e.reactData.staticPageBreaks,o=t.parentNode;o&&r&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticPageBreaks=r.slice(0))}function wa(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter(e=>e.id!==t.id)}var Ca=a({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xePrint",null),s=(0,i.ref)(),c=(0,i.reactive)({}),u={refElem:s},d={},p=(0,i.reactive)({id:a,slots:n}),f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$print:l},t))},m={dispatchEvent:h},g={};if(Object.assign(f,m,g),!l)return f.renderVN=()=>(0,i.createCommentVNode)(),f;const v=()=>(0,i.h)("div",{ref:s});return(0,i.onMounted)(()=>{const e=s.value;l&&e&&ya(l,e,p)}),(0,i.onUnmounted)(()=>{l&&wa(l,p)}),f.renderVN=v,f},render(){return this.renderVN()}});const ka=Object.assign({},Ca,{install(e){e.component(Ca.name,Ca)}});u.use(ka),o.OE.component(Ca);const Sa=ka;var Ta=ka,Ea=a({name:"VxePrint",props:{align:{type:String,default:()=>(0,o.zj)().print.align},title:String,headerAlign:{type:String,default:()=>(0,o.zj)().print.headerAlign},footerAlign:{type:String,default:()=>(0,o.zj)().print.footerAlign},showPageNumber:{type:Boolean,default:()=>(0,o.zj)().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>(0,o.zj)().print.showAllPageTitle},pageStyle:{type:Object,default:()=>(0,o.zj)().print.pageStyle},customStyle:{type:String,default:()=>(0,o.zj)().print.customStyle},beforeMethod:Function},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({staticPageBreaks:[]}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$print:d},t))},f={dispatchEvent:p,print(){const t=l.value;return xa(Object.assign({},e,{_pageBreaks:!!s.staticPageBreaks.length,html:la(t?t.outerHTML:"")||e.html||e.content||""}))}},h={};Object.assign(d,f,h);const m=()=>{const{title:t,showPageNumber:n,showAllPageTitle:r,align:a,headerAlign:l,footerAlign:s}=e,c=e.pageBreaks||[],u=c.length;return c.map((c,p)=>{const f=c.bodyHtml,h=c.headerHtml||e.headerHtml,m=c.footerHtml||e.footerHtml,g=c.leftHtml||e.leftHtml,v=c.rightHtml||e.rightHtml,b=p+1,x={currentPage:b,pageCount:u};return(0,i.h)("div",{class:["vxe-print-page-break",a?`align--${a}`:""]},[(0,i.h)("div",{class:["vxe-print-page-break--header",l?`align--${l}`:""]},h?`${w().isFunction(h)?h(x):h||""}`:[!t||!r&&p?(0,o.C1)(d):(0,i.h)("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),(0,i.h)("div",{class:"vxe-print-page-break--body"},[(0,i.h)("div",{class:"vxe-print-page-break--left"},`${w().isFunction(g)?g(x):g||""}`),(0,i.h)("div",{class:"vxe-print-page-break--content"},`${w().isFunction(f)?f(x):f||""}`),(0,i.h)("div",{class:"vxe-print-page-break--right"},`${w().isFunction(v)?v(x):v||""}`)]),(0,i.h)("div",{class:["vxe-print-page-break--footer",s?`align--${s}`:""]},m?`${w().isFunction(m)?m(x):m||""}`:[n?(0,i.h)("div",{class:"vxe-print-page-break--footer-page-number"},`${b}/${u}`):(0,o.C1)(d)])])})},g=()=>{const{title:t,showPageNumber:r,showAllPageTitle:a,align:l,headerAlign:c,footerAlign:u}=e,{staticPageBreaks:p}=s,f=p.length;return p.map((e,s)=>{const p=e.slots||{},h=s+1,m=p.default,g=p.header||n.header,v=p.footer||n.footer,b=p.left||n.left,x=p.right||n.right,y={currentPage:h,pageCount:f};return(0,i.h)("div",{class:["vxe-print-page-break",l?`align--${l}`:""]},[(0,i.h)("div",{class:["vxe-print-page-break--header",c?`align--${c}`:""]},g?T(g(y)):[!t||!a&&s?(0,o.C1)(d):(0,i.h)("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),(0,i.h)("div",{class:"vxe-print-page-break--body"},[(0,i.h)("div",{class:"vxe-print-page-break--left"},b?T(b(y)):[]),(0,i.h)("div",{class:"vxe-print-page-break--content"},m?T(m(y)):[]),(0,i.h)("div",{class:"vxe-print-page-break--right"},x?T(x(y)):[])]),(0,i.h)("div",{class:["vxe-print-page-break--footer",u?`align--${u}`:""]},v?T(v(y)):[r?(0,i.h)("div",{class:"vxe-print-page-break--footer-page-number"},`${h}/${f}`):(0,o.C1)(d)])])})},v=()=>{const{customLayout:t}=e,{staticPageBreaks:r}=s,o=n.default;return(0,i.h)("div",{ref:l,class:["vxe-print"]},t?o?T(o({})):[]:[(0,i.h)("div",{key:"slot",class:"vxe-print-slots"},o?T(o({})):[])].concat(r.length?g():m()))};return d.renderVN=v,(0,i.provide)("$xePrint",d),d},render(){return this.renderVN()}});const Oa=Object.assign({},Ea,{install(e){e.component(Ea.name,Ea)}});u.use(Oa),o.OE.component(Ea),o.OE.print=xa;const Da=Oa;var Aa=Oa,Ma=a({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:(0,o.zj)().pulldown.trigger},zIndex:Number,size:{type:String,default:()=>(0,o.zj)().pulldown.size||(0,o.zj)().size},options:Array,className:{type:[String,Function],default:(0,o.zj)().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,destroyOnClose:{type:Boolean,default:(0,o.zj)().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=w().uniqueId(),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),f={hpTimeout:void 0},h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().pulldown.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),b={refElem:h},x={xID:u,props:e,context:t,reactData:p,internalData:f,getRefMaps:()=>b};let y={};const C=()=>{const{zIndex:t}=e;t?p.panelIndex=t:p.panelIndex<Ee()&&(p.panelIndex=Te())},k=()=>p.visiblePanel,S=()=>{const{placement:t}=e,{panelIndex:n}=p,r=m.value,o=g.value,a=v.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});p.panelStyle=i,p.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},T=()=>(p.initialized||(p.initialized=!0),new Promise(t=>{e.disabled?(0,i.nextTick)(()=>{t()}):(f.hpTimeout&&clearTimeout(f.hpTimeout),p.isActivated=!0,p.isAniVisible=!0,setTimeout(()=>{p.visiblePanel=!0,r("update:modelValue",!0),S(),setTimeout(()=>{t(S())},40)},10),C(),F("visible-change",{visible:!0},null))})),E=()=>(p.visiblePanel=!1,F("visible-change",{visible:!1},null),r("update:modelValue",!1),new Promise(e=>{p.isAniVisible?f.hpTimeout=setTimeout(()=>{p.isAniVisible=!1,(0,i.nextTick)(()=>{e()})},350):(0,i.nextTick)(()=>{e()})})),O=()=>p.visiblePanel?E():T(),D=(e,t)=>{t.disabled||(p.visiblePanel&&(E(),F("hide-panel",{},e)),F("option-click",{option:t},e))},A=t=>{const{trigger:n}=e;"click"===n&&(p.visiblePanel?(E(),F("hide-panel",{},t)):(T(),F("show-panel",{},t))),F("click",{$pulldown:x},t)},M=t=>{const{disabled:n}=e,{visiblePanel:r}=p,o=g.value;n||r&&(H(t,o).flag?S():(E(),F("hide-panel",{},t)))},I=t=>{const{disabled:n}=e,{visiblePanel:r}=p,o=h.value,i=g.value;n||(p.isActivated=H(t,o).flag||H(t,i).flag,r&&!p.isActivated&&(E(),F("hide-panel",{},t)))},N=e=>{const{visiblePanel:t,isActivated:n}=p;t&&(E(),F("hide-panel",{},e)),n&&(p.isActivated=!1)},R=()=>{const{visiblePanel:e}=p;e&&S()},F=(e,t,n)=>{r(e,(0,o.lh)(n,{$pulldown:x},t))};y={dispatchEvent:F,isPanelVisible:k,togglePanel:O,showPanel:T,hidePanel:E},Object.assign(x,y),(0,i.watch)(()=>e.modelValue,e=>{p.isActivated=!!e,e?T():E()}),(0,i.nextTick)(()=>{e.modelValue&&T(),o.Nh.on(x,"mousewheel",M),o.Nh.on(x,"mousedown",I),o.Nh.on(x,"blur",N),o.Nh.on(x,"resize",R)}),(0,i.onUnmounted)(()=>{o.Nh.off(x,"mousewheel"),o.Nh.off(x,"mousedown"),o.Nh.off(x,"blur"),o.Nh.off(x,"resize")});const _=e=>{const t=n.option;return(0,i.h)("div",{class:"vxe-pulldown--panel-list"},e?e.map(e=>(0,i.h)("div",{class:"vxe-pulldown--panel-item",onClick(t){D(t,e)}},t?t({$pulldown:x,option:e}):`${e.label||""}`)):[])},P=()=>{const{className:t,options:r,popupClassName:a,showPopupShadow:l,destroyOnClose:s,disabled:c}=e,{initialized:u,isActivated:f,isAniVisible:b,visiblePanel:y,panelStyle:C,panelPlacement:k}=p,S=v.value,T=d.value,E=n.default,O=n.header,D=n.footer,M=n.dropdown;return(0,i.h)("div",{ref:h,class:["vxe-pulldown",t?w().isFunction(t)?t({$pulldown:x}):t:"",{[`size--${T}`]:T,"is--visible":y,"is--disabled":c,"is--active":f}]},[(0,i.h)("div",{ref:m,class:"vxe-pulldown--content",onClick:A},E?E({$pulldown:x}):[]),(0,i.h)(i.Teleport,{to:"body",disabled:!S||!u},[(0,i.h)("div",{ref:g,class:["vxe-table--ignore-clear vxe-pulldown--panel",a?w().isFunction(a)?a({$pulldown:x}):a:"",{[`size--${T}`]:T,"is--transfer":S,"ani--leave":b,"ani--enter":y}],placement:k,style:C},[(0,i.h)("div",{class:["vxe-pulldown--panel-wrapper",{"is--shadow":l}]},u&&(!s||(y||b))?[O?(0,i.h)("div",{class:"vxe-pulldown--panel-header"},O({$pulldown:x})):(0,o.C1)(x),(0,i.h)("div",{class:"vxe-pulldown--panel-body"},M?M({$pulldown:x}):[_(r)]),D?(0,i.h)("div",{class:"vxe-pulldown--panel-footer"},D({$pulldown:x})):(0,o.C1)(x)]:[])])])])};return x.renderVN=P,x},render(){return this.renderVN()}});const Ia=Object.assign(Ma,{install:function(e){e.component(Ma.name,Ma)}});u.use(Ia),o.OE.component(Ma);const Na=Ia;var Ra=Ia,Fa=a({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>(0,o.zj)().radio.strict},size:{type:String,default:()=>(0,o.zj)().radio.size||(0,o.zj)().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeRadioGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),d={xID:c,props:e,context:t,reactData:u},{computeSize:p}=(0,o.XX)(e),f=(0,i.computed)(()=>{const{disabled:t}=e;if(null===t&&s){const{computeIsDisabled:e}=s.getComputeMaps();return e.value}return t}),h=(0,i.computed)(()=>s?s.name:e.name),m=(0,i.computed)(()=>s?s.props.strict:e.strict),g=(0,i.computed)(()=>{const{label:t,checkedValue:n}=e,r=w().isUndefined(n)?t:n;return s?s.props.modelValue===r:e.modelValue===r}),v=(e,t)=>{s?s.handleChecked({label:e,checkedValue:e},t):(r("update:modelValue",e),y("change",{value:e,label:e,checkedValue:e},t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,e))},b=t=>{const n=f.value;if(!n){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;v(o,t)}},x=t=>{const n=f.value,r=m.value;if(!n&&!r){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;o===(s?s.props.modelValue:e.modelValue)&&v(null,t)}},y=(e,t,n)=>{r(e,(0,o.lh)(n,{$radio:d},t))},C={dispatchEvent:y},k={};Object.assign(d,C,k);const S=()=>{const{label:t,checkedValue:r}=e,a=w().isUndefined(r)?t:r,l=p.value,s=f.value,c=h.value,u=g.value;return(0,i.h)("label",{key:a,class:["vxe-radio vxe-radio--default",{[`size--${l}`]:l,"is--checked":u,"is--disabled":s}],title:e.title},[(0,i.h)("input",{class:"vxe-radio--input",type:"radio",name:c,checked:u,disabled:s,onChange:b,onClick:x}),(0,i.h)("span",{class:["vxe-radio--icon",u?(0,o.sW)().RADIO_CHECKED:s?(0,o.sW)().RADIO_DISABLED_UNCHECKED:(0,o.sW)().RADIO_UNCHECKED]}),(0,i.h)("span",{class:"vxe-radio--label"},n.default?n.default({}):Me(e.content))])};return d.renderVN=S,d},render(){return this.renderVN()}});const _a=Object.assign(Fa,{install:function(e){e.component(Fa.name,Fa)}});u.use(_a),o.OE.component(Fa);const Pa=_a;var ja=_a,La=a({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>(0,o.zj)().radioButton.strict},size:{type:String,default:()=>(0,o.zj)().radioButton.size||(0,o.zj)().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeRadioGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),{computeSize:d}=(0,o.XX)(e),p={xID:c,props:e,context:t,reactData:u},f=(0,i.computed)(()=>{const{disabled:t}=e;if(null===t&&s){const{computeIsDisabled:e}=s.getComputeMaps();return e.value}return t}),h=(0,i.computed)(()=>s?s.name:null),m=(0,i.computed)(()=>s?s.props.strict:e.strict),g=(0,i.computed)(()=>{const{label:t,checkedValue:n}=e,r=w().isUndefined(n)?t:n;return s?s.props.modelValue===r:e.modelValue===r}),v={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$radioButton:p},t))}},b={};Object.assign(p,v,b);const x=(e,t)=>{s?s.handleChecked({label:e,checkedValue:e},t):(r("update:modelValue",e),v.dispatchEvent("change",{value:e,label:e},t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,e))},y=t=>{const n=f.value;if(!n){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;x(o,t)}},C=t=>{const n=f.value,r=m.value;if(!n&&!r){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;o===(s?s.props.modelValue:e.modelValue)&&x(null,t)}},k=()=>{const{label:t,checkedValue:r}=e,o=w().isUndefined(r)?t:r,a=d.value,l=f.value,s=h.value,c=g.value;return(0,i.h)("label",{key:o,class:["vxe-radio vxe-radio--button",{[`size--${a}`]:a,"is--disabled":l}],title:e.title},[(0,i.h)("input",{class:"vxe-radio--input",type:"radio",name:s,checked:c,disabled:l,onChange:y,onClick:C}),(0,i.h)("span",{class:"vxe-radio--label"},n.default?n.default({}):Me(e.content))])};return p.renderVN=k,k}});const $a=Object.assign(La,{install:function(e){e.component(La.name,La)}});u.use($a),o.OE.component(La);const za=$a;var Va=$a,Ba=a({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>(0,o.zj)().radioGroup.strict},size:{type:String,default:()=>(0,o.zj)().radioGroup.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({}),d=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),p={computeIsDisabled:d},f={xID:s,props:e,context:t,reactData:u,name:w().uniqueId("xe_group_"),getComputeMaps:()=>p},h=(0,i.computed)(()=>Object.assign({},e.optionProps)),m=(0,i.computed)(()=>{const e=h.value;return e.label||"label"}),g=(0,i.computed)(()=>{const e=h.value;return e.value||"value"}),v=(0,i.computed)(()=>{const e=h.value;return e.disabled||"disabled"}),b=(e,t,n)=>{r(e,(0,o.lh)(n,{$radioGroup:f},t))},x={dispatchEvent:b},y={handleChecked(e,t){const n=e.checkedValue;r("update:modelValue",n),b("change",{value:n,label:n,checkedValue:n},t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,n)}};Object.assign(f,x,y);const C=()=>{const{options:t,type:r}=e,o=c.value,a=n.default,l=g.value,s=m.value,u=v.value,d="button"===r?La:Fa;return(0,i.h)("div",{class:["vxe-radio-group",{[`size--${o}`]:o}]},a?a({}):t?t.map(e=>(0,i.h)(d,{key:e[l],checkedValue:e[l],content:e[s],disabled:e[u]})):[])};return(0,i.provide)("$xeRadioGroup",f),f.renderVN=C,f},render(){return this.renderVN()}});const Ha=Object.assign(Ba,{install:function(e){e.component(Ba.name,Ba)}});u.use(Ha),o.OE.component(Ba);const Wa=Ha;var qa=Ha,Ua=a({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().rate.size||(0,o.zj)().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.reactive)({activeValue:null}),d={refElem:c},p=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),f=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),h=(0,i.computed)(()=>{const{modelValue:t}=e,{activeValue:n}=u;return w().toNumber(null===n?t:n)}),m=(0,i.computed)(()=>[1,2,3,4,5].map(e=>({value:e,label:e}))),g={},v={xID:l,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$rate:v},t))},x={dispatchEvent:b},y={},C=e=>{n("update:modelValue",e)},k=(e,t)=>{const n=p.value,r=f.value;if(!n&&!r){const e=t.value;u.activeValue=e}},S=()=>{u.activeValue=null},T=(e,t)=>{const n=p.value,o=f.value;if(!n&&!o){const n=t.value;C(n),b("change",{value:n},e),r&&a&&r.triggerItemEvent(e,a.itemConfig.field,n)}};Object.assign(v,x,y);const E=()=>{const{status:t}=e,n=p.value,r=f.value,a=m.value,l=s.value,u=h.value;return(0,i.h)("div",{ref:c,class:["vxe-rate",{[`size--${l}`]:l,[`theme--${t}`]:t,"is--disabled":n,"is--readonly":r}]},a.map(e=>{const t=u>=e.value;return(0,i.h)("div",{class:["vxe-rte--item",{"is--checked":t}],onMouseenter(t){n||r||k(t,e)},onMouseleave:S,onClick(t){n||r||T(t,e)}},[(0,i.h)("i",{class:t?(0,o.sW)().RATE_CHECKED:(0,o.sW)().RATE_UNCHECKED})])}))};return v.renderVN=E,v},render(){return this.renderVN()}});const Ga=Object.assign({},Ua,{install(e){e.component(Ua.name,Ua)}});u.use(Ga),o.OE.component(Ua);const Ya=Ga;var Ka=Ga,Xa=a({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,r)=>{n(e,(0,o.lh)(r,{$result:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{imageUrl:t,imageStyle:n,icon:a,title:l,type:s,content:c}=e,u=e.status||s,p=r.extra;return(0,i.h)("div",{ref:"refElem",class:["vxe-result",{[`theme--${u}`]:u}]},[(0,i.h)("div",{class:"vxe-result--inner"},[t?(0,i.h)("div",{class:"vxe-result--img-wrapper"},[(0,i.h)("img",{src:t,style:n})]):(0,i.h)("div",{class:"vxe-result--icon-wrapper"},[(0,i.h)("i",{class:[a,s?(0,o.sW)()[`RESULT_${s}`.toLocaleUpperCase()]:""]})]),(0,i.h)("div",{class:"vxe-result--title-wrapper"},`${l||""}`),(0,i.h)("div",{class:"vxe-result--content-wrapper"},`${c||""}`),p?(0,i.h)("div",{class:"vxe-result--extra-wrapper"},p({})):(0,o.C1)(d)])])};return d.renderVN=m,d},render(){return this.renderVN()}});const Za=Object.assign({},Xa,{install(e){e.component(Xa.name,Xa)}});u.use(Za),o.OE.component(Xa);const Ja=Za;var Qa=Za,el=a({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>(0,o.zj)().row.wrap},vertical:Boolean,size:{type:String,default:()=>(0,o.zj)().row.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId();(0,o.XX)(e);const l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.computed)(()=>{const{gutter:t,vertical:n}=e,r={};if(t){let[e,o]=w().isArray(t)?t:[t];if(n&&(o=e,e=""),e){const t=w().isNumber(e)?V(-e/2):`calc(${V(e)} / 2 * -1)`;r.marginLeft=t,r.marginRight=t}if(o){const e=w().isNumber(o)?V(-o/2):`calc(${V(o)} / 2 * -1)`;r.marginTop=e,r.marginBottom=e}}return r}),d={},p={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f=e=>{h("click",{},e)},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$row:p},t))},m={dispatchEvent:h},g={};Object.assign(p,m,g);const v=()=>{const{vertical:t,wrap:r}=e,o=u.value,a=n.default;return(0,i.h)("div",{ref:l,class:["vxe-row",{"is--vertical":t,"is--wrap":r}],style:o,onClick:f},a?a({}):[])};return(0,i.provide)("$xeRow",p),p.renderVN=v,p},render(){return this.renderVN()}});const tl=Object.assign({},el,{install(e){e.component(el.name,el)}});u.use(tl),o.OE.component(el);const nl=tl;var rl=tl;const ol=Object.assign(Ki,{install:function(e){e.component(Ki.name,Ki)}});u.use(ol),o.OE.component(Ki);const il=ol;var al=ol,ll=a({name:"VxeSplit",props:{width:[Number,String],height:[Number,String],vertical:{type:Boolean,default:()=>(0,o.zj)().split.vertical},border:{type:Boolean,default:()=>(0,o.zj)().split.border},padding:{type:Boolean,default:()=>(0,o.zj)().split.padding},resize:{type:Boolean,default:()=>(0,o.zj)().split.resize},items:Array,itemConfig:Object,barConfig:Object,resizeConfig:Object,actionConfig:Object,size:{type:String,default:()=>(0,o.zj)().split.size||(0,o.zj)().size}},emits:["action-dblclick","action-click","toggle-expand","resize-start","resize-drag","resize-end"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.ref)(),{computeSize:u}=(0,o.XX)(e),d=(0,i.reactive)({staticItems:[],itemList:[],barWidth:0,barHeight:0}),p={wrapperWidth:0,wrapperHeight:0},m=(0,i.computed)(()=>Object.assign({},(0,o.zj)().split.itemConfig,e.itemConfig)),g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().split.barConfig,e.barConfig)),v=(0,i.computed)(()=>Object.assign({},(0,o.zj)().split.resizeConfig,e.resizeConfig)),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().split.actionConfig,e.actionConfig)),x=(0,i.computed)(()=>d.itemList.filter(e=>e.isExpand)),y=(0,i.computed)(()=>{const{vertical:t}=e,n=[];let r=0,o=0;return d.itemList.forEach(t?e=>{const{renderHeight:t,resizeHeight:o,foldHeight:i,isExpand:a,height:l}=e,s=a?i||o||t:0;l||n.push(e),r+=s}:e=>{const{renderWidth:t,resizeWidth:r,foldWidth:i,isExpand:a,width:l}=e,s=a?i||r||t:0;l||n.push(e),o+=s}),{autoItems:n,heightCount:r,heightRatio:r/100,widthCount:o,widthRatio:o/100}}),C=(0,i.computed)(()=>{const e=g.value,{width:t,height:n}=e,r={};return n&&(r.height=V(n)),t&&(r.width=V(t)),r}),k={computeItemOpts:m,computeBarOpts:g,computeActionOpts:b},S={refElem:l},E={xID:a,props:e,context:t,reactData:d,internalData:p,getRefMaps:()=>S,getComputeMaps:()=>k},O=(e,t,r)=>{n(e,(0,o.lh)(r,{$split:E},t))},D=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],A=(t,n,r)=>{const{vertical:i}=e,a="SPLIT_TOP_ACTION",l="SPLIT_BOTTOM_ACTION",s="SPLIT_LEFT_ACTION",c="SPLIT_RIGHT_ACTION";let u="";return u=i?r?n.isExpand?l:a:t.isExpand?a:l:r?n.isExpand?c:s:t.isExpand?s:c,u?(0,o.sW)()[u]:""},M=()=>{const{itemList:e}=d;return e.forEach(e=>{e.isExpand=!0,e.foldHeight=0,e.foldWidth=0,e.resizeHeight=0,e.resizeWidth=0}),(0,i.nextTick)()},I=(e,t)=>{const{staticItems:n}=d,o=b.value,{showPrevButton:i,showNextButton:a}=o,l={isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0};return d.itemList=e.map(e=>(e.showAction&&f("vxe.error.removeProp",["[split] show-action"]),e.slots&&w().each(e.slots,e=>{w().isFunction(e)||r[e]||h("vxe.error.notSlot",[`[split] ${e}`])}),Object.assign({},t?null:l,e,t?l:null,{id:w().uniqueId()}))),n.length&&h("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),(i||a)&&d.itemList.length>2&&h("vxe.error.errConflicts",["action-config.showPrevButton | action-config.showNextButton","Only supports 2 item"]),F()},N=e=>I(e||[],!1),R=e=>I(e||[],!0),F=()=>(0,i.nextTick)().then(()=>{const{vertical:t}=e,{itemList:n}=d,r=l.value,o=s.value;if(!r)return;const i=r.clientWidth,a=r.clientHeight;if(!i||!a)return;o&&(d.barWidth=o.offsetWidth,d.barHeight=o.offsetHeight);const c=i-(t?0:d.barWidth*(n.length-1)),u=a-(t?d.barHeight*(n.length-1):0),f=m.value,h=w().toNumber(f.minWidth),g=w().toNumber(f.minHeight),v=[];if(t){let e=0;if(n.forEach(t=>{const{height:n}=t;let r=0;n?(r=P(n)?u*w().toNumber(n)/100:w().toNumber(n),t.renderHeight=r):v.push(t),e+=r}),v.length){const t=(u-e)/v.length;v.forEach(e=>{e.renderHeight=Math.max(w().toNumber(Ae(e.minHeight,g)),t)})}}else{let e=0;if(n.forEach(t=>{const{width:n}=t;let r=0;n?(r=P(n)?c*w().toNumber(n)/100:w().toNumber(n),t.renderWidth=r):v.push(t),e+=r}),v.length){const t=(c-e)/v.length;v.forEach(e=>{e.renderWidth=Math.max(w().toNumber(Ae(e.minWidth,h)),t)})}}p.wrapperWidth=c,p.wrapperHeight=u}),_=t=>{const{resize:n,vertical:r}=e,{itemList:o}=d;if(!n)return;t.preventDefault();const i=t.currentTarget,a=i.parentElement,s=l.value;if(!s)return;const u=a.previousElementSibling,p=a.nextElementSibling;if(!u||!p)return;const f=u.getAttribute("itemid"),h=p.getAttribute("itemid"),g=o.find(e=>e.id===f),b=o.find(e=>e.id===h);if(!g||!b)return;const x=s.getBoundingClientRect(),y=i.getBoundingClientRect(),C=c.value,k=C?C.children[0]:null,S=m.value,T=v.value,{immediate:E}=T,D=w().toNumber(S.minWidth),A=w().toNumber(S.minHeight),M=Math.ceil(y.width-(t.clientX-y.left)),I=Math.ceil(t.clientY-y.top),N=u.offsetWidth,R=p.offsetWidth,_=w().toNumber(g?Ae(g.minWidth,D):D),P=w().toNumber(b?Ae(b.minWidth,D):D),j=u.offsetLeft+_-M,z=p.offsetLeft+p.offsetWidth-P-M,B=t.clientX-x.left;let H=-1,W=0,q=0,U=B;const G=u.offsetHeight,Y=p.offsetHeight,K=w().toNumber(g?Ae(g.minHeight,A):A),X=w().toNumber(b?Ae(b.minHeight,A):A),Z=u.offsetTop+K+I,J=p.offsetTop+p.offsetHeight-X+I,Q=t.clientY-x.top;let ee=-1,te=0,ne=0,re=Q;const oe=e=>{if(!C)return;const t=k?k.children[0]:null,n=k?k.children[1]:null;if(r){let r=0;t&&(ee<0?t.style.display="none":(t.textContent=`${Math.floor(te)}px`,t.style.display="block",r=t.offsetWidth)),n&&(ee<0?(n.textContent=`${Math.floor(ne)}px`,n.style.display="block",r=n.offsetWidth):n.style.display="none");let o=Math.max(1,e.clientX-x.left-r/2);o>x.width-r-1&&(o=x.width-r-1),C.style.left="0",C.style.top=`${re}px`,k&&(k.style.left=`${o}px`)}else{let r=0;t&&(H<0?t.style.display="none":(t.textContent=`${Math.floor(W)}px`,t.style.display="block",r=t.offsetHeight)),n&&(H<0?(n.textContent=`${Math.floor(q)}px`,n.style.display="block",r=n.offsetHeight):n.style.display="none");let o=Math.max(1,e.clientY-x.top-r/2);o>x.height-r-1&&(o=x.height-r-1),C.style.top="0",C.style.left=`${U}px`,k&&(k.style.top=`${o}px`)}},ie=()=>{r?(g.resizeHeight=te,b.resizeHeight=ne):(g.resizeWidth=W,b.resizeWidth=q)},ae=e=>{r?(re=e.clientY-x.top,re<Z&&(re=Z),re>J&&(re=J),ee=re-Q,te=G+ee,ne=Y-ee):(U=e.clientX-x.left,U<j&&(U=j),U>z&&(U=z),H=U-B,W=N+H,q=R-H),E&&(r?(u.style.height=V(te),p.style.height=V(ne)):(u.style.width=V(W),p.style.width=V(q))),C&&oe(e),O("resize-drag",{prevItem:g,nextItem:b,offsetHeight:ee,offsetWidth:H},e)};document.onmousemove=e=>{e.preventDefault(),ae(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,C&&(C.style.display=""),ie(),L(s,"is--drag"),O("resize-end",{prevItem:g,nextItem:b,offsetHeight:ee,offsetWidth:H},e),F()},C&&(C.style.display="block",oe(t)),ae(t),$(s,"is--drag"),O("resize-start",{prevItem:g,nextItem:b},t)},j=(t,n,r,o)=>{const{vertical:i}=e;let a=!1,l=n;o?(l=r,a=!r.isExpand,r.isExpand=a):(a=!n.isExpand,n.isExpand=a),i?n.isExpand&&r.isExpand?(n.foldHeight=0,r.foldHeight=0):n.isExpand?(r.foldHeight=0,n.foldHeight=(n.resizeHeight||n.renderHeight)+(r.resizeHeight||r.renderHeight)):(n.foldHeight=0,r.foldHeight=(n.resizeHeight||n.renderHeight)+(r.resizeHeight||r.renderHeight)):n.isExpand&&r.isExpand?(n.foldWidth=0,r.foldWidth=0):n.isExpand?(r.foldWidth=0,n.foldWidth=(n.resizeWidth||n.renderWidth)+(r.resizeWidth||r.renderWidth)):(n.foldWidth=0,r.foldWidth=(n.resizeWidth||n.renderWidth)+(r.resizeWidth||r.renderWidth)),O("toggle-expand",{prevItem:n,nextItem:r,expanded:a,item:l},t),F()},z=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"===n.trigger&&s&&p&&p.isExpand&&j(e,s,p,!1),O("action-dblclick",{prevItem:s,nextItem:p},e)},B=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"!==n.trigger&&s&&p&&p.isExpand&&j(e,s,p,!1),O("action-click",{prevItem:s,nextItem:p},e)},H=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"===n.trigger&&s&&p&&s.isExpand&&j(e,s,p,!0),O("action-dblclick",{prevItem:s,nextItem:p},e)},W=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"!==n.trigger&&s&&p&&s.isExpand&&j(e,s,p,!0),O("action-click",{prevItem:s,nextItem:p},e)},q=()=>{F()},U={dispatchEvent:O,recalculate:F,reset:M,loadItem:N,reloadItem:R},G={};Object.assign(E,U,G);const Y=(t,n)=>{const{border:r,resize:a,vertical:l}=e,{itemList:s}=d,c=C.value,u=b.value,{direction:p}=u,f=w().isBoolean(u.showPrevButton)?u.showPrevButton:s.some(e=>e.showAction),h=w().isBoolean(u.showNextButton)?u.showNextButton:"next"===p&&s.some(e=>e.showAction),m=v.value,{immediate:g}=m;return(0,i.h)("div",{class:["vxe-split-pane-handle",l?"is--vertical":"is--horizontal",g?"is-resize--immediate":"is-resize--lazy",{"is--resize":a,"is--border":r}]},[(0,i.h)("div",{class:"vxe-split-pane-handle-bar",style:c,onMousedown:_}),2===s.length?(0,i.h)("div",{class:"vxe-split-pane-action-btn-wrapper"},[f&&n.isExpand?(0,i.h)("div",{class:"vxe-split-pane-action-btn",onDblclick:z,onClick:B},[(0,i.h)("i",{class:A(t,n,!1)})]):(0,o.C1)(E),h&&t.isExpand?(0,i.h)("div",{class:"vxe-split-pane-action-btn",onDblclick:H,onClick:W},[(0,i.h)("i",{class:A(t,n,!0)})]):(0,o.C1)(E)]):(0,o.C1)(E)])},K=()=>{const{border:t,padding:n,resize:r,vertical:o}=e,{itemList:a}=d,l=u.value,s=v.value,{immediate:c}=s,p=x.value,{autoItems:f}=y.value,h=[];return a.forEach((e,s)=>{const{id:u,name:d,slots:m,renderHeight:g,resizeHeight:v,foldHeight:b,renderWidth:x,resizeWidth:y,foldWidth:w,isExpand:C}=e,k=a[s+1],S=m?m.default:null,T={};let E=C?w||y||x:0,O=C?b||v||g:0;1===f.length&&(o?e.height||(O=0):e.width||(E=0));let A=!0;o?O&&p.length>1&&(A=!1,T.height=V(O)):E&&p.length>1&&(A=!1,T.width=V(E)),h.push((0,i.h)("div",{itemid:u,class:["vxe-split-pane",o?"is--vertical":"is--horizontal",c?"is-resize--immediate":"is-resize--lazy",{[`size--${l}`]:l,"is--resize":r,"is--padding":n,"is--border":t,"is--height":O,"is--width":E,"is--visible":C,"is--hidden":!C,"is--fill":C&&A}],style:T},[(0,i.h)("div",{itemid:u,class:"vxe-split-pane--wrapper"},[(0,i.h)("div",{class:"vxe-split-pane--inner"},S?D(S,{name:d,isExpand:C}):[])])])),k&&h.push(Y(e,k))}),(0,i.h)("div",{class:"vxe-split-wrapper"},h)},X=()=>{const{vertical:t,width:n,height:o}=e,a=u.value,d=v.value,{immediate:p,showTip:f}=d,h=r.default,m={};return o&&(m.height=V(o)),n&&(m.width=V(n)),(0,i.h)("div",{ref:l,class:["vxe-split",t?"is--vertical":"is--horizontal",p?"is-resize--immediate":"is-resize--lazy",{[`size--${a}`]:a}],style:m},[(0,i.h)("div",{class:"vxe-split-slots"},h?h({}):[]),K(),(0,i.h)("div",{ref:c,class:["vxe-split--resizable-split-tip",t?"is--vertical":"is--horizontal",p?"is-resize--immediate":"is-resize--lazy"]},f?[(0,i.h)("div",{class:"vxe-split--resizable-split-tip-number"},[(0,i.h)("div",{class:"vxe-split--resizable-split-number-prev"}),(0,i.h)("div",{class:"vxe-split--resizable-split-number-next"})])]:[]),(0,i.h)("div",{class:"vxe-split--render-vars"},[(0,i.h)("div",{ref:s,class:"vxe-split--handle-bar-info"})])])},Z=(0,i.ref)(0);let J;return(0,i.watch)(()=>e.items?e.items.length:-1,()=>{Z.value++}),(0,i.watch)(()=>e.items,()=>{Z.value++}),(0,i.watch)(Z,()=>{N(e.items||[])}),(0,i.watch)(()=>d.staticItems,t=>{const n=b.value,{showPrevButton:r,showNextButton:o}=n;e.items&&e.items.length&&h("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),d.itemList=t||[],(r||o)&&d.itemList.length>2&&h("vxe.error.modelConflicts",["[split] action-config.showPrevButton | action-config.showNextButton","<vxe-split-pane ...> Only supports 2 panel"]),d.itemList.forEach(e=>{e.showAction&&f("vxe.error.removeProp",["[split] showAction"])}),F()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{F()});const e=l.value;e&&(J=o.yD.create(()=>{F()}),J.observe(e));const t=b.value;t.direction&&h("vxe.error.delProp",["[split] action-config.direction","action-config.showPrevButton | action-config.showNextButton"]),o.Nh.on(E,"resize",q)}),(0,i.onUnmounted)(()=>{J&&J.disconnect(),o.Nh.off(E,"resize")}),(0,i.onActivated)(()=>{F()}),e.items&&N(e.items),(0,i.provide)("$xeSplit",E),E.renderVN=X,E},render(){return this.renderVN()}});const sl=Object.assign({},ll,{install(e){e.component(ll.name,ll)}});u.use(sl),o.OE.component(ll);const cl=sl;var ul=sl;function dl(e,t,n){const r=e.reactData.staticItems,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticItems=r.slice(0))}function pl(e,t){const n=e.reactData.staticItems,r=w().findIndexOf(n,e=>e.id===t.id);r>-1&&n.splice(r,1),e.reactData.staticItems=n.slice(0)}var fl=a({name:"VxeSplitPane",props:{name:[Number,String],width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>null},minHeight:{type:[Number,String],default:()=>null},showAction:Boolean},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeSplit",null),s=(0,i.ref)(),c=(0,i.reactive)({id:a,name:e.name,width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,showAction:e.showAction,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0,slots:r}),u=(0,i.reactive)({}),d={},p={},f={refElem:s},h={xID:a,props:e,context:t,reactData:u,internalData:d,getRefMaps:()=>f,getComputeMaps:()=>p},m=(e,t,r)=>{n(e,(0,o.lh)(r,{$splitPane:h},t))},g={dispatchEvent:m},v={};Object.assign(h,g,v);const b=()=>(0,i.h)("div",{ref:s});return(0,i.watch)(()=>e.name,e=>{c.name=e}),(0,i.watch)(()=>e.width,e=>{c.width=e}),(0,i.watch)(()=>e.height,e=>{c.height=e}),(0,i.watch)(()=>e.minWidth,e=>{c.minWidth=e}),(0,i.watch)(()=>e.minHeight,e=>{c.minHeight=e}),(0,i.watch)(()=>e.showAction,e=>{c.showAction=e}),(0,i.onMounted)(()=>{const e=s.value;l&&e&&dl(l,e,c)}),(0,i.onUnmounted)(()=>{l&&pl(l,c)}),(0,i.provide)("$xeSplitItem",h),h.renderVN=b,h},render(){return this.renderVN()}});const hl=Object.assign({},fl,{install(e){e.component(fl.name,fl),e.component("VxeSplitItem",fl)}});u.use(hl),o.OE.component(fl);const ml=hl;var gl=hl,vl=a({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>(0,o.zj)().slider.max},min:{type:[String,Number],default:()=>(0,o.zj)().slider.min},step:{type:[String,Number],default:()=>(0,o.zj)().slider.step},size:{type:String,default:()=>(0,o.zj)().slider.size||(0,o.zj)().size},range:{type:Boolean,default:()=>(0,o.zj)().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change","track-dragstart","track-dragover","track-dragend"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.reactive)({startValue:0,endValue:0}),m={refElem:c},g=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&r.props.readonly:t}),v=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&r.props.disabled:t}),b=(0,i.computed)(()=>w().toNumber(e.max||0)),x=(0,i.computed)(()=>w().toNumber(e.min||0)),y={},C={xID:l,props:e,context:t,reactData:h,getRefMaps:()=>m,getComputeMaps:()=>y},k=e=>{n("update:modelValue",e)},S=(e,t,r)=>{n(e,(0,o.lh)(r,{$slider:C},t))},T={dispatchEvent:S},E=t=>{const{range:n}=e,r=b.value,o=x.value;return n?w().floor((t-o)/w().toNumber(r-o)*100):0},O=(t,n)=>{const{range:r}=e,o=b.value,i=x.value;return w().floor((n-(r?t:0)-i)/w().toNumber(o-i)*100)},D=()=>{const{modelValue:t}=e;if(w().isArray(t)){const[e,n]=w().clone(t,!0).sort();h.startValue=w().floor(w().toNumber(e||0)),h.endValue=w().floor(w().toNumber(n||0))}else h.startValue=0,h.endValue=w().floor(w().toNumber(t||0))},A=()=>{const{startValue:e,endValue:t}=h,n=d.value,r=p.value,o=f.value;let i=0,a=0;e>t?(i=E(t),a=O(t,e)):(i=E(e),a=O(e,t)),n&&(n.style.left=`${i}%`,n.style.width=`${a}%`),r&&(r.style.left=`${i}%`),o&&(o.style.left=`${w().floor(i+a)}%`)},M=t=>{const{range:n}=e,{startValue:o,endValue:i}=h,l=n?[o,i].sort():i;k(l),S("change",{value:l},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,l)},I=(e,t)=>{const n=g.value,r=v.value,o=b.value,i=x.value;n||r||(e.preventDefault(),document.onmousemove=e=>{e.preventDefault();const n=c.value,r=u.value;if(n&&r){const n=r.getBoundingClientRect(),a=(e.clientX-n.left)/n.width;t?h.endValue=w().floor(Math.max(i,Math.min(o,a*(o-i)+i))):h.startValue=w().floor(Math.max(i,Math.min(o,a*(o-i)))),S("track-dragover",{startValue:h.startValue,endValue:h.endValue},e)}A()},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,S("track-dragend",{startValue:h.startValue,endValue:h.endValue},e),M(e),A()},S("track-dragstart",{startValue:h.startValue,endValue:h.endValue},e))},N=e=>{const t=f.value,n=e.currentTarget;I(e,!!t&&t.offsetLeft<n.offsetLeft)},R=e=>{const t=p.value,n=e.currentTarget;I(e,!t||n.offsetLeft>t.offsetLeft)},F={};Object.assign(C,T,F);const _=()=>{const{vertical:t,range:n}=e,r=s.value,a=g.value,l=v.value;return(0,i.h)("div",{ref:c,class:["vxe-slider",{[`size--${r}`]:r,"is--vertical":t,"is--readonly":a,"is--disabled":l}]},[(0,i.h)("div",{class:"vxe-slider--inner"},[(0,i.h)("div",{ref:u,class:"vxe-slider--bar-wrapper"}),(0,i.h)("div",{ref:d,class:"vxe-slider--bar-track"}),a||!n?(0,o.C1)(C):(0,i.h)("div",{ref:p,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:N}),a?(0,o.C1)(C):(0,i.h)("div",{ref:f,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:R})])])};return(0,i.watch)(()=>e.modelValue,()=>{D()}),(0,i.onMounted)(()=>{A()}),D(),C.renderVN=_,C},render(){return this.renderVN()}});const bl=Object.assign({},vl,{install(e){e.component(vl.name,vl)}});u.use(bl),o.OE.component(vl);const xl=bl;var yl=bl,wl=a({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$steps:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>(0,i.h)("div",{ref:a,class:"vxe-steps"},[]);return u.renderVN=h,u},render(){return this.renderVN()}});const Cl=Object.assign({},wl,{install(e){e.component(wl.name,wl)}});u.use(Cl),o.OE.component(wl);const kl=Cl;var Sl=Cl,Tl=a({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().switch.size||(0,o.zj)().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({isActivated:!1,hasAnimat:!1,offsetLeft:0}),u={},d={xID:l,props:e,context:t,reactData:c,internalData:u},p=(0,i.ref)();let f={};const h=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),g=(0,i.computed)(()=>Me(e.openLabel)),v=(0,i.computed)(()=>Me(e.closeLabel)),b=(0,i.computed)(()=>e.modelValue===e.openValue),x=e=>{n("update:modelValue",e)},y=t=>{const n=h.value,o=m.value;if(!n&&!o){const n=b.value;clearTimeout(u.atTimeout);const o=n?e.closeValue:e.openValue;c.hasAnimat=!0,x(o),f.dispatchEvent("change",{value:o},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,o),u.atTimeout=setTimeout(()=>{c.hasAnimat=!1,u.atTimeout=void 0},400)}},C=(e,t,r)=>{n(e,(0,o.lh)(r,{$switch:d},t))},k=t=>{c.isActivated=!0,f.dispatchEvent("focus",{value:e.modelValue},t)},S=t=>{c.isActivated=!1,f.dispatchEvent("blur",{value:e.modelValue},t)};f={dispatchEvent:C,focus(){const e=p.value;return c.isActivated=!0,e&&e.focus(),(0,i.nextTick)()},blur(){const e=p.value;return e&&e.blur(),c.isActivated=!1,(0,i.nextTick)()}},Object.assign(d,f);const T=()=>{const{openIcon:t,closeIcon:n,openActiveIcon:r,closeActiveIcon:a}=e,l=s.value,u=b.value,f=g.value,x=v.value,w=h.value,C=m.value;return(0,i.h)("div",{class:["vxe-switch",u?"is--on":"is--off",{[`size--${l}`]:l,"is--disabled":w,"is--readonly":C,"is--animat":c.hasAnimat}]},[(0,i.h)("button",{ref:p,class:"vxe-switch--button",type:"button",disabled:w||C,onClick:y,onFocus:k,onBlur:S},[(0,i.h)("span",{class:"vxe-switch--label vxe-switch--label-on"},[t?(0,i.h)("i",{class:["vxe-switch--label-icon",t]}):(0,o.C1)(d),f]),(0,i.h)("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?(0,i.h)("i",{class:["vxe-switch--label-icon",n]}):(0,o.C1)(d),x]),(0,i.h)("span",{class:["vxe-switch--icon"]},r||a?[(0,i.h)("i",{class:u?r:a})]:[])])])};return d.renderVN=T,d},render(){return this.renderVN()}});const El=Object.assign(Tl,{install:function(e){e.component(Tl.name,Tl)}});u.use(El),o.OE.component(Tl);const Ol=El;var Dl=El;function Al(e,t,n){const r=e.reactData.staticTabs,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticTabs=r.slice(0))}function Ml(e,t){const n=e.reactData.staticTabs,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticTabs=n.slice(0)}var Il=a({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.inject)("$xeTabs",null),c=(0,i.reactive)({}),u=(0,i.reactive)({id:a,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:n}),d={refElem:l},p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$tabPane:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g),(0,i.watch)(()=>e.title,e=>{u.title=e}),(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.icon,e=>{u.icon=e}),(0,i.watch)(()=>e.permissionCode,e=>{u.permissionCode=e}),(0,i.onMounted)(()=>{const e=l.value;s&&e&&Al(s,e,u)}),(0,i.onUnmounted)(()=>{s&&Ml(s,u)});const v=()=>(0,i.h)("div",{ref:l},[]);return f.renderVN=v,f},render(){return this.renderVN()}});const Nl=Object.assign({},Il,{install(e){e.component(Il.name,Il)}});u.use(Nl),o.OE.component(Il);const Rl=Nl;var Fl=Nl;function _l(){return w().uniqueId("row_")}function Pl(){return{fullRowMaps:{}}}var jl=a({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>w().eqNull((0,o.zj)().tableSelect.placeholder)?(0,o.TO)("vxe.base.pleaseSelect"):(0,o.zj)().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,lazyOptions:Array,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().tableSelect.size||(0,o.zj)().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","form-submit","form-reset","form-collapse","page-change"],setup(e,t){const{emit:n,slots:r}=t,a=o.OE.getComponent("vxe-grid"),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),d=(0,i.inject)("xeFormItemInfo",null),p=w().uniqueId(),{computeSize:f}=(0,o.XX)(e),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.reactive)({initialized:!1,tableColumns:[],fullOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),k=Pl(),S={refElem:m},T=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t}),E=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t}),O=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().select.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),D=(0,i.computed)(()=>e.optionProps||{}),A=(0,i.computed)(()=>{const e=F.value;return Object.assign({},e.rowConfig,{isCurrent:!0})}),M=(0,i.computed)(()=>{const e=A.value;return e.keyField||"_X_ROW_KEY"}),I=(0,i.computed)(()=>{const e=D.value;return e.label||"label"}),N=(0,i.computed)(()=>{const e=D.value;return e.value||"value"}),R=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tableSelect.popupConfig,e.popupConfig)),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tableSelect.gridConfig,e.gridConfig,{data:void 0})),_=(0,i.computed)(()=>{const e=F.value,{pagerConfig:t,proxyConfig:n}=e;if(n){const r=n.ajax;if(r&&r.query){const o=w().clone(n,!0),i=r.query;if(i){const e=n.response||n.props||{};Object.assign(o.ajax,{query(n,...r){return Promise.resolve(i(n,...r)).then(n=>{let r=[];if(t){const t=e.result;r=(w().isFunction(t)?t({data:n,$table:null,$grid:null,$gantt:null}):w().get(n,t||"result"))||[]}else{const t=e.list;r=(t?w().isFunction(t)?t({data:n,$table:null,$grid:null,$gantt:null}):w().get(n,t):n)||[]}return Q(r||[]),n})}})}return Object.assign({},e,{proxyConfig:o})}}return e}),P=(0,i.computed)(()=>{const{modelValue:t,lazyOptions:n}=e,{fullOptionList:r}=y,{fullRowMaps:o}=k,i=N.value,a=I.value;return r?(w().isArray(t)?t:[t]).map(e=>{const t=o[e];if(t)return t.item[a];if(n){const t=n.find(t=>t[i]===e);if(t)return t[a]}return e}).join(", "):""}),j=(0,i.computed)(()=>{const e=R.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),L={},$={xID:p,props:e,context:t,reactData:y,getRefMaps:()=>S,getComputeMaps:()=>L},z=["form-submit","form-reset","form-collapse","page-change"],B={};z.forEach(e=>{B[C(w().camelCase(e))]=t=>{W(e,t,t.$event)}});const W=(e,t,r)=>{n(e,(0,o.lh)(r,{$tableSelect:$},t))},q=e=>{n("update:modelValue",e)},U={dispatchEvent:W},G={},Y=e=>{const t=M.value,n=e[t];return n?encodeURIComponent(n):""},K=e=>{const{fullRowMaps:t}=k,n=[],r=w().eqNull(e)?[]:w().isArray(e)?e:[e];return r.forEach(e=>{const r=t[e];r&&n.push(r.item)}),n},Z=t=>{const{multiple:n}=e;(0,i.nextTick)(()=>{const e=x.value;if(e){const r=K(t);r.length&&(n?e.setCheckboxRow(r,!0):e.setRadioRow(r[0]))}})},J=t=>{if(!t||!t.length)return;const{multiple:n}=e,r=[];let o=!1,i=!1;t.forEach(e=>{o||"radio"!==e.type?i||"checkbox"!==e.type||(i=!0):o=!0,r.push(e)}),n?i||r.unshift({type:"checkbox",width:70}):o||r.unshift({type:"radio",width:70}),y.tableColumns=r},Q=t=>{const{options:n}=e,r=M.value,o=N.value,i=F.value,{treeConfig:a,pagerConfig:l}=i,s={},c={};a||w().arrayEach(t||n||[],(e,t,n)=>{let i=Y(e);i||(i=_l()),c[i]&&h("vxe.error.repeatKey",[`[table-select] ${r}`,i]),c[i]=!0;const a=e[o];s[a]&&h("vxe.error.repeatKey",[`[table-select] ${o}`,a]),s[a]={item:e,index:t,items:n,parent:null,nodes:[]}}),y.fullOptionList=t||n||[],k.fullRowMaps=l?Object.assign({},k.fullRowMaps,s):s,Z(e.modelValue)},ee=()=>{const{zIndex:t}=e;t?y.panelIndex=t:y.panelIndex<Ee()&&(y.panelIndex=Te())},te=()=>{const{placement:t}=e,{panelIndex:n}=y,r=m.value,o=b.value,a=O.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},ne=()=>{const{loading:t}=e,n=E.value;t||n||(k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,k.vpTimeout=setTimeout(()=>{y.visiblePanel=!0,Z(e.modelValue),k.vpTimeout=void 0},10),ee(),te())},re=()=>{y.visiblePanel=!1,k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),k.hpTimeout=setTimeout(()=>{y.isAniVisible=!1,k.hpTimeout=void 0},350)},oe=(t,n,r)=>{q(n),n!==e.modelValue&&(W("change",{value:n,row:r,option:r},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},ie=(e,t)=>{oe(e,t,null),W("clear",{value:t},e)},ae=(e,t)=>{ie(t,null),re()},le=e=>{const{visiblePanel:t}=y,n=E.value;if(!n&&t){const t=b.value;H(e,t).flag?te():re()}},se=e=>{const{visiblePanel:t}=y,n=E.value;if(!n){const n=m.value,r=b.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&re()}},ce=()=>{const{visiblePanel:e,isActivated:t}=y;if(e&&re(),t&&(y.isActivated=!1),e||t){const e=g.value;e&&e.blur()}},ue=()=>{const{visiblePanel:e}=y;e&&te()},de=e=>{const t=E.value;t||y.visiblePanel||(y.triggerFocusPanel=!0,ne(),setTimeout(()=>{y.triggerFocusPanel=!1},150)),W("focus",{},e)},pe=e=>{he(e),W("click",{},e)},fe=e=>{y.isActivated=!1,W("blur",{},e)},he=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?re():ne()},me=e=>{const{$event:t,row:n}=e,r=N.value,o=n[r];oe(t,o,n),re()},ge=e=>{const{$grid:t,$event:n,row:r}=e,o=N.value;if(t){const e=t.getCheckboxRecords(),i=e.map(e=>e[o]);oe(n,i,r)}},ve=e=>{ge(e)};Object.assign($,U,G);const be=()=>{const{className:t,options:n,loading:l}=e,{initialized:s,isActivated:c,isAniVisible:u,visiblePanel:d,tableColumns:p}=y,h=f.value,C=E.value,k=P.value,S=O.value,D=T.value,M=R.value,{className:I}=M,N=_.value,F=A.value,L=j.value,z=r.header,V=r.footer,H=r.prefix;return D?(0,i.h)("div",{ref:m,class:["vxe-table-select--readonly",t]},[(0,i.h)("span",{class:"vxe-table-select-label"},k)]):(0,i.h)("div",{ref:m,class:["vxe-table-select",t?w().isFunction(t)?t({$tableSelect:$}):t:"",{[`size--${h}`]:h,"is--visible":d,"is--disabled":C,"is--loading":l,"is--active":c}]},[(0,i.h)(ln,{ref:g,clearable:e.clearable,placeholder:l?(0,o.TO)("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:C,type:"text",prefixIcon:e.prefixIcon,suffixIcon:l?(0,o.sW)().TABLE_SELECT_LOADED:d?(0,o.sW)().TABLE_SELECT_OPEN:(0,o.sW)().TABLE_SELECT_CLOSE,modelValue:l?"":k,onClear:ae,onClick:pe,onFocus:de,onBlur:fe,onSuffixClick:he},H?{prefix:()=>H({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!S||!s},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-table-select--panel",I?w().isFunction(I)?I({$tableSelect:$}):I:"",{[`size--${h}`]:h,"is--transfer":S,"ani--leave":!l&&u,"ani--enter":!l&&d}],placement:y.panelPlacement,style:y.panelStyle},s?[(0,i.h)("div",{class:"vxe-table-select--panel-wrapper"},[z?(0,i.h)("div",{class:"vxe-table-select--panel-header"},z({})):(0,o.C1)($),(0,i.h)("div",{class:"vxe-table-select--panel-body"},[(0,i.h)("div",{ref:v,class:"vxe-table-select-grid--wrapper",style:L},[a?(0,i.h)(a,Object.assign(Object.assign(Object.assign({},N),B),{class:"vxe-table-select--grid",ref:x,rowConfig:F,data:n,columns:p.length?p:N.columns,height:"100%",autoResize:!0,onRadioChange:me,onCheckboxChange:ge,onCheckboxAll:ve}),Object.assign({},r,{header:void 0,footer:void 0,prefixSlot:void 0})):(0,o.C1)($)])]),V?(0,i.h)("div",{class:"vxe-table-select--panel-footer"},V({})):(0,o.C1)($)])]:[])])])};return(0,i.watch)(()=>e.options,()=>{Q()}),(0,i.watch)(()=>e.columns,e=>{J(e)}),(0,i.watch)(()=>e.modelValue,e=>{Z(e)}),J(e.columns),Q(),(0,i.onMounted)(()=>{const{gridConfig:t}=e;t&&t.proxyConfig&&!1!==t.proxyConfig.autoLoad&&(y.initialized=!0),o.Nh.on($,"mousewheel",le),o.Nh.on($,"mousedown",se),o.Nh.on($,"blur",ce),o.Nh.on($,"resize",ue)}),(0,i.onUnmounted)(()=>{o.Nh.off($,"mousewheel"),o.Nh.off($,"mousedown"),o.Nh.off($,"blur"),o.Nh.off($,"resize"),w().assign(k,Pl())}),(0,i.nextTick)(()=>{a||h("vxe.error.reqComp",["[table-select] vxe-grid"])}),(0,i.provide)("$xeTableSelect",$),$.renderVN=be,$},render(){return this.renderVN()}});const Ll=Object.assign({},jl,{install(e){e.component(jl.name,jl)}});u.use(Ll),o.OE.component(jl);const $l=Ll;var zl=Ll;const Vl=20;var Bl=a({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,width:[String,Number],height:[String,Number],destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().tabs.destroyOnClose},titleWidth:[String,Number],titleAlign:[String,Number],type:{type:String,default:()=>(0,o.zj)().tabs.type},position:{type:String,default:()=>(0,o.zj)().tabs.position},showClose:Boolean,showBody:{type:Boolean,default:!0},padding:{type:Boolean,default:()=>(0,o.zj)().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,size:{type:String,default:()=>(0,o.zj)().tabs.size||(0,o.zj)().size},beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeTabs",null),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),m=(0,i.reactive)({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintTop:0,lintWidth:0,lintHeight:0,scrollbarWidth:0,scrollbarHeight:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),g={slTimeout:void 0},v={refElem:c},b=(0,i.computed)(()=>{const{type:t}=e;return t||"default"}),x=(0,i.computed)(()=>{const{position:t}=e;return t||"top"}),y=(0,i.computed)(()=>{const e=x.value;return"left"===e||"right"===e}),C=(0,i.computed)(()=>{const{lintLeft:e,lintTop:t,lintWidth:n,lintHeight:r}=m,o=y.value;return o?{top:`${t}px`,height:`${r}px`}:{left:`${e}px`,width:`${n}px`}}),k=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),S=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tabs.closeConfig,e.closeConfig)),E=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tabs.refreshConfig,e.refreshConfig)),O=(0,i.computed)(()=>{const{options:t}=e;return(t||[]).filter(e=>N(e))}),D=(0,i.computed)(()=>{const{staticTabs:e}=m;return e.filter(e=>N(e))}),A=(0,i.computed)(()=>l?l.reactData.resizeFlag:null),M={},I={xID:a,props:e,context:t,reactData:m,getRefMaps:()=>v,getComputeMaps:()=>M},N=e=>{const{permissionCode:t}=e;return!(t&&!o.EK.checkVisible(t))},R=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],F=()=>{const e=y.value,t=u.value,n=d.value,r=p.value;if(t){const{scrollLeft:o,scrollTop:i,clientWidth:a,clientHeight:l,scrollWidth:s,scrollHeight:c}=t;n&&((e?i:o)>0?$(n,"scrolling--middle"):L(n,"scrolling--middle")),r&&((e?l<c-Math.ceil(i):a<s-Math.ceil(o))?$(r,"scrolling--middle"):L(r,"scrolling--middle"))}},_=()=>{const e=()=>{const{activeName:e}=m,t=b.value,n=O.value,r=D.value,o=u.value,i=y.value;let a=0,l=0,s=0,c=0,d=0,p=0,f=!1;if(o){const u=w().findIndexOf(r.length?r:n,t=>t.name===e),{children:h,offsetWidth:m,scrollWidth:g,offsetHeight:v,scrollHeight:b,clientWidth:x,clientHeight:y}=o;if(d=m-x,p=v-y,i){if(f=b!==y,u>-1){const e=h[u];if(e){const n=e.clientHeight,r=e.clientWidth;"card"===t?(a=r,l=n,c=e.offsetTop):"border-card"===t?(a=r,l=n,c=e.offsetTop-1):(l=Math.max(4,Math.floor(.6*n)),c=e.offsetTop+Math.floor((n-l)/2))}}}else if(f=g!==x,u>-1){const e=h[u];if(e){const n=e.clientWidth;"card"===t?(a=n+1,s=e.offsetLeft):"border-card"===t?(a=n,s=e.offsetLeft-1):(a=Math.max(4,Math.floor(.6*n)),s=e.offsetLeft+Math.floor((n-a)/2))}}}m.scrollbarWidth=d,m.scrollbarHeight=p,m.lintLeft=s,m.lintTop=c,m.lintWidth=a,m.lintHeight=l,m.isTabOver=f,F()};e(),(0,i.nextTick)(e)},P=(e,t,n)=>{r(e,(0,o.lh)(n,{$tabs:I},t))},j=e=>{r("update:modelValue",e)},z=(e,t)=>{const{initNames:n}=m;return!(!e||n.includes(e))&&(P("tab-load",{name:e},t),n.push(e),!0)},B=t=>{let n=null;const r={};if(t&&t.length){let o=!1;n=e.modelValue,t.forEach(e=>{const{name:t,preload:i}=e||{};t&&(r[`${t}`]={loading:!1},n===t&&(o=!0),i&&z(t,null))}),o||(n=t[0].name,z(n,null),j(n))}m.activeName=n,m.cacheTabMaps=r},H=(t,n)=>{const{trigger:r}=e,i=e.beforeChangeMethod||(0,o.zj)().tabs.beforeChangeMethod,{activeName:a}=m,{name:l}=n,s=l;P("tab-click",{name:l},t),"manual"!==r&&l!==a&&Promise.resolve(!i||i({$tabs:I,name:l,oldName:a,newName:l,option:n})).then(e=>{e?(m.activeName=l,j(s),z(l,t),P("change",{value:s,name:l,oldName:a,newName:l,option:n},t),P("tab-change",{value:s,name:l,oldName:a,newName:l,option:n},t)):P("tab-change-fail",{value:s,name:l,oldName:a,newName:l,option:n},t)}).catch(()=>{P("tab-change-fail",{value:s,name:l,oldName:a,newName:l,option:n},t)})},W=(e,t)=>{e.stopPropagation();const{activeName:n,cacheTabMaps:r}=m,{name:o}=t,i=E.value,{queryMethod:a}=i,l=o?r[`${o}`]:null;if(l)if(a){if(l.loading)return;l.loading=!0,Promise.resolve(a({$tabs:I,value:n,name:o,option:t})).finally(()=>{l.loading=!1})}else h("vxe.error.notFunc",["refresh-config.queryMethod"])},q=(t,n,r,i)=>{t.stopPropagation();const{activeName:a}=m,l=S.value,s=l.beforeMethod||e.beforeCloseMethod||(0,o.zj)().tabs.beforeCloseMethod,{name:c}=n,u=a;let d=u;if(a===c){const e=r<i.length-1?i[r+1]:i[r-1];d=e?e.name:null}Promise.resolve(!s||s({$tabs:I,value:u,name:c,nextName:d,option:n})).then(e=>{P(e?"tab-close":"tab-close-fail",{value:u,name:c,nextName:d},t)}).catch(()=>{P("tab-close-fail",{value:u,name:c,nextName:d},t)})},U=(e,t)=>{const{slTimeout:n}=g,r=y.value;let o=r?0:t,i=r?t:0,a=6,l=35;n&&(clearTimeout(n),g.slTimeout=void 0);const s=()=>{const t=u.value;if(a>0&&(a--,t)){const{clientWidth:n,clientHeight:a,scrollWidth:c,scrollHeight:u,scrollLeft:d,scrollTop:p}=t;r?(i=Math.floor(i/2),e>0?a+p<u&&(t.scrollTop+=i,l-=4,g.slTimeout=setTimeout(s,l)):p>0&&(t.scrollTop-=i,l-=4,g.slTimeout=setTimeout(s,l))):(o=Math.floor(o/2),e>0?n+d<c&&(t.scrollLeft+=o,l-=4,g.slTimeout=setTimeout(s,l)):d>0&&(t.scrollLeft-=o,l-=4,g.slTimeout=setTimeout(s,l))),_()}};s()},G=e=>{const t=y.value,n=u.value;if(n){const{clientWidth:r,clientHeight:o}=n,i=Math.floor(.75*(t?o:r));U(e,i)}},Y=()=>{G(-1)},K=()=>{G(1)},X=e=>{const t=O.value,n=D.value,r=y.value;return(0,i.nextTick)().then(()=>{const o=u.value;if(o){const i=w().findIndexOf(n.length?n:t,t=>t.name===e);if(i>-1){const{scrollLeft:e,scrollTop:t,clientWidth:n,clientHeight:a,children:l}=o,s=l[i];if(s)if(r){const e=s.offsetTop,n=s.clientHeight,r=e+n-(t+a);r>0&&(o.scrollTop+=r),e<t&&(o.scrollTop=e)}else{const t=s.offsetLeft,r=s.clientWidth,i=t+r-(e+n);i>0&&(o.scrollLeft+=i),t<e&&(o.scrollLeft=t)}}_()}})},Z=e=>{const{activeName:t}=m,n=O.value,r=D.value,o=r.length?r:n,a=w().findIndexOf(o,e=>e.name===t);if(a>-1){let t=null;if(e?a<o.length-1&&(t=o[a+1]):a>0&&(t=o[a-1]),t){const e=t.name,n=e;m.activeName=e,j(n),z(e,null)}}return(0,i.nextTick)()},J={dispatchEvent:P,scrollToTab:X,prev(){return Z(!1)},next(){return Z(!0)},prevTab(){return f("vxe.error.delFunc",["[tabs] prevTab","prev"]),J.prev()},nextTab(){return f("vxe.error.delFunc",["[tabs] nextTab","next"]),J.next()}},Q={};Object.assign(I,J,Q);const ee=t=>{const{titleWidth:r,titleAlign:a,showClose:l,closeConfig:s,refreshConfig:c}=e,{activeName:f,scrollbarWidth:h,scrollbarHeight:g,isTabOver:v,cacheTabMaps:w}=m,k=b.value,T=x.value,O=y.value,D=C.value,A=n.tabPrefix||n["tab-prefix"]||n.prefix,M=n.tabSuffix||n["tab-suffix"]||n.suffix||n.extra,N=S.value,_=N.visibleMethod,P=E.value,j=P.visibleMethod;return(0,i.h)("div",{key:"th",class:["vxe-tabs-header",`type--${k}`,`pos--${T}`]},[A?(0,i.h)("div",{class:["vxe-tabs-header--prefix",`type--${k}`,`pos--${T}`]},R(A,{name:f})):(0,o.C1)(I),v?(0,i.h)("div",{ref:d,class:["vxe-tabs-header--bar vxe-tabs-header--prev-bar",`type--${k}`,`pos--${T}`],onClick:Y},[(0,i.h)("span",{class:O?(0,o.sW)().TABS_TAB_BUTTON_TOP:(0,o.sW)().TABS_TAB_BUTTON_LEFT})]):(0,o.C1)(I),(0,i.h)("div",{class:["vxe-tabs-header--wrapper",`type--${k}`,`pos--${T}`]},[(0,i.h)("div",{ref:u,class:"vxe-tabs-header--item-wrapper",style:O?{marginRight:`-${h+Vl}px`,paddingRight:`${Vl}px`}:{marginBottom:`-${g+Vl}px`,paddingBottom:`${Vl}px`},onScroll:F},t.map((e,n)=>{const{title:u,titleWidth:d,titleAlign:p,icon:h,name:m}=e,g=e.slots||{},v=g.title||g.tab,b=g.titlePrefix||g["title-prefix"],x=g.titleSuffix||g["title-suffix"],y=d||r,C=p||a,S={$tabs:I,value:f,name:m,option:e},E=f===m,O=m?w[`${m}`]:null,D=!!O&&O.loading;return(0,i.h)("div",{key:`${m}`,class:["vxe-tabs-header--item",`type--${k}`,`pos--${T}`,C?`align--${C}`:"",{"is--active":E}],style:y?{width:V(y)}:void 0,onClick(t){H(t,e)}},[(0,i.h)("div",{class:"vxe-tabs-header--item-inner"},[(0,i.h)("div",{class:"vxe-tabs-header--item-content"},[h?(0,i.h)("span",{class:"vxe-tabs-header--item-icon"},[(0,i.h)("i",{class:h})]):(0,o.C1)(I),b?(0,i.h)("span",{class:"vxe-tabs-header--item-prefix"},R(b,{name:m,title:u})):(0,o.C1)(I),(0,i.h)("span",{class:"vxe-tabs-header--item-name"},v?R(v,{name:m,title:u}):`${u}`),x?(0,i.h)("span",{class:"vxe-tabs-header--item-suffix"},R(x,{name:m,title:u})):(0,o.C1)(I)]),!Se(c)&&!P.enabled||j&&!j(S)?(0,o.C1)(I):(0,i.h)("div",{class:["vxe-tabs-header--refresh-btn",{"is--active":E,"is--loading":D,"is--disabled":D}],onClick(t){W(t,e)}},[(0,i.h)("i",{class:D?(0,o.sW)().TABS_TAB_REFRESH_LOADING:(0,o.sW)().TABS_TAB_REFRESH})]),!(l||Se(s)||N.enabled)||_&&!_(S)?(0,o.C1)(I):(0,i.h)("div",{class:["vxe-tabs-header--close-btn",{"is--active":E}],onClick(r){q(r,e,n,t)}},[(0,i.h)("i",{class:(0,o.sW)().TABS_TAB_CLOSE})])])])}).concat([(0,i.h)("span",{key:"line",class:["vxe-tabs-header--active-line",`type--${k}`,`pos--${T}`],style:D})]))]),v?(0,i.h)("div",{ref:p,class:["vxe-tabs-header--bar vxe-tabs-header--next-bar",`type--${k}`,`pos--${T}`],onClick:K},[(0,i.h)("span",{class:O?(0,o.sW)().TABS_TAB_BUTTON_BOTTOM:(0,o.sW)().TABS_TAB_BUTTON_RIGHT})]):(0,o.C1)(I),M?(0,i.h)("div",{class:["vxe-tabs-header--suffix",`type--${k}`,`pos--${T}`]},R(M,{name:f})):(0,o.C1)(I)])},te=e=>{const{initNames:t,activeName:n}=m,{name:r,slots:a}=e,l=a?a.default:null;return r&&t.includes(r)?(0,i.h)("div",{key:`${r}`,class:["vxe-tabs-pane--item",{"is--visible":n===r}]},l?R(l,{name:r}):[]):(0,o.C1)(I)},ne=t=>{const{destroyOnClose:n}=e,{activeName:r}=m;if(n){const e=t.find(e=>e.name===r);return[e?te(e):(0,o.C1)(I)]}return t.map(e=>te(e))},re=t=>{const{height:r,padding:a,showBody:l}=e,{activeName:c,cacheTabMaps:u}=m,d=s.value,p=b.value,f=x.value,h=E.value,{showLoading:g}=h,v=n.header,y=n.footer;if(!l)return(0,o.C1)(I);const w=c?u[`${c}`]:null,C=!!w&&w.loading,k={name:c};return(0,i.h)("div",{key:"tb",class:["vxe-tabs-pane--wrapper",`type--${p}`,`pos--${f}`,{"is--content":l}]},[v?(0,i.h)("div",{class:"vxe-tabs-pane--header"},R(v,k)):(0,o.C1)(I),(0,i.h)("div",{class:["vxe-tabs-pane--body",`type--${p}`,`pos--${f}`,{[`size--${d}`]:d,"is--padding":a,"is--height":r}]},ne(t)),y?(0,i.h)("div",{class:"vxe-tabs-pane--footer"},R(y,k)):(0,o.C1)(I),g&&C?(0,o.C1)(I):(0,i.h)(it,{class:"vxe-tabs--loading",modelValue:C})])},oe=()=>{const{height:t,padding:r,trigger:o}=e,{activeName:a}=m,l=s.value,u=O.value,d=D.value,p=b.value,f=x.value,h=k.value,g=n.default,v=g?d:u,y=[(0,i.h)("div",{key:"ts",class:"vxe-tabs-slots"},g?g({name:a}):[])];return"right"===f||"bottom"===f?y.push(re(v),ee(v)):y.push(ee(v),re(v)),(0,i.h)("div",{ref:c,class:["vxe-tabs",`pos--${f}`,`vxe-tabs--${p}`,"trigger--"+("manual"===o?"trigger":"default"),{[`size--${l}`]:l,"is--padding":r,"is--height":t}],style:h},y)};(0,i.watch)(()=>e.position,()=>{m.resizeFlag++}),(0,i.watch)(()=>e.modelValue,e=>{z(e,null),m.activeName=e}),(0,i.watch)(()=>m.activeName,e=>{X(e)});const ie=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{ie.value++}),(0,i.watch)(()=>e.options,()=>{ie.value++}),(0,i.watch)(ie,()=>{B(e.options),m.resizeFlag++});const ae=(0,i.ref)(0);return(0,i.watch)(()=>m.staticTabs?m.staticTabs.length:-1,()=>{ae.value++}),(0,i.watch)(()=>m.staticTabs,()=>{ae.value++}),(0,i.watch)(ae,()=>{B(m.staticTabs),m.resizeFlag++}),(0,i.watch)(A,()=>{m.resizeFlag++}),(0,i.watch)(()=>m.resizeFlag,()=>{(0,i.nextTick)(()=>{_()})}),(0,i.onMounted)(()=>{_(),o.Nh.on(I,"resize",_)}),(0,i.onUnmounted)(()=>{o.Nh.off(I,"resize")}),(0,i.provide)("$xeTabs",I),z(e.modelValue,null),B(m.staticTabs.length?m.staticTabs:e.options),I.renderVN=oe,I},render(){return this.renderVN()}});const Hl=Object.assign({},Bl,{install(e){e.component(Bl.name,Bl)}});u.use(Hl),o.OE.component(Bl);const Wl=Hl;var ql=Hl,Ul=a({name:"VxeTag",props:{border:{type:Boolean,default:()=>(0,o.zj)().tag.border},visible:{type:Boolean,default:null},status:String,title:[String,Number],icon:String,closeIcon:{type:String,default:()=>(0,o.zj)().tag.closeIcon},content:[String,Number],round:Boolean,closable:{type:Boolean,default:()=>(0,o.zj)().tag.closable},color:String,loading:Boolean,size:{type:String,default:()=>(0,o.zj)().tag.size||(0,o.zj)().size}},emits:["click","dblclick","close","update:visible"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.reactive)({showTag:!1!==e.visible}),u={refElem:s},d={},p={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{r(e,(0,o.lh)(n,{$tag:p},t))},h={dispatchEvent:f},m={},g=()=>{c.showTag=!1!==e.visible},v=t=>{const{loading:n}=e;n||f("click",{},t)},b=t=>{const{loading:n}=e;n||f("dblclick",{},t)},x=t=>{const{loading:n}=e;if(!n){const e=!c.showTag;c.showTag=e,r("update:visible",e),f("close",{visible:e},t)}};Object.assign(p,h,m);const y=()=>{const{icon:t,content:r,closable:a,closeIcon:l,loading:s}=e,c=n.default,u=n.icon,d=n.closeIcon||n["close-icon"];return[u||t?(0,i.h)("span",{class:"vxe-tag--icon"},u?u({}):[(0,i.h)("i",{class:t})]):(0,o.C1)(p),(0,i.h)("span",{class:"vxe-tag--content"},c?c({}):w().toValueString(r)),s||a?(0,i.h)("span",{class:s?"vxe-tag--loading":"vxe-tag--close",onClick:x},!s&&d?d({}):[(0,i.h)("i",{class:s?(0,o.sW)().TAG_LOADING:l||(0,o.sW)().TAG_CLOSE})]):(0,o.C1)(p)]},C=()=>{const{status:t,color:n,title:r,round:a,border:u,loading:d}=e,{showTag:f}=c,h=l.value;return f?(0,i.h)("span",{ref:s,class:["vxe-tag",{[`size--${h}`]:h,[`theme--${t}`]:t&&!n,[`color--${n}`]:n&&!t,"is--round":a,"is--border":u,"is--loading":d}],title:r,onClick:v,onDblclick:b},y()):(0,o.C1)(p)};return(0,i.watch)(()=>e.visible,()=>{g()}),g(),p.renderVN=C,p},render(){return this.renderVN()}});const Gl=Object.assign({},Ul,{install(e){e.component(Ul.name,Ul)}});u.use(Gl),o.OE.component(Ul);const Yl=Gl;var Kl=Gl,Xl=a({name:"VxeTextEllipsis",props:{href:String,target:String,content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],routerLink:Object,underline:{type:Boolean,default:()=>(0,o.zj)().textEllipsis.underline},permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().textEllipsis.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),{computePermissionInfo:l}=(0,o.JT)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.reactive)({resizeObserver:null,visibleLen:0}),d={refElem:s},p=(0,i.computed)(()=>w().toNumber(e.lineClamp)),f=(0,i.computed)(()=>w().toValueString(e.content)),h=(0,i.computed)(()=>e.offsetLength?w().toNumber(e.offsetLength):0),m=(0,i.computed)(()=>{const{visibleLen:e}=u,t=p.value,n=f.value,r=h.value;return t>1&&n.length>e?`${n.slice(0,Math.max(1,e-3+r))}...`:n}),g={},v={xID:r,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$textEllipsis:v},t))},x=e=>{const t=s.value,n=c.value;if(t&&n){let t=12;try{t=Math.max(10,w().toNumber(getComputedStyle(n).fontSize))}catch(r){}const o=f.value;let i=Math.floor(e/t),a=o.slice(0,i);n.textContent=a,u.visibleLen=a.length;let l=0;while(e>n.clientWidth&&l<30){l++;const r=Math.floor((e-n.clientWidth)/t);if(!r)break;i+=r,a=o.slice(0,i),n.textContent=a,u.visibleLen=a.length}n.textContent="",n.style.display="",n.style.position="",n.style.top="",n.style.left=""}},y=()=>{const e=s.value,t=c.value,n=f.value,r=p.value;if(e&&t){const o=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=n;const i=t.offsetWidth,a=Math.floor(o*r);a>i?u.visibleLen=n.length:x(a)}else u.visibleLen=n.length},C={dispatchEvent:b},k=()=>{n("click",{})},S=()=>{const{resizeObserver:e}=u,t=p.value;if(!e){const e=s.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(w().throttle(()=>{y()},300,{leading:!0,trailing:!0}));t.observe(e),u.resizeObserver=t}}},T={};Object.assign(v,C,T);const E=()=>{const{routerLink:t,href:n,target:r,title:o}=e,a=m.value;return t?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-text-ellipsis--link",title:o,target:r,to:t},{default(){return E()}}):n?(0,i.h)("a",{class:"vxe-text-ellipsis--link",href:n,target:r,title:o},a):(0,i.h)("span",{class:"vxe-text-ellipsis--content"},a)},O=()=>{const{loading:t,status:n,title:r,underline:u}=e,d=l.value,f=a.value,h=p.value;return d.visible?(0,i.h)("div",{ref:s,class:["vxe-text-ellipsis",h>1?"is--multi":"is--single",{[`size--${f}`]:f,[`theme--${n}`]:n,"is--underline":u,"is--loading":t}],title:r,onClick:k},[(0,i.h)("span",{ref:c,class:"vxe-text-ellipsis--reality"}),E()]):(0,o.C1)(v)};return(0,i.watch)(()=>e.content,()=>{y()}),(0,i.watch)(()=>e.lineClamp,()=>{S(),y()}),(0,i.onMounted)(()=>{S(),y()}),(0,i.onBeforeUnmount)(()=>{const{resizeObserver:e}=u,t=s.value,n=c.value;n&&(n.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),u.resizeObserver=null)}),v.renderVN=O,v},render(){return this.renderVN()}});const Zl=Object.assign({},Xl,{install(e){e.component(Xl.name,Xl)}});u.use(Zl),o.OE.component(Xl);const Jl=Zl;var Ql=Zl;const es=Object.assign({},fn,{install(e){e.component(fn.name,fn)}});u.use(es),o.OE.component(fn);const ts=es;var ns=es;let rs;var os=a({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>(0,o.zj)().textarea.resize},size:{type:String,default:()=>(0,o.zj)().textarea.size||(0,o.zj)().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur","lazy-change"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({inputValue:e.modelValue}),u=(0,i.ref)(),d=(0,i.ref)(),p={refElem:u,refTextarea:d},f={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>p};let h={};const m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&r.props.readonly:t}),g=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&r.props.disabled:t}),v=(0,i.computed)(()=>{const{editable:t}=e,n=m.value;return n||!t}),b=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return Me(t);const n=(0,o.zj)().textarea.placeholder;return n?Me(n):(0,o.TO)("vxe.base.pleaseInput")}),x=(0,i.computed)(()=>{const{maxLength:t,maxlength:n}=e;return t||n}),y=(0,i.computed)(()=>w().getSize(c.inputValue)),C=(0,i.computed)(()=>{const e=y.value,t=x.value;return t&&e>w().toNumber(t)}),k=(0,i.computed)(()=>Object.assign({minRows:1,maxRows:10},(0,o.zj)().textarea.autosize,e.autosize)),S=()=>{const{size:t,autosize:n}=e,{inputValue:r}=c;if(n){rs||(rs=document.createElement("div")),rs.parentNode||document.body.appendChild(rs);const e=d.value;if(!e)return;const n=getComputedStyle(e);rs.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),rs.style.width=`${e.clientWidth}px`,rs.style.padding=n.padding,rs.innerText=(""+(r||"　")).replace(/\n$/,"\n　")}},T=()=>{e.autosize&&(0,i.nextTick)(()=>{const e=k.value,{minRows:t,maxRows:n}=e,r=d.value;if(!r)return;const o=rs.clientHeight,i=getComputedStyle(r),a=w().toNumber(i.lineHeight),l=w().toNumber(i.paddingTop),s=w().toNumber(i.paddingBottom),c=w().toNumber(i.borderTopWidth),u=w().toNumber(i.borderBottomWidth),p=l+s+c+u,f=(o-p)/a,h=f&&/[0-9]/.test(""+f)?f:Math.floor(f)+1;let m=h;h<t?m=t:h>n&&(m=n),r.style.height=`${m*a+p}px`})},E=e=>{const t=c.inputValue;f.dispatchEvent(e.type,{value:t},e)},O=(t,o)=>{c.inputValue=t,n("update:modelValue",t),w().toValueString(e.modelValue)!==t&&(h.dispatchEvent("change",{value:t},o),r&&a&&r.triggerItemEvent(o,a.itemConfig.field,t))},D=t=>{const{immediate:n}=e,r=t.target,o=r.value;c.inputValue=o,n&&O(o,t),f.dispatchEvent("input",{value:o},t),T()},A=t=>{const{immediate:n}=e;n?E(t):O(c.inputValue,t),f.dispatchEvent("lazy-change",{value:c.inputValue},t)},M=t=>{const{immediate:n}=e,{inputValue:r}=c;n||O(r,t),f.dispatchEvent("blur",{value:r},t)};h={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$textarea:f},t))},focus(){const e=d.value;return e.focus(),(0,i.nextTick)()},blur(){const e=d.value;return e.blur(),(0,i.nextTick)()}},Object.assign(f,h),(0,i.watch)(()=>e.modelValue,e=>{c.inputValue=e,S()}),(0,i.watch)(k,()=>{S(),T()}),(0,i.nextTick)(()=>{const{autosize:t}=e;t&&(S(),T())});const I=()=>{const{className:t,resize:n,autosize:r,showWordCount:o,countMethod:a,rows:l,cols:p}=e,{inputValue:f}=c,h=s.value,k=g.value,S=C.value,T=y.value,O=v.value,I=m.value,N=b.value,R=x.value;return I?(0,i.h)("div",{ref:u,class:["vxe-textarea--readonly",t]},f):(0,i.h)("div",{ref:u,class:["vxe-textarea",t,{[`size--${h}`]:h,"is--autosize":r,"is--count":o,"is--disabled":k,"is--rows":!w().eqNull(l),"is--cols":!w().eqNull(p)}],spellcheck:!1},[(0,i.h)("textarea",{ref:d,class:"vxe-textarea--inner",value:f,name:e.name,placeholder:N,maxlength:R,readonly:O,disabled:k,rows:l,cols:p,style:n?{resize:n}:null,onInput:D,onChange:A,onKeydown:E,onKeyup:E,onClick:E,onFocus:E,onBlur:M}),o?(0,i.h)("span",{class:["vxe-textarea--count",{"is--error":S}]},a?`${a({value:f})}`:`${T}${R?`/${R}`:""}`):null])};return f.renderVN=I,f},render(){return this.renderVN()}});const is=Object.assign(os,{install:function(e){e.component(os.name,os)}});u.use(is),o.OE.component(os);const as=is;var ls=is,ss=a({name:"VxeTip",props:{title:{type:[String,Number],default:()=>(0,o.zj)().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>(0,o.zj)().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().tip.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),{computePermissionInfo:s}=(0,o.JT)(e),c=(0,i.ref)(),u=(0,i.reactive)({}),d={refElem:c},p={},f={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$tip:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{status:t,content:r,icon:a,title:u}=e,d=n.default,p=n.title,h=n.icon,m=s.value,g=l.value;return m.visible?(0,i.h)("div",{ref:c,class:["vxe-tip",{[`size--${g}`]:g,[`theme--${t}`]:t,"has--title":!(!p&&!u)}]},[h||a?(0,i.h)("div",{class:"vxe-tip--icon"},h?T(h({})):[(0,i.h)("i",{class:a})]):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-tip--body"},[p||u?(0,i.h)("div",{class:"vxe-tip--title"},p?T(p({})):w().toValueString(u)):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-tip--content"},d?T(d({})):w().toValueString(r))])]):(0,o.C1)(f)};return f.renderVN=v,f},render(){return this.renderVN()}});const cs=Object.assign({},ss,{install(e){e.component(ss.name,ss),e.component("VxeTipsComponent",ss)}});u.use(cs),o.OE.component(ss);const us=cs,ds=cs;var ps=cs;const fs=Object.assign({},Re,{install(e){e.component(Re.name,Re)}});u.use(fs),o.OE.component(Re);const hs=fs;var ms=fs;function gs(e){return w().eqNull(e)?"":encodeURIComponent(`${e}`)}function vs(e){return e?decodeURIComponent(`${e}`):e}function bs(e,t){let n=1;if(!t)return n;const r=e.props,{transform:o}=r,i=e.reactData,{updateExpandedFlag:a}=i,l=e.internalData,{treeExpandedMaps:s}=l,{computeChildrenField:c,computeMapChildrenField:u}=e.getComputeMaps(),d=c.value,p=u.value,f=t[o?p:d];if(f&&a&&s[e.getNodeId(t)])for(let h=0;h<f.length;h++)n+=bs(e,f[h]);return n}function xs(e,t,n){const r=e.internalData,{scrollYStore:o}=r,{rowHeight:i}=o;let a=1;return n&&(a=bs(e,n)),(i||28)*a-(n?1:12)}function ys(){return w().uniqueId("node_")}function ws(){return{treeFullData:[],afterTreeList:[],afterVisibleList:[],nodeMaps:{},selectCheckboxMaps:{},indeterminateRowMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0}}var Cs=a({name:"VxeTree",props:{data:Array,autoResize:{type:Boolean,default:()=>(0,o.zj)().tree.autoResize},height:[String,Number],maxHeight:{type:[String,Number],default:()=>(0,o.zj)().tree.maxHeight},minHeight:{type:[String,Number],default:()=>(0,o.zj)().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>(0,o.zj)().tree.accordion},childrenField:{type:String,default:()=>(0,o.zj)().tree.childrenField},valueField:{type:String,default:()=>(0,o.zj)().tree.valueField},keyField:{type:String,default:()=>(0,o.zj)().tree.keyField},parentField:{type:String,default:()=>(0,o.zj)().tree.parentField},titleField:{type:String,default:()=>(0,o.zj)().tree.titleField},hasChildField:{type:String,default:()=>(0,o.zj)().tree.hasChildField},mapChildrenField:{type:String,default:()=>(0,o.zj)().tree.mapChildrenField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,expandAll:Boolean,expandNodeKeys:Array,showLine:{type:Boolean,default:()=>(0,o.zj)().tree.showLine},trigger:String,indent:{type:Number,default:()=>(0,o.zj)().tree.indent},showRadio:{type:Boolean,default:()=>(0,o.zj)().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>(0,o.zj)().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>(0,o.zj)().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>(0,o.zj)().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>(0,o.zj)().tree.iconOpen},iconClose:{type:String,default:()=>(0,o.zj)().tree.iconClose},iconLoaded:{type:String,default:()=>(0,o.zj)().tree.iconLoaded},filterValue:[String,Number],filterConfig:Object,size:{type:String,default:()=>(0,o.zj)().tree.size||(0,o.zj)().size},virtualYConfig:Object},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error","scroll"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.reactive)({parentHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,currentNode:null,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,selectRadioKey:gs(e.checkNodeKey),treeList:[],updateExpandedFlag:1,updateCheckboxFlag:1}),m=ws(),g={refElem:s},v=(0,i.computed)(()=>e.titleField||"title"),b=(0,i.computed)(()=>e.keyField||"id"),x=(0,i.computed)(()=>{const t=b.value;return e.valueField||t}),y=(0,i.computed)(()=>e.parentField||"parentId"),C=(0,i.computed)(()=>e.childrenField||"children"),k=(0,i.computed)(()=>e.mapChildrenField||"mapChildren"),S=(0,i.computed)(()=>e.hasChildField||"hasChild"),E=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tree.virtualYConfig,e.virtualYConfig)),O=(0,i.computed)(()=>{const t=I.value,{isCurrent:n}=t;return w().isBoolean(n)?n:e.isCurrent}),D=(0,i.computed)(()=>{const t=I.value,{isHover:n}=t;return w().isBoolean(n)?n:e.isHover}),A=(0,i.computed)(()=>Object.assign({showIcon:!0},(0,o.zj)().tree.radioConfig,e.radioConfig)),M=(0,i.computed)(()=>Object.assign({showIcon:!0},(0,o.zj)().tree.checkboxConfig,e.checkboxConfig)),I=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tree.nodeConfig,e.nodeConfig)),N=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tree.loadingConfig,e.loadingConfig)),R=(0,i.computed)(()=>{const{customHeight:e,customMinHeight:t,customMaxHeight:n}=f,r={};return e&&(r.height=V(e)),t&&(r.minHeight=V(t)),n&&(r.maxHeight=V(n)),r}),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tree.filterConfig,e.filterConfig)),_={computeChildrenField:C,computeMapChildrenField:k,computeRadioOpts:A,computeCheckboxOpts:M,computeNodeOpts:I},j={xID:a,props:e,context:t,internalData:m,reactData:f,getRefMaps:()=>g,getComputeMaps:()=>_},L=e=>{const t=x.value,n=w().get(e,t);return gs(n)},$=e=>{const{updateExpandedFlag:t}=f,{treeExpandedMaps:n}=m,r=L(e);return!(!t||!n[r])},z=e=>{const{selectRadioKey:t}=f;return t===e},B=e=>z(L(e)),H=e=>{const{updateCheckboxFlag:t}=f,{selectCheckboxMaps:n}=m;return!(!t||!n[e])},W=e=>H(L(e)),q=e=>{const{updateCheckboxFlag:t}=f,{indeterminateRowMaps:n}=m;return!(!t||!n[e])},G=e=>q(L(e)),Y=e=>{n("update:checkNodeKeys",e)},K=e=>{n("update:checkNodeKey",e)},X=(e,t)=>{const{nodeMaps:n}=m;if(e){w().isArray(e)||(e=[e]);const r=[];e.forEach(e=>{const t=gs(e),o=n[t];o&&r.push(o.item)}),Z(r,t)}return(0,i.nextTick)()},Z=(t,n)=>{const{transform:r}=e,{selectCheckboxMaps:o}=m,i=k.value,a=C.value,l=M.value,{checkStrictly:s}=l,c=e=>{const t=L(e);n?o[t]||(o[t]=e):o[t]&&delete o[t]};s?t.forEach(c):w().eachTree(t,c,{children:r?i:a}),f.updateCheckboxFlag++,Oe()},J=e=>{m.selectCheckboxMaps={},X(e,!0)},Q=(e,t,n)=>{t?n[e]||(n[e]=!0):n[e]&&delete n[e]},ee=(e,t,r)=>{n(e,(0,o.lh)(r,{$tree:j},t))},te=()=>{const e=s.value;return e?e.parentElement:null},ne=t=>{const{parentHeight:n}=f,r=e[t];let o=0;return r&&("100%"===r||"auto"===r?o=n:(o=P(r)?Math.floor((w().toInteger(r)||1)/100*n):w().toNumber(r),o=Math.max(40,o))),o},re=()=>{f.customHeight=ne("height"),f.customMinHeight=ne("minHeight"),f.customMaxHeight=ne("maxHeight"),!f.scrollYLoad||f.customHeight||f.customMinHeight||(f.customHeight=300)},oe=e=>{const t=x.value;return Promise.resolve(e.map(e=>{const n=Object.assign({},e);let r=L(n);return r||(r=ys(),w().set(n,t,r)),n}))},ie=()=>{const{treeFullData:e}=m,t=x.value,n=C.value,r={};w().eachTree(e,(e,n,o,i,a,l)=>{let s=L(e);s||(s=ys(),w().set(e,t,s)),r[s]={item:e,index:n,items:o,parent:a,nodes:l,level:l.length,treeIndex:n,lineCount:0,treeLoaded:!1}},{children:n}),m.nodeMaps=r},ae=()=>{const{transform:t}=e,{afterTreeList:n,nodeMaps:r}=m,o=C.value,i=k.value;w().eachTree(n,(e,t,n)=>{const o=L(e),i=r[o];if(i)i.items=n,i.treeIndex=t;else{const i={item:e,index:t,items:n,parent:parent,nodes:[],level:0,treeIndex:t,lineCount:0,treeLoaded:!1};r[o]=i}},{children:t?i:o})},le=()=>{const{transform:t,filterValue:n}=e,{treeFullData:r,lastFilterValue:o}=m,a=v.value,l=C.value,s=k.value,c=F.value,{autoExpandAll:u,beforeFilterMethod:d,filterMethod:p,afterFilterMethod:f}=c;let h=r,g=h,b="";if(n||0===n){b=`${n}`;const e=p?e=>p({$tree:j,node:e,filterValue:b}):e=>String(e[a]).toLowerCase().indexOf(b)>-1,o={$tree:j,filterValue:b};d&&d(o),t?(g=w().searchTree(r,e,{original:!0,isEvery:!0,children:l,mapChildren:s}),h=g):h=r.filter(e),m.lastFilterValue=b,(0,i.nextTick)(()=>{u?j.setAllExpandNode(!0).then(()=>{f&&f(o)}):f&&f(o)})}else{if(t&&(g=w().searchTree(r,()=>!0,{original:!0,isEvery:!0,children:l,mapChildren:s}),h=g,o)){const e={$tree:j,filterValue:b};d&&d(e),(0,i.nextTick)(()=>{u?j.clearAllExpandNode().then(()=>{f&&f(e)}):f&&f(e)})}m.lastFilterValue=""}m.afterVisibleList=h,m.afterTreeList=g,ae()},se=()=>{const{transform:t}=e,{afterTreeList:n,treeExpandedMaps:r}=m,o=k.value,i={};if(t){const e=[];return w().eachTree(n,(t,n,o,a,l)=>{const s=L(t),c=L(l);(!l||i[c]&&r[c])&&(i[s]=1,e.push(t))},{children:o}),pe(e),m.afterVisibleList=e,e}return m.afterVisibleList},ce=e=>{const{scrollYLoad:t}=f,{scrollYStore:n}=m;let r=m.afterVisibleList;e&&(le(),r=se());const o=t?r.slice(n.startIndex,n.endIndex):r.slice(0);f.treeList=o},ue=w().debounce(()=>ce(!0),350,{trailing:!0}),de=t=>{const{expandAll:n,expandNodeKeys:r,transform:o}=e,{initialized:i,scrollYStore:a}=m,l=b.value,s=y.value,c=C.value,u=o?w().toArrayTree(t,{key:l,parentKey:s,mapChildren:c}):t?t.slice(0):[];m.treeFullData=u,Object.assign(a,{startIndex:0,endIndex:1,visibleSize:0});const d=pe(u);return ie(),ce(!0),d&&(e.height||e.maxHeight||h("vxe.error.reqProp",["[tree] height | max-height | virtual-y-config.enabled=false"])),me().then(()=>{i||t&&t.length&&(m.initialized=!0,n?j.setAllExpandNode(!0):r&&r.length&&j.setExpandByNodeId(r,!0),X(e.checkNodeKeys||[],!0)),re(),ve()})},pe=t=>{const{transform:n}=e,r=E.value,o=t||m.treeFullData,i=!!n&&!!r.enabled&&r.gt>-1&&(0===r.gt||r.gt<o.length);return f.scrollYLoad=i,i},fe=()=>{const{scrollYLoad:e}=f,{scrollYStore:t,afterVisibleList:n}=m;f.bodyHeight=e?n.length*t.rowHeight:0,f.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},he=()=>{ce(),fe()},me=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=f,{scrollYStore:t}=m,n=p.value,r=E.value;let o,i=0;if(n&&(o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(20,i),t.rowHeight=i,e){const e=d.value,n=Math.max(8,e?Math.ceil(e.clientHeight/i):0),o=Math.max(0,Math.min(2,w().toNumber(r.oSize)));t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+o,t.endIndex),he()}else fe()}),ge=(e,t)=>{const n=d.value;return e&&(w().isNumber(e)||(t=e.top,e=e.left)),n&&(w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t)),f.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},ve=()=>{const{lastScrollLeft:e,lastScrollTop:t}=m;return we().then(()=>{if(e||t)return m.lastScrollLeft=0,m.lastScrollTop=0,scrollTo(e,t)})},be=()=>{const{scrollYStore:e}=m,{rowHeight:t}=e,n=s.value;if(n&&n.clientWidth&&n.clientHeight){const e=te(),n=c.value,r=u.value,o=n?n.clientHeight:0,i=r?r.clientHeight:0;if(e){const n=U(e);f.parentHeight=Math.max(o+i+t,e.clientHeight-n-o-i)}return re(),me().then(()=>{re(),fe()})}return(0,i.nextTick)()},xe=()=>{const{scrollYStore:e}=m,{startIndex:t,endIndex:n,visibleSize:r,offsetSize:o,rowHeight:i}=e,a=d.value;if(!a)return;const l=a.scrollTop,s=Math.floor(l/i),c=Math.max(0,s-1-o),u=s+r+o;(s<=t||s>=n-r-1)&&(t===c&&n===u||(e.startIndex=c,e.endIndex=u,he()))},ye=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==m.lastScrollLeft,i=n!==m.lastScrollTop;m.lastScrollTop=n,m.lastScrollLeft=r,f.scrollYLoad&&xe(),m.lastScrollTime=Date.now(),ee("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},we=()=>{const e=d.value;return e&&(e.scrollTop=0,e.scrollLeft=0),m.lastScrollTop=0,m.lastScrollLeft=0,(0,i.nextTick)()},Ce=(t,n)=>{const{showRadio:r,showCheckbox:o,trigger:i}=e,a=A.value,l=M.value,s=O.value;let c=!1,u=!1,d=!1,p=!1;s?(c=!0,Ae(t,n)):f.currentNode&&(f.currentNode=null),"node"===i&&(p=!0,Ee(t,n)),r&&"node"===a.trigger&&(u=!0,Me(t,n)),o&&"node"===l.trigger&&(d=!0,De(t,n)),ee("node-click",{node:n,triggerCurrent:c,triggerRadio:u,triggerCheckbox:d,triggerExpand:p},t)},ke=(e,t)=>{ee("node-dblclick",{node:t},e)},Se=t=>{const n=M.value,{loadMethod:r}=e,{checkStrictly:o}=n;return new Promise(e=>{if(r){const{nodeMaps:e}=m,n=L(t),a=e[n];m.treeExpandLazyLoadedMaps[n]=!0,Promise.resolve(r({$tree:j,node:t})).then(e=>{const{treeExpandLazyLoadedMaps:r}=m;if(a.treeLoaded=!0,r[n]&&(r[n]=!1),w().isArray(e)||(e=[]),e)return j.loadChildrenNode(t,e).then(r=>{const{treeExpandedMaps:a}=m;return r.length&&!a[n]&&(a[n]=!0),f.updateExpandedFlag++,!o&&j.isCheckedByCheckboxNodeId(n)&&Z(r,!0),ee("load-success",{node:t,data:e},new Event("load-success")),(0,i.nextTick)()});ee("load-success",{node:t,data:e},new Event("load-success"))}).catch(e=>{const{treeExpandLazyLoadedMaps:r}=m;a.treeLoaded=!1,r[n]&&(r[n]=!1),ee("load-error",{node:t,data:e},new Event("load-error"))}).finally(()=>(se(),ce(),be()))}else e()})},Te=(t,n)=>{const{lazy:r,accordion:o,toggleMethod:i}=e,{treeExpandLazyLoadedMaps:a,treeExpandedMaps:l}=m,{nodeMaps:s}=m,c=C.value,u=S.value,d=[];let p=i?t.filter(e=>i({$tree:j,expanded:n,node:e})):t;if(o){p=p.length?[p[p.length-1]]:[];const e=L(p[0]),t=s[e];t&&t.items.forEach(e=>{const t=L(e);l[t]&&delete l[t]})}const h=[];return n?p.forEach(e=>{const t=L(e);if(!l[t]){const n=s[t],o=r&&e[u]&&!n.treeLoaded&&!a[t];o?d.push(Se(e)):e[c]&&e[c].length&&(l[t]=!0,h.push(e))}}):p.forEach(e=>{const t=L(e);l[t]&&(delete l[t],h.push(e))}),f.updateExpandedFlag++,se(),ce(),Promise.all(d).then(()=>be())},Ee=(t,n)=>{const{lazy:r}=e,{treeExpandedMaps:o,treeExpandLazyLoadedMaps:i}=m,a=L(n),l=!o[a];t.stopPropagation(),r&&i[a]||Te([n],l)},Oe=()=>{const{transform:t}=e,{selectCheckboxMaps:n,indeterminateRowMaps:r,afterTreeList:o}=m,i=C.value,a=k.value,l=M.value,{checkStrictly:s,checkMethod:c}=l;if(!s){const e={},l=[];w().eachTree(o,t=>{const n=L(t),r=t[i];r&&r.length&&!e[n]&&(e[n]=1,l.unshift([t,n,r]))},{children:t?a:i}),l.forEach(e=>{const t=e[0],o=e[1],i=e[2];let a=0,l=0,s=0;const u=i.length;i.forEach(c?e=>{const t=L(e),o=n[t];c({$tree:j,node:e})?(o?a++:r[t]&&l++,s++):o?a++:r[t]&&l++}:e=>{const t=L(e),o=n[t];o?a++:r[t]&&l++,s++});let d=!1;d=u>0?s>0?(a>0||l>0)&&a>=s:a>0&&a>=s||!!n[o]:n[o];const p=!d&&(a>0||l>0);d?(n[o]=t,r[o]&&delete r[o]):(n[o]&&delete n[o],p?r[o]=t:r[o]&&delete r[o])}),f.updateCheckboxFlag++}},De=(t,n)=>{t.preventDefault(),t.stopPropagation();const{transform:r}=e,{selectCheckboxMaps:o}=m,i=C.value,a=k.value,l=M.value,{checkStrictly:s,checkMethod:c}=l;let u=!!c;if(c&&(u=!c({$tree:j,node:n})),u)return;const d=L(n);let p=!1;o[d]?delete o[d]:(p=!0,o[d]=n),s||w().eachTree(w().get(n,r?a:i),e=>{const t=L(e);p?o[t]||(o[t]=!0):o[t]&&delete o[t]},{children:r?a:i}),f.updateCheckboxFlag++,Oe();const h=w().keys(o),g=h.map(vs);Y(g),ee("checkbox-change",{node:n,value:g,checked:p},t)},Ae=(e,t)=>{e.preventDefault();const n=I.value,{currentMethod:r,trigger:o}=n,i=C.value,a=w().get(t,i),l=a&&a.length;let s=!!r;if("child"===o){if(l)return}else if("parent"===o&&!l)return;if(r&&(s=!r({node:t})),s)return;const c=!0;f.currentNode=t,ee("current-change",{node:t,checked:c},e)},Me=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=A.value,{checkMethod:r}=n;let o=!!r;if(r&&(o=!r({$tree:j,node:t})),o)return;const i=!0,a=L(t),l=vs(a);f.selectRadioKey=a,K(l),ee("radio-change",{node:t,value:l,checked:i},e)},Ie=()=>{const e=s.value;e&&e.clientWidth&&be()},Ne={dispatchEvent:ee,getNodeId:L,getNodeById(e){const{nodeMaps:t}=m;if(e){const n=t[e];if(n)return n.item}return null},loadData(e){return de(e||[])},reloadData(e){return de(e||[])},clearCurrentNode(){return f.currentNode=null,(0,i.nextTick)()},getCurrentNodeId(){const{currentNode:e}=f;return e?vs(L(e)):null},getCurrentNode(){const{currentNode:e}=f,{nodeMaps:t}=m;if(e){const n=t[L(e)];if(n)return n.item}return null},setCurrentNodeId(e){const{nodeMaps:t}=m,n=t[gs(e)];return f.currentNode=n?n.item:null,(0,i.nextTick)()},setCurrentNode(e){return f.currentNode=e,(0,i.nextTick)()},clearRadioNode(){return f.selectRadioKey=null,K(null),(0,i.nextTick)()},getRadioNodeId(){return f.selectRadioKey||null},getRadioNode(){const{selectRadioKey:e}=f,{nodeMaps:t}=m;if(e){const n=t[e];if(n)return n.item}return null},setRadioNodeId(e){return f.selectRadioKey=gs(e),K(e),(0,i.nextTick)()},setRadioNode(e){if(e){const t=L(e);f.selectRadioKey=t,K(vs(t))}else K(null);return(0,i.nextTick)()},setCheckboxNode(e,t){return e&&(w().isArray(e)||(e=[e]),Z(e,t)),Y(j.getCheckboxNodeIds()),(0,i.nextTick)()},setCheckboxByNodeId(e,t){return X(e,t),Y(j.getCheckboxNodeIds()),(0,i.nextTick)()},getCheckboxNodeIds(){const{selectCheckboxMaps:e}=m,t=[];return w().each(e,(e,n)=>{t.push(vs(n))}),t},getCheckboxNodes(){const{nodeMaps:e,selectCheckboxMaps:t}=m,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},clearCheckboxNode(){return m.indeterminateRowMaps={},m.selectCheckboxMaps={},f.updateCheckboxFlag++,Y([]),Oe(),(0,i.nextTick)().then(()=>({checkNodeKeys:[],checkNodes:[]}))},setAllCheckboxNode(t){const{transform:n}=e,r={},o=C.value,a=k.value,l=[],s=[];return t&&w().eachTree(m.afterTreeList,e=>{const t=L(e);l.push(t),s.push(e),r[t]=!0},{children:n?a:o}),m.indeterminateRowMaps={},m.selectCheckboxMaps=r,f.updateCheckboxFlag++,Oe(),(0,i.nextTick)().then(()=>({checkNodeKeys:l,checkNodes:s}))},clearExpandNode(){return Ne.clearAllExpandNode()},clearAllExpandNode(){const{nodeMaps:e,scrollYStore:t}=m;return w().each(e,e=>{e.treeLoaded=!1}),m.treeExpandedMaps={},f.updateExpandedFlag++,f.topSpaceHeight=0,t.startIndex=0,t.endIndex=1,se(),ce(),be()},setExpandByNodeId(e,t){const{treeExpandedMaps:n}=m;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const r=gs(e);Q(r,t,n)}),f.updateExpandedFlag++),se(),ce(),be()},getExpandNodeIds(){const{treeExpandedMaps:e}=m,t=[];return w().each(e,(e,n)=>{t.push(vs(n))}),t},getExpandNodes(){const{nodeMaps:e,treeExpandedMaps:t}=m,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},setExpandNode(e,t){const{treeExpandedMaps:n}=m;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const r=L(e);Q(r,t,n)}),f.updateExpandedFlag++),se(),ce(),be()},toggleExpandByNodeId(e){const{treeExpandedMaps:t}=m;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const n=gs(e);Q(n,!t[`${n}`],t)}),f.updateExpandedFlag++),se(),ce(),be()},toggleExpandNode(e){const{treeExpandedMaps:t}=m;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const n=L(e);Q(n,!t[n],t)}),f.updateExpandedFlag++),se(),ce(),be()},setAllExpandNode(t){const{transform:n}=e,{scrollYLoad:r}=f,{scrollYStore:o,treeExpandedMaps:i}=m,a=C.value,l=k.value;return t?w().eachTree(m.afterTreeList,e=>{const t=w().get(e,a),n=t&&t.length;if(n){const t=L(e);i[t]=!0}},{children:n?l:a}):m.treeExpandedMaps={},f.updateExpandedFlag++,f.topSpaceHeight=0,o.startIndex=0,o.endIndex=1,se(),ce(),be().then(()=>(r&&xe(),be()))},reloadExpandNode(t){const{lazy:n}=e;return n?(Ne.clearExpandLoaded(t),Se(t)):be()},clearExpandLoaded(t){const{lazy:n}=e,{nodeMaps:r}=m;if(n){const e=r[L(t)];e&&(e.treeLoaded=!1)}return be()},loadChildrenNode(t,n){const{lazy:r,transform:o}=e,{nodeMaps:i}=m;if(!r)return Promise.resolve([]);const a=C.value,l=k.value,s=i[L(t)],c=s?s.level:0,u=s?s.nodes:[];return oe(n).then(e=>(w().eachTree(e,(e,t,n,r,o,a)=>{const l=L(e);i[l]={item:e,index:-1,items:n,parent:o||s.item,nodes:u.concat(a),level:c+a.length,treeIndex:-1,lineCount:0,treeLoaded:!1}},{children:a}),t[a]=e,o&&(t[l]=e),ae(),e))},isExpandByNode:$,isCheckedByRadioNodeId:z,isCheckedByRadioNode:B,isCheckedByCheckboxNodeId:H,isIndeterminateByCheckboxNode:G,isCheckedByCheckboxNode:W,getCheckboxIndeterminateNodes(){const{nodeMaps:e,indeterminateRowMaps:t}=m,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},recalculate:be,scrollTo:ge,scrollToNode(e){return j.scrollToNodeId(L(e))},scrollToNodeId(t){const{transform:n}=e,{scrollYStore:r,afterTreeList:o}=m,i=C.value,a=k.value,l=d.value;if(t&&l)if(n){const e=w().findTree(o,e=>L(e)===t,{children:n?a:i});if(e)return j.setExpandNode(e.nodes,!0).then(()=>{const e=w().findIndexOf(m.afterVisibleList,e=>L(e)===t);if(e>-1){const t=Math.max(0,(e-1)*r.rowHeight);return ge(l.scrollLeft,t)}})}else{const e=l.querySelector(`.vxe-tree--node-wrapper[nodeid="${t}"]`);if(e)return ge(l.scrollLeft,e.offsetTop)}return be()},clearScroll:we},Re={};Object.assign(j,Ne,Re);const Fe=(t,n,r)=>{const{showRadio:a}=e,l=A.value,{showIcon:s,checkMethod:c,visibleMethod:u}=l,d=!u||u({$tree:j,node:t});let p=!!c;return a&&s&&d?(c&&(p=!c({$tree:j,node:t})),(0,i.h)("div",{class:["vxe-tree--radio-option",{"is--checked":r,"is--disabled":p}],onClick:e=>{p||Me(e,t)}},[(0,i.h)("span",{class:["vxe-radio--icon",r?(0,o.sW)().RADIO_CHECKED:(0,o.sW)().RADIO_UNCHECKED]})])):(0,o.C1)(j)},_e=(t,n,r)=>{const{showCheckbox:a}=e,l=M.value,{showIcon:s,checkMethod:c,visibleMethod:u}=l,d=q(n),p=!u||u({$tree:j,node:t});let f=!!c;return a&&s&&p?(c&&(f=!c({$tree:j,node:t})),(0,i.h)("div",{class:["vxe-tree--checkbox-option",{"is--checked":r,"is--indeterminate":d,"is--disabled":f}],onClick:e=>{f||De(e,t)}},[(0,i.h)("span",{class:["vxe-checkbox--icon",d?(0,o.sW)().CHECKBOX_INDETERMINATE:r?(0,o.sW)().CHECKBOX_CHECKED:(0,o.sW)().CHECKBOX_UNCHECKED]})])):(0,o.C1)(j)},Pe=(t,n)=>{const{lazy:a,showRadio:l,showCheckbox:s,showLine:c,indent:u,iconOpen:d,iconClose:p,iconLoaded:h,showIcon:g}=e,{currentNode:b,selectRadioKey:x,updateExpandedFlag:y}=f,{afterTreeList:k,nodeMaps:E,treeExpandedMaps:O,treeExpandLazyLoadedMaps:D}=m,A=C.value,M=v.value,I=S.value,N=w().get(t,A),R=N&&N.length,F=r.icon,_=r.title,P=r.extra,$=y&&O[n],z=E[n],V=w().get(t,M),B=z.level;let W=!1;l&&(W=n===String(x));let q=!1;s&&(q=H(n));let U=!1,G=!1,Y=!1;a&&(G=!!D[n],U=t[I],Y=!!z.treeLoaded);const K=z.items[z.treeIndex-1],X={node:t,isExpand:$};return(0,i.h)("div",{key:n,class:["vxe-tree--node-wrapper",`node--level-${B}`],nodeid:n},[(0,i.h)("div",{class:["vxe-tree--node-item",{"is--current":b&&n===L(b),"is-radio--checked":W,"is-checkbox--checked":q}],style:{paddingLeft:(B-1)*(u||1)+"px"},onClick(e){Ce(e,t)},onDblclick(e){ke(e,t)}},[c?(0,i.h)("div",{class:"vxe-tree--node-line-wrapper"},[(0,i.h)("div",{class:"vxe-tree--node-line",style:{height:`${L(k[0])===n?1:xs(j,t,K)}px`}})]):(0,o.C1)(j),(0,i.h)("div",{class:"vxe-tree--node-item-switcher"},g&&(a?Y?R:U:R)?[(0,i.h)("div",{class:"vxe-tree--node-item-icon",onClick(e){Ee(e,t)}},F?T(F(X)):[(0,i.h)("i",{class:G?h||(0,o.sW)().TREE_NODE_LOADED:$?d||(0,o.sW)().TREE_NODE_OPEN:p||(0,o.sW)().TREE_NODE_CLOSE})])]:[]),Fe(t,n,W),_e(t,n,q),(0,i.h)("div",{class:"vxe-tree--node-item-inner"},[(0,i.h)("div",{class:"vxe-tree--node-item-title"},_?T(_(X)):`${V}`),P?(0,i.h)("div",{class:"vxe-tree--node-item-extra"},T(P(X))):(0,o.C1)(j)])])])},je=t=>{const{transform:n}=e,{treeExpandedMaps:r}=m,a=C.value;if(!t.length)return[(0,i.h)("div",{class:"vxe-tree--empty-placeholder"},(0,o.TO)("vxe.tree.searchEmpty"))];const l=[];return t.forEach(n?e=>{const t=L(e);l.push(Pe(e,t))}:e=>{const t=L(e);l.push(Pe(e,t));const n=w().get(e,a),o=n&&n.length;o&&r[t]&&l.push(...je(n))}),l},Le=()=>{const{loading:t,trigger:n,showLine:a}=e,{bodyHeight:h,topSpaceHeight:m,treeList:g}=f,v=l.value,b=A.value,x=M.value,y=N.value,w=D.value,C=R.value,k=r.loading,S=r.header,T=r.footer;return(0,i.h)("div",{ref:s,class:["vxe-tree",{[`size--${v}`]:v,"show--line":a,"checkbox--highlight":x.highlight,"radio--highlight":b.highlight,"node--hover":w,"node--trigger":"node"===n,"is--loading":t}]},[S?(0,i.h)("div",{ref:c,class:"vxe-tree--header-wrapper"},S({$tree:j})):(0,o.C1)(j),(0,i.h)("div",{ref:d,class:"vxe-tree--node-list-wrapper",style:C,onScroll:ye},[(0,i.h)("div",{class:"vxe-tree--y-space",style:{height:h?`${h}px`:""}}),(0,i.h)("div",{ref:p,class:"vxe-tree--node-list-body",style:{transform:`translateY(${m}px)`}},je(g))]),T?(0,i.h)("div",{ref:u,class:"vxe-tree--footer-wrapper"},T({$tree:j})):(0,o.C1)(j),(0,i.h)(it,{class:"vxe-tree--loading",modelValue:t,icon:y.icon,text:y.text},k?{default:()=>k({$tree:j})}:{})])},$e=(0,i.ref)(0);(0,i.watch)(()=>e.data?e.data.length:0,()=>{$e.value++}),(0,i.watch)(()=>e.data,()=>{$e.value++}),(0,i.watch)($e,()=>{de(e.data||[])}),(0,i.watch)(()=>e.checkNodeKey,e=>{f.selectRadioKey=gs(e)});const ze=(0,i.ref)(0);(0,i.watch)(()=>e.checkNodeKeys?e.checkNodeKeys.length:0,()=>{ze.value++}),(0,i.watch)(()=>e.checkNodeKeys,()=>{ze.value++}),(0,i.watch)(ze,()=>{J(e.checkNodeKeys||[])}),(0,i.watch)(()=>e.filterValue,()=>{ue(new Event("filter"))});const Ve=(0,i.ref)(0);return(0,i.watch)(()=>e.height,()=>{Ve.value++}),(0,i.watch)(()=>e.minHeight,()=>{Ve.value++}),(0,i.watch)(()=>e.maxHeight,()=>{Ve.value++}),(0,i.watch)(Ve,()=>{be()}),(0,i.onMounted)(()=>{if(e.autoResize){const t=s.value,n=te(),r=o.yD.create(()=>{e.autoResize&&be()});t&&r.observe(t),n&&r.observe(n),m.resizeObserver=r}o.Nh.on(j,"resize",Ie)}),(0,i.onUnmounted)(()=>{const{resizeObserver:e}=m;e&&e.disconnect(),o.Nh.off(j,"resize"),w().assign(m,ws())}),de(e.data||[]),j.renderVN=Le,j},render(){return this.renderVN()}});const ks=Object.assign({},Cs,{install(e){e.component(Cs.name,Cs)}});u.use(ks),o.OE.component(Cs);const Ss=ks;var Ts=ks;function Es(){return w().uniqueId("node_")}function Os(){return{fullOptionList:[],fullNodeMaps:{}}}var Ds=a({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>w().eqNull((0,o.zj)().treeSelect.placeholder)?(0,o.TO)("vxe.base.pleaseSelect"):(0,o.zj)().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},filterable:Boolean,filterConfig:Object,multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,lazyOptions:Array,options:Array,optionProps:Object,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().treeSelect.size||(0,o.zj)().size},remote:Boolean,remoteConfig:Function,popupConfig:Object,treeConfig:Object,virtualYConfig:Object,autoClose:{type:Boolean,default:()=>(0,o.zj)().treeSelect.autoClose},showTotalButoon:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showCheckedButoon},showClearButton:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showClearButton},showExpandButton:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showExpandButton},transfer:{type:Boolean,default:null},remoteMethod:Function},emits:["update:modelValue","change","all-change","clear","blur","focus","click","node-click"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.reactive)({initialized:!1,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),C=Os(),k={refElem:f},S=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),T=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),E=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().select.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),O=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.popupConfig,e.popupConfig)),D=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.treeConfig,e.treeConfig,{data:void 0})),A=(0,i.computed)(()=>{const e=D.value;return Object.assign({isHover:!0},e.nodeConfig)}),M=(0,i.computed)(()=>{const e=D.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})}),I=(0,i.computed)(()=>{const e=D.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})}),N=(0,i.computed)(()=>e.optionProps||{}),R=(0,i.computed)(()=>{const e=D.value;return e.keyField||"id"}),F=(0,i.computed)(()=>{const e=N.value;return e.label||"label"}),_=(0,i.computed)(()=>{const e=N.value;return e.value||"value"}),P=(0,i.computed)(()=>{const e=N.value;return e.children||"children"}),j=(0,i.computed)(()=>{const e=N.value;return e.parent||"parentField"}),L=(0,i.computed)(()=>{const e=N.value;return e.hasChild||"hasChild"}),$=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.virtualYConfig,e.virtualYConfig)),z=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.remoteConfig,e.remoteConfig)),B=(0,i.computed)(()=>{const t=D.value;return Object.assign({},t.filterConfig,e.filterConfig)}),W=(0,i.computed)(()=>{const{modelValue:t,lazyOptions:n}=e,{fullNodeMaps:r}=C,o=_.value,i=F.value,a=w().eqNull(t)?[]:w().isArray(t)?t:[t];return a.map(e=>{const t=r[e];if(t)return t.item[i];if(n){const t=n.find(t=>t[o]===e);if(t)return t[i]}return e}).join(", ")}),q=(0,i.computed)(()=>{const e=O.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t),r.maxHeight=V(t)),r}),U={},G={xID:d,props:e,context:t,reactData:y,internalData:C,getRefMaps:()=>k,getComputeMaps:()=>U},Y=(e,t,r)=>{n(e,(0,o.lh)(r,{$treeSelect:G},t))},K=e=>{n("update:modelValue",e)},Z={dispatchEvent:Y},J=e=>{const t=R.value,n=e[t];return n?encodeURIComponent(n):""},Q=()=>{const{options:t}=e,n=D.value,r=R.value,o=P.value,i=_.value,{transform:a}=n,l={},s={},c=(e,t,n,o,a,c)=>{let u=J(e);u||(u=Es()),s[u]&&h("vxe.error.repeatKey",[`[tree-select] ${r}`,u]),s[u]=!0;const d=e[i];l[d]&&h("vxe.error.repeatKey",[`[tree-select] ${i}`,d]),l[d]={item:e,index:t,items:n,parent:a,nodes:c}};t&&(a?t.forEach((e,t,n)=>{c(e,t,n,[],null,[])}):w().eachTree(t,c,{children:o})),C.fullOptionList=t||[],C.fullNodeMaps=l},ee=()=>{const{zIndex:t}=e;t?y.panelIndex=t:y.panelIndex<Ee()&&(y.panelIndex=Te())},te=()=>{const{placement:t}=e,{panelIndex:n}=y,r=f.value,o=b.value,a=E.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},ne=()=>{const{loading:t,remote:n,filterable:r}=e,{fullOptionList:o}=C,i=T.value,a=z.value;t||i||(clearTimeout(C.hpTimeout),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,r&&n&&a.enabled&&a.autoLoad&&!o.length&&ye(),setTimeout(()=>{y.visiblePanel=!0,me()},10),ee(),te())},re=()=>{y.visiblePanel=!1,C.hpTimeout=setTimeout(()=>{y.isAniVisible=!1},350)},oe=(t,n,r)=>{const o=w().isArray(n)?n.map(vs):vs(n);K(o),o!==e.modelValue&&(Y("change",{value:o,node:r,option:r},t),c&&u&&c.triggerItemEvent(t,u.itemConfig.field,o))},ie=(e,t)=>{oe(e,t,null),Y("clear",{value:t},e)},ae=(e,t)=>{ie(t,null),re()},le=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;r&&i&&i.setAllCheckboxNode(!0).then(({checkNodeKeys:e,checkNodes:t})=>{oe(n,e,t[0]),Y("all-change",{value:e},n),o&&re()})},se=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;if(i){const e=r?[]:null;i.clearCheckboxNode().then(()=>{o&&re()}),oe(n,e,null),Y("clear",{value:e},n)}},ce=()=>{const e=x.value;e&&e.setAllExpandNode(!0)},ue=()=>{const e=x.value;e&&e.clearAllExpandNode()},de=e=>{const{visiblePanel:t}=y,n=T.value;if(!n&&t){const t=b.value;H(e,t).flag?te():re()}},pe=e=>{const{visiblePanel:t}=y,n=T.value;if(!n){const n=f.value,r=b.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&re()}},fe=()=>{const{visiblePanel:e,isActivated:t}=y;if(e&&re(),t&&(y.isActivated=!1),e||t){const e=m.value;e&&e.blur()}},he=()=>{const{visiblePanel:e}=y;e&&te()},me=()=>{e.filterable&&(0,i.nextTick)(()=>{const e=g.value;e&&e.focus()})},ge=e=>{const t=T.value;t||y.visiblePanel||(y.triggerFocusPanel=!0,ne(),setTimeout(()=>{y.triggerFocusPanel=!1},150)),Y("focus",{},e)},ve=e=>{we(e),Y("click",{},e)},be=e=>{y.isActivated=!1,Y("blur",{},e)},xe=e=>{y.searchValue=e},ye=()=>{const{modelValue:t,remote:n,remoteMethod:r}=e,{searchValue:o}=y,a=z.value,l=a.queryMethod||r;n&&l&&a.enabled&&(y.searchLoading=!0,Promise.resolve(l({$treeSelect:G,searchValue:o,value:t})).then(()=>(0,i.nextTick)()).catch(()=>(0,i.nextTick)()).finally(()=>{y.searchLoading=!1}))},we=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?re():ne()},Ce=e=>{const{$event:t}=e;Y("node-click",e,t)},ke=e=>{const{value:t,$event:n,node:r}=e;oe(n,t,r),re()},Se=e=>{const{value:t,$event:n,node:r}=e;oe(n,t,r)},Oe=()=>{Q()},De={};Object.assign(G,Z,De);const Ae=()=>{const{className:t,modelValue:n,multiple:a,options:l,loading:s,filterable:c,showTotalButoon:u,showCheckedButoon:d,showClearButton:h,showExpandButton:C}=e,{initialized:k,isActivated:N,isAniVisible:z,visiblePanel:V,searchValue:H}=y,U=p.value,Y=T.value,K=W.value,X=E.value,Z=S.value,J=q.value,Q=r.header,ee=r.footer,te=r.prefix,ne=O.value,re=ne.className||e.popupClassName,oe=D.value,ie=A.value,de=M.value,pe=I.value,fe=R.value,he=F.value,me=_.value,ye=P.value,Te=j.value,Ee=L.value,De=$.value,Ae=B.value;if(Z)return(0,i.h)("div",{ref:f,class:["vxe-tree-select--readonly",t]},[(0,i.h)("span",{class:"vxe-tree-select-label"},K)]);const Me=w().eqNull(n)?[]:w().isArray(n)?n:[n];return(0,i.h)("div",{ref:f,class:["vxe-tree-select",t?w().isFunction(t)?t({$treeSelect:G}):t:"",{[`size--${U}`]:U,"is--filterable":c,"is--visible":V,"is--disabled":Y,"is--loading":s,"is--active":N}]},[(0,i.h)(ln,{ref:m,clearable:e.clearable,placeholder:s?(0,o.TO)("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:Y,type:"text",prefixIcon:e.prefixIcon,suffixIcon:s?(0,o.sW)().TREE_SELECT_LOADED:V?(0,o.sW)().TREE_SELECT_OPEN:(0,o.sW)().TREE_SELECT_CLOSE,modelValue:s?"":K,title:K,onClear:ae,onClick:ve,onFocus:ge,onBlur:be,onSuffixClick:we},te?{prefix:()=>te({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!X||!k},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-tree-select--panel",re?w().isFunction(re)?re({$treeSelect:G}):re:"",{[`size--${U}`]:U,"is--transfer":X,"ani--leave":!s&&z,"ani--enter":!s&&V}],placement:y.panelPlacement,style:y.panelStyle},k?[(0,i.h)("div",{class:"vxe-tree-select--panel-wrapper"},[c?(0,i.h)("div",{class:"vxe-tree-select--panel-search"},[(0,i.h)(ln,{ref:g,class:"vxe-tree-select-search--input",modelValue:H,clearable:!0,disabled:!1,readonly:!1,placeholder:(0,o.TO)("vxe.treeSelect.search"),prefixIcon:(0,o.sW)().INPUT_SEARCH,"onUpdate:modelValue":xe})]):(0,o.C1)(G),u||d&&a||h||C||Q?(0,i.h)("div",{class:"vxe-tree-select--panel-header"},Q?Q({}):[(0,i.h)("div",{class:"vxe-tree-select--header-button"},[u?(0,i.h)("div",{class:"vxe-tree-select--header-total"},(0,o.TO)("vxe.treeSelect.total",[Me.length])):(0,o.C1)(G),(0,i.h)("div",{class:"vxe-tree-select--header-btns"},[d&&a?(0,i.h)(_e,{content:(0,o.TO)("vxe.treeSelect.allChecked"),mode:"text",onClick:le}):(0,o.C1)(G),h?(0,i.h)(_e,{content:(0,o.TO)("vxe.treeSelect.clearChecked"),mode:"text",onClick:se}):(0,o.C1)(G),C?(0,i.h)(_e,{content:(0,o.TO)("vxe.treeSelect.allExpand"),mode:"text",onClick:ce}):(0,o.C1)(G),C?(0,i.h)(_e,{content:(0,o.TO)("vxe.treeSelect.clearExpand"),mode:"text",onClick:ue}):(0,o.C1)(G)])])]):(0,o.C1)(G),(0,i.h)("div",{class:"vxe-tree-select--panel-body"},[(0,i.h)("div",{ref:v,class:"vxe-tree-select-tree--wrapper",style:J},[(0,i.h)(Cs,{ref:x,class:"vxe-tree-select--tree",height:ne.height?"100%":oe.height,minHeight:oe.minHeight,maxHeight:ne.height?"":oe.maxHeight,autoResize:!0,data:l,indent:oe.indent,showRadio:!a,radioConfig:pe,checkNodeKey:a?null:n,showCheckbox:!!a,checkNodeKeys:a?n:null,checkboxConfig:de,titleField:he,valueField:me,keyField:fe,childrenField:oe.childrenField||ye,parentField:oe.parentField||Te,hasChildField:oe.hasChildField||Ee,accordion:oe.accordion,expandAll:oe.expandAll,expandNodeKeys:oe.expandNodeKeys,nodeConfig:ie,lazy:oe.lazy,loadMethod:oe.loadMethod,toggleMethod:oe.toggleMethod,transform:oe.transform,trigger:oe.trigger,showIcon:oe.showIcon,showLine:oe.showLine,iconOpen:oe.iconOpen,iconLoaded:oe.iconLoaded,iconClose:oe.iconClose,filterValue:H,filterConfig:Ae,virtualYConfig:De,onNodeClick:Ce,onRadioChange:ke,onCheckboxChange:Se,onLoadSuccess:Oe})])]),ee?(0,i.h)("div",{class:"vxe-tree-select--panel-footer"},ee({})):(0,o.C1)(G)])]:[])])])};return(0,i.watch)(()=>e.options,()=>{Q()}),Q(),(0,i.onMounted)(()=>{o.Nh.on(G,"mousewheel",de),o.Nh.on(G,"mousedown",pe),o.Nh.on(G,"blur",fe),o.Nh.on(G,"resize",he)}),(0,i.onUnmounted)(()=>{o.Nh.off(G,"mousewheel"),o.Nh.off(G,"mousedown"),o.Nh.off(G,"blur"),o.Nh.off(G,"resize"),w().assign(C,Os())}),(0,i.provide)("$xeTreeSelect",G),G.renderVN=Ae,G},render(){return this.renderVN()}});const As=Object.assign({},Ds,{install(e){e.component(Ds.name,Ds)}});u.use(As),o.OE.component(Ds);const Ms=As;var Is=As;let Ns=null,Rs=null;function Fs(e){const t=e.name,n=w().lastIndexOf(t,"."),r=t.substring(n+1,t.length).toLowerCase(),o=t.substring(0,n);return{filename:o,type:r}}const _s=e=>{const t=Object.assign({},e);return new Promise((e,n)=>{Rs||(Rs=document.createElement("input"),Rs.name="file",Rs.type="file"),Ns||(Ns=document.createElement("form"),Ns.style.display="none",Ns.appendChild(Rs),document.body.appendChild(Ns));const r=t.types||[],i=!r.length||r.some(e=>"*"===e);Rs.multiple=!!t.multiple,Rs.accept=i?"":`.${r.join(", .")}`,Rs.onchange=a=>{const l=a.target,s=Array.from(l.files||[]),c=s[0];let u="";if(!i)for(let e=0;e<s.length;e++){const{type:t}=Fs(s[e]);if(!w().includes(r,t)){u=t;break}}if(u){!1!==t.message&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.notType",[u]),status:"error"});const e={status:!1,files:s,file:c};n(e)}else e({status:!0,files:s,file:c})},Ns.reset(),Rs.click()})};function Ps(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const js=e=>{const t=Object.assign({type:""},e),{filename:n,type:r,content:i}=t,a=r?`${n}.${r}`:`${n}`;if(window.Blob){const e=i instanceof Blob?i:Ps(w().toValueString(i),t),n=window.navigator;if(n.msSaveBlob)n.msSaveBlob(e,a);else{const t=URL.createObjectURL(e),n=document.createElement("a");n.target="_blank",n.download=a,n.href=t,document.body.appendChild(n),n.click(),requestAnimationFrame(()=>{n.parentNode&&n.parentNode.removeChild(n),URL.revokeObjectURL(t)})}return Promise.resolve()}return Promise.reject(new Error((0,o.TO)("vxe.error.notExp")))};var Ls=a({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>(0,o.zj)().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},autoSubmit:{type:Boolean,default:()=>(0,o.zj)().upload.autoSubmit},mode:{type:String,default:()=>(0,o.zj)().upload.mode},imageTypes:{type:Array,default:()=>w().clone((0,o.zj)().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>w().clone((0,o.zj)().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>w().clone((0,o.zj)().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>w().clone((0,o.zj)().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>w().clone((0,o.zj)().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>w().clone((0,o.zj)().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>(0,o.zj)().upload.limitSize},showLimitSize:{type:Boolean,default:()=>(0,o.zj)().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>(0,o.zj)().upload.limitCount},showLimitCount:{type:Boolean,default:()=>(0,o.zj)().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.limitCountText},nameField:{type:String,default:()=>(0,o.zj)().upload.nameField},typeField:{type:String,default:()=>(0,o.zj)().upload.typeField},urlField:{type:String,default:()=>(0,o.zj)().upload.urlField},sizeField:{type:String,default:()=>(0,o.zj)().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>(0,o.zj)().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>(0,o.zj)().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.progressText},showSubmitButton:Boolean,autoHiddenButton:{type:Boolean,default:()=>(0,o.zj)().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>(0,o.zj)().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.buttonText},buttonIcon:{type:String,default:()=>(0,o.zj)().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>(0,o.zj)().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>(0,o.zj)().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>(0,o.zj)().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>(0,o.zj)().upload.showPreview},showTip:{type:Boolean,default:()=>null},maxSimultaneousUploads:{type:Number,default:()=>(0,o.zj)().upload.maxSimultaneousUploads},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>(0,o.zj)().upload.size||(0,o.zj)().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeTable",null),c=w().uniqueId(),{computeSize:u}=(0,o.XX)(e),d=(0,i.ref)(),p=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.reactive)({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),b={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},x={refElem:d},y=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),C=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),k=(0,i.computed)(()=>e.keyField||"_X_KEY"),S=(0,i.computed)(()=>"image"===e.mode),E=(0,i.computed)(()=>e.nameField||"name"),O=(0,i.computed)(()=>e.typeField||"type"),D=(0,i.computed)(()=>e.urlField||"url"),A=(0,i.computed)(()=>e.sizeField||"size"),M=(0,i.computed)(()=>1024*w().toNumber(e.limitSize)*1024),R=(0,i.computed)(()=>e.multiple?w().toNumber(e.limitCount):1),F=(0,i.computed)(()=>{const{multiple:t}=e,{fileList:n}=v,r=R.value;return t?!r||n.length>=r:n.length>=1}),_=(0,i.computed)(()=>{const t=w().toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""}),P=(0,i.computed)(()=>{const{showTip:t,tipText:n}=e;if(w().isBoolean(t))return t;const r=(0,o.zj)().upload.showTip;return w().isBoolean(r)?r:!!n}),j=(0,i.computed)(()=>{const{limitSize:t,fileTypes:n,multiple:r,limitCount:i}=e,a=e.tipText||e.hintText,l=S.value,s=_.value;if(w().isString(a))return a;if(w().isFunction(a))return`${a({})}`;const c=[];return l?(r&&i&&c.push((0,o.TO)("vxe.upload.imgCountHint",[i])),t&&s&&c.push((0,o.TO)("vxe.upload.imgSizeHint",[s]))):(n&&n.length&&c.push((0,o.TO)("vxe.upload.fileTypeHint",[n.join("/")])),t&&s&&c.push((0,o.TO)("vxe.upload.fileSizeHint",[s])),r&&i&&c.push((0,o.TO)("vxe.upload.fileCountHint",[i]))),c.join((0,o.TO)("vxe.base.comma"))}),L=(0,i.computed)(()=>Object.assign({},e.imageConfig||e.imageStyle)),$=(0,i.computed)(()=>{const e=L.value,{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),z=(0,i.computed)(()=>Object.assign({showMoreButton:!0},e.moreConfig)),B={},W={xID:c,props:e,context:t,reactData:v,internalData:b,getRefMaps:()=>x,getComputeMaps:()=>B},q=()=>w().uniqueId(),U=e=>{const t=k.value;return e[t]},G=()=>{const{modelValue:t,multiple:n}=e,r=y.value,o=k.value,i=E.value,a=O.value,l=D.value,s=A.value,c=t?(t?w().isArray(t)?t:[t]:[]).map(e=>{if(!e||w().isString(e)){const t=`${e||""}`,n=w().parseUrl(e),r=(n?n.searchQuery[i]:"")||Y(t);return{[i]:r,[a]:(n?n.searchQuery[a]:"")||K(r),[l]:t,[s]:w().toNumber(n?n.searchQuery[s]:0)||0,[o]:q()}}const t=e[i]||"";return e[i]=t,e[a]=e[a]||K(t),e[l]=e[l]||"",e[s]=e[s]||0,e[o]=e[o]||q(),e}):[];v.fileList=r||n?c:c.slice(0,1)},Y=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",K=e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1).toLowerCase():""},X=(e,t,r)=>{n(e,(0,o.lh)(r,{$upload:W},t))},Z=e=>{n("update:modelValue",e)},J=t=>{const{singleMode:n,urlMode:r}=e,o=D.value,i=E.value;let a=t?t.slice(0):[];r&&(a=a.map(e=>{const t=e[o];if(t){const n=w().parseUrl(t);if(!n.searchQuery[i]&&-1===t.indexOf("blob:"))return`${t}${-1===t.indexOf("?")?"?":"&"}${i}=${encodeURIComponent(e[i]||"")}`}return t})),Z(n?a[0]||null:a)},Q=t=>{const n=e.getThumbnailUrlMethod||(0,o.zj)().upload.getThumbnailUrlMethod;return n?n({$upload:W,option:t}):ee(t)},ee=t=>{const n=e.getUrlMethod||(0,o.zj)().upload.getUrlMethod,r=D.value;return n?n({$upload:W,option:t}):t[r]},te=t=>{const{imageTypes:n,showDownloadButton:r}=e,i=O.value,a=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod,{imagePreviewTypes:l}=b;l.concat(n||[]).some(e=>`${e}`.toLowerCase()===`${t[i]}`.toLowerCase())&&o.OE.previewImage&&o.OE.previewImage({urlList:[ee(t)],showDownloadButton:r,beforeDownloadMethod:a?()=>a({$upload:W,option:t}):void 0})},ne=(t,n)=>{const r=e.previewMethod||(0,o.zj)().upload.previewMethod;e.showPreview&&(r?r({$upload:W,option:n}):te(n))},re=(t,n,r)=>{const{showDownloadButton:i}=e,{fileList:a}=v,l=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod;e.showPreview&&o.OE.previewImage&&o.OE.previewImage({urlList:a.map(e=>ee(e)),activeIndex:r,showDownloadButton:i,beforeDownloadMethod:l?({index:e})=>l({$upload:W,option:a[e]}):void 0})},oe=(t,n)=>{const{showErrorStatus:r}=e,i=U(t),a=e.uploadMethod||(0,o.zj)().upload.uploadMethod;if(a)return Promise.resolve(a({$upload:W,file:n,option:t,updateProgress(e){const{fileCacheMaps:n}=v,r=n[U(t)];r&&(r.percent=Math.max(0,Math.min(99,w().toNumber(e))))}})).then(e=>{const{fileCacheMaps:n}=v,r=n[i];r&&(r.percent=100,r.status="success"),Object.assign(t,e),X("upload-success",{option:t,data:e},null)}).catch(e=>{const{fileCacheMaps:n}=v,o=n[i];o&&(o.status="error"),r?Object.assign(t,e):v.fileList=v.fileList.filter(e=>U(e)!==i),X("upload-error",{option:t,data:e},null)}).finally(()=>{const{fileCacheMaps:e}=v,t=e[i];t&&(t.loading=!1)});{const{fileCacheMaps:e}=v,t=e[i];t&&(t.loading=!1)}return Promise.resolve()},ie=t=>{const{uploadMethod:n,urlMode:r}=e,{fileCacheMaps:i}=v,a=U(t),l=i[a],s=n||(0,o.zj)().upload.uploadMethod;if(s&&l){const e=l.file;l.loading=!0,l.status="pending",l.percent=0,oe(t,e).then(()=>{r&&J(v.fileList)})}},ae=(t,n)=>{const{multiple:r,urlMode:s,showLimitSize:c,limitSizeText:u,showLimitCount:d,limitCountText:p,autoSubmit:f}=e,{fileList:h}=v,m=e.uploadMethod||(0,o.zj)().upload.uploadMethod,g=k.value,b=E.value,x=O.value,y=D.value,C=A.value,S=M.value,T=R.value,I=_.value;let N=t;if(r&&T){if(d&&h.length>=T)return void(o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:p?`${w().isFunction(p)?p({maxCount:T}):p}`:(0,o.TO)("vxe.upload.overCountErr",[T])}));const e=N.length-(T-h.length);if(d&&e>0){const t=N.slice(T-h.length);p?o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:`${w().isFunction(p)?p({maxCount:T}):p}`}):o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return(0,i.h)("div",{class:"vxe-upload--file-message-over-error"},[(0,i.h)("div",{},(0,o.TO)("vxe.upload.overCountExtraErr",[T,e])),(0,i.h)("div",{class:"vxe-upload--file-message-over-extra"},t.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name)))])}}})}N=N.slice(0,T-h.length)}if(c&&S)for(let e=0;e<t.length;e++){const e=t[0];if(e.size>S)return void(o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:u?`${w().isFunction(u)?u({maxSize:S}):u}`:(0,o.TO)("vxe.upload.overSizeErr",[I])}))}const F=Object.assign({},v.fileCacheMaps),P=r?h:[],j=[];v.fileList=P,v.fileCacheMaps=F,N.forEach(e=>{const{name:t}=e,r=q(),o={[b]:t,[x]:K(t),[C]:e.size,[y]:URL.createObjectURL(e),[g]:r};m&&(F[r]={file:e,loading:!!f,status:"pending",percent:0});const a=(0,i.reactive)(o);m&&f&&j.push(oe(a,e)),P.push(a),X("add",{option:a},n)}),Promise.all(s?j:[]).then(()=>{J(P),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,P)})},le=t=>{const{multiple:n,imageTypes:r,fileTypes:o}=e,i=C.value,a=S.value;return i?Promise.resolve({status:!1,files:[],file:null}):_s({multiple:n,types:a?r:o}).then(e=>(ae(e.files,t),e))},se=e=>{le(e).catch(()=>{})},ce=(e,t,n)=>{const{fileList:r}=v;r.splice(n,1),J(r),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,r),X("remove",{option:t},e)},ue=(t,n,r)=>{const i=e.beforeRemoveMethod||(0,o.zj)().upload.beforeRemoveMethod,a=e.removeMethod||(0,o.zj)().upload.removeMethod;Promise.resolve(!i||i({$upload:W,option:n})).then(e=>{e?a?Promise.resolve(a({$upload:W,option:n})).then(()=>{ce(t,n,r)}).catch(e=>e):ce(t,n,r):X("remove-fail",{option:n},t)})},de=(e,t)=>{X("download",{option:t},e)},pe=(t,n)=>{const r=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod,i=e.downloadMethod||(0,o.zj)().upload.downloadMethod;Promise.resolve(!r||r({$upload:W,option:n})).then(e=>{e?i?Promise.resolve(i({$upload:W,option:n})).then(()=>{de(t,n)}).catch(e=>e):de(t,n):X("download-fail",{option:n},t)})},fe=e=>{const t=e.currentTarget,{clientX:n,clientY:r}=e;if(t){const{x:e,y:o,height:i,width:a}=t.getBoundingClientRect();(n<e||n>e+a||r<o||r>o+i)&&(v.isDragUploadStatus=!1)}},he=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;n&&n.length&&(e.preventDefault(),v.isDragUploadStatus=!0)}},me=(t,n)=>{const{imageTypes:r,fileTypes:i}=e,{imagePreviewTypes:a}=b,l=S.value;if(l){const e=a.concat(r&&r.length?r:[]);n=n.filter(t=>{const n=`${t.type.split("/")[1]||""}`.toLowerCase();return!!e.some(e=>`${e}`.toLowerCase()===n)})}else if(i&&i.length){const e=[];if(n.forEach(t=>{const n=K(t.name);i.some(e=>`${e}`.toLowerCase()===n)||e.push(n)}),e.length)return void(o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.notType",[e.join(", ")]),status:"error"}))}n.length?ae(n,t):o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:(0,o.TO)("vxe.upload.uploadTypeErr")})},ge=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;if(n&&n.length){e.preventDefault();const t=ve(n);t.length&&me(e,t)}}v.isDragUploadStatus=!1},ve=e=>{const t=[];return w().arrayEach(e,e=>{const n=e.getAsFile();n&&t.push(n)}),t},be=()=>{const t=y.value,n=S.value;o.OE.modal&&o.OE.modal.open({title:t?(0,o.TO)("vxe.upload.morePopup.readTitle"):(0,o.TO)("vxe.upload.morePopup."+(n?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:r,dragToUpload:a,dragSort:l}=e,{isActivated:s,isDragMove:c,isDragUploadStatus:u,dragIndex:d}=v,{fileList:f}=v,h=C.value,m={};return a&&-1===d&&(m.onDragover=he,m.onDragleave=fe,m.onDrop=ge),(0,i.h)("div",Object.assign({ref:p,class:["vxe-upload--more-popup",{"is--readonly":t,"is--disabled":h,"is--active":s,"show--error":r,"is--drag":u}]},m),[n?l?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(c?"":"-disabled"),tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Re(f,!0).concat(Fe(!0))}):(0,i.h)("div",{class:"vxe-upload--image-more-list"},Re(f,!0).concat(Fe(!0))):(0,i.h)("div",{class:"vxe-upload--file-more-list"},[Ie(!0),l?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(c?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Me(f,!1)}):(0,i.h)("div",{class:"vxe-upload--file-list"},Me(f,!0))]),l?(0,i.h)("div",{ref:g,class:"vxe-upload--drag-line"}):(0,o.C1)(W),u?(0,i.h)("div",{class:"vxe-upload--drag-placeholder"},(0,o.TO)("vxe.upload.dragPlaceholder")):(0,o.C1)(W)])}},onShow(){v.showMorePopup=!0},onHide(){v.showMorePopup=!1}})},xe=(e,t,n)=>{const{showMorePopup:r}=v,o=d.value,i=p.value,a=r?i:o;if(!a)return;const l=a.getBoundingClientRect(),s=m.value,c=g.value,u=r?c:s;if(u){const e=t.getBoundingClientRect();u.style.display="block",u.style.top=`${Math.max(1,e.y-l.y)}px`,u.style.left=`${Math.max(1,e.x-l.x)}px`,u.style.height=`${e.height}px`,u.style.width=e.width-1+"px",u.setAttribute("drag-pos",n)}},ye=()=>{const e=m.value,t=g.value;e&&(e.style.display=""),t&&(t.style.display="")},we=e=>{e.stopPropagation(),e.dataTransfer&&e.dataTransfer.setDragImage(N(),0,0);const t=e.currentTarget,n=t.parentElement,r=w().findIndexOf(Array.from(n.children),e=>t===e);v.isDragMove=!0,v.dragIndex=r,setTimeout(()=>{v.isDragMove=!1},500)},Ce=e=>{e.stopPropagation(),e.preventDefault();const{dragIndex:t}=v;if(-1===t)return;const n=S.value,r=e.currentTarget,o=r.parentElement,i=w().findIndexOf(Array.from(o.children),e=>r===e);let a="";if(n){const t=e.clientX-r.getBoundingClientRect().x;a=t<r.clientWidth/2?"left":"right"}else{const t=e.clientY-r.getBoundingClientRect().y;a=t<r.clientHeight/2?"top":"bottom"}t!==i?(xe(e,r,a),b.prevDragIndex=i,b.prevDragPos=a):xe(e,r,a)},ke=e=>{const{fileList:t,dragIndex:n}=v,{prevDragIndex:r,prevDragPos:o}=b,i=n,a=r,l="bottom"===o||"right"===o?1:0,s=t[i],c=t[a];if(s&&c){t.splice(i,1);const n=w().findIndexOf(t,e=>c===e),r=n+l;t.splice(r,0,s),X("sort-dragend",{oldItem:s,newItem:c,dragPos:o,offsetIndex:l,_index:{newIndex:r,oldIndex:i}},e)}ye(),v.dragIndex=-1},Se=e=>{s&&e.stopPropagation(),v.isActivated=!0},Te=t=>{const{pasteToUpload:n}=e,{isActivated:r}=v;if(!r||!n)return;const o=t.clipboardData||t.originalEvent.clipboardData;if(!o)return;const{items:i}=o;if(!i)return;const a=ve(i);a.length&&(t.preventDefault(),me(t,a))},Ee=e=>{const t=d.value,n=p.value;let r=H(e,t).flag;if(!r&&n){const t=n.parentElement||n,o=t?t.parentElement:t;r=H(e,o).flag}v.isActivated=r},Oe=()=>{v.isActivated=!1},De={dispatchEvent:X,choose(){return le(null)},submit(t){const{maxSimultaneousUploads:n}=e,r=w().toNumber(n||1)||1,{fileList:o,fileCacheMaps:i}=v,a=o.filter(e=>{const n=U(e),r=i[n];return r&&("pending"===r.status||t&&"error"===r.status)}),l=e=>{const n=U(e),r=i[n];if(r){const n=r.file;if(n&&("pending"===r.status||t&&"error"===r.status))return r.loading=!0,r.percent=0,oe(e,n).then(s)}return s()},s=()=>{if(a.length){const e=a[0];return a.splice(0,1),l(e).then(s)}return Promise.resolve()};return Promise.all(a.splice(0,r).map(l)).then(()=>{})}},Ae={};Object.assign(W,De,Ae);const Me=(t,n)=>{const{showRemoveButton:a,showDownloadButton:l,showProgress:s,progressText:c,showPreview:u,showErrorStatus:d,dragSort:p,autoSubmit:f,showSubmitButton:h}=e,{fileCacheMaps:m}=v,g=C.value,b=y.value,x=E.value,k=O.value,S=r.corner,D={};return p&&t.length>1&&(D.onDragstart=we,D.onDragover=Ce,D.onDragend=ke),t.map((e,t)=>{const r=U(e),v=m[r];let y=!1,C=!1,E=!1;const O=`${e[x]||""}`;return v&&(y=v.loading,C="error"===v.status,E="pending"===v.status),(0,i.h)("div",Object.assign({key:p?r:t,class:["vxe-upload--file-item",{"is--preview":u,"is--loading":y,"is--pending":E,"is--error":C}],fileid:r,draggable:!!p||null},D),[(0,i.h)("div",{class:"vxe-upload--file-item-icon"},[(0,i.h)("i",{class:(0,o.sW)()[`UPLOAD_FILE_TYPE_${`${e[k]}`.toLocaleUpperCase()}`]||(0,o.sW)().UPLOAD_FILE_TYPE_DEFAULT})]),(0,i.h)("div",{class:"vxe-upload--file-item-name",title:O,onClick(t){y||C||ne(t,e)}},O),y?(0,i.h)("div",{class:"vxe-upload--file-item-loading-icon"},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_LOADING})]):(0,o.C1)(W),s&&y&&v?(0,i.h)("div",{class:"vxe-upload--file-item-loading-text"},c?w().toFormatString(`${w().isFunction(c)?c({}):c}`,{percent:v.percent}):(0,o.TO)("vxe.upload.uploadProgress",[v.percent])):(0,o.C1)(W),!y&&(C&&d||E&&h&&!f)?(0,i.h)("div",{class:"vxe-upload--file-item-rebtn"},[(0,i.h)(_e,{icon:C?(0,o.sW)().UPLOAD_IMAGE_RE_UPLOAD:(0,o.sW)().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:C?(0,o.TO)("vxe.upload.reUpload"):(0,o.TO)("vxe.upload.manualUpload"),onClick(){ie(e)}})]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--file-item-btn-wrapper"},[S?(0,i.h)("div",{class:"vxe-upload--file-item-corner"},T(S({option:e,isMoreView:n,readonly:b}))):(0,o.C1)(W),!l||y||E?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-item-download-btn",onClick(t){pe(t,e)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_FILE_DOWNLOAD})]),!a||b||g||y?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-item-remove-btn",onClick(n){ue(n,e,t)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_FILE_REMOVE})])])])})},Ie=t=>{const{showUploadButton:n,buttonText:a,buttonIcon:l,showButtonText:s,showButtonIcon:c,autoHiddenButton:u}=e,d=C.value,p=y.value,f=P.value,h=j.value,m=F.value,g=r.default,v=r.tip||r.hint;return p||!n?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-action"},[u&&m?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-action-btn",onClick:se},g?T(g({$upload:W})):[(0,i.h)(_e,{class:"vxe-upload--file-action-button",content:t||s?a?`${w().isFunction(a)?a({}):a}`:(0,o.TO)("vxe.upload.fileBtnText"):"",icon:c?l||(0,o.sW)().UPLOAD_FILE_ADD:"",disabled:d})]),f&&(h||v)?(0,i.h)("div",{class:"vxe-upload--file-action-tip"},v?T(v({$upload:W})):`${h}`):(0,o.C1)(W)])},Ne=()=>{const{showList:t,moreConfig:n,dragSort:r}=e,{fileList:a,isDragMove:l}=v,s=z.value,{maxCount:c,showMoreButton:u,layout:d}=s,p="horizontal"===d;let f=a,h=0;return c&&a.length>c&&(h=a.length-c,f=a.slice(0,c)),(0,i.h)("div",{key:"all",class:"vxe-upload--file-wrapper"},t?[u&&n&&p?(0,o.C1)(W):Ie(!0),f.length||u&&p?(0,i.h)("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":p}]},[f.length?r?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(l?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Me(f,!1)}):(0,i.h)("div",{class:"vxe-upload--file-list"},Me(f,!1)):(0,o.C1)(W),u&&h?(0,i.h)("div",{class:"vxe-upload--file-over-more"},[(0,i.h)(_e,{mode:"text",content:(0,o.TO)("vxe.upload.moreBtnText",[a.length]),status:"primary",onClick:be})]):(0,o.C1)(W),u&&n&&p?Ie(!1):(0,o.C1)(W)]):(0,o.C1)(W)]:[Ie(!1)])},Re=(t,n)=>{const{showRemoveButton:a,showProgress:l,progressText:s,showPreview:c,showErrorStatus:u,dragSort:d,autoSubmit:p,showSubmitButton:f}=e,{fileCacheMaps:h}=v,m=C.value,g=y.value,b=L.value,x=$.value,k=r.corner,S={onMousedown:Se};return d&&t.length>1&&(S.onDragstart=we,S.onDragover=Ce,S.onDragend=ke),t.map((e,t)=>{const r=U(e),v=h[r];let y=!1,C=!1,E=!1;return v&&(y=v.loading,C="error"===v.status,E="pending"===v.status),(0,i.h)("div",Object.assign({key:d?r:t,class:["vxe-upload--image-item",{"is--preview":c,"is--circle":b.circle,"is--loading":y,"is--pending":E,"is--error":C}],fileid:r,draggable:!!d||null},S),[(0,i.h)("div",{class:"vxe-upload--image-item-box",style:n?null:x,onClick(n){y||C||re(n,e,t)}},[y&&v?(0,i.h)("div",{class:"vxe-upload--image-item-loading"},[(0,i.h)("div",{class:"vxe-upload--image-item-loading-icon"},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_LOADING})]),l?(0,i.h)("div",{class:"vxe-upload--image-item-loading-text"},s?w().toFormatString(`${w().isFunction(s)?s({}):s}`,{percent:v.percent}):(0,o.TO)("vxe.upload.uploadProgress",[v.percent])):(0,o.C1)(W)]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--image-item-img-wrapper",title:(0,o.TO)("vxe.upload.viewItemTitle")},[(0,i.h)("img",{class:"vxe-upload--image-item-img",src:Q(e)})]),!y&&(C&&u||E&&f&&!p)?(0,i.h)("div",{class:"vxe-upload--image-item-rebtn"},[(0,i.h)(_e,{icon:C?(0,o.sW)().UPLOAD_IMAGE_RE_UPLOAD:(0,o.sW)().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:C?(0,o.TO)("vxe.upload.reUpload"):(0,o.TO)("vxe.upload.manualUpload"),onClick(){ie(e)}})]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},[k?(0,i.h)("div",{class:"vxe-upload--file-item-corner"},T(k({option:e,isMoreView:n,readonly:g}))):(0,o.C1)(W),!a||g||m||y?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--image-item-remove-btn",onClick(n){n.stopPropagation(),ue(n,e,t)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_IMAGE_REMOVE})])])])])})},Fe=t=>{const{showUploadButton:n,buttonText:a,buttonIcon:l,showButtonText:s,showButtonIcon:c,autoHiddenButton:u}=e,d=y.value,p=P.value,f=j.value,h=F.value,m=$.value,g=r.default,v=r.tip||r.hint;return d||!n||u&&h?(0,o.C1)(W):(0,i.h)("div",{key:"action",class:"vxe-upload--image-action"},[(0,i.h)("div",{class:"vxe-upload--image-action-btn",onClick:se},g?g({$upload:W}):[(0,i.h)("div",{class:"vxe-upload--image-action-box",style:t?null:m},[c?(0,i.h)("div",{class:"vxe-upload--image-action-icon"},[(0,i.h)("i",{class:l||(0,o.sW)().UPLOAD_IMAGE_ADD})]):(0,o.C1)(W),t||s?(0,i.h)("div",{class:"vxe-upload--image-action-content"},a?`${w().isFunction(a)?a({}):a}`:(0,o.TO)("vxe.upload.imgBtnText")):(0,o.C1)(W),p&&(f||v)?(0,i.h)("div",{class:"vxe-upload--image-action-hint"},v?T(v({$upload:W})):`${f}`):(0,o.C1)(W)])])])},Pe=()=>{const{showList:t,dragSort:n}=e,{fileList:r,isDragMove:a}=v,l=z.value,{maxCount:s,showMoreButton:c}=l;let u=r,d=0;return s&&r.length>s&&(d=r.length-s,u=r.slice(0,s)),(0,i.h)("div",{key:"image",class:"vxe-upload--image-wrapper"},t?[n?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(a?"":"-disabled"),tag:"div",class:"vxe-upload--image-list"},{default:()=>Re(u,!1).concat([c&&d?(0,i.h)("div",{key:"om",class:"vxe-upload--image-over-more"},[(0,i.h)(_e,{mode:"text",content:(0,o.TO)("vxe.upload.moreBtnText",[r.length]),status:"primary",onClick:be})]):(0,o.C1)(W),Fe(!1)])}):(0,i.h)("div",{class:"vxe-upload--image-list"},Re(u,!1).concat([c&&d?(0,i.h)("div",{class:"vxe-upload--image-over-more"},[(0,i.h)(_e,{mode:"text",content:(0,o.TO)("vxe.upload.moreBtnText",[r.length]),status:"primary",onClick:be})]):(0,o.C1)(W),Fe(!1)]))]:[(0,i.h)("div",{class:"vxe-upload--image-list"},[Fe(!1)])])},je=()=>{const{showErrorStatus:t,dragToUpload:n,pasteToUpload:r,dragSort:a}=e,{isDragUploadStatus:l,showMorePopup:s,isActivated:c,dragIndex:p}=v,f=u.value,h=C.value,g=y.value,b=S.value,x={onMousedown:Se};return n&&-1===p&&(x.onDragover=he,x.onDragleave=fe,x.onDrop=ge),(0,i.h)("div",Object.assign({ref:d,class:["vxe-upload",{[`size--${f}`]:f,"is--active":c,"is--readonly":g,"is--disabled":h,"is--paste":r,"show--error":t,"is--drag":l}]},x),[b?Pe():Ne(),a?(0,i.h)("div",{ref:m,class:"vxe-upload--drag-line"}):(0,o.C1)(W),l&&!s?(0,i.h)("div",{class:"vxe-upload--drag-placeholder"},(0,o.TO)("vxe.upload.dragPlaceholder")):(0,o.C1)(W)])},Le=(0,i.ref)(0);return(0,i.watch)(()=>e.modelValue?e.modelValue.length:0,()=>{Le.value++}),(0,i.watch)(()=>e.modelValue,()=>{Le.value++}),(0,i.watch)(Le,()=>{G()}),(0,i.onMounted)(()=>{e.multiple&&e.singleMode&&h("vxe.error.errConflicts",["[upload] multiple","single-mode"]),e.imageStyle&&f("vxe.error.delProp",["[upload] image-style","image-config"]),e.dragSort&&I(),o.Nh.on(W,"paste",Te),o.Nh.on(W,"mousedown",Ee),o.Nh.on(W,"blur",Oe)}),(0,i.onUnmounted)(()=>{v.isDragUploadStatus=!1,o.Nh.off(W,"paste"),o.Nh.off(W,"mousedown"),o.Nh.off(W,"blur")}),G(),W.renderVN=je,W},render(){return this.renderVN()}});const $s=Object.assign({},Ls,{install(e){e.component(Ls.name,Ls)}});u.use($s),o.OE.component(Ls),o.OE.saveFile=js,o.OE.readFile=_s;const zs=$s;var Vs=$s;let Bs=null,Hs=null;const Ws={};function qs(){return Bs||(Bs=document.createElement("canvas"),Bs.style.position="absolute",Bs.style.top="0",Bs.style.left="0"),Bs}function Us(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function Gs(e,t){const n=`${t}_${e}`;if(!Ws[n]){Hs||(Hs=document.createElement("span")),Hs.parentNode||document.body.append(Hs),Hs.textContent=e,Hs.style.fontSize=V(t);const r=Hs.offsetWidth,o=Hs.offsetHeight;Ws[n]={width:r,height:o}}return Ws[n]}function Ys(e){let t=0,n=0;return e.forEach(e=>{t=Math.max(e.width,t),n=Math.max(e.height,n)}),{contentWidth:t,contentHeight:n}}function Ks(e,t){const{gap:n}=t,[r=0,o=0]=n?w().isArray(n)?n:[n,n]:[],i=e+w().toNumber(r),a=e+w().toNumber(o);return{canvasWidth:i,canvasHeight:a}}function Xs(e,t,n){return(e.font?e.font[t]:"")||(n.font?n.font[t]:"")}function Zs(e,t,n){const{offset:r}=n,o=w().toValueString(e.textContent),i=w().toNumber(Xs(e,"fontSize",n)||t)||14,[a=0,l=0]=r?w().isArray(r)?r:[r,r]:[],{width:s,height:c}=Gs(o,i);return{text:o,fontSize:i,font:e.font,width:s+w().toNumber(a),height:c+w().toNumber(l)}}function Js(e,t,n){const r=Xs(t,"fontWeight",n);e.fillStyle=`${Xs(t,"color",n)||"rgba(0, 0, 0, 0.15)"}`,e.font=[Xs(t,"fontStyle",n)||"normal","bold"===r||"bolder"===r?"bold":"",V(t.fontSize),Xs(t,"fontFamily",n)||"sans-serif"].join(" ")}function Qs(e,t,n){const r=Object.assign({},n),{rotate:o}=r,i=w().toNumber(o),a=(w().isArray(e)?e:[e]).map(e=>e?e.textContent?Zs(e,t,r):Zs({textContent:`${e}`},t,r):Zs({textContent:""},t,r));return Us(Hs),new Promise(e=>{const t=qs();t.parentNode||document.body.append(t);const n=t.getContext("2d");if(n&&a.length){const{contentWidth:o,contentHeight:l}=Ys(a),{canvasWidth:s,canvasHeight:c}=Ks(o,r);t.width=s,t.height=c;const u=(s-o)/2,d=(c-l)/2,p=u+o/2,f=d+l/2;n.save(),n.translate(p,f),n.rotate(i*Math.PI/180),n.translate(-p,-f);let h=0;a.forEach(e=>{const t=Xs(e,"align",r);Js(n,e,r),n.fillText(e.text,u+("center"===t?(o-e.width)/2:0),d+(l+l)/2+h,o),h+=e.height}),n.restore(),e(t.toDataURL()),Us(t)}else e(""),Us(t)})}var ec=a({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>(0,o.zj)().watermark.rotate},gap:{type:[Array,Number,String],default:()=>w().clone((0,o.zj)().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({markUrl:""}),s={refElem:a},c=(0,i.computed)(()=>w().assign({},w().clone((0,o.zj)().watermark.font,!0),e.font)),u=(0,i.computed)(()=>{const{width:t,height:n,zIndex:r}=e,{markUrl:o}=l,i={};return t&&(i.width=V(t)),n&&(i.height=V(n)),o&&(i.backgroundImage=`url(${o})`),r&&(i.zIndex=r),i}),d={},p={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>d},f=(e,t,r)=>{n(e,(0,o.lh)(r,{$watermark:p},t))},h={dispatchEvent:f},m=()=>{const{content:t,gap:n,rotate:r,offset:o}=e,i=a.value,s=c.value;i&&t&&Qs(t,getComputedStyle(i).fontSize,{font:s,rotate:r,gap:n,offset:o}).then(e=>{l.markUrl=e})},g={};Object.assign(p,h,g);const v=()=>{const e=u.value;return(0,i.h)("div",{ref:a,class:"vxe-watermark",style:e})};return(0,i.watch)(()=>e.imageUrl,()=>{m()}),(0,i.watch)(()=>e.content,()=>{m()}),(0,i.watch)(()=>e.gap,()=>{m()}),(0,i.watch)(()=>e.rotate,()=>{m()}),(0,i.watch)(()=>e.width,()=>{m()}),(0,i.watch)(()=>e.height,()=>{m()}),(0,i.watch)(()=>e.font,()=>{m()}),(0,i.onMounted)(()=>{m(),o.Nh.on(p,"resize",w().throttle(()=>{m()},300,{trailing:!0,leading:!0}))}),(0,i.onUnmounted)(()=>{o.Nh.off(p,"resize")}),p.renderVN=v,p},render(){return this.renderVN()}});const tc=Object.assign({},ec,{install(e){e.component(ec.name,ec)}});u.use(tc),o.OE.component(ec);const nc={load(e){return d(),s.globalWatermark=Object.assign({},e),Promise.resolve()},clear(){return s.globalWatermark=null,Promise.resolve()}};o.OE.watermark=nc;const rc=tc;var oc=tc;const{setI18n:ic,setLanguage:ac,setTheme:lc,setConfig:sc}=o.OE,cc=[A,re,ae,ue,he,xe,Ce,Le,Be,ot,ct,ft,xt,kt,Ot,It,_t,$t,qt,pn,vn,wn,Tn,An,Hn,Gn,Hr,Xr,Qr,no,io,co,go,yo,ko,Eo,Mo,Fo,Lo,Bo,Uo,Xo,ti,Rn,ii,Si,Di,Ii,Vi,qi,Qi,ra,Ta,Aa,Ra,ja,Va,qa,Ka,Qa,rl,al,ul,gl,yl,Sl,Dl,Fl,zl,ql,Kl,Ql,ns,ls,ps,ms,Ts,Is,Vs,oc];function uc(e,t){sc(t),cc.forEach(t=>e.use(t))}const dc="zh-CN";ic(dc,x),ac(dc),lc("light");const pc=In,fc=wi,hc=zn,mc=nc,gc=xa,vc=js,bc=_s;var xc=r},8308:function(e,t,n){"use strict";var r,o,i,a,l=n(4875),s=n(5080),c=n(8785),u=l.structuredClone,d=l.ArrayBuffer,p=l.MessageChannel,f=!1;if(c)f=function(e){u(e,{transfer:[e]})};else if(d)try{p||(r=s("worker_threads"),r&&(p=r.MessageChannel)),p&&(o=new p,i=new d(2),a=function(e){o.port1.postMessage(null,[e])},2===i.byteLength&&(a(i),0===i.byteLength&&(f=a)))}catch(h){}e.exports=f},8371:function(e,t,n){"use strict";var r=n(1595),o=n(8965);e.exports=r(o.proto,"size","get")||function(e){return e.size}},8420:function(e,t,n){"use strict";var r=n(8115),o=n(5479),i=n(3359),a=ArrayBuffer.prototype;r&&!("detached"in a)&&o(a,"detached",{configurable:!0,get:function(){return i(this)}})},8513:function(e,t,n){(function(e){e(n(2276),n(7401),n(689),n(1425))})(function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function o(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function i(e,t){var n=e.match(o(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</\\s*"+e+"\\s*>","i")}function l(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],i=o.length-1;i>=0;i--)r.unshift(o[i])}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}e.defineMode("htmlmixed",function(r,o){var i=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag,allowMissingTagName:o.allowMissingTagName}),c={},u=o&&o.tags,d=o&&o.scriptTypes;if(l(t,c),u&&l(u,c),d)for(var p=d.length-1;p>=0;p--)c.script.unshift(["type",d[p].matches,d[p].mode]);function f(t,o){var l,u=i.token(t,o.htmlState),d=/\btag\b/.test(u);if(d&&!/[<>\s\/]/.test(t.current())&&(l=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(l))o.inTag=l+" ";else if(o.inTag&&d&&/>$/.test(t.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==t.current()&&s(c[p[1]],p[2]),m=e.getMode(r,h),g=a(p[1],!0),v=a(p[1],!1);o.token=function(e,t){return e.match(g,!1)?(t.token=f,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},o.localMode=m,o.localState=e.startState(m,i.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return u}return{startState:function(){var t=e.startState(i);return{token:f,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},8605:function(e,t,n){"use strict";var r,o,i,a=n(4422),l=n(8115),s=n(4875),c=n(5326),u=n(9241),d=n(9792),p=n(4944),f=n(9868),h=n(7302),m=n(7147),g=n(5479),v=n(6676),b=n(4752),x=n(668),y=n(6972),w=n(8287),C=n(7328),k=C.enforce,S=C.get,T=s.Int8Array,E=T&&T.prototype,O=s.Uint8ClampedArray,D=O&&O.prototype,A=T&&b(T),M=E&&b(E),I=Object.prototype,N=s.TypeError,R=y("toStringTag"),F=w("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",P=a&&!!x&&"Opera"!==p(s.opera),j=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},z=function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d(L,t)||d($,t)},V=function(e){var t=b(e);if(u(t)){var n=S(t);return n&&d(n,_)?n[_]:V(t)}},B=function(e){if(!u(e))return!1;var t=p(e);return d(L,t)||d($,t)},H=function(e){if(B(e))return e;throw new N("Target is not a typed array")},W=function(e){if(c(e)&&(!x||v(A,e)))return e;throw new N(f(e)+" is not a typed array constructor")},q=function(e,t,n,r){if(l){if(n)for(var o in L){var i=s[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(c){}}}M[e]&&!n||m(M,e,n?t:P&&E[e]||t,r)}},U=function(e,t,n){var r,o;if(l){if(x){if(n)for(r in L)if(o=s[r],o&&d(o,e))try{delete o[e]}catch(i){}if(A[e]&&!n)return;try{return m(A,e,n?t:P&&A[e]||t)}catch(i){}}for(r in L)o=s[r],!o||o[e]&&!n||m(o,e,t)}};for(r in L)o=s[r],i=o&&o.prototype,i?k(i)[_]=o:P=!1;for(r in $)o=s[r],i=o&&o.prototype,i&&(k(i)[_]=o);if((!P||!c(A)||A===Function.prototype)&&(A=function(){throw new N("Incorrect invocation")},P))for(r in L)s[r]&&x(s[r],A);if((!P||!M||M===I)&&(M=A.prototype,P))for(r in L)s[r]&&x(s[r].prototype,M);if(P&&b(D)!==M&&x(D,M),l&&!d(M,R))for(r in j=!0,g(M,R,{configurable:!0,get:function(){return u(this)?this[F]:void 0}}),L)s[r]&&h(s[r],F,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:j&&F,aTypedArray:H,aTypedArrayConstructor:W,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:U,getTypedArrayConstructor:V,isView:z,isTypedArray:B,TypedArray:A,TypedArrayPrototype:M}},8621:function(e,t,n){"use strict";var r=n(8294),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},8637:function(e,t,n){"use strict";var r=n(3342),o=n(2735),i=n(7302),a=n(8158),l=n(6972),s=n(7328),c=n(227),u=n(6008).IteratorPrototype,d=n(258),p=n(2846),f=n(480),h=l("toStringTag"),m="IteratorHelper",g="WrapForValidIterator",v="normal",b="throw",x=s.set,y=function(e){var t=s.getterFor(e?g:m);return a(o(u),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:d(r,n.done)}catch(o){throw n.done=!0,o}},return:function(){var n=t(this),o=n.iterator;if(n.done=!0,e){var i=c(o,"return");return i?r(i,o):d(void 0,!0)}if(n.inner)try{p(n.inner.iterator,v)}catch(a){return p(o,b,a)}if(n.openIters)try{f(n.openIters,v)}catch(a){return p(o,b,a)}return o&&p(o,v),d(void 0,!0)}})},w=y(!0),C=y(!1);i(C,h,"Iterator Helper"),e.exports=function(e,t,n){var r=function(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=t?g:m,o.returnHandlerResult=!!n,o.nextHandler=e,o.counter=0,o.done=!1,x(this,o)};return r.prototype=t?w:C,r}},8651:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(8031),a=n(5699),l=n(9926),s=i(1.1.toString),c=o.Uint8Array,u=!c||!c.prototype.toHex||!function(){try{var e=new c([255,255,255,255,255,255,255,255]);return"ffffffffffffffff"===e.toHex()}catch(t){return!1}}();c&&r({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){a(this),l(this.buffer);for(var e="",t=0,n=this.length;t<n;t++){var r=s(this[t],16);e+=1===r.length?"0"+r:r}return e}})},8785:function(e,t,n){"use strict";var r=n(4875),o=n(5336),i=n(242),a=n(5924),l=r.structuredClone;e.exports=!!l&&!o(function(){if("DENO"===a&&i>92||"NODE"===a&&i>94||"BROWSER"===a&&i>97)return!1;var e=new ArrayBuffer(8),t=l(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})},8802:function(e){"use strict";e.exports=Error},8848:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8869:function(e,t,n){"use strict";var r=n(6031),o=n(9295),i=n(9082),a=n(9441),l=!a("symmetricDifference")||!i("symmetricDifference");r({target:"Set",proto:!0,real:!0,forced:l},{symmetricDifference:o})},8883:function(e){"use strict";e.exports=Math.round},8965:function(e,t,n){"use strict";var r=n(8031),o=Set.prototype;e.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o["delete"]),proto:o}},9014:function(e,t,n){"use strict";n(5979)},9024:function(e,t,n){"use strict";var r=n(3342),o=n(43),i=n(3636),a=n(9868),l=n(6356),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(o(n))return i(r(n,e));throw new s(a(e)+" is not iterable")}},9082:function(e){"use strict";e.exports=function(e){try{var t=new Set,n={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return t.clear(),t.add(4),function(){return{done:!0}}}})}},r=t[e](n);return 1===r.size&&4===r.values().next().value}catch(o){return!1}}},9110:function(e,t,n){"use strict";function r(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}function o(e){return e.install=function(t){var n=e,o=n.name;t.component(o,e),t.component(r("-"+o),e)},e}n.d(t,{Ay:function(){return m}});var i=n(4061),a=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]={triggered:!1,requested:!1,cbs:[]}),this.listeners[e].triggered&&t(),this.listeners[e].cbs.push(t)},t.emit=function(e){this.listeners[e]&&(this.listeners[e].triggered=!0,this.listeners[e].cbs.forEach(function(e){return e()}))},e}();function l(e){return e.reduce(function(e,t){return e.then(t)},Promise.resolve())}function s(e,t){var n,r=function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)};return r.cancel=function(){void 0!==n&&clearTimeout(n)},r}function c(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}var u=(0,i.defineComponent)({name:"vue-ueditor-wrap",props:{editorId:String,name:String,modelValue:{type:String,default:""},config:Object,mode:{type:String,default:"observer",validator:function(e){return-1!==["observer","listener"].indexOf(e)}},observerOptions:{type:Object,default:function(){return{attributes:!0,attributeFilter:["src","style","type","name"],characterData:!0,childList:!0,subtree:!0}}},observerDebounceTime:{type:Number,default:50,validator:function(e){return e>=20}},forceInit:Boolean,destroy:{type:Boolean,default:!0},editorDependencies:{type:Array},editorDependenciesChecker:{type:Function}},emits:["update:modelValue","before-init","ready"],setup:function(e,t){var n,r,o,u=t.emit,d={UN_READY:"UN_READY",PENDING:"PENDING",READY:"READY"},p=d.UN_READY,f=(0,i.ref)(),h=["ueditor.config.js","ueditor.all.min.js"],m=function(){return window.UE&&window.UE.getEditor&&window.UEDITOR_CONFIG&&0!==Object.keys(window.UEDITOR_CONFIG).length},g=(0,i.toRef)(e,"modelValue");window.$loadEventBus||(window.$loadEventBus=new a);var v=function(e){return new Promise(function(t,n){if(window.$loadEventBus.on(e,t),!1===window.$loadEventBus.listeners[e].requested){window.$loadEventBus.listeners[e].requested=!0;var r=document.createElement("script");r.src=e,r.onload=function(){window.$loadEventBus.emit(e)},r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}})},b=function(e){return new Promise(function(t,n){if(window.$loadEventBus.on(e,t),!1===window.$loadEventBus.listeners[e].requested){window.$loadEventBus.listeners[e].requested=!0;var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,r.onload=function(){window.$loadEventBus.emit(e)},r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}})},x=function(){return new Promise(function(t,n){if(e.editorDependencies&&e.editorDependenciesChecker&&e.editorDependenciesChecker())t();else if(e.editorDependencies||!m()){var r=(e.editorDependencies||h).reduce(function(t,n){var r,o=/^((https?:)?\/\/)?[-a-zA-Z0-9]+(\.[-a-zA-Z0-9]+)+\//.test(n);o||(n=((null==(r=e.config)?void 0:r.UEDITOR_HOME_URL)||"")+n);return".js"===n.slice(-3)?t.jsLinks.push(n):".css"===n.slice(-4)&&t.cssLinks.push(n),t},{jsLinks:[],cssLinks:[]}),o=r.jsLinks,i=r.cssLinks;Promise.all([Promise.all(i.map(function(e){return b(e)})),l(o.map(function(e){return function(){return v(e)}}))]).then(function(){return t()}).catch(n)}else t()})},y=function(){o=n.getContent(),u("update:modelValue",o)},w=function(){n.addListener("contentChange",y)},C=function(){n.document.getElementById("baidu_pastebin")||(o=n.getContent(),u("update:modelValue",o))},k=function(){r=new MutationObserver(s(C,e.observerDebounceTime)),r.observe(n.body,e.observerOptions)},S=function(){var t=e.editorId||"editor_"+c(8);f.value.id=t,u("before-init",t),n=window.UE.getEditor(t,e.config),n.addListener("ready",function(){p===d.READY?n.setContent(e.modelValue):(p=d.READY,u("ready",n),e.modelValue&&n.setContent(e.modelValue)),"observer"===e.mode&&window.MutationObserver?k():w()})};return(0,i.watch)(g,function(t){p===d.UN_READY?(p=d.PENDING,(e.forceInit||"undefined"!==typeof window)&&x().then(function(){f.value?S():(0,i.nextTick)(function(){return S()})}).catch(function(){throw new Error("[vue-ueditor-wrap] UEditor 资源加载失败！请检查资源是否存在，UEDITOR_HOME_URL 是否配置正确！")})):p===d.READY&&(t===o||n.setContent(t||""))},{immediate:!0}),(0,i.onDeactivated)(function(){n&&n.removeListener("contentChange",y),r&&r.disconnect()}),(0,i.onBeforeUnmount)(function(){r&&r.disconnect&&r.disconnect(),e.destroy&&n&&n.destroy&&n.destroy()}),function(){return(0,i.createVNode)("div",null,[(0,i.createVNode)("div",{ref:f,name:e.name},null)])}}}),d=o(u),p=d,f="3.0.8";function h(e){var t=[p];t.forEach(function(t){t.install?e.use(t):t.name&&e.component(t.name,t)})}var m={install:h,version:f}},9148:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9158:function(e,t,n){"use strict";var r=n(3745),o=n(8605),i=n(2770),a=n(8294),l=n(887),s=o.aTypedArray,c=o.getTypedArrayConstructor,u=o.exportTypedArrayMethod,d=function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}(),p=d&&function(){try{new Int8Array(1)["with"](-.5,1)}catch(e){return!0}}();u("with",{with:function(e,t){var n=s(this),o=a(e),u=i(n)?l(t):+t;return r(n,c(n),o,u)}}["with"],!d||p)},9241:function(e,t,n){"use strict";var r=n(5326);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},9283:function(e,t,n){"use strict";var r=n(8965).has;e.exports=function(e){return r(e),e}},9295:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(2341),a=n(2368),l=n(306),s=o.add,c=o.has,u=o.remove;e.exports=function(e){var t=r(this),n=a(e).getIterator(),o=i(t);return l(n,function(e){c(t,e)?u(o,e):s(o,e)}),o}},9331:function(e,t,n){"use strict";var r=n(6972),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},9344:function(e,t,n){"use strict";var r=n(876),o=n(6467),i=n(1624),a=n(1600),l=n(3040),s=r("%WeakMap%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("WeakMap.prototype.delete",!0);e.exports=s?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new l("Side channel does not contain "+i(e))},delete:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return p(e,n)}else if(a&&t)return t["delete"](n);return!1},get:function(n){return s&&n&&("object"===typeof n||"function"===typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return s&&n&&("object"===typeof n||"function"===typeof n)&&e?d(e,n):!!t&&t.has(n)},set:function(n,r){s&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new s),u(e,n,r)):a&&(t||(t=a()),t.set(n,r))}};return n}:a},9347:function(e,t,n){"use strict";var r=n(8031),o=n(5326),i=n(9812),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},9439:function(e){"use strict";e.exports=Math.min},9441:function(e,t,n){"use strict";var r=n(7434),o=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var n=r("Set");try{(new n)[e](o(0));try{return(new n)[e](o(-1)),!1}catch(l){if(!t)return!0;try{return(new n)[e](i(-1/0)),!1}catch(s){var a=new n;return a.add(1),a.add(2),t(a[e](i(1/0)))}}}catch(s){return!1}}},9456:function(e,t,n){"use strict";n(8651)},9485:function(e,t,n){"use strict";var r=n(8115),o=n(9792),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,l=o(i,"name"),s=l&&"something"===function(){}.name,c=l&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},9533:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,i){var a=o.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new o(t)},a.utc=function(t){var n=i(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var l=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var s=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(r,o){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],i=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===i?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r;if(0===a)return this.utc(o);var l=this.clone();if(o)return l.$offset=a,l.$u=!1,l;var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(l=this.local().add(a+s,e)).$offset=a,l.$x.$localOffset=s,l};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var p=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return p.call(this,e,t,n);var r=this.local(),o=i(e).local();return p.call(r,o,t,n)}}})},9542:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},9641:function(e,t,n){"use strict";var r=n(3342),o=n(5326),i=n(9241),a=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&o(n=e.toString)&&!i(l=r(n,e)))return l;if(o(n=e.valueOf)&&!i(l=r(n,e)))return l;if("string"!==t&&o(n=e.toString)&&!i(l=r(n,e)))return l;throw new a("Can't convert object to primitive value")}},9734:function(e,t,n){!function(t,r){e.exports=r(n(3508))}(0,function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r})},9792:function(e,t,n){"use strict";var r=n(8031),o=n(142),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},9812:function(e,t,n){"use strict";var r=n(4388),o=n(4875),i=n(888),a="__core-js_shared__",l=e.exports=o[a]||i(a,{});(l.versions||(l.versions=[])).push({version:"3.46.0",mode:r?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},9818:function(e,t,n){"use strict";var r=n(8115),o=n(3342),i=n(1786),a=n(6541),l=n(2634),s=n(2370),c=n(9792),u=n(3148),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=l(e),t=s(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},9825:function(e,t,n){"use strict";n.d(t,{Ay:function(){return Wi}});var r={};n.r(r),n.d(r,{Colgroup:function(){return Zt},Column:function(){return Yt},Grid:function(){return Fi},Table:function(){return Li},Toolbar:function(){return zi},VXETable:function(){return W},VxeColgroup:function(){return Xt},VxeColumn:function(){return Gt},VxeGrid:function(){return Ri},VxeTable:function(){return Pi},VxeToolbar:function(){return $i},VxeUI:function(){return o.OE},_t:function(){return H},clipboard:function(){return P},commands:function(){return F},config:function(){return V},formats:function(){return R},getConfig:function(){return C},getI18n:function(){return O},getIcon:function(){return S},getTheme:function(){return y},globalEvents:function(){return D},globalResize:function(){return A},hooks:function(){return L},install:function(){return Hi},interceptor:function(){return _},log:function(){return j},menus:function(){return N},modal:function(){return Y},print:function(){return G},readFile:function(){return U},renderer:function(){return M},saveFile:function(){return q},setConfig:function(){return w},setI18n:function(){return E},setIcon:function(){return k},setLanguage:function(){return T},setTheme:function(){return x},setup:function(){return z},t:function(){return B},use:function(){return $},validators:function(){return I},version:function(){return v}});var o=n(3199),i=n(1845),a=n.n(i),l=n(3333);function s(e){return e&&!1!==e.enabled}function c(e){return null===e||void 0===e||""===e}function u(e){const t=e.name,n=a().lastIndexOf(t,"."),r=t.substring(n+1,t.length).toLowerCase(),o=t.substring(0,n);return{filename:o,type:r}}function d(){return l.Ay.getNext()}function p(){return l.Ay.getCurrent()}function f(e){return e&&e.children&&e.children.length>0}function h(e,t){if(e){const n=o.OE.getConfig().translate;return a().toValueString(n?n(""+e,t):e)}return""}function m(e,t){return""+(c(e)?t?o.OE.getConfig().emptyCell:"":e)}function g(e){return""===e||a().eqNull(e)}const v="4.16.21";o.OE.version=v,o.OE.tableVersion=v,o.OE.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}});const b="vxe-table-icon-";o.OE.setIcon({TABLE_SORT_ASC:b+"caret-up",TABLE_SORT_DESC:b+"caret-down",TABLE_FILTER_NONE:b+"funnel",TABLE_FILTER_MATCH:b+"funnel",TABLE_EDIT:b+"edit",TABLE_TITLE_PREFIX:b+"question-circle-fill",TABLE_TITLE_SUFFIX:b+"question-circle-fill",TABLE_TREE_LOADED:b+"spinner roll",TABLE_TREE_OPEN:b+"caret-right rotate90",TABLE_TREE_CLOSE:b+"caret-right",TABLE_EXPAND_LOADED:b+"spinner roll",TABLE_EXPAND_OPEN:b+"arrow-right rotate90",TABLE_EXPAND_CLOSE:b+"arrow-right",TABLE_CHECKBOX_CHECKED:b+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:b+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:b+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:b+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:b+"radio-checked-fill",TABLE_RADIO_UNCHECKED:b+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:b+"radio-unchecked-fill",TABLE_CUSTOM_SORT:b+"drag-handle",TABLE_MENU_OPTIONS:b+"arrow-right",TABLE_DRAG_ROW:b+"drag-handle",TABLE_DRAG_COLUMN:b+"drag-handle",TABLE_DRAG_STATUS_ROW:b+"sort",TABLE_DRAG_STATUS_SUB_ROW:b+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:b+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:b+"values",TABLE_DRAG_STATUS_COLUMN:b+"swap",TABLE_DRAG_DISABLED:b+"no-drop",TABLE_ROW_GROUP_OPEN:b+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:b+"arrow-right",TABLE_AGGREGATE_GROUPING:b+"grouping",TABLE_AGGREGATE_VALUES:b+"values",TABLE_AGGREGATE_SORT:b+"drag-handle",TABLE_AGGREGATE_DELETE:b+"close",TOOLBAR_TOOLS_REFRESH:b+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:b+"repeat roll",TOOLBAR_TOOLS_IMPORT:b+"upload",TOOLBAR_TOOLS_EXPORT:b+"download",TOOLBAR_TOOLS_PRINT:b+"print",TOOLBAR_TOOLS_FULLSCREEN:b+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:b+"minimize",TOOLBAR_TOOLS_CUSTOM:b+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:b+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:b+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:b+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:b+"fixed-right-fill"});const x=o.OE.setTheme,y=o.OE.getTheme,w=o.OE.setConfig,C=o.OE.getConfig,k=o.OE.setIcon,S=o.OE.getIcon,T=o.OE.setLanguage,E=o.OE.setI18n,O=o.OE.getI18n,D=o.OE.globalEvents,A=o.OE.globalResize,M=o.OE.renderer,I=o.OE.validators,N=o.OE.menus,R=o.OE.formats,F=o.OE.commands,_=o.OE.interceptor,P=o.OE.clipboard,j=o.OE.log,L=o.OE.hooks,$=o.OE.use,z=e=>o.OE.setConfig(e);o.OE.setup=z;const V=e=>o.OE.setConfig(e);o.OE.config=V;const B=(e,t)=>o.OE.getI18n(e,t);o.OE.t=B;const H=(e,t)=>h(e,t);o.OE._t=H;const W=o.OE,q=e=>o.OE.saveFile(e),U=e=>o.OE.readFile(e),G=e=>o.OE.print(e),Y={get(e){return o.OE.modal.get(e)},close(e){return o.OE.modal.close(e)},open(e){return o.OE.modal.open(e)},alert(e,t,n){return o.OE.modal.alert(e,t,n)},confirm(e,t,n){return o.OE.modal.confirm(e,t,n)},message(e,t){return o.OE.modal.message(e,t)},notification(e,t,n){return o.OE.modal.notification(e,t,n)}};var K=n(4061);const X=K.defineComponent,{log:Z}=o.OE,J="table v4.16.21",Q=Z.create("warn",J),ee=Z.create("error",J),{getI18n:te,formats:ne}=o.OE;class re{constructor(e,t,{renderHeader:n,renderCell:r,renderFooter:o,renderData:i}={}){const l=e.props,s=e.xeGrid,c=e.xeGantt,u=s||c,{field:d,editRender:p}=t,f=t.formatter,h=!a().isBoolean(t.visible)||t.visible,m=["seq","checkbox","radio","expand","html"];if(t.type&&-1===m.indexOf(t.type)&&Q("vxe.error.errProp",[`type=${t.type}`,m.join(", ")]),(a().isBoolean(t.cellRender)||t.cellRender&&!a().isObject(t.cellRender))&&Q("vxe.error.errProp",[`column.cell-render=${t.cellRender}`,"column.cell-render={}"]),(a().isBoolean(t.editRender)||t.editRender&&!a().isObject(t.editRender))&&Q("vxe.error.errProp",[`column.edit-render=${t.editRender}`,"column.edit-render={}"]),"expand"===t.type){const{treeConfig:t}=l,{computeTreeOpts:n}=e.getComputeMaps(),r=n.value;t&&(r.showLine||r.line)&&ee("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(f)if(a().isString(f)){const e=ne.get(f)||a()[f];e&&a().isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||ee("vxe.error.notFormats",[f])}else if(a().isArray(f)){const e=ne.get(f[0])||a()[f[0]];e&&a().isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||ee("vxe.error.notFormats",[f[0]])}if(t.aggFunc&&(e.handlePivotTableAggregateData||!0===t.aggFunc||ee("vxe.error.errProp",[`column.agg-func=${t.aggFunc}`,"column.agg-func=true"])),d&&p&&(p.startField&&`${p.startField}`.indexOf(d)>=0&&ee("vxe.error.modelConflicts",[`field=${d}`,`edit-render.startField=${p.startField}`]),p.endField&&`${p.endField}`.indexOf(d)>=0&&ee("vxe.error.modelConflicts",[`field=${d}`,`edit-render.endField=${p.endField}`])),Object.assign(this,{type:t.type,property:t.field,field:d,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:f,headerFormatter:t.headerFormatter,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:Ze(t.filters),filterMultiple:!a().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,rowGroupNode:t.rowGroupNode,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:p,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,aggFunc:t.aggFunc,params:t.params,id:t.colId||a().uniqueId("col_"),parentId:null,visible:h,defaultParentId:null,halfVisible:!1,defaultVisible:h,defaultFixed:t.fixed,defaultAggGroup:t.aggGroup,defaultAggFunc:t.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:r||t.renderCell,renderFooter:o||t.renderFooter,renderData:i,slots:t.slots}),u){const{computeProxyOpts:t}=u.getComputeMaps(),n=t.value;n.beforeColumn&&n.beforeColumn({$table:e,$grid:s,$gantt:c,column:this})}}getTitle(){return h(this.title||("seq"===this.type?te("vxe.table.seqTitle"):""))}getKey(){const{type:e}=this;return this.field||(e?`type=${e}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const oe={};let ie;function ae(){return ie||(ie=new Image,ie.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),ie}function le(){return ie||ae()}function se(e,t){return e?a().isFunction(e)?e(t):e:""}function ce(e){return oe[e]||(oe[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),oe[e]}function ue(e){return e&&/^\d+(px)?$/.test(e)}function de(e){return e&&/^\d+%$/.test(e)}function pe(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(ce(t)))}function fe(e,t){e&&pe(e,t)&&(e.className=e.className.replace(ce(t),""))}function he(e,t){e&&!pe(e,t)&&(fe(e,t),e.className=`${e.className} ${t}`)}function me(e){return e.ctrlKey||e.metaKey}function ge(e,t="px"){return a().isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function ve(e,t){return e?e.querySelector(t):null}function be(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function xe(e){return e?e.offsetHeight:0}function ye(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.paddingTop),r=a().toNumber(t.paddingBottom);return n+r}return 0}function we(e,t){e&&(e.scrollTop=t)}function Ce(e,t){e&&(e.scrollLeft=t)}function ke(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function Se(e,t,n,r){let o,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;while(i&&i.nodeType&&i!==document){if(n&&pe(i,n)&&(!r||r(i)))o=i;else if(i===t)return{flag:!n||!!o,container:t,targetElem:o};i=i.parentNode}return{flag:!1}}function Te(e){const t=e.getBoundingClientRect(),n=t.top,r=t.left,{scrollTop:o,scrollLeft:i,visibleHeight:a,visibleWidth:l}=be();return{boundingTop:n,top:o+n,boundingLeft:r,left:i+r,visibleHeight:a,visibleWidth:l}}const Ee="scrollIntoViewIfNeeded",Oe="scrollIntoView";function De(e){e&&(e[Ee]?e[Ee]():e[Oe]&&e[Oe]())}function Ae(e,t){e&&e.dispatchEvent(new Event(t))}function Me(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const Ie=(e,t)=>{const n=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(n.push(e),n.push(...Ie(e.children,e))):n.push(e))}),n},Ne=e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some(e=>e.visible)){let t=0;e.children.forEach(r=>{r.visible&&(n(r,e),t+=r.colSpan)}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e)});const r=[];for(let i=0;i<t;i++)r.push([]);const o=Ie(e);return o.forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r};function Re(e){const t=e.length,n=e[0].reduce((e,t)=>e+t.colSpan,0),r=[],o=[];for(let i=0;i<t;i++){const e=[],t=[];for(let r=0;r<n;r++)e.push(!1),t.push("");r.push(e),o.push(t)}for(let i=0;i<t;i++){let t=0;for(const a of e[i]){const{colSpan:e,rowSpan:l}=a;let s=-1;for(let o=t;o<=n-e;o++){let t=!0;for(let n=0;n<e;n++)if(r[i][o+n]){t=!1;break}if(t){s=o;break}}if(-1===s){for(let t=0;t<=n-e;t++){let n=!0;for(let o=0;o<e;o++)if(r[i][t+o]){n=!1;break}if(n){s=t;break}}if(-1===s)break}for(let t=i;t<i+l;t++)for(let n=s;n<s+e;n++)r[t][n]=!0,o[t][n]=a;t=s+e}}return o}function Fe(e,t,n){const r=e.internalData;return t||n?(r.intoRunScroll=!1,r.inVirtualScroll=!1,r.inWheelScroll=!1,r.inHeaderScroll=!1,r.inBodyScroll=!1,r.inFooterScroll=!1,r.scrollRenderType="",e.scrollTo(t,n)):e.clearScroll()}function _e(){return a().uniqueId("row_")}function Pe(e){return e.indexOf(".")>-1}function je(e){const{currKeyField:t}=e.internalData;return t}function Le(e,t){const n=e.internalData,{isCurrDeepKey:r,currKeyField:o}=n;return t?Ve((r?Be:We)(t,o)):""}function $e(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:r}=t,o=n?He:qe;return{rowKey:r,handleUpdateRowId(e){return e?o(e,r):""}}}function ze(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:r}=t,o=n?Be:We;return{rowKey:r,handleGetRowId(e){return e?Ve(o(e,r)):""}}}function Ve(e){return a().eqNull(e)?"":encodeURIComponent(e)}function Be(e,t){return a().get(e,t)}function He(e,t){let n=Ve(Be(e,t));return g(n)&&(n=_e(),a().set(e,t,n)),n}function We(e,t){return e[t]}function qe(e,t){let n=Ve(We(e,t));return g(n)&&(n=_e(),e[t]=n),n}function Ue(e,t){return t?a().isString(t)||a().isNumber(t)?e.getColumnByField(`${t}`):t:null}function Ge(e,t){if(t){const n=a().isString(t)||a().isNumber(t)?t:Le(e,t);return e.getRowById(n)}return null}function Ye(e,t,n,r){return e.resizeHeight||t.height||n.height||e.height||r}function Ke(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.paddingLeft),r=a().toNumber(t.paddingRight);return n+r}return 0}function Xe(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.marginLeft),r=a().toNumber(t.marginRight);return e.offsetWidth+n+r}return 0}function Ze(e){return e&&a().isArray(e)?e.map(({label:e,value:t,data:n,resetValue:r,checked:o})=>({label:e,value:t,data:n,resetValue:r,checked:!!o,_checked:!!o})):e}function Je(e){return e.map((e,t)=>t%2===0?Number(e)+1:".").join("")}function Qe(e,t){return a().get(e,t.field)}function et(e,t,n){return a().set(e,t.field,n)}function tt(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function nt(e){return"unset"===e?0:e||0}function rt(e){const{$table:t,column:n,cell:r}=e,o=t.props,i=t.internalData,{computeResizableOpts:l}=t.getComputeMaps(),s=l.value,{minWidth:c}=s;if(c){const t=a().isFunction(c)?c(e):c;if("auto"!==t)return Math.max(1,a().toNumber(t))}const{elemStore:u}=i,{showHeaderOverflow:d}=o,{showHeaderOverflow:p,minWidth:f}=n,h=a().isUndefined(p)||a().isNull(p)?d:p,m="ellipsis"===h,g="title"===h,v=!0===h||"tooltip"===h,b=g||v||m,x=a().floor(1.8*(a().toNumber(getComputedStyle(r).fontSize)||14)),y=Ke(r)+Ke(ve(r,".vxe-cell"));let w=x+y;if(b){const e=Xe(ve(r,".vxe-cell--drag-handle")),t=Xe(ve(r,".vxe-cell--checkbox")),n=Xe(ve(r,".vxe-cell--required-icon")),o=Xe(ve(r,".vxe-cell--edit-icon")),i=Xe(ve(r,".vxe-cell-title-prefix-icon")),a=Xe(ve(r,".vxe-cell-title-suffix-icon")),l=Xe(ve(r,".vxe-cell--sort")),s=Xe(ve(r,".vxe-cell--filter"));w+=e+t+n+o+i+a+s+l}if(f){const e=tt(u["main-body-scroll"]);if(e){if(de(f)){const t=e.clientWidth-1,n=t/100;return Math.max(w,Math.floor(a().toInteger(f)*n))}if(ue(f))return Math.max(w,a().toInteger(f))}}return w}function ot(e){return e&&(e.constructor===re||e instanceof re)}function it(e){const t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?it(e.children):[e])}),t}function at(e,t,n){return ot(t)?t:(0,K.reactive)(new re(e,t,n))}function lt(e,t,n){Object.keys(t).forEach(r=>{(0,K.watch)(()=>t[r],t=>{n.update(r,t),e&&("filters"===r?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(r)&&e.handleRefreshColumnQueue())})})}function st(e,t,n,r){const{reactData:o}=e,{staticColumns:i}=o,l=t.parentNode,s=r?r.columnConfig:null,c=s?s.children:i;l&&c&&(n.defaultParentId=s?s.id:null,c.splice(a().arrayIndexOf(l.children,t),0,n),o.staticColumns=i.slice(0))}function ct(e,t){const{reactData:n}=e,{staticColumns:r}=n,o=a().findTree(r,e=>e.id===t.id,{children:"children"});o&&o.items.splice(o.index,1),n.staticColumns=r.slice(0)}function ut(e,t){const{internalData:n}=e,{fullColumnIdData:r}=n;if(!t)return null;let o=t.parentId;while(r[o]){const e=r[o].column;if(o=e.parentId,!o)return e}return t}function dt(e){const{children:t}=e;return t&&t.length?dt(a().first(t)):e}function pt(e){const{children:t}=e;return t&&t.length?dt(a().last(t)):e}const ft={mini:3,small:2,medium:1,large:0};function ht(e,t){let n=1;if(!e)return n;const{$table:r}=t,o=r.reactData,{treeExpandedFlag:i}=o,a=r.internalData,{treeExpandedMaps:l}=a,{computeTreeOpts:s}=r.getComputeMaps(),c=s.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,f=e[u?d:p];if(f&&i&&l[Le(r,e)])for(let h=0;h<f.length;h++)n+=ht(f[h],t);return n}function mt(e){const{computeSize:t}=e.getComputeMaps(),n=t.value;return n&&ft[n]||0}function gt(e,t){const{$table:n,row:r}=e,o=n.props,i=n.reactData,a=n.internalData,{showOverflow:l}=o,{scrollYLoad:s}=i,{fullAllDataRowIdData:c}=a,{computeRowOpts:u,computeCellOpts:d,computeDefaultRowHeight:p}=n.getComputeMaps(),f=u.value,h=d.value,m=p.value,g=Le(n,r),v=c[g],b=v.resizeHeight||h.height||f.height||v.height||m;let x=1;t&&(x=ht(t,e));let y=b;const w=v.height;return s&&(l||(y=w||b)),y*x-(t?1:12-mt(n))}function vt(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function bt(e){return e.clearFilter&&e.clearFilter(),vt(e)}function xt(e,t){const n=e.props,r=e.reactData,o=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:a,computeRowOpts:l,computeCellOpts:s,computeDefaultRowHeight:c}=e.getComputeMaps(),{showOverflow:u}=n,{scrollYLoad:d,scrollYTop:p}=r,{elemStore:f,afterFullData:h,fullAllDataRowIdData:m,isResizeCellHeight:g}=o,v=l.value,b=s.value,x=c.value,y=i.value,w=a.value,C=tt(f["main-body-scroll"]),k=Le(e,t);if(C){const n=C.clientHeight,r=C.scrollTop,o=C.querySelector(`[rowid="${k}"]`);if(o){const t=o.offsetTop+(d?p:0),i=o.clientHeight;if(t<r||t>r+n)return e.scrollTo(null,t);if(t+i>=n+r)return e.scrollTo(null,r+i)}else if(d){const o=g||b.height||v.height;if(!o&&u)return e.scrollTo(null,(e.findRowIndexOf(h,t)-1)*x);const i=m[k]||{},a=i.resizeHeight||b.height||v.height||i.height||x,l=i.oTop;return l<r?e.scrollTo(null,l-y-1):e.scrollTo(null,l+a-(n-w-1))}}return Promise.resolve()}function yt(e,t,n){const r=e.reactData,o=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:a}=e.getComputeMaps(),{scrollXLoad:l,scrollXLeft:s}=r,{elemStore:c,visibleColumn:u}=o,d=i.value,p=a.value,f=tt(c["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(f){const r=f.clientWidth,o=f.scrollLeft;let i=null;if(n){const r=Le(e,n);i=f.querySelector(`[rowid="${r}"] .${t.id}`)}if(i||(i=f.querySelector(`.${t.id}`)),i){const t=i.offsetLeft+(l?s:0),n=i.clientWidth;if(t<o+d)return e.scrollTo(t-d-1);if(t+n-o>r-p)return e.scrollTo(t+n-(r-p-1))}else if(l){let n=0;const i=t.renderWidth;for(let e=0;e<u.length;e++){const r=u[e];if(r===t||r.id===t.id)break;n+=r.renderWidth}return n<o?e.scrollTo(n-d-1):e.scrollTo(n+i-(r-p-1))}}return Promise.resolve()}function wt(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Ct(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function kt(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function St(e){return null===e||void 0===e?[]:a().isArray(e)?e:[e]}const{getI18n:Tt,getIcon:Et,renderer:Ot,formats:Dt,renderEmptyElement:At}=o.OE;function Mt(e){const{$table:t,column:n}=e,r=n.titlePrefix||n.titleHelp;return r?(0,K.h)("span",{class:["vxe-cell-title-prefix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,r,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[(0,K.h)("i",{class:r.icon||Et().TABLE_TITLE_PREFIX})]):At(t)}function It(e){const{$table:t,column:n}=e,r=n.titleSuffix;return r?(0,K.h)("span",{class:["vxe-cell-title-suffix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,r,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[(0,K.h)("i",{class:r.icon||Et().TABLE_TITLE_SUFFIX})]):At(t)}function Nt(e){const{$table:t,column:n}=e,{context:r}=t,o=r.slots,i=t.props,{slots:a}=n,{dragConfig:l}=i,{computeRowDragOpts:s}=t.getComputeMaps(),c=s.value,{icon:u,trigger:d,disabledMethod:p}=c,f=p||(l?l.rowDisabledMethod:null),h=f&&f(e),m=(a?a.rowDragIcon||a["row-drag-icon"]:null)||o.rowDragIcon||o["row-drag-icon"],g={};return"cell"!==d&&(g.onMousedown=n=>{h||t.handleCellDragMousedownEvent(n,e)},g.onMouseup=t.handleCellDragMouseupEvent),(0,K.h)("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":h}]},g),m?t.callSlot(m,e):[(0,K.h)("i",{class:u||(l?l.rowIcon:"")||Et().TABLE_DRAG_ROW})])}function Rt(e,t){const{$table:n,column:r,level:o}=e,{dragSort:i}=r,l=n.props,{treeConfig:s,dragConfig:c}=l,{computeRowOpts:u,computeRowDragOpts:d,computeTreeOpts:p}=n.getComputeMaps(),f=u.value,h=d.value,m=p.value,{showIcon:g,isPeerDrag:v,isCrossDrag:b,visibleMethod:x}=h,y=x||(c?c.rowVisibleMethod:null),w=[];return i&&f.drag&&(g||c&&c.showRowIcon)&&(!y||y(e))&&(s?m.transform&&(v||b||!o)&&w.push(Nt(e)):w.push(Nt(e))),w.concat(a().isArray(t)?t:[t])}function Ft(e){const{$table:t,column:n}=e,{context:r}=t,o=r.slots,{slots:i}=n,{computeColumnOpts:a,computeColumnDragOpts:l}=t.getComputeMaps(),s=a.value,c=l.value,{showIcon:u,icon:d,trigger:p,isPeerDrag:f,isCrossDrag:h,visibleMethod:m,disabledMethod:g}=c;if(s.drag&&u&&(!m||m(e))&&!n.fixed&&(f||h||!n.parentId)){const n=g&&g(e),r=(i?i.columnDragIcon||i["column-drag-icon"]:null)||o.columnDragIcon||o["column-drag-icon"],a={};return"cell"!==p&&(a.onMousedown=r=>{n||t.handleHeaderCellDragMousedownEvent(r,e)},a.onMouseup=t.handleHeaderCellDragMouseupEvent),(0,K.h)("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}]},a),r?t.callSlot(r,e):[(0,K.h)("i",{class:d||Et().TABLE_DRAG_COLUMN})])}return At(t)}function _t(e,t){const n=[Mt(e),Ft(e),...a().isArray(t)?t:[t],It(e)];return n}function Pt(e,t){return"html"===e.type&&a().isString(t)?(0,K.h)("span",{key:"ch",innerHTML:t}):(0,K.h)("span",{key:"ct"},St(t))}function jt(e,t){const{$table:n,column:r}=e,o=n.props,i=n.reactData,{computeHeaderTooltipOpts:l}=n.getComputeMaps(),{showHeaderOverflow:s}=o,{isRowGroupStatus:c}=i,{showHeaderOverflow:u}=r,d=l.value,p=d.showAll,f=a().eqNull(u)?s:u,h="title"===f,m=!0===f||"tooltip"===f,g={};(h||m||p)&&(g.onMouseenter=t=>{i.isDragResize||(h?ke(t.currentTarget,r):(m||p)&&n.triggerHeaderTooltipEvent(t,e))}),(m||p)&&(g.onMouseleave=e=>{i.isDragResize||(m||p)&&n.handleTargetLeaveEvent(e)});const v=Pt(r,t);return[(0,K.h)("span",Object.assign({class:"vxe-cell--title"},g),c&&r.aggFunc&&n.getPivotTableAggregateRenderColTitles?n.getPivotTableAggregateRenderColTitles(r,v):[v])]}function Lt(e){const{$table:t,column:n,_columnIndex:r,items:o,row:i}=e,{slots:l,editRender:s,cellRender:c,footerFormatter:u}=n,d=s||c,p=l?l.footer:null;if(p)return t.callSlot(p,e);let f="";f=a().isArray(o)?o[r]:a().get(i,n.field);const h=Object.assign(e,{itemValue:f});if(u){if(a().isFunction(u))return[(0,K.h)("span",{class:"vxe-cell--label"},`${u(h)}`)];const e=a().isArray(u),t=e?Dt.get(u[0]):Dt.get(u),n=t?t.tableFooterCellFormatMethod:null;return n?[(0,K.h)("span",{class:"vxe-cell--label"},`${e?n(h,...u.slice(1)):n(h)}`)]:[(0,K.h)("span",{class:"vxe-cell--label"},"")]}if(d){const e=Ot.get(d.name);if(e){const t=e.renderTableFooter||e.renderFooter;if(t)return St(t(d,h))}}return[(0,K.h)("span",{class:"vxe-cell--label"},m(f,1))]}function $t(e){const{$table:t,row:n,column:r}=e;return m(t.getCellLabel(n,r),1)}function zt(e){const{column:t,row:n,$table:r}=e,o=r.props,i=r.reactData,{isRowGroupStatus:a}=i,{editConfig:l}=o,{type:c,treeNode:u,rowGroupNode:d,editRender:p}=t,{computeEditOpts:f,computeCheckboxOpts:h,computeAggregateOpts:m}=r.getComputeMaps(),g=m.value,{mode:v}=g,b=h.value,x=f.value,y=u||a&&("column"===v?t.field===n.groupField:d);switch(c){case"seq":return y?Ht.renderDeepIndexCell(e):Ht.renderSeqCell(e);case"radio":return y?Ht.renderDeepRadioCell(e):Ht.renderRadioCell(e);case"checkbox":return b.checkField?y?Ht.renderDeepSelectionCellByProp(e):Ht.renderCheckboxCellByProp(e):y?Ht.renderDeepSelectionCell(e):Ht.renderCheckboxCell(e);case"expand":return Ht.renderExpandCell(e);case"html":return y?Ht.renderDeepHTMLCell(e):Ht.renderHTMLCell(e)}return s(l)&&p?"cell"===x.mode?y?Ht.renderDeepCellEdit(e):Ht.renderCellEdit(e):y?Ht.renderDeepRowEdit(e):Ht.renderRowEdit(e):y?Ht.renderDeepCell(e):Ht.renderDefaultCell(e)}function Vt(e){const{column:t,$table:n}=e,r=n.props,{editConfig:o}=r,{type:i,filters:a,sortable:l,editRender:s}=t;switch(i){case"seq":return Ht.renderSeqHeader(e);case"radio":return Ht.renderRadioHeader(e);case"checkbox":return Ht.renderCheckboxHeader(e);case"html":if(a&&l)return Ht.renderSortAndFilterHeader(e);if(l)return Ht.renderSortHeader(e);if(a)return Ht.renderFilterHeader(e);break}return o&&s?Ht.renderEditHeader(e):a&&l?Ht.renderSortAndFilterHeader(e):l?Ht.renderSortHeader(e):a?Ht.renderFilterHeader(e):Ht.renderDefaultHeader(e)}function Bt(e){return Ht.renderDefaultFooter(e)}const Ht={createColumn(e,t){const{type:n}=t,r={renderHeader:Vt,renderCell:zt,renderFooter:Bt};return"expand"===n&&(r.renderData=Ht.renderExpandData),at(e,t,r)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:r,editRender:o,cellRender:i}=n,a=o||i,l=r?r.header:null;if(l)return jt(e,t.callSlot(l,e));if(a){const t=Ot.get(a.name);if(t){const n=t.renderTableHeader||t.renderHeader;if(n)return jt(e,St(n(a,e)))}}return jt(e,m(n.getTitle(),1))},renderDefaultHeader(e){return _t(e,Ht.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:n,column:r}=e,o=t.reactData,i=t.internalData,{isRowGroupStatus:a}=o,{field:l,slots:s,editRender:c,cellRender:u,rowGroupNode:d,aggFunc:p}=r,f=c||u,v=s?s.default:null,b=s?s.groupContent||s["group-content"]:null;let x="";if(a&&l&&n.isAggregate){const o=n,{fullColumnFieldData:a}=i,{computeAggregateOpts:s}=t.getComputeMaps(),c=s.value,{mode:u,showTotal:f,totalMethod:h,countFields:m,contentMethod:g,mapChildrenField:v}=c,y=c.calcValuesMethod||c.countMethod||c.aggregateMethod,w=o.groupField,C=o.groupContent,k=v&&o[v]||[],S=o.childCount,T=a[w]||{},E={$table:t,groupField:w,groupColumn:T?T.column:null,column:r,groupValue:C,childList:k,childCount:S,aggValue:null,children:k,totalValue:S};if(b)return Rt(e,t.callSlot(b,Object.assign({groupField:w,groupContent:C,childList:k,childCount:S},e)));("column"===u?l===o.groupField:d)?(x=C,g&&(x=`${g(E)}`),f&&(x=Tt("vxe.table.rowGroupContentTotal",[x,h?h(E):S,S]))):t.getPivotTableAggregateCellAggValue?x=t.getPivotTableAggregateCellAggValue(e):(!0===p||m&&m.includes(l))&&y&&(E.aggValue=S,x=`${y(E)}`)}else{if(v)return Rt(e,t.callSlot(v,e));if(f){const t=Ot.get(f.name);if(t){const n=t.renderTableCell||t.renderCell,r=t.renderTableDefault||t.renderDefault,o=c?n:r;if(o)return Rt(e,St(o(f,Object.assign({$type:c?"edit":"cell"},e))))}}x=t.getCellLabel(n,r)}const y=c?c.placeholder:"";return Rt(e,[(0,K.h)("span",{class:"vxe-cell--label"},[c&&g(x)?(0,K.h)("span",{class:"vxe-cell--placeholder"},m(h(y),1)):(0,K.h)("span",m(x,1))])])},renderDeepCell(e){return Ht.renderDeepNodeBtn(e,Ht.renderDefaultCell(e))},renderDefaultFooter(e){return Lt(e)},renderRowGroupBtn(e,t){const{$table:n}=e,r=n.reactData,o=n.internalData,{row:i,level:a}=e,{computeAggregateOpts:l}=n.getComputeMaps(),{rowGroupExpandedFlag:s}=r,{rowGroupExpandedMaps:c}=o,u=l.value,{mode:d,padding:p,indent:f}=u,h=Le(n,i),m=!!s&&!!c[h];return(0,K.h)("div",{class:["vxe-row-group--tree-node",{"is--expanded":m}],style:"column"!==d&&p&&f?{paddingLeft:a*f+"px"}:void 0},[i.isAggregate?(0,K.h)("span",{class:"vxe-row-group--node-btn",onClick(t){n.triggerRowGroupExpandEvent(t,e)}},[(0,K.h)("i",{class:m?Et().TABLE_ROW_GROUP_OPEN:Et().TABLE_ROW_GROUP_CLOSE})]):At(n),(0,K.h)("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:n,isHidden:r}=e,o=n.reactData,i=n.internalData,{row:a,column:l,level:s}=e,{slots:c}=l,u=c?c.icon:null;if(u)return n.callSlot(u,e);const{computeTreeOpts:d}=n.getComputeMaps(),{treeExpandedFlag:p}=o,{fullAllDataRowIdData:f,treeExpandedMaps:h,treeExpandLazyLoadedMaps:m}=i,g=d.value,{padding:v,indent:b,lazy:x,trigger:y,iconLoaded:w,showIcon:C,iconOpen:k,iconClose:S}=g,T=g.children||g.childrenField,E=g.hasChild||g.hasChildField,O=a[T],D=O&&O.length;let A=!1,M=!1,I=!1,N=!1;const R={};if(!r){const e=Le(n,a);if(M=!!p&&!!h[e],x){const t=f[e];I=!!m[e],A=a[E],N=!!t.treeLoaded}}return y&&"default"!==y||(R.onClick=t=>{n.triggerTreeExpandEvent(t,e)}),(0,K.h)("div",{class:["vxe-cell--tree-node",{"is--active":M}],style:v&&b?{paddingLeft:s*b+"px"}:void 0},[C&&(x?N?D:D||A:D)?[(0,K.h)("div",Object.assign({class:"vxe-cell--tree-btn"},R),[(0,K.h)("i",{class:I?w||Et().TABLE_TREE_LOADED:M?k||Et().TABLE_TREE_OPEN:S||Et().TABLE_TREE_CLOSE})])]:null,(0,K.h)("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:n,row:r,column:o}=e,{rowGroupNode:i}=o,a=n.reactData,{rowGroupList:l}=a;if(l.length){const{computeAggregateOpts:a}=n.getComputeMaps(),l=a.value,{mode:s}=l;if("column"===s?o.field===r.groupField:i)return[Ht.renderRowGroupBtn(e,t)]}return[Ht.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.header:null;return _t(e,jt(e,o?t.callSlot(o,e):m(n.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:n}=e,r=t.props,{treeConfig:o}=r,{computeSeqOpts:i}=t.getComputeMaps(),a=i.value,{slots:l}=n,s=l?l.default:null;if(s)return Rt(e,t.callSlot(s,e));const{seq:c}=e,u=a.seqMethod;return Rt(e,[(0,K.h)("span",`${m(u?u(e):o?c:(a.startIndex||0)+c,1)}`)])},renderDeepIndexCell(e){return Ht.renderDeepNodeBtn(e,Ht.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.header:null,i=r?r.title:null;return _t(e,jt(e,o?t.callSlot(o,e):[(0,K.h)("span",{class:"vxe-radio--label"},i?t.callSlot(i,e):m(n.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:n,isHidden:r}=e,o=t.reactData,{computeRadioOpts:i}=t.getComputeMaps(),{selectRadioRow:l}=o,s=i.value,{slots:c}=n,{labelField:u,checkMethod:d,visibleMethod:p}=s,{row:f}=e,h=c?c.default:null,m=c?c.radio:null,g=t.eqRow(f,l),v=!p||p({$table:t,row:f});let b,x=!!d;r||(b={onClick(n){!x&&v&&t.triggerRadioRowEvent(n,e)}},d&&(x=!d({$table:t,row:f})));const y=Object.assign(Object.assign({},e),{checked:g,disabled:x,visible:v});if(m)return Rt(e,t.callSlot(m,y));const w=[];return v&&w.push((0,K.h)("span",{class:["vxe-radio--icon",g?Et().TABLE_RADIO_CHECKED:x?Et().TABLE_RADIO_DISABLED_UNCHECKED:Et().TABLE_RADIO_UNCHECKED]})),(h||u)&&w.push((0,K.h)("span",{class:"vxe-radio--label"},h?t.callSlot(h,y):a().get(f,u))),Rt(e,[(0,K.h)("span",Object.assign({class:["vxe-cell--radio",{"is--checked":g,"is--disabled":x}]},b),w)])},renderDeepRadioCell(e){return Ht.renderDeepNodeBtn(e,Ht.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:n,isHidden:r}=e,o=t.reactData,{computeIsAllCheckboxDisabled:i,computeCheckboxOpts:l}=t.getComputeMaps(),{isAllSelected:s,isIndeterminate:c}=o,u=i.value,{slots:d}=n,p=d?d.header:null,f=d?d.title:null,h=l.value,{checkStrictly:m,showHeader:g,headerTitle:v}=h,b=n.getTitle(),x={};r||(x.onClick=e=>{u||t.triggerCheckAllEvent(e,!s)});const y=Object.assign(Object.assign({},e),{checked:s,disabled:u,indeterminate:c});return _t(e,jt(y,p?t.callSlot(p,y):(m?g:!1!==g)?[(0,K.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":s,"is--disabled":u,"is--indeterminate":c}],title:a().eqNull(v)?Tt("vxe.table.allTitle"):`${v||""}`},x),[(0,K.h)("span",{class:["vxe-checkbox--icon",c?Et().TABLE_CHECKBOX_INDETERMINATE:s?Et().TABLE_CHECKBOX_CHECKED:u?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})].concat(f||b?[(0,K.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,y):b)]:[]))]:[(0,K.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,y):b)]))},renderCheckboxCell(e){const{$table:t,row:n,column:r,isHidden:o}=e,i=t.props,l=t.reactData,s=t.internalData,{treeConfig:c}=i,{updateCheckboxFlag:u,isRowGroupStatus:d}=l,{selectCheckboxMaps:p,treeIndeterminateRowMaps:f}=s,{computeCheckboxOpts:h,computeAggregateOpts:m}=t.getComputeMaps(),g=m.value,{mapChildrenField:v}=g,b=h.value,{labelField:x,checkMethod:y,visibleMethod:w}=b,{slots:C}=r,k=C?C.default:null,S=C?C.checkbox:null;let T=!1,E=!1,O=!0,D=!1;const A={};if(!o){const r=Le(t,n);if(E=!!u&&!!p[r],y&&d&&t.isAggregateRecord(n)){const e=n[v||""];e&&e.length&&!e.every(e=>!y({$table:t,row:e}))||(D=!0)}else O=!w||w({$table:t,row:n}),D=y?!y({$table:t,row:n}):!!y;(c||d)&&(T=!!f[r]),A.onClick=n=>{!D&&O&&t.triggerCheckRowEvent(n,e,!E)}}const M=Object.assign(Object.assign({},e),{checked:E,disabled:D,visible:O,indeterminate:T});if(S)return Rt(e,t.callSlot(S,M));const I=[];return O&&I.push((0,K.h)("span",{class:["vxe-checkbox--icon",T?Et().TABLE_CHECKBOX_INDETERMINATE:E?Et().TABLE_CHECKBOX_CHECKED:D?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})),(k||x)&&I.push((0,K.h)("span",{class:"vxe-checkbox--label"},k?t.callSlot(k,M):a().get(n,x))),Rt(e,[(0,K.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":D,"is--indeterminate":T,"is--hidden":!O}]},A),I)])},renderDeepSelectionCell(e){return Ht.renderDeepNodeBtn(e,Ht.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:n,column:r,isHidden:o}=e,i=t.props,l=t.reactData,s=t.internalData,{treeConfig:c}=i,{updateCheckboxFlag:u,isRowGroupStatus:d}=l,{treeIndeterminateRowMaps:p}=s,{computeCheckboxOpts:f,computeAggregateOpts:h}=t.getComputeMaps(),m=h.value,{mapChildrenField:g}=m,v=f.value,{labelField:b,checkField:x,checkMethod:y,visibleMethod:w}=v,C=v.indeterminateField||v.halfField,{slots:k}=r,S=k?k.default:null,T=k?k.checkbox:null;let E=!1,O=!1,D=!0,A=!1;const M={};if(!o){const r=Le(t,n);if(O=!!u&&a().get(n,x),y&&d&&t.isAggregateRecord(n)){const e=n[g||""];e&&e.length&&!e.every(e=>!y({$table:t,row:e}))||(A=!0)}else D=!w||w({$table:t,row:n}),A=y?!y({$table:t,row:n}):!!y;(c||d)&&(E=!!p[r]),M.onClick=n=>{!A&&D&&t.triggerCheckRowEvent(n,e,!O)}}const I=Object.assign(Object.assign({},e),{checked:O,disabled:A,visible:D,indeterminate:E});if(T)return Rt(e,t.callSlot(T,I));const N=[];return D&&(N.push((0,K.h)("span",{class:["vxe-checkbox--icon",E?Et().TABLE_CHECKBOX_INDETERMINATE:O?Et().TABLE_CHECKBOX_CHECKED:A?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})),(S||b)&&N.push((0,K.h)("span",{class:"vxe-checkbox--label"},S?t.callSlot(S,I):a().get(n,b)))),Rt(e,[(0,K.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":O,"is--disabled":A,"is--indeterminate":C&&!O?n[C]:E,"is--hidden":!D}]},M),N)])},renderDeepSelectionCellByProp(e){return Ht.renderDeepNodeBtn(e,Ht.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:n,row:r,column:o}=e,i=t.reactData,l=t.internalData,{isRowGroupStatus:s}=i,{rowExpandedMaps:c,rowExpandLazyLoadedMaps:u}=l,{computeExpandOpts:d}=t.getComputeMaps(),p=d.value,{lazy:f,labelField:h,iconLoaded:m,showIcon:g,iconOpen:v,iconClose:b,visibleMethod:x}=p,{slots:y}=o,w=y?y.default:null,C=y?y.icon:null;let k=!1,S=!1;if(s&&r.isAggregate)return Rt(e,[]);if(C)return Rt(e,t.callSlot(C,e));if(!n){const e=Le(t,r);k=!!c[e],f&&(S=!!u[e])}return Rt(e,[!g||x&&!x(e)?At(t):(0,K.h)("span",{class:["vxe-table--expanded",{"is--active":k}],onMousedown(e){e.stopPropagation()},onClick(n){t.triggerRowExpandEvent(n,e)}},[(0,K.h)("i",{class:["vxe-table--expand-btn",S?m||Et().TABLE_EXPAND_LOADED:k?v||Et().TABLE_EXPAND_OPEN:b||Et().TABLE_EXPAND_CLOSE]})]),w||h?(0,K.h)("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):a().get(r,h)):At(t)])},renderExpandData(e){const{$table:t,column:n}=e,{slots:r,contentRender:o}=n,i=r?r.content:null;if(i)return t.callSlot(i,e);if(o){const t=Ot.get(o.name);if(t){const n=t.renderTableExpand||t.renderExpand;if(n)return St(n(o,e))}}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.default:null;return Rt(e,o?t.callSlot(o,e):[(0,K.h)("span",{class:"vxe-cell--html",innerHTML:$t(e)})])},renderDeepHTMLCell(e){return Ht.renderDeepNodeBtn(e,Ht.renderHTMLCell(e))},renderSortAndFilterHeader(e){return _t(e,Ht.renderHeaderTitle(e).concat(Ht.renderSortIcon(e).concat(Ht.renderFilterIcon(e))))},renderSortHeader(e){return _t(e,Ht.renderHeaderTitle(e).concat(Ht.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:r}=t.getComputeMaps(),o=r.value,{showIcon:i,allowBtn:l,ascTitle:s,descTitle:c,iconLayout:u,iconAsc:d,iconDesc:p,iconVisibleMethod:f}=o,{order:h}=n;return!i||f&&!f(e)?[]:[(0,K.h)("span",{class:["vxe-cell--sort",`vxe-cell--sort-${u}-layout`]},[(0,K.h)("i",{class:["vxe-sort--asc-btn",d||Et().TABLE_SORT_ASC,{"sort--active":"asc"===h}],title:a().eqNull(s)?Tt("vxe.table.sortAsc"):`${s||""}`,onClick:l?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}:void 0}),(0,K.h)("i",{class:["vxe-sort--desc-btn",p||Et().TABLE_SORT_DESC,{"sort--active":"desc"===h}],title:a().eqNull(c)?Tt("vxe.table.sortDesc"):`${c||""}`,onClick:l?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}:void 0})])]},renderFilterHeader(e){return _t(e,Ht.renderHeaderTitle(e).concat(Ht.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:n,hasFilter:r}=e,o=t.reactData,{filterStore:i}=o,{computeFilterOpts:a}=t.getComputeMaps(),l=a.value,{showIcon:s,iconNone:c,iconMatch:u,iconVisibleMethod:d}=l;return!s||d&&!d(e)?[]:[(0,K.h)("span",{class:["vxe-cell--filter",{"is--active":i.visible&&i.column===n}],onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}},[(0,K.h)("i",{class:["vxe-filter--btn",r?u||Et().TABLE_FILTER_MATCH:c||Et().TABLE_FILTER_NONE],title:Tt("vxe.table.filter")})])]},renderEditHeader(e){const{$table:t,column:n}=e,r=t.props,{computeEditOpts:o}=t.getComputeMaps(),{editConfig:i,editRules:l}=r,c=o.value,{sortable:u,filters:d,editRender:p}=n;let f=!1;if(l){const e=a().get(l,n.field);e&&(f=e.some(e=>e.required))}let h=[];if(s(i)){const{showAsterisk:e,showIcon:n,icon:r}=c;h=[f&&e?(0,K.h)("span",{class:"vxe-cell--required-icon"},[(0,K.h)("i")]):At(t),s(p)&&n?(0,K.h)("span",{class:"vxe-cell--edit-icon"},a().isFunction(r)?St(r({})):[(0,K.h)("i",{class:r||Et().TABLE_EDIT})]):At(t)]}return _t(e,h.concat(Ht.renderHeaderTitle(e)).concat(u?Ht.renderSortIcon(e):[]).concat(d?Ht.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:n}=e,r=t.reactData,{editStore:o}=r,{actived:i}=o,{editRender:a}=n;return Ht.runRenderer(e,s(a)&&i&&i.row===e.row)},renderDeepRowEdit(e){return Ht.renderDeepNodeBtn(e,Ht.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:n}=e,r=t.reactData,{editStore:o}=r,{actived:i}=o,{editRender:a}=n;return Ht.runRenderer(e,s(a)&&i&&i.row===e.row&&i.column===e.column)},renderDeepCellEdit(e){return Ht.renderDeepNodeBtn(e,Ht.renderCellEdit(e))},runRenderer(e,t){const{$table:n,row:r,column:o}=e,i=n.reactData,{isRowGroupStatus:a}=i,{slots:l,field:s,editRender:c,formatter:u}=o,d=l?l.default:null,p=l?l.groupContent||l["group-content"]:null,f=l?l.edit:null,h=Ot.get(c.name),m=h?h.renderTableEdit||h.renderEdit:null,g=Object.assign({$type:"",isEdit:t},e);if(t)return g.$type="edit",f?n.callSlot(f,g):m?St(m(c,g)):[];if(a&&s&&r.isAggregate){const t=r,{computeAggregateOpts:o}=n.getComputeMaps(),i=o.value,{mapChildrenField:a}=i,l=t.groupField,s=t.groupContent,c=a&&t[a]||[],u=t.childCount;if(p)return Rt(e,n.callSlot(p,Object.assign({groupField:l,groupContent:s,childList:c,childCount:u},e)))}else if(d)return Rt(e,n.callSlot(d,g));return u?Rt(e,[(0,K.h)("span",{class:"vxe-cell--label"},$t(g))]):Ht.renderDefaultCell(g)}};var Wt=Ht;const qt={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object};var Ut=X({name:"VxeColumn",props:qt,setup(e,{slots:t}){const n=(0,K.ref)(),r=(0,K.inject)("$xeTable",null),o=(0,K.inject)("$xeColgroup",null);if(!r)return()=>(0,K.createCommentVNode)();const i=Wt.createColumn(r,e);i.slots=t;const a=()=>(0,K.h)("div",{ref:n}),l={columnConfig:i,renderVN:a};return lt(r,e,i),(0,K.onMounted)(()=>{const e=n.value;e&&st(r,e,i,o)}),(0,K.onUnmounted)(()=>{ct(r,i)}),(0,K.provide)("$xeColumn",l),(0,K.provide)("$xeGrid",null),(0,K.provide)("$xeGantt",null),a}});const Gt=Object.assign({},Ut,{install(e){e.component(Ut.name,Ut),e.component("VxeTableColumn",Ut)}});o.OE.dynamicApp&&(o.OE.dynamicApp.component(Ut.name,Ut),o.OE.dynamicApp.component("VxeTableColumn",Ut)),o.OE.component(Ut);const Yt=Gt;var Kt=X({name:"VxeColgroup",props:qt,setup(e,{slots:t}){const n=(0,K.ref)(),r=(0,K.inject)("$xeTable",null),o=(0,K.inject)("$xeColgroup",null);if(!r)return()=>(0,K.createCommentVNode)();const i=Wt.createColumn(r,e),a={};t.header&&(a.header=t.header),i.slots=a,i.children=[],lt(r,e,i),(0,K.onMounted)(()=>{const e=n.value;e&&st(r,e,i,o)}),(0,K.onUnmounted)(()=>{ct(r,i)});const l=()=>(0,K.h)("div",{ref:n},t.default?t.default():[]),s={columnConfig:i};return(0,K.provide)("$xeColgroup",s),(0,K.provide)("$xeGrid",null),(0,K.provide)("$xeGantt",null),l}});const Xt=Object.assign({},Kt,{install(e){e.component(Kt.name,Kt),e.component("VxeTableColgroup",Kt)}});o.OE.dynamicApp&&(o.OE.dynamicApp.component(Kt.name,Kt),o.OE.dynamicApp.component("VxeTableColgroup",Kt)),o.OE.component(Kt);const Zt=Xt;const{getConfig:Jt}=o.OE,Qt={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>Jt().table.resizable},stripe:{type:Boolean,default:()=>Jt().table.stripe},border:{type:[Boolean,String],default:()=>Jt().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>Jt().table.round},size:{type:String,default:()=>Jt().table.size||Jt().size},fit:{type:Boolean,default:()=>Jt().table.fit},loading:Boolean,align:{type:String,default:()=>Jt().table.align},headerAlign:{type:String,default:()=>Jt().table.headerAlign},footerAlign:{type:String,default:()=>Jt().table.footerAlign},showHeader:{type:Boolean,default:()=>Jt().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>Jt().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>Jt().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>Jt().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>Jt().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>Jt().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>Jt().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>Jt().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>Jt().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>Jt().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>Jt().table.emptyText},keepSource:{type:Boolean,default:()=>Jt().table.keepSource},autoResize:{type:Boolean,default:()=>Jt().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>Jt().table.animat},delayHover:{type:Number,default:()=>Jt().table.delayHover},params:Object},{getConfig:en}=o.OE,tn=Object.assign(Object.assign({},Qt),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>en().grid.size||en().size}}),nn=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],rn=[...nn,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],on="row--drag-move",an="col--drag-move";function ln(e,t){a().arrayEach(e,e=>{e.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{a().arrayEach(e,e=>{he(e,on),e.style.transform=""})})}function sn(e,t){setTimeout(()=>{e&&a().arrayEach(e.querySelectorAll(t.map(e=>`${e}.${on}`).join(",")),e=>fe(e,on))},500)}function cn(e,t){a().arrayEach(e,e=>{e.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{a().arrayEach(e,e=>{he(e,an),e.style.transform=""})})}function un(e,t){setTimeout(()=>{e&&a().arrayEach(e.querySelectorAll(t.map(e=>`${e}.${on}`).join(",")),e=>fe(e,an))},500)}const dn=(0,K.reactive)({row:null});function pn(){return dn}const{getI18n:fn,renderer:hn,renderEmptyElement:mn}=o.OE,gn="body";var vn=X({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=(0,K.inject)("$xeTable",{}),{xID:n,props:r,context:o,reactData:i,internalData:l}=t,{computeEditOpts:c,computeMouseOpts:u,computeCellOffsetWidth:d,computeAreaOpts:p,computeDefaultRowHeight:f,computeEmptyOpts:h,computeTooltipOpts:m,computeRadioOpts:g,computeExpandOpts:v,computeTreeOpts:b,computeCheckboxOpts:x,computeCellOpts:y,computeValidOpts:w,computeRowOpts:C,computeColumnOpts:k,computeRowDragOpts:S,computeResizableOpts:T,computeVirtualXOpts:E,computeVirtualYOpts:O}=t.getComputeMaps(),D=(0,K.ref)(),A=(0,K.ref)(),M=(0,K.ref)(),I=(0,K.ref)(),N=(0,K.ref)(),R=(0,K.ref)(),F=(0,K.ref)(),_=(0,K.ref)(),P=()=>{const{delayHover:e}=r,{lastScrollTime:t,isDragResize:n}=i;return!!(n||t&&Date.now()<t+e)},j=(e,n,o)=>{const{column:i}=n,{afterFullData:a}=l,{treeConfig:s}=r,c=b.value,{slots:u,treeNode:d}=i,{fullAllDataRowIdData:p}=l;if(u&&u.line)return t.callSlot(u.line,n);const f=p[e];let h=0,m=null;return f&&(h=f.level,m=f.items[f.treeIndex-1]),s&&d&&(c.showLine||c.line)?[(0,K.h)("div",{key:"tl",class:"vxe-tree--line-wrapper"},[(0,K.h)("div",{class:"vxe-tree--line",style:{height:`${Le(t,a[0])===e?1:gt(n,m)}px`,bottom:`-${Math.floor(o/2)}px`,left:h*c.indent+(h?2-mt(t):0)+16+"px"}})])]:[]},L=(e,n,o,h,g,v,b,D,A,M,I,N,R)=>{const F=t.xeGrid,_=t.xeGantt,{columnKey:L,resizable:$,showOverflow:z,border:V,height:B,treeConfig:H,cellClassName:W,cellStyle:q,align:U,spanMethod:G,mouseConfig:Y,editConfig:X,editRules:Z,tooltipConfig:J,padding:Q}=r,{tableData:ee,tableColumn:te,dragRow:ne,overflowX:re,overflowY:oe,currentColumn:ie,scrollXLoad:ae,scrollYLoad:le,mergeBodyFlag:ce,calcCellHeightFlag:ue,resizeHeightFlag:de,resizeWidthFlag:pe,editStore:fe,isAllOverflow:he,validErrorMaps:me}=i,{fullAllDataRowIdData:ge,fullColumnIdData:ve,mergeBodyCellMaps:be,visibleColumn:xe,afterFullData:ye,mergeBodyList:we,scrollXStore:Ce,scrollYStore:Se}=l,Te=y.value,Ee=w.value,Oe=x.value,De=c.value,Ae=m.value,Me=T.value,Ie=E.value,Ne=O.value,{isAllColumnDrag:Re,isAllRowDrag:Fe}=Me,_e=C.value,Pe=S.value,je=f.value,$e=ue?Te.height||_e.height:0,{disabledMethod:ze,isCrossDrag:Ve,isPeerDrag:Be}=Pe,He=k.value,We=u.value,qe=p.value,Ue=d.value,{selectCellToRow:Ge}=qe,{type:Ke,cellRender:Xe,editRender:Ze,align:Je,showOverflow:Qe,className:et,treeNode:tt,rowResize:nt,padding:rt,verticalAlign:ot,slots:it}=M,{verticalAlign:at}=Te,{actived:lt}=fe,st=ge[n]||{},ct=M.id,ut=ve[ct]||{},dt=Ze||Xe,pt=dt?hn.get(dt.name):null,ft=pt?pt.tableCellClassName||pt.cellClassName:null,ht=pt?pt.tableCellStyle||pt.cellStyle:"",mt=Ae.showAll,gt=ut.index,vt=ut._index,bt=s(Ze),xt=de?st.resizeHeight:0;let yt=re&&(o?M.fixed!==o:!!M.fixed);const wt=a().eqNull(rt)?null===Q?Te.padding:Q:rt,Ct=a().eqNull(Qe)?z:Qe,kt="ellipsis"===Ct,St="title"===Ct,Tt=!0===Ct||"tooltip"===Ct,Et=he||St||Tt||kt,Ot=a().isBoolean(M.resizable)?M.resizable:He.resizable||$,Dt=!!$e,At=xt>0;let Mt;const It={},Nt=Je||(pt?pt.tableCellAlign:"")||U,Rt=a().eqNull(ot)?at:ot,Ft=me[`${n}:${ct}`],_t=Z&&Ee.showMessage&&("default"===Ee.message?B||ee.length>1:"inline"===Ee.message),Pt={colid:ct},jt={$table:t,$grid:F,$gantt:_,isEdit:!1,seq:e,rowid:n,row:v,rowIndex:b,$rowIndex:D,_rowIndex:A,column:M,columnIndex:gt,$columnIndex:I,_columnIndex:vt,fixed:o,type:gn,isHidden:!!yt,level:g,visibleData:ye,data:ee,items:R};let Lt=!1,$t=!1;_e.drag&&(Lt="row"===Pe.trigger||M.dragSort&&"cell"===Pe.trigger),Lt&&($t=!(!ze||!ze(jt))),(St||Tt||mt||J)&&(It.onMouseover=e=>{P()||(St?ke(e.currentTarget,M):(Tt||mt)&&t.triggerBodyTooltipEvent(e,jt)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},jt),e)}),(Tt||mt||J)&&(It.onMouseleave=e=>{P()||(Tt||mt)&&t.handleTargetLeaveEvent(e),t.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},jt),e)}),(Lt||Oe.range||Y)&&(It.onMousedown=e=>{t.triggerCellMousedownEvent(e,jt)}),Lt&&(It.onMouseup=t.triggerCellMouseupEvent),It.onClick=e=>{t.triggerCellClickEvent(e,jt)},It.onDblclick=e=>{t.triggerCellDblclickEvent(e,jt)};let zt=!1,Vt=1,Bt=1;if(ce&&we.length){const e=be[`${A}:${vt}`];if(e){const{rowspan:n,colspan:r}=e;if(!n||!r)return mn(t);n>1&&(zt=!0,Bt=n,Pt.rowspan=n),r>1&&(zt=!0,Vt=r,Pt.colspan=r)}}else if(G){const{rowspan:e=1,colspan:n=1}=G(jt)||{};if(!e||!n)return mn(t);e>1&&(zt=!0,Bt=e,Pt.rowspan=e),n>1&&(zt=!0,Vt=n,Pt.colspan=n)}yt&&zt&&(Pt.colspan>1||Pt.rowspan>1)&&(yt=!1),!yt&&X&&(Ze||Xe)&&(De.showStatus||De.showUpdateStatus)&&(Mt=t.isUpdateByRow(v,M.field));const Ht=!Et&&(le||ae);let Wt=Ye(st,Te,_e,je);const qt=I===N.length-1,Ut=!M.resizeWidth&&("auto"===M.minWidth||"auto"===M.width);let Gt=!1;if(zt||ne&&Le(t,ne)===n||(oe&&le&&ee.length>16&&!H&&!Ne.immediate&&(A<Se.visibleStartIndex-Se.preloadSize||A>Se.visibleEndIndex+Se.preloadSize)||re&&ae&&te.length>10&&!Ie.immediate&&!M.fixed&&(vt<Ce.visibleStartIndex-Ce.preloadSize||vt>Ce.visibleEndIndex+Ce.preloadSize))&&(Gt=!0),Bt>1){const e=ye[A+Bt-1];if(e){const n=ge[Le(t,e)];n&&(Wt+=n.oTop+Ye(n,Te,_e,je)-st.oTop-Ye(st,Te,_e,je))}}const Yt={};if(Et&&pe){let e=0;if(Vt>1)for(let t=1;t<Vt;t++){const n=xe[gt+t];n&&(e+=n.renderWidth)}Yt.width=M.renderWidth+e-Ue+"px"}le||ae||Et||Dt||At?Yt.height=`${Wt}px`:Yt.minHeight=`${Wt}px`;const Kt=[];if(yt&&he)Kt.push((0,K.h)("div",{key:"tc",class:["vxe-cell",{"c--title":St,"c--tooltip":Tt,"c--ellipsis":kt}],style:Yt}));else if(H&&Kt.push(...j(n,jt,Wt)),Kt.push((0,K.h)("div",{key:"tc",class:["vxe-cell",{"c--title":St,"c--tooltip":Tt,"c--ellipsis":kt}],style:Yt,title:St?t.getCellLabel(v,M):null},Gt?[]:[(0,K.h)("div",{colid:ct,rowid:n,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},M.renderCell(jt))])),_t&&Ft){const e=Ft.rule,n=it?it.valid:null,r=Object.assign(Object.assign(Object.assign({},jt),Ft),{rule:Ft});Kt.push((0,K.h)("div",{key:"tcv",class:["vxe-cell--valid-error-tip",se(Ee.className,r)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},[(0,K.h)("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Ee.theme||"normal"}`},[n?t.callSlot(n,r):[(0,K.h)("span",{class:"vxe-cell--valid-error-msg"},Ft.content)]])]))}let Xt=!1;return Y&&We.area&&!vt&&Ge&&(Xt=!0),!yt&&Ot&&Re&&Kt.push((0,K.h)("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!V||"none"===V}],onMousedown:e=>t.handleColResizeMousedownEvent(e,o,jt),onDblclick:e=>t.handleColResizeDblclickEvent(e,jt)})),(nt||Fe)&&_e.resizable&&Kt.push((0,K.h)("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>t.handleRowResizeMousedownEvent(e,jt),onDblclick:e=>t.handleRowResizeDblclickEvent(e,jt)})),(0,K.h)("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",ct,Rt?`col--vertical-${Rt}`:"",Nt?`col--${Nt}`:"",Ke?`col--${Ke}`:"",{"col--last":qt,"col--tree-node":tt,"col--edit":bt,"col--ellipsis":Et,"col--cs-height":Dt,"col--rs-height":At,"col--to-row":Xt,"col--auto-height":Ht,"fixed--width":!Ut,"fixed--hidden":yt,"is--padding":wt,"is--progress":yt&&he||Gt,"is--drag-cell":Lt&&(Ve||Be||!g),"is--drag-disabled":$t,"col--dirty":Mt,"col--active":X&&bt&&lt.row===v&&(lt.column===M||"row"===De.mode),"col--valid-error":!!Ft,"col--current":ie===M},se(ft,jt),se(et,jt),se(W,jt)],key:L||ae||le||He.useKey||_e.useKey||He.drag?ct:I},Pt),{style:Object.assign({},a().isFunction(ht)?ht(jt):ht,a().isFunction(q)?q(jt):q)}),It),h&&yt?[]:Kt)},$=(e,n,o,s)=>{const u=t.xeGrid,d=t.xeGantt,{stripe:p,rowKey:f,highlightHoverRow:h,rowClassName:m,rowStyle:y,editConfig:w,treeConfig:S}=r,{hasFixedColumn:T,treeExpandedFlag:E,scrollXLoad:O,scrollYLoad:D,isAllOverflow:A,rowExpandedFlag:M,expandColumn:I,selectRadioRow:N,pendingRowFlag:R,rowExpandHeightFlag:F,isRowGroupStatus:_}=i,{fullAllDataRowIdData:j,fullColumnIdData:z,treeExpandedMaps:V,pendingRowMaps:B,rowExpandedMaps:H}=l,W=x.value,q=g.value,U=b.value,G=c.value,Y=C.value,X=k.value,{transform:Z,seqMode:J}=U,Q=U.children||U.childrenField,ee=[],{handleGetRowId:te}=ze(t),ne=S||_;return o.forEach((r,i)=>{const l=te(r),c=j[l]||{};let g=i,b=0,x=-1,C=-1;const k=_&&r.isAggregate,re={};(Y.isHover||h)&&(re.onMouseover=e=>{P()||t.triggerHoverEvent(e,{row:r,rowIndex:g})},re.onMouseleave=()=>{P()||t.clearHoverRow()}),c&&(g=c.index,C=c._index,b=c.level,x=c.seq,k||S&&Z&&"increasing"===J?x=c._index+1:S&&"fixed"===J&&(x=c._tIndex+1));const oe={$table:t,seq:x,rowid:l,fixed:e,type:gn,level:b,row:r,rowIndex:g,$rowIndex:i,_rowIndex:C},ie=I&&!!M&&!!H[l];let ae=!1,le=[],ce=!1;w&&(ce=t.isInsertByRow(r)),!S||D||Z||(le=r[Q],ae=!!E&&le&&le.length>0&&!!V[l]),!Y.drag||_||S&&!Z||(re.onDragstart=t.handleRowDragDragstartEvent,re.onDragend=t.handleRowDragDragendEvent,re.onDragover=t.handleRowDragDragoverEvent);const ue=["vxe-body--row",ne?`row--level-${b}`:"",{"row--stripe":p&&(C+1)%2===0,"is--new":ce,"is--expand-row":ie,"is--expand-tree":ae,"row--new":ce&&(G.showStatus||G.showInsertStatus),"row--radio":q.highlight&&t.eqRow(N,r),"row--checked":W.highlight&&t.isCheckedByCheckboxRow(r),"row--pending":!!R&&!!B[l],"row--group":k},se(m,oe)],de=s.map((t,a)=>L(x,l,e,n,b,r,g,i,C,t,a,s,o));if(ee.push((0,K.h)("tr",Object.assign({class:ue,rowid:l,style:y?a().isFunction(y)?y(oe):y:null,key:f||O||D||Y.useKey||Y.drag||X.drag||_||S?l:i},re),de)),ie){const n=v.value,{height:o,padding:p,mode:f}=n;if("fixed"===f)ee.push((0,K.h)("tr",{class:"vxe-body--row-expanded-place",key:`expand_${l}`,rowid:l},[(0,K.h)("td",{class:"vxe-body--row-expanded-place-column",colspan:s.length,style:{height:`${F?c.expandHeight||o:0}px`}})]));else{const n={};o&&(n.height=`${o}px`),S&&(n.paddingLeft=b*U.indent+30+"px");const{showOverflow:c}=I||{},f=I.id,h=z[f]||{},m=a().eqNull(c)?A:c;let v=-1,y=-1,w=-1;h&&(v=h.index,y=h.$index,w=h._index);const k={$table:t,$grid:u,$gantt:d,seq:x,column:I,columnIndex:v,$columnIndex:y,_columnIndex:w,fixed:e,type:gn,level:b,row:r,rowid:l,rowIndex:g,$rowIndex:i,_rowIndex:C,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};ee.push((0,K.h)("tr",{class:["vxe-body--expanded-row",{"is--padding":p}],key:`expand_${l}`},[(0,K.h)("td",{class:["vxe-body--expanded-column",{"fixed--hidden":e&&!T,"col--ellipsis":m}],colspan:s.length},[(0,K.h)("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":o}],style:n},[I.renderData(k)])])]))}}ae&&ee.push(...$(e,n,le,s))}),ee};(0,K.onMounted)(()=>{(0,K.nextTick)(()=>{const{fixedType:t}=e,{elemStore:n}=l,r=`${t||"main"}-body-`;n[`${r}wrapper`]=D,n[`${r}scroll`]=A,n[`${r}table`]=M,n[`${r}colgroup`]=I,n[`${r}list`]=N,n[`${r}xSpace`]=R,n[`${r}ySpace`]=F,n[`${r}emptyBlock`]=_})}),(0,K.onUnmounted)(()=>{const{fixedType:t}=e,{elemStore:n}=l,r=`${t||"main"}-body-`;n[`${r}wrapper`]=null,n[`${r}scroll`]=null,n[`${r}table`]=null,n[`${r}colgroup`]=null,n[`${r}list`]=null,n[`${r}xSpace`]=null,n[`${r}ySpace`]=null,n[`${r}emptyBlock`]=null});const z=()=>{const{slots:a}=o,s=t.xeGrid,c=t.xeGantt,{fixedColumn:d,fixedType:p,tableColumn:f}=e,{spanMethod:m,footerSpanMethod:g,mouseConfig:b}=r,{isGroup:x,tableData:y,isColLoading:w,overflowX:C,scrollXLoad:k,scrollYLoad:S,isAllOverflow:T,expandColumn:E,dragRow:O,dragCol:P}=i,{visibleColumn:j,fullAllDataRowIdData:L,fullColumnIdData:z}=l,V=h.value,B=u.value,H=v.value;let W,q=y,U=f,G=!1;if((k||S||T)&&(E&&"fixed"!==H.mode||m||g||(G=!0)),w||!p&&C||(U=j),p&&G&&(U=d||[]),S&&O&&q.length>2){const e=L[Le(t,O)];if(e){const n=e._index,r=q[0],o=q[q.length-1],i=L[Le(t,r)],a=L[Le(t,o)];if(i&&a){const e=i._index,t=a._index;n<e?q=[O].concat(q):n>t&&(q=q.concat([O]))}}}if(!p&&!x&&k&&P&&U.length>2){const e=z[P.id];if(e){const t=e._index,n=U[0],r=U[U.length-1],o=z[n.id],i=z[r.id];if(o&&i){const e=o._index,n=i._index;t<e?U=[P].concat(U):t>n&&(U=U.concat([P]))}}}const Y=a?a.empty:null,X={$table:t,$grid:s,$gantt:c};if(Y)W=t.callSlot(Y,X);else{const e=V.name?hn.get(V.name):null,t=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;W=t?St(t(V,X)):r.emptyText||fn("vxe.table.emptyText")}const Z={onScroll(e){t.triggerBodyScrollEvent(e,p)}};return(0,K.h)("div",{ref:D,class:["vxe-table--body-wrapper",p?`fixed-${p}--wrapper`:"body--wrapper"],xid:n},[(0,K.h)("div",Object.assign({ref:A,class:"vxe-table--body-inner-wrapper"},Z),[p?mn(t):(0,K.h)("div",{ref:R,class:"vxe-body--x-space"}),(0,K.h)("div",{ref:F,class:"vxe-body--y-space"}),(0,K.h)("table",{ref:M,class:"vxe-table--body",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:G?"1":null},[(0,K.h)("colgroup",{ref:I},U.map((e,t)=>(0,K.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,K.h)("tbody",{ref:N},$(p,G,q,U))]),(0,K.h)("div",{class:"vxe-table--checkbox-range"}),b&&B.area?(0,K.h)("div",{class:"vxe-table--cell-area",xid:n},[(0,K.h)("span",{class:"vxe-table--cell-main-area"},B.extension?[(0,K.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(e,{$table:t,fixed:p,type:gn})}})]:[]),(0,K.h)("span",{class:"vxe-table--cell-clip-area"}),(0,K.h)("span",{class:"vxe-table--cell-extend-area"}),(0,K.h)("span",{class:"vxe-table--cell-multi-area"}),(0,K.h)("span",{class:"vxe-table--cell-active-area"}),(0,K.h)("span",{class:"vxe-table--cell-row-status-area"})]):mn(t),p?mn(t):(0,K.h)("div",{class:"vxe-table--empty-block",ref:_},[(0,K.h)("div",{class:"vxe-table--empty-content"},W)])])])};return z}});const{renderer:bn,renderEmptyElement:xn}=o.OE,yn="header";function wn(e){const{children:t}=e;return t&&t.length?wn(t[0]):e}function Cn(e){const{children:t}=e;return t&&t.length?Cn(t[t.length-1]):e}var kn=X({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=(0,K.inject)("$xeTable",{}),{xID:n,props:r,reactData:o,internalData:i}=t,{computeColumnOpts:l,computeColumnDragOpts:s,computeCellOpts:c,computeMouseOpts:u,computeHeaderCellOpts:d,computeDefaultRowHeight:p,computeVirtualXOpts:f}=t.getComputeMaps(),h=(0,K.ref)([]),m=(0,K.ref)(),g=(0,K.ref)(),v=(0,K.ref)(),b=(0,K.ref)(),x=(0,K.ref)(),y=(0,K.ref)(),w=(0,K.ref)(),C=()=>{const{showCustomHeader:n}=r,{collectColumn:a,visibleColumn:l}=i,{tableGroupColumn:s}=e,{isGroup:c}=o;let u=c?Ne(s):[],d=[];n&&u.length>1&&(d=Re(u),u=d),h.value=u,t.dispatchEvent("columns-change",{visibleColgroups:d,collectColumn:a,visibleColumn:l},null)},k=(n,u,h,m,g)=>{const v=t.xeGrid,b=t.xeGantt,{fixedType:x}=e,{resizable:y,columnKey:w,showCustomHeader:C,headerCellClassName:k,headerCellStyle:S,showHeaderOverflow:T,headerAlign:E,align:O,mouseConfig:D}=r,{currentColumn:A,dragCol:M,scrollXLoad:I,scrollYLoad:N,overflowX:R,mergeHeadFlag:F,tableColumn:_}=o,{fullColumnIdData:P,scrollXStore:j,mergeHeaderList:L,mergeHeaderCellMaps:$}=i,z=f.value,V=l.value,B=s.value,H=c.value,W=p.value,q=d.value,U=nt(q.height)||W,{disabledMethod:G,isCrossDrag:Y,isPeerDrag:X}=B,Z=m===h.length-1;return g.map((e,r)=>{const{type:o,showHeaderOverflow:i,headerAlign:l,align:s,filters:c,headerClassName:d,editRender:p,cellRender:f}=e,h=e.id,W=P[h]||{},J=p||f,Q=J?bn.get(J.name):null,ee=e.children&&e.children.length,te=R&&!ee&&(x?e.fixed!==x:!!e.fixed),ne=a().isBoolean(q.padding)?q.padding:H.padding,re=a().eqNull(i)?T:i,oe=l||(Q?Q.tableHeaderCellAlign:"")||E||s||(Q?Q.tableCellAlign:"")||O,ie="ellipsis"===re,ae="title"===re,le=!0===re||"tooltip"===re,se=ae||le||ie;let ce=!1,ue=null;c&&(ue=c[0],ce=c.some(e=>e.checked));const de=W.index,pe=W._index,fe={$table:t,$grid:v,$gantt:b,$rowIndex:m,column:e,columnIndex:de,$columnIndex:r,_columnIndex:pe,firstFilterOption:ue,fixed:x,type:yn,isHidden:te,hasFilter:ce},he={colid:h};let me=!1;if(C||(he.colspan=e.colSpan>1?e.colSpan:null,he.rowspan=e.rowSpan>1?e.rowSpan:null),F&&L.length&&(C||Z)){const e=$[`${m}:${C?r:pe}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(me=!0,he.rowspan=t),n>1&&(me=!0,he.colspan=n)}}const ge={onClick:e=>t.triggerHeaderCellClickEvent(e,fe),onDblclick:e=>t.triggerHeaderCellDblclickEvent(e,fe)},ve=V.drag&&"cell"===B.trigger;let be=!1;ve&&(be=!(!G||!G(fe))),(D||ve)&&(ge.onMousedown=e=>t.triggerHeaderCellMousedownEvent(e,fe)),V.drag&&(ge.onDragstart=t.handleHeaderCellDragDragstartEvent,ge.onDragend=t.handleHeaderCellDragDragendEvent,ge.onDragover=t.handleHeaderCellDragDragoverEvent,ve&&(ge.onMouseup=t.handleHeaderCellDragMouseupEvent));const xe=r===g.length-1,ye=a().isBoolean(e.resizable)?e.resizable:V.resizable||y,we=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let Ce=!1;u&&R&&!n&&!me&&(M&&M.id===h||I&&_.length>10&&!e.fixed&&!z.immediate&&(pe<j.visibleStartIndex-j.preloadSize||pe>j.visibleEndIndex+j.preloadSize)&&(Ce=!0));const ke={};if(se?ke.height=`${U}px`:ke.minHeight=`${U}px`,C);else if(ee&&!Z){const t=wn(e),n=Cn(e);if(t&&n&&t.id!==n.id){const e=P[t.id],r=P[n.id];e&&r&&(ke.width=`${r.oLeft-e.oLeft+n.renderWidth}px`)}}return(0,K.h)("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",h,te?"fixed--hidden":"fixed--visible",{[`col--${oe}`]:oe,[`col--${o}`]:o,"col--last":xe,"col--fixed":e.fixed,"col--group":ee,"col--ellipsis":se,"fixed--width":!we,"is--padding":ne,"is--sortable":e.sortable,"col--filter":!!c,"is--filter-active":ce,"is--drag-active":V.drag&&!e.fixed&&!be&&(Y||X||!e.parentId),"is--drag-disabled":V.drag&&be,"col--current":A===e},d?a().isFunction(d)?d(fe):d:"",k?a().isFunction(k)?k(fe):k:""],style:S?a().isFunction(S)?S(fe):S:null},he),ge),{key:C?`${h}${r}`:w||I||N||V.useKey||V.drag||ee?h:r}),[(0,K.h)("div",{class:["vxe-cell",{"c--title":ae,"c--tooltip":le,"c--ellipsis":ie}],style:ke},Ce||u&&te?[]:[(0,K.h)("div",{colid:h,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},e.renderHeader(fe))]),te||!ye||C&&!Z?xn(t):(0,K.h)("div",{class:"vxe-cell--col-resizable",onMousedown:e=>t.handleColResizeMousedownEvent(e,x,fe),onDblclick:e=>t.handleColResizeDblclickEvent(e,fe)})])})},S=(n,o,i)=>{const{fixedType:l}=e,{headerRowClassName:s,headerRowStyle:c}=r;return i.map((e,r)=>{const u={$table:t,$rowIndex:r,fixed:l,type:yn};return(0,K.h)("tr",{key:r,class:["vxe-header--row",s?a().isFunction(s)?s(u):s:""],style:c?a().isFunction(c)?c(u):c:null},k(n,o,i,r,e))})},T=()=>{const{fixedType:a,fixedColumn:l,tableColumn:s}=e,{mouseConfig:c,showHeaderOverflow:d,spanMethod:p,footerSpanMethod:f}=r,{isGroup:w,isColLoading:C,overflowX:k,scrollXLoad:T,dragCol:E}=o,{visibleColumn:O,fullColumnIdData:D}=i,A=u.value;let M=h.value||[],I=s,N=!1;if(w?I=O:(T&&d&&(p||f||(N=!0)),N&&(C||!a&&k)||(I=O),a&&N&&(I=l||[]),M=[I]),!a&&!w&&T&&E&&I.length>2){const e=D[E.id];if(e){const t=e._index,n=I[0],r=I[I.length-1],o=D[n.id],i=D[r.id];if(o&&i){const e=o._index,n=i._index;t<e?(I=[E].concat(I),M=[[E].concat(M[0])].concat(M.slice(1))):t>n&&(I=I.concat([E]),M=[M[0].concat([E])].concat(M.slice(1)))}}}return(0,K.h)("div",{ref:m,class:["vxe-table--header-wrapper",a?`fixed-${a}--wrapper`:"body--wrapper"],xid:n},[(0,K.h)("div",{ref:g,class:"vxe-table--header-inner-wrapper",onScroll(e){t.triggerHeaderScrollEvent(e,a)}},[a?xn(t):(0,K.h)("div",{ref:y,class:"vxe-body--x-space"}),(0,K.h)("table",{ref:v,class:"vxe-table--header",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:N?"1":null},[(0,K.h)("colgroup",{ref:b},I.map((e,t)=>(0,K.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,K.h)("thead",{ref:x},S(w,N,M))]),c&&A.area?(0,K.h)("div",{class:"vxe-table--cell-area",xid:n},[(0,K.h)("span",{class:"vxe-table--cell-main-area"}),(0,K.h)("span",{class:"vxe-table--cell-clip-area"}),(0,K.h)("span",{class:"vxe-table--cell-extend-area"}),(0,K.h)("span",{class:"vxe-table--cell-multi-area"}),(0,K.h)("span",{class:"vxe-table--cell-active-area"}),(0,K.h)("span",{class:"vxe-table--cell-col-status-area"})]):xn(t)])])};return(0,K.watch)(()=>e.tableColumn,C),(0,K.onMounted)(()=>{(0,K.nextTick)(()=>{const{fixedType:n}=e,{internalData:r}=t,{elemStore:o}=r,i=`${n||"main"}-header-`;o[`${i}wrapper`]=m,o[`${i}scroll`]=g,o[`${i}table`]=v,o[`${i}colgroup`]=b,o[`${i}list`]=x,o[`${i}xSpace`]=y,o[`${i}repair`]=w,C()})}),(0,K.onUnmounted)(()=>{const{fixedType:n}=e,{internalData:r}=t,{elemStore:o}=r,i=`${n||"main"}-header-`;o[`${i}wrapper`]=null,o[`${i}scroll`]=null,o[`${i}table`]=null,o[`${i}colgroup`]=null,o[`${i}list`]=null,o[`${i}xSpace`]=null,o[`${i}repair`]=null}),T}});const{renderer:Sn,renderEmptyElement:Tn}=o.OE,En="footer";var On=X({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=(0,K.inject)("$xeTable",{}),{xID:n,props:r,reactData:o,internalData:i}=t,{computeFooterTooltipOpts:l,computeColumnOpts:s,computeCellOpts:c,computeFooterCellOpts:u,computeDefaultRowHeight:d,computeResizableOpts:p,computeVirtualXOpts:f}=t.getComputeMaps(),h=(0,K.ref)(),m=(0,K.ref)(),g=(0,K.ref)(),v=(0,K.ref)(),b=(0,K.ref)(),x=(0,K.ref)(),y=(n,h,m,g,v,b)=>{const x=t.xeGrid,y=t.xeGantt,{fixedType:w}=e,{resizable:C,border:k,footerCellClassName:S,footerCellStyle:T,footerAlign:E,footerSpanMethod:O,align:D,columnKey:A,showFooterOverflow:M}=r,{scrollXLoad:I,scrollYLoad:N,overflowX:R,currentColumn:F,mergeFootFlag:_}=o,{fullColumnIdData:P,mergeFooterList:j,mergeFooterCellMaps:L,scrollXStore:$}=i,z=f.value,V=l.value,B=p.value,{isAllColumnDrag:H}=B,W=s.value,q=d.value,U=c.value,G=u.value,Y=nt(G.height)||q;return h.map((e,r)=>{const{type:o,showFooterOverflow:i,footerAlign:l,align:s,footerClassName:c,editRender:u,cellRender:d}=e,p=e.id,f=P[p]||{},B=u||d,q=B?Sn.get(B.name):null,X=V.showAll,Z=R&&(w?e.fixed!==w:!!e.fixed),J=a().isBoolean(G.padding)?G.padding:U.padding,Q=a().eqNull(i)?M:i,ee=l||(q?q.tableFooterCellAlign:"")||E||s||(q?q.tableCellAlign:"")||D,te="ellipsis"===Q,ne="title"===Q,re=!0===Q||"tooltip"===Q,oe=ne||re||te,ie=a().isBoolean(e.resizable)?e.resizable:W.resizable||C,ae={colid:p},le={},ce=f.index,ue=f._index,de=ue,pe={$table:t,$grid:x,$gantt:y,row:g,rowIndex:b,_rowIndex:b,$rowIndex:v,column:e,columnIndex:ce,$columnIndex:r,_columnIndex:ue,itemIndex:de,items:g,fixed:w,type:En,data:m};(ne||re||X)&&(le.onMouseenter=n=>{ne?ke(n.currentTarget,e):(re||X)&&t.triggerFooterTooltipEvent(n,pe)}),(re||X)&&(le.onMouseleave=e=>{(re||X)&&t.handleTargetLeaveEvent(e)}),le.onClick=e=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},pe),e)},le.onDblclick=e=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},pe),e)};let fe=!1;if(_&&j.length){const e=L[`${b}:${ue}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(fe=!0,ae.rowspan=t),n>1&&(fe=!0,ae.colspan=n)}}else if(O){const{rowspan:e=1,colspan:t=1}=O(pe)||{};if(!e||!t)return null;e>1&&(ae.rowspan=e),t>1&&(ae.colspan=t)}const he=r===h.length-1,me=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let ge=!1;n&&R&&!fe&&I&&h.length>10&&!e.fixed&&!z.immediate&&(ue<$.visibleStartIndex-$.preloadSize||ue>$.visibleEndIndex+$.preloadSize)&&(ge=!0);const ve={};return oe?ve.height=`${Y}px`:ve.minHeight=`${Y}px`,(0,K.h)("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",e.id,{[`col--${ee}`]:ee,[`col--${o}`]:o,"col--last":he,"fixed--width":!me,"fixed--hidden":Z,"is--padding":J,"col--ellipsis":oe,"col--current":F===e},se(c,pe),se(S,pe)]},ae),{style:T?a().isFunction(T)?T(pe):T:null}),le),{key:A||I||N||W.useKey||W.drag?e.id:r}),[(0,K.h)("div",{class:["vxe-cell",{"c--title":ne,"c--tooltip":re,"c--ellipsis":te}],style:ve},ge?[]:[(0,K.h)("div",{colid:p,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},e.renderFooter(pe))]),!Z&&ie&&H?(0,K.h)("div",{class:["vxe-cell--col-resizable",{"is--line":!k||"none"===k}],onMousedown:e=>t.handleColResizeMousedownEvent(e,w,pe),onDblclick:e=>t.handleColResizeDblclickEvent(e,pe)}):Tn(t)])})},w=(n,o)=>{const{fixedType:i,footerTableData:l}=e,{footerRowClassName:s,footerRowStyle:c}=r;return l.map((e,r)=>{const u=r,d={$table:t,row:e,_rowIndex:u,$rowIndex:r,fixed:i,type:En};return(0,K.h)("tr",{key:r,class:["vxe-footer--row",s?a().isFunction(s)?s(d):s:""],style:c?a().isFunction(c)?c(d):c:null},y(n,o,l,e,r,u))})},C=()=>{const{fixedType:a,fixedColumn:l,tableColumn:s}=e,{spanMethod:c,footerSpanMethod:u,showFooterOverflow:d}=r,{visibleColumn:p,fullColumnIdData:f}=i,{isGroup:y,isColLoading:C,overflowX:k,scrollXLoad:S,dragCol:T}=o;let E=s,O=!1;if(S&&d&&(c||u||(O=!0)),O&&(C||!a&&k)||(E=p),a&&O&&(E=l||[]),!a&&!y&&S&&T&&E.length>2){const e=f[T.id];if(e){const t=e._index,n=E[0],r=E[E.length-1],o=f[n.id],i=f[r.id];if(o&&i){const e=o._index,n=i._index;t<e?E=[T].concat(E):t>n&&(E=E.concat([T]))}}}return(0,K.h)("div",{ref:h,class:["vxe-table--footer-wrapper",a?`fixed-${a}--wrapper`:"body--wrapper"],xid:n},[(0,K.h)("div",{ref:m,class:"vxe-table--footer-inner-wrapper",onScroll(e){t.triggerFooterScrollEvent(e,a)}},[a?Tn(t):(0,K.h)("div",{ref:x,class:"vxe-body--x-space"}),(0,K.h)("table",{ref:g,class:"vxe-table--footer",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:O?"1":null},[(0,K.h)("colgroup",{ref:v},E.map((e,t)=>(0,K.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,K.h)("tfoot",{ref:b},w(O,E))])])])};return(0,K.onMounted)(()=>{(0,K.nextTick)(()=>{const{fixedType:t}=e,{elemStore:n}=i,r=`${t||"main"}-footer-`;n[`${r}wrapper`]=h,n[`${r}scroll`]=m,n[`${r}table`]=g,n[`${r}colgroup`]=v,n[`${r}list`]=b,n[`${r}xSpace`]=x})}),(0,K.onUnmounted)(()=>{const{fixedType:t}=e,{elemStore:n}=i,r=`${t||"main"}-footer-`;n[`${r}wrapper`]=null,n[`${r}scroll`]=null,n[`${r}table`]=null,n[`${r}colgroup`]=null,n[`${r}list`]=null,n[`${r}xSpace`]=null}),C}});const{getI18n:Dn,getIcon:An,renderEmptyElement:Mn}=o.OE;function In(){return{}}var Nn=X({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const n=a().uniqueId(),r=o.OE.getComponent("VxeModal"),i=o.OE.getComponent("VxeDrawer"),l=o.OE.getComponent("VxeButton"),s=o.OE.getComponent("VxeNumberInput"),c=o.OE.getComponent("VxeRadioGroup"),u=(0,K.inject)("$xeTable",{}),{props:d,reactData:p,internalData:f}=u,{computeCustomOpts:h,computeColumnDragOpts:g,computeColumnOpts:v,computeIsMaxFixedColumn:b,computeResizableOpts:x}=u.getComputeMaps(),y=(0,K.ref)(),w=(0,K.ref)(),C=(0,K.ref)(),k=(0,K.ref)(),S=(0,K.ref)(),T=(0,K.reactive)({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let E=In();const O={refElem:y,refBodyWrapperElem:w,refCustomBodyElem:C,refDragLineElem:k,refDragTipElem:S},D={},A=t=>{const{customStore:n}=e;n.activeWrapper=!0,u.customOpenEvent(t)},M=t=>{const{customStore:n}=e;n.activeWrapper=!1,setTimeout(()=>{n.activeBtn||n.activeWrapper||u.customCloseEvent(t)},300)},I=({$event:e})=>{p.isCustomStatus=!0,u.saveCustom(),u.closeCustom(),u.emitCustomEvent("confirm",e)},N=({$event:e})=>{u.closeCustom(),u.emitCustomEvent("close",e)},R=({$event:e})=>{u.cancelCustom(),u.closeCustom(),u.emitCustomEvent("cancel",e)},F=e=>{u.resetCustom(!0),u.closeCustom(),u.emitCustomEvent("reset",e)},_=({$event:e})=>{o.OE.modal?o.OE.modal.confirm({content:Dn("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(t=>{"confirm"===t&&F(e)}):F(e)},P=e=>{const{customColumnList:t}=p,n=a().findTree(t,t=>t===e);if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),P(e))}},j=(e,t)=>{const n=!e.renderVisible,r=h.value;r.immediate?(a().eachTree([e],e=>{e.visible=n,e.renderVisible=n,e.halfVisible=!1}),p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:visible")):a().eachTree([e],e=>{e.renderVisible=n,e.halfVisible=!1}),P(e),u.checkCustomStatus(),u.dispatchEvent("custom-visible-change",{column:e,checked:n},t)},L=e=>{const t=h.value;t.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:width"))},$=(e,t,n)=>{const r=b.value,o=h.value;let i=null;o.immediate?(e.renderFixed===t?(i="",a().eachTree([e],e=>{e.fixed="",e.renderFixed=""})):r&&!e.renderFixed||(i=t,a().eachTree([e],e=>{e.fixed=t,e.renderFixed=t})),p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:fixed")):e.renderFixed===t?(i="",a().eachTree([e],e=>{e.renderFixed=""})):r&&!e.renderFixed||(i=t,a().eachTree([e],e=>{e.renderFixed=t})),null!==i&&u.dispatchEvent("custom-fixed-change",{column:e,fixed:i},n)},z=e=>{const{customStore:t}=p,n=!t.isAll;u.toggleCustomAllCheckbox(),u.dispatchEvent("custom-visible-all",{checked:n},e)},V=(e,t,n,r)=>{const o=w.value;if(!o)return;const i=C.value;if(!i)return;const{prevDragToChild:a}=E,l=o.getBoundingClientRect(),s=i.getBoundingClientRect(),c=k.value;if(t){if(c)if(n){const e=t.getBoundingClientRect();c.style.display="block",c.style.left=`${Math.max(0,s.x-l.x)}px`,c.style.top=`${Math.max(1,e.y+o.scrollTop-l.y)}px`,c.style.height=`${e.height}px`,c.style.width=`${e.width}px`,c.setAttribute("drag-pos",r),c.setAttribute("drag-to-child",a?"y":"n")}else c.style.display=""}else c&&(c.style.display="node");const u=S.value;u&&(u.style.display="block",u.style.top=`${Math.min(o.clientHeight+o.scrollTop-u.clientHeight,e.clientY+o.scrollTop-l.y)}px`,u.style.left=`${Math.min(o.clientWidth+o.scrollLeft-u.clientWidth,e.clientX+o.scrollLeft-l.x)}px`,u.setAttribute("drag-status",n?a?"sub":"normal":"disabled"))},B=()=>{const{dragCol:e}=T,t=g.value,{tooltipMethod:n}=t;let r="";if(n){const t={$table:u,column:e};r=`${n(t)||""}`}else r=Dn("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]);T.dragTipText=r},H=()=>{const e=S.value,t=k.value;e&&(e.style.display=""),t&&(t.style.display="")},W=e=>{const t=e.currentTarget,n=t.parentElement,r=n.parentElement,o=r.parentElement,i=o.getAttribute("colid"),a=u.getColumnById(i);o.draggable=!0,T.dragCol=a,T.dragGroupField=null,T.dragAggFnCol=null,B(),he(o,"active--drag-origin")},q=e=>{const t=e.currentTarget,n=t.parentElement,r=n.parentElement,o=r.parentElement;H(),o.draggable=!1,T.dragCol=null,T.dragGroupField=null,T.dragAggFnCol=null,fe(o,"active--drag-origin")},U=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(le(),0,0),E.prevDragGroupField=null,E.prevDragAggFnColid=null},G=e=>{const{mouseConfig:t}=d,{customColumnList:n}=p,{collectColumn:r}=f,i=h.value,{immediate:l}=i,s=e.currentTarget,c=g.value,{isCrossDrag:m,isSelfToChildDrag:v,isToChildDrag:b,dragEndMethod:x}=c,{dragCol:y}=T,{prevDragCol:w,prevDragGroupField:C,prevDragAggFnColid:k,prevDragPos:S,prevDragToChild:O}=E,D="bottom"===S?1:0;if(C||k)u.handlePivotTableAggregatePanelDragendEvent&&u.handlePivotTableAggregatePanelDragendEvent(e);else if(w&&y&&w!==y){const i=y,s=w;Promise.resolve(!x||x({oldColumn:i,newColumn:s,dragColumn:i,dragPos:S,dragToChild:!!O,offsetIndex:D})).then(c=>{if(!c)return;let d=-1,f=-1;const h={};a().eachTree([i],e=>{h[e.id]=e});let g=!1;if(l){if(i.parentId&&s.parentId){if(!m)return;if(h[s.id]&&(g=!0,!m||!v))return void(o.OE.modal&&o.OE.modal.message({status:"error",content:Dn("vxe.error.treeDragChild")}))}else if(i.parentId){if(!m)return}else if(s.parentId){if(!m)return;if(h[s.id]&&(g=!0,!m||!v))return void(o.OE.modal&&o.OE.modal.message({status:"error",content:Dn("vxe.error.treeDragChild")}))}const e=a().findTree(r,e=>e.id===i.id);if(g&&m&&v){if(e){const{items:t,index:n}=e,r=i.children||[];r.forEach(e=>{e.parentId=i.parentId}),t.splice(n,1,...r),i.children=[]}}else if(e){const{items:t,index:n,parent:r}=e;t.splice(n,1),r||(d=n)}const t=a().findTree(r,e=>e.id===s.id);if(t){const{items:e,index:n,parent:r}=t;m&&b&&O?(i.parentId=s.id,s.children=(s.children||[]).concat([i])):(i.parentId=s.parentId,e.splice(n+D,0,i)),r||(f=n)}a().eachTree(r,(e,t,n,r,o)=>{if(!o){const n=t+1;e.renderSortNumber=n}})}else d=a().findIndexOf(n,e=>e.id===i.id),n.splice(d,1),f=a().findIndexOf(n,e=>e.id===s.id),n.splice(f+D,0,i);t&&(u.clearSelected&&u.clearSelected(),u.clearCellAreas&&(u.clearCellAreas(),u.clearCopyCellArea())),u.dispatchEvent("column-dragend",{oldColumn:i,newColumn:s,dragColumn:i,dragPos:S,offsetIndex:D,_index:{newIndex:f,oldIndex:d}},e),l&&(p.customColumnList=r.slice(0),u.handleColDragSwapColumn())}).catch(()=>{})}H(),T.dragCol=null,T.dragGroupField=null,T.dragAggFnCol=null,E.prevDragGroupField=null,E.prevDragAggFnColid=null,s.draggable=!1,s.removeAttribute("drag-pos"),fe(s,"active--drag-target"),fe(s,"active--drag-origin")},Y=e=>{const t=h.value,{immediate:n}=t,r=g.value,{isCrossDrag:o,isToChildDrag:i}=r,a=e.currentTarget,l=me(e),s=a.getAttribute("colid"),c=u.getColumnById(s),{dragCol:d}=T;if(E.prevDragGroupField=null,E.prevDragAggFnColid=null,c&&(o||1===c.level)){e.preventDefault();const t=e.clientY-a.getBoundingClientRect().y,r=t<a.clientHeight/2?"top":"bottom";if(!d||d&&d.id===c.id||!o&&c.level>1||!n&&c.level>1)return void V(e,a,!1,r);E.prevDragToChild=!!(o&&i&&l&&n),E.prevDragCol=c,E.prevDragPos=r,V(e,a,!0,r)}},X=()=>{const{dragTipText:e}=T,t=g.value;return(0,K.h)("div",{},[(0,K.h)("div",{ref:k,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),(0,K.h)("div",{ref:S,class:"vxe-table-custom-popup--drag-tip"},[(0,K.h)("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[(0,K.h)("div",{class:"vxe-table-custom-popup--drag-tip-status"},[(0,K.h)("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",An().TABLE_DRAG_STATUS_ROW]}),(0,K.h)("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",An().TABLE_DRAG_STATUS_SUB_ROW]}),(0,K.h)("span",{class:["vxe-table-custom-popup--drag-tip-group-status",An().TABLE_DRAG_STATUS_AGG_GROUP]}),(0,K.h)("span",{class:["vxe-table-custom-popup--drag-tip-values-status",An().TABLE_DRAG_STATUS_AGG_VALUES]}),(0,K.h)("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",An().TABLE_DRAG_DISABLED]})]),(0,K.h)("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${e||""}`)])])])},Z=()=>{const t=u.xeGrid,n=u.xeGantt,r=u.props,{customStore:o}=e,{treeConfig:i,rowGroupConfig:s,aggregateConfig:c}=r,{isCustomStatus:d,customColumnList:f}=p,v=h.value,{immediate:x}=v,k=g.value,{maxHeight:S}=o,{checkMethod:T,visibleMethod:E,allowVisible:O,allowSort:D,allowFixed:F,trigger:P,placement:L}=v,V=b.value,{isCrossDrag:B}=k,H=v.slots||{},Z=H.header,J=H.top,Q=H.bottom,ee=H.default,te=H.footer,ne=[],re={},oe=o.isAll,ie=o.isIndeterminate;"hover"===P&&(re.onMouseenter=A,re.onMouseleave=M);const ae={$table:u,$grid:t,$gantt:n,columns:f,isAllChecked:oe,isAllIndeterminate:ie,isCustomStatus:d};return a().eachTree(f,(e,t,n,r,o)=>{const i=!E||E({$table:u,column:e});if(i){const t=e.renderVisible,n=e.halfVisible,r=e.children&&e.children.length,i=m(e.getTitle(),1),a=!!T&&!T({$table:u,column:e}),s=!t;ne.push((0,K.h)("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--hidden":a||s,"is--group":r}],onDragstart:U,onDragend:G,onDragover:Y},[O?(0,K.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":a}],title:Dn("vxe.custom.setting.colVisible"),onClick:t=>{a||j(e,t)}},[(0,K.h)("span",{class:["vxe-checkbox--icon",n?An().TABLE_CHECKBOX_INDETERMINATE:t?An().TABLE_CHECKBOX_CHECKED:An().TABLE_CHECKBOX_UNCHECKED]})]):(0,K.createCommentVNode)(),(0,K.h)("div",{class:"vxe-table-custom--name-option"},[D&&(B&&x||1===e.level)?(0,K.h)("div",{class:"vxe-table-custom--sort-option"},[(0,K.h)("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":a||s}],title:Dn("vxe.custom.setting.sortHelpTip")},a||s?{}:{onMousedown:W,onMouseup:q}),[(0,K.h)("i",{class:An().TABLE_CUSTOM_SORT})])]):(0,K.createCommentVNode)(),"html"===e.type?(0,K.h)("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:i}):(0,K.h)("div",{key:"0",class:"vxe-table-custom--checkbox-label"},i)]),!o&&F?(0,K.h)("div",{class:"vxe-table-custom--fixed-option"},[l?(0,K.h)(l,{mode:"text",icon:"left"===e.renderFixed?An().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:An().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:a||s||V&&!e.renderFixed,title:Dn("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:t})=>{$(e,"left",t)}}):(0,K.createCommentVNode)(),l?(0,K.h)(l,{mode:"text",icon:"right"===e.renderFixed?An().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:An().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:a||s||V&&!e.renderFixed,title:Dn("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:t})=>{$(e,"right",t)}}):(0,K.createCommentVNode)()]):(0,K.createCommentVNode)()]))}}),(0,K.h)("div",{ref:y,key:"simple",class:["vxe-table-custom-wrapper",`placement--${L}`,{"is--active":o.visible}],style:S&&!["left","right"].includes(L||"")?{maxHeight:`${S}px`}:{}},o.visible?[(0,K.h)("div",{ref:w,class:"vxe-table-custom-simple--body-wrapper"},[!i&&(c||s)&&u.getPivotTableAggregateSimplePanel?(0,K.h)(u.getPivotTableAggregateSimplePanel(),{customStore:o}):Mn(u),(0,K.h)("div",{ref:C,class:"vxe-table-custom--handle-wrapper"},[(0,K.h)("div",{class:"vxe-table-custom--header"},Z?u.callSlot(Z,ae):[(0,K.h)("ul",{class:"vxe-table-custom--panel-list"},[(0,K.h)("li",{class:"vxe-table-custom--option"},[O?(0,K.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":oe,"is--indeterminate":ie}],title:Dn("vxe.table.allTitle"),onClick:z},[(0,K.h)("span",{class:["vxe-checkbox--icon",ie?An().TABLE_CHECKBOX_INDETERMINATE:oe?An().TABLE_CHECKBOX_CHECKED:An().TABLE_CHECKBOX_UNCHECKED]}),(0,K.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.toolbar.customAll"))]):(0,K.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.table.customTitle"))])])]),(0,K.h)("div",{class:"vxe-table-custom--body"},[J?(0,K.h)("div",{class:"vxe-table-custom--panel-top"},u.callSlot(J,ae)):Mn(u),ee?(0,K.h)("div",{class:"vxe-table-custom--panel-body"},u.callSlot(ee,ae)):(0,K.h)(K.TransitionGroup,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},re),{default:()=>ne}),Q?(0,K.h)("div",{class:"vxe-table-custom--panel-bottom"},u.callSlot(Q,ae)):Mn(u)]),v.showFooter?(0,K.h)("div",{class:"vxe-table-custom--footer"},te?u.callSlot(te,ae):[(0,K.h)("div",{class:"vxe-table-custom--footer-buttons"},[l?(0,K.h)(l,{mode:"text",content:v.resetButtonText||Dn("vxe.table.customRestore"),disabled:!d,onClick:_}):(0,K.createCommentVNode)(),x?l?(0,K.h)(l,{mode:"text",content:v.closeButtonText||Dn("vxe.table.customClose"),onClick:N}):(0,K.createCommentVNode)():l?(0,K.h)(l,{mode:"text",content:v.cancelButtonText||Dn("vxe.table.customCancel"),onClick:R}):(0,K.createCommentVNode)(),x?(0,K.createCommentVNode)():l?(0,K.h)(l,{mode:"text",status:"primary",content:v.confirmButtonText||Dn("vxe.table.customConfirm"),onClick:I}):(0,K.createCommentVNode)()])]):null]),X()])]:[])},J=()=>{const t=u.xeGrid,n=u.xeGantt,{customStore:o}=e,{treeConfig:f,rowGroupConfig:y,aggregateConfig:k,resizable:S}=d,{isCustomStatus:T,customColumnList:E}=p,O=h.value,{immediate:D}=O,A=g.value,{mode:M,modalOptions:F,drawerOptions:P,allowVisible:V,allowSort:B,allowFixed:H,allowResizable:Z,checkMethod:J,visibleMethod:Q}=O,ee=v.value,{maxFixedSize:te}=ee,ne=x.value,{minWidth:re,maxWidth:oe}=ne,ie=Object.assign({},F),ae=Object.assign({},P),le=b.value,{isCrossDrag:se}=A,ce=O.slots||{},ue=ce.header,de=ce.top,pe=ce.bottom,fe=ce.default,he=ce.footer,me=[],ge=o.isAll,ve=o.isIndeterminate,be={$table:u,$grid:t,$gantt:n,columns:E,isAllChecked:ge,isAllIndeterminate:ve,isCustomStatus:T};a().eachTree(E,(e,t,n,r,o)=>{const i=!Q||Q({$table:u,column:e});if(i){let n=0,r=0;if(Z){const o={$table:u,column:e,columnIndex:t,$columnIndex:t,$rowIndex:-1};re&&(n=a().toNumber(a().isFunction(re)?re(o):re)),oe&&(r=a().toNumber(a().isFunction(oe)?oe(o):oe))}const i=e.renderVisible,l=e.halfVisible,d=m(e.getTitle(),1),p=e.children&&e.children.length,f=!!J&&!J({$table:u,column:e}),h=!i;me.push((0,K.h)("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":p}],onDragstart:U,onDragend:G,onDragover:Y},[V?(0,K.h)("td",{class:"vxe-table-custom-popup--column-item col--visible"},[(0,K.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":i,"is--indeterminate":l,"is--disabled":f}],title:Dn("vxe.custom.setting.colVisible"),onClick:t=>{f||j(e,t)}},[(0,K.h)("span",{class:["vxe-checkbox--icon",l?An().TABLE_CHECKBOX_INDETERMINATE:i?An().TABLE_CHECKBOX_CHECKED:An().TABLE_CHECKBOX_UNCHECKED]})])]):(0,K.createCommentVNode)(),(0,K.h)("td",{class:"vxe-table-custom-popup--column-item col--name"},[(0,K.h)("div",{class:"vxe-table-custom-popup--name"},[B?se&&D||1===e.level?(0,K.h)("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":f||h}],title:Dn("vxe.custom.setting.sortHelpTip")},f||h?{}:{onMousedown:W,onMouseup:q}),[(0,K.h)("i",{class:An().TABLE_CUSTOM_SORT})]):(0,K.h)("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):(0,K.createCommentVNode)(),"html"===e.type?(0,K.h)("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:d}):(0,K.h)("div",{key:"0",class:"vxe-table-custom-popup--title",title:d},d)])]),Z?(0,K.h)("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[e.children&&e.children.length||!(a().isBoolean(e.resizable)?e.resizable:ee.resizable||S)?(0,K.h)("span","-"):s?(0,K.h)(s,{type:"integer",immediate:!1,disabled:f||h,modelValue:e.renderResizeWidth,min:n||void 0,max:r||void 0,"onUpdate:modelValue"(t){const n=Math.max(0,Number(t));e.renderResizeWidth=n},onChange(){L(e)}}):(0,K.createCommentVNode)()]):(0,K.createCommentVNode)(),H?(0,K.h)("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[o?(0,K.h)("span","-"):c?(0,K.h)(c,{modelValue:e.renderFixed||"",type:"button",size:"mini",disabled:f||h,options:[{label:Dn("vxe.custom.setting.fixedLeft"),value:"left",disabled:f||h||le},{label:Dn("vxe.custom.setting.fixedUnset"),value:"",disabled:f||h},{label:Dn("vxe.custom.setting.fixedRight"),value:"right",disabled:f||h||le}],onChange({label:t,$event:n}){$(e,t,n)}}):(0,K.createCommentVNode)()]):(0,K.createCommentVNode)()]))}});const xe={default:()=>(0,K.h)("div",{ref:w,class:"vxe-table-custom-popup--body-wrapper"},fe?u.callSlot(fe,be):[(0,K.h)("div",{ref:C,class:"vxe-table-custom-popup--handle-wrapper"},[de?(0,K.h)("div",{class:"vxe-table-custom-popup--table-top"},u.callSlot(de,be)):Mn(u),(0,K.h)("div",{class:"vxe-table-custom-popup--table-wrapper"},[(0,K.h)("table",{},[(0,K.h)("colgroup",{},[V?(0,K.h)("col",{class:"vxe-table-custom-popup--table-col-seq"}):(0,K.createCommentVNode)(),(0,K.h)("col",{class:"vxe-table-custom-popup--table-col-title"}),Z?(0,K.h)("col",{class:"vxe-table-custom-popup--table-col-width"}):(0,K.createCommentVNode)(),H?(0,K.h)("col",{class:"vxe-table-custom-popup--table-col-fixed"}):(0,K.createCommentVNode)()]),(0,K.h)("thead",{},[(0,K.h)("tr",{},[V?(0,K.h)("th",{},[(0,K.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ge,"is--indeterminate":ve}],title:Dn("vxe.table.allTitle"),onClick:z},[(0,K.h)("span",{class:["vxe-checkbox--icon",ve?An().TABLE_CHECKBOX_INDETERMINATE:ge?An().TABLE_CHECKBOX_CHECKED:An().TABLE_CHECKBOX_UNCHECKED]}),(0,K.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.toolbar.customAll"))])]):(0,K.createCommentVNode)(),(0,K.h)("th",{},Dn("vxe.custom.setting.colTitle")),Z?(0,K.h)("th",{},Dn("vxe.custom.setting.colResizable")):(0,K.createCommentVNode)(),H?(0,K.h)("th",{},Dn("vxe.custom.setting."+(te?"colFixedMax":"colFixed"),[te])):(0,K.createCommentVNode)()])]),(0,K.h)(K.TransitionGroup,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>me})])]),pe?(0,K.h)("div",{class:"vxe-table-custom-popup--table-bottom"},u.callSlot(pe,be)):Mn(u),X()]),!f&&(k||y)&&u.getPivotTableAggregatePopupPanel?(0,K.h)(u.getPivotTableAggregatePopupPanel(),{customStore:o}):Mn(u)]),footer:()=>he?u.callSlot(he,be):(0,K.h)("div",{class:"vxe-table-custom-popup--footer"},[l?(0,K.h)(l,{content:O.resetButtonText||Dn("vxe.custom.cstmRestore"),disabled:!T,onClick:_}):(0,K.createCommentVNode)(),D?l?(0,K.h)(l,{content:O.closeButtonText||Dn("vxe.table.customClose"),onClick:N}):(0,K.createCommentVNode)():l?(0,K.h)(l,{content:O.cancelButtonText||Dn("vxe.table.customCancel"),onClick:R}):(0,K.createCommentVNode)(),D?(0,K.createCommentVNode)():l?(0,K.h)(l,{status:"primary",content:O.confirmButtonText||Dn("vxe.custom.cstmConfirm"),onClick:I}):(0,K.createCommentVNode)()])};return ue&&(xe.header=()=>u.callSlot(ue,be)),"drawer"===M?i?(0,K.h)(i,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",ae.className||""].join(" "),modelValue:o.visible,title:ae.title||Dn("vxe.custom.cstmTitle"),width:ae.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:ae.position,resize:!!ae.resize,escClosable:!!ae.escClosable,maskClosable:!!ae.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},xe):(0,K.createCommentVNode)():r?(0,K.h)(r,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",ie.className||""].join(" "),modelValue:o.visible,title:ie.title||Dn("vxe.custom.cstmTitle"),width:ie.width||Math.min(880,document.documentElement.clientWidth),minWidth:ie.minWidth||700,height:ie.height||Math.min(680,document.documentElement.clientHeight),minHeight:ie.minHeight||400,showZoom:ie.showZoom,showMaximize:ie.showMaximize,showMinimize:ie.showMinimize,mask:ie.mask,lockView:ie.lockView,resize:ie.resize,escClosable:!!ie.escClosable,maskClosable:!!ie.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},xe):(0,K.createCommentVNode)()},Q=()=>{const e=h.value;return["modal","drawer","popup"].includes(`${e.mode}`)?J():Z()};(0,K.nextTick)(()=>{const e=h.value,{mode:t}=e;r||"modal"!==t||ee("vxe.error.reqComp",["vxe-modal"]),i||"drawer"!==t||ee("vxe.error.reqComp",["vxe-drawer"]),l||ee("vxe.error.reqComp",["vxe-button"]),s||ee("vxe.error.reqComp",["vxe-number-input"]),c||ee("vxe.error.reqComp",["vxe-radio-group"])});const te={xID:n,props:e,context:t,reactData:T,internalData:E,xeTable:u,getRefMaps:()=>O,getComputeMaps:()=>D,renderVN:Q};return(0,K.onUnmounted)(()=>{E=In()}),(0,K.provide)("$xeTableCustomPanel",te),te},render(){return this.renderVN()}});const{getI18n:Rn,getIcon:Fn,renderer:_n}=o.OE;var Pn=X({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const n=a().uniqueId(),r=(0,K.inject)("$xeTable",{}),{reactData:o,internalData:i,getComputeMaps:l}=r,{computeFilterOpts:c}=l(),u=(0,K.ref)(),d={refElem:u},p={xID:n,props:e,context:t,getRefMaps:()=>d},f=(0,K.computed)(()=>{const{filterStore:t}=e;return t&&t.options.some(e=>e.checked)}),h=(t,n)=>{const{filterStore:r}=e;r.options.forEach(e=>{e._checked=n,e.checked=n}),r.isAllSelected=n,r.isIndeterminate=!1},g=e=>{e||Q("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),r.handleFilterConfirmFilter(e||new Event("click"))},v=(e,t,n)=>{r.handleFilterChangeRadioOption(e,t,n)},b=e=>{r.handleFilterResetFilter(e)},x=(e,t,n)=>{r.handleFilterChangeMultipleOption(e,t,n)},y=(e,t,n)=>{r.handleFilterChangeOption(e,t,n)},w=(t,n)=>{const{filterStore:r}=e;r.multiple?h(t,n):b(t)},C={changeRadioOption:v,changeMultipleOption:x,changeAllOption:w,changeOption:y,confirmFilter:g,resetFilter:b};Object.assign(p,C);const k=(t,n)=>{const{filterStore:o}=e,{column:a,multiple:l,maxHeight:s}=o,c=a?a.slots:null,u=c?c.filter:null,d=Object.assign({},i._currFilterParams,{$panel:p,$table:r}),f=n?n.renderTableFilter||n.renderFilter:null;if(u)return[(0,K.h)("div",{class:"vxe-table--filter-template",style:s?{maxHeight:ge(s)}:{}},r.callSlot(u,d))];if(f)return[(0,K.h)("div",{class:"vxe-table--filter-template",style:s?{maxHeight:ge(s)}:{}},St(f(t,d)))];const h=l?o.isAllSelected:!o.options.some(e=>e._checked),g=l&&o.isIndeterminate;return[(0,K.h)("ul",{class:"vxe-table--filter-header"},[(0,K.h)("li",{class:["vxe-table--filter-option",{"is--checked":h,"is--indeterminate":g}],title:Rn(l?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{w(e,!o.isAllSelected)}},(l?[(0,K.h)("span",{class:["vxe-checkbox--icon",g?Fn().TABLE_CHECKBOX_INDETERMINATE:h?Fn().TABLE_CHECKBOX_CHECKED:Fn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,K.h)("span",{class:"vxe-checkbox--label"},Rn("vxe.table.allFilter"))]))]),(0,K.h)("ul",{class:"vxe-table--filter-body",style:s?{maxHeight:ge(s)}:{}},o.options.map(e=>{const t=e._checked,n=!1;return(0,K.h)("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{y(t,!e._checked,e)}},(l?[(0,K.h)("span",{class:["vxe-checkbox--icon",n?Fn().TABLE_CHECKBOX_INDETERMINATE:t?Fn().TABLE_CHECKBOX_CHECKED:Fn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,K.h)("span",{class:"vxe-checkbox--label"},m(e.label,1))]))}))]},S=()=>{const{filterStore:t}=e,{column:n,multiple:r}=t,o=c.value,i=f.value,{filterRender:a}=n,l=s(a)?_n.get(a.name):null,u=!i&&!t.isAllSelected&&!t.isIndeterminate;return r&&(!l||!1!==l.showTableFilterFooter&&!1!==l.showFilterFooter&&!1!==l.isFooter)?[(0,K.h)("div",{class:"vxe-table--filter-footer"},[(0,K.h)("button",{class:{"is--disabled":u},disabled:u,onClick:g},o.confirmButtonText||Rn("vxe.table.confirmFilter")),(0,K.h)("button",{onClick:b},o.resetButtonText||Rn("vxe.table.resetFilter"))])]:[]},T=()=>{const{filterStore:t}=e,{initStore:n}=o,{visible:a,multiple:l,column:d}=t,f=d?d.filterRender:null,h=s(f)?_n.get(f.name):null,m=h?h.tableFilterClassName||h.filterClassName:"",g=Object.assign({},i._currFilterParams,{$panel:p,$table:r}),v=r.props,{computeSize:b}=r.getComputeMaps(),x=b.value,y=c.value,{transfer:w,destroyOnClose:C,className:T}=y;return(0,K.h)(K.Teleport,{to:"body",disabled:!w},[(0,K.h)("div",{ref:u,class:["vxe-table--filter-wrapper","filter--prevent-default",T,se(m,g),{[`size--${x}`]:x,"is--animat":v.animat,"is--multiple":l,"is--active":a}],style:t.style},n.filter&&(!C||a)&&d?k(f,h).concat(S()):[])])};return p.renderVN=T,p},render(){return this.renderVN()}});const{getI18n:jn,getIcon:Ln}=o.OE;var $n=X({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=o.OE.getComponent("VxeModal"),n=o.OE.getComponent("VxeButton"),r=o.OE.getComponent("VxeSelect"),i=(0,K.inject)("$xeTable",{}),{computeImportOpts:l}=i.getComputeMaps(),s=(0,K.reactive)({loading:!1}),c=(0,K.ref)(),d=(0,K.computed)(()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`}),p=(0,K.computed)(()=>{const{storeData:t}=e;return t.file&&t.type}),f=(0,K.computed)(()=>{const{storeData:t}=e,{type:n,typeList:r}=t;if(n){const e=a().find(r,e=>n===e.value);return e?e.label:"*.*"}return`*.${r.map(e=>e.value).join(", *.")}`}),h=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},m=()=>{const{storeData:t,defaultOptions:n}=e;i.readFile(n).then(e=>{const{file:n}=e;Object.assign(t,u(n),{file:n})}).catch(e=>e)},g=()=>{(0,K.nextTick)(()=>{const e=c.value;e&&e.focus()})},v=()=>{const{storeData:t}=e;t.visible=!1},b=()=>{const{storeData:t,defaultOptions:n}=e,r=l.value;s.loading=!0,i.importByFile(t.file,Object.assign({},r,n)).then(()=>{s.loading=!1,t.visible=!1}).catch(()=>{s.loading=!1})},x=()=>{const o=i.xeGrid,a=i.xeGantt,{defaultOptions:l,storeData:u}=e,x=d.value,y=p.value,w=f.value,C=l.slots||{},k=C.top,S=C.bottom,T=C.default,E=C.footer;return t?(0,K.h)(t,{id:"VXE_IMPORT_MODAL",modelValue:u.visible,title:jn("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:s.loading,"onUpdate:modelValue"(e){u.visible=e},onShow:g},{default:()=>{const e={$table:i,$grid:o,$gantt:a,options:l,params:l.params};return(0,K.h)("div",{class:"vxe-table-export--panel"},[k?(0,K.h)("div",{class:"vxe-table-export--panel-top"},i.callSlot(k,e)):(0,K.createCommentVNode)(),(0,K.h)("div",{class:"vxe-table-export--panel-body"},T?i.callSlot(T,e):[(0,K.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,K.h)("tbody",[(0,K.h)("tr",[(0,K.h)("td",jn("vxe.import.impFile")),(0,K.h)("td",[y?(0,K.h)("div",{class:"vxe-table-export--selected--file",title:x},[(0,K.h)("span",x),(0,K.h)("i",{class:Ln().INPUT_CLEAR,onClick:h})]):(0,K.h)("button",{ref:c,class:"vxe-table-export--select--file",onClick:m},jn("vxe.import.impSelect"))])]),(0,K.h)("tr",[(0,K.h)("td",jn("vxe.import.impType")),(0,K.h)("td",w)]),(0,K.h)("tr",[(0,K.h)("td",jn("vxe.import.impMode")),(0,K.h)("td",[r?(0,K.h)(r,{modelValue:l.mode,options:u.modeList,"onUpdate:modelValue"(e){l.mode=e}}):(0,K.createCommentVNode)()])])])])]),S?(0,K.h)("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(S,e)):(0,K.createCommentVNode)()])},footer(){const e={$table:i,$grid:o,$gantt:a,options:l,params:l.params};return(0,K.h)("div",{class:"vxe-table-export--panel-footer"},E?i.callSlot(E,e):[(0,K.h)("div",{class:"vxe-table-export--panel-btns"},[n?(0,K.h)(n,{content:jn("vxe.import.impCancel"),onClick:v}):(0,K.createCommentVNode)(),n?(0,K.h)(n,{status:"primary",disabled:!y||s.loading,content:jn("vxe.import.impConfirm"),onClick:b}):(0,K.createCommentVNode)()])])}}):(0,K.createCommentVNode)()};return(0,K.nextTick)(()=>{t||ee("vxe.error.reqComp",["vxe-modal"]),n||ee("vxe.error.reqComp",["vxe-button"]),r||ee("vxe.error.reqComp",["vxe-select"])}),x}});const{getI18n:zn,getIcon:Vn}=o.OE;var Bn=X({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=o.OE.getComponent("VxeModal"),n=o.OE.getComponent("VxeButton"),r=o.OE.getComponent("VxeSelect"),i=o.OE.getComponent("VxeInput"),l=o.OE.getComponent("VxeCheckbox"),s=(0,K.inject)("$xeTable",{}),{computeExportOpts:c,computePrintOpts:u}=s.getComputeMaps(),d=(0,K.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),p=(0,K.ref)(),f=(0,K.ref)(),h=(0,K.ref)(),g=(0,K.computed)(()=>{const{storeData:t}=e;return t.columns.every(e=>e.checked)}),v=(0,K.computed)(()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1}),b=(0,K.computed)(()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)}),x=(0,K.computed)(()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1}),y=t=>{const{storeData:n}=e,r=a().findTree(n.columns,e=>e===t);if(r&&r.parent){const{parent:e}=r;e.children&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),y(e))}},w=()=>{const{storeData:t}=e,n=t.columns;d.isAll=n.every(e=>e.disabled||e.checked),d.isIndeterminate=!d.isAll&&n.some(e=>!e.disabled&&(e.checked||e.halfChecked))},C=e=>{const t=!e.checked;a().eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),y(e),w()},k=()=>{const{storeData:t}=e,n=!d.isAll;a().eachTree(t.columns,e=>{e.disabled||(e.checked=n,e.halfChecked=!1)}),d.isAll=n,w()},S=()=>{(0,K.nextTick)(()=>{const e=f.value,t=h.value,n=p.value,r=e||t||n;r&&r.focus()}),w()},T=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:r,columns:o}=t,i=g.value,l=b.value,s=a().searchTree(o,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:s,isMerge:!!(r&&l&&i)&&n.isMerge})},E=()=>{const{storeData:t}=e,n=u.value;t.visible=!1,s.print(Object.assign({},n,T()))},O=()=>{const{storeData:t}=e,n=c.value;d.loading=!0,s.exportData(Object.assign({},n,T())).then(()=>{d.loading=!1,t.visible=!1}).catch(()=>{d.loading=!1})},D=()=>{const{storeData:t}=e;t.visible=!1},A=()=>{const{storeData:t}=e;t.isPrint?E():O()},M=()=>{const o=s.xeGrid,c=s.xeGantt,{defaultOptions:u,storeData:y}=e,{isAll:w,isIndeterminate:T}=d,{hasTree:E,hasMerge:O,isPrint:M,hasColgroup:I,columns:N}=y,{isHeader:R}=u,F=[],_=g.value,P=v.value,j=b.value,L=x.value,$=u.slots||{},z=$.top,V=$.bottom,B=$.default,H=$.footer,W=$.parameter;return a().eachTree(N,e=>{const t=m(e.getTitle(),1),n=e.children&&e.children.length,r=e.checked,o=e.halfChecked,i="html"===e.type;F.push((0,K.h)("li",{key:e.id,class:["vxe-table-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":r,"is--indeterminate":o,"is--disabled":e.disabled}],title:i?"":t,onClick:()=>{e.disabled||C(e)}},[(0,K.h)("span",{class:["vxe-checkbox--icon",o?Vn().TABLE_CHECKBOX_INDETERMINATE:r?Vn().TABLE_CHECKBOX_CHECKED:Vn().TABLE_CHECKBOX_UNCHECKED]}),i?(0,K.h)("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):(0,K.h)("span",{key:"0",class:"vxe-checkbox--label"},t)]))}),t?(0,K.h)(t,{id:"VXE_EXPORT_MODAL",modelValue:y.visible,title:zn(M?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(e){y.visible=e},onShow:S},{default:()=>{const e={$table:s,$grid:o,$gantt:c,options:u,columns:N,params:u.params},t="empty"===u.mode;return(0,K.h)("div",{class:"vxe-table-export--panel"},[z?(0,K.h)("div",{class:"vxe-table-export--panel-top"},s.callSlot(z,e)):(0,K.createCommentVNode)(),(0,K.h)("div",{class:"vxe-table-export--panel-body"},B?s.callSlot(B,e):[(0,K.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,K.h)("tbody",[[M?(0,K.createCommentVNode)():(0,K.h)("tr",[(0,K.h)("td",zn("vxe.export.expName")),(0,K.h)("td",[i?(0,K.h)(i,{ref:f,modelValue:u.filename,type:"text",clearable:!0,placeholder:zn("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){u.filename=e}}):(0,K.createCommentVNode)()])]),M?(0,K.createCommentVNode)():(0,K.h)("tr",[(0,K.h)("td",zn("vxe.export.expType")),(0,K.h)("td",[r?(0,K.h)(r,{modelValue:u.type,options:y.typeList,"onUpdate:modelValue"(e){u.type=e}}):(0,K.createCommentVNode)()])]),M||P?(0,K.h)("tr",[(0,K.h)("td",zn("vxe.export.expSheetName")),(0,K.h)("td",[i?(0,K.h)(i,{ref:h,modelValue:u.sheetName,type:"text",clearable:!0,placeholder:zn("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){u.sheetName=e}}):(0,K.createCommentVNode)()])]):(0,K.createCommentVNode)(),(0,K.h)("tr",[(0,K.h)("td",zn("vxe.export.expMode")),(0,K.h)("td",[r?(0,K.h)(r,{modelValue:u.mode,options:y.modeList.map(e=>({value:e.value,label:zn(e.label)})),"onUpdate:modelValue"(e){u.mode=e}}):(0,K.createCommentVNode)()])]),(0,K.h)("tr",[(0,K.h)("td",[zn("vxe.export.expColumn")]),(0,K.h)("td",[(0,K.h)("div",{class:"vxe-table-export--panel-column"},[(0,K.h)("ul",{class:"vxe-table-export--panel-column-header"},[(0,K.h)("li",{class:["vxe-table-export--panel-column-option",{"is--checked":w,"is--indeterminate":T}],title:zn("vxe.table.allTitle"),onClick:k},[(0,K.h)("span",{class:["vxe-checkbox--icon",T?Vn().TABLE_CHECKBOX_INDETERMINATE:w?Vn().TABLE_CHECKBOX_CHECKED:Vn().TABLE_CHECKBOX_UNCHECKED]}),(0,K.h)("span",{class:"vxe-checkbox--label"},zn("vxe.export.expCurrentColumn"))])]),(0,K.h)("ul",{class:"vxe-table-export--panel-column-body"},F)])])]),(0,K.h)("tr",[(0,K.h)("td",zn("vxe.export.expOpts")),W?(0,K.h)("td",[(0,K.h)("div",{class:"vxe-table-export--panel-option-row"},s.callSlot(W,e))]):(0,K.h)("td",[(0,K.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,K.h)(l,{modelValue:t||R,disabled:t,title:zn("vxe.export.expHeaderTitle"),content:zn("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){u.isHeader=e}}):(0,K.createCommentVNode)(),l?(0,K.h)(l,{modelValue:!!R&&u.isTitle,disabled:!R,title:zn("vxe.export.expTitleTitle"),content:zn("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){u.isTitle=e}}):(0,K.createCommentVNode)(),l?(0,K.h)(l,{modelValue:!!(R&&I&&j)&&u.isColgroup,title:zn("vxe.export.expColgroupTitle"),disabled:!R||!I||!j,content:zn("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){u.isColgroup=e}}):(0,K.createCommentVNode)()]),(0,K.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,K.h)(l,{modelValue:!t&&u.original,disabled:t,title:zn("vxe.export.expOriginalTitle"),content:zn("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){u.original=e}}):(0,K.createCommentVNode)(),l?(0,K.h)(l,{modelValue:!!(O&&j&&_)&&u.isMerge,title:zn("vxe.export.expMergeTitle"),disabled:t||!O||!j||!_,content:zn("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){u.isMerge=e}}):(0,K.createCommentVNode)(),M||!l?(0,K.createCommentVNode)():(0,K.h)(l,{modelValue:!!L&&u.useStyle,disabled:!L,title:zn("vxe.export.expUseStyleTitle"),content:zn("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){u.useStyle=e}}),l?(0,K.h)(l,{modelValue:!!E&&u.isAllExpand,disabled:t||!E,title:zn("vxe.export.expAllExpandTitle"),content:zn("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){u.isAllExpand=e}}):(0,K.createCommentVNode)()]),(0,K.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,K.h)(l,{modelValue:u.isFooter,disabled:!y.hasFooter,title:zn("vxe.export.expFooterTitle"),content:zn("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){u.isFooter=e}}):(0,K.createCommentVNode)()])])])]])])]),V?(0,K.h)("div",{class:"vxe-table-export--panel-bottom"},s.callSlot(V,e)):(0,K.createCommentVNode)()])},footer(){const e={$table:s,$grid:o,$gantt:c,options:u,columns:N,params:u.params};return(0,K.h)("div",{class:"vxe-table-export--panel-footer"},H?s.callSlot(H,e):[(0,K.h)("div",{class:"vxe-table-export--panel-btns"},[n?(0,K.h)(n,{content:zn("vxe.export.expCancel"),onClick:D}):(0,K.createCommentVNode)(),n?(0,K.h)(n,{ref:p,status:"primary",content:zn(M?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:A}):(0,K.createCommentVNode)()])])}}):(0,K.createCommentVNode)()};return(0,K.nextTick)(()=>{t||ee("vxe.error.reqComp",["vxe-modal"]),n||ee("vxe.error.reqComp",["vxe-button"]),r||ee("vxe.error.reqComp",["vxe-select"]),i||ee("vxe.error.reqComp",["vxe-input"]),l||ee("vxe.error.reqComp",["vxe-checkbox"])}),M}});const{getIcon:Hn,renderEmptyElement:Wn}=o.OE;var qn=X({name:"VxeTableMenuPanel",setup(e,t){const n=a().uniqueId(),r=(0,K.inject)("$xeTable",{}),{reactData:o}=r,i=(0,K.ref)(),l={refElem:i},s={xID:n,props:e,context:t,getRefMaps:()=>l},c=()=>{const{ctxMenuStore:e}=o,{computeMenuOpts:t}=r.getComputeMaps(),n=t.value,{transfer:l,destroyOnClose:s}=n,{visible:c,list:u,className:d}=e;return(0,K.h)(K.Teleport,{to:"body",disabled:!l},[(0,K.h)("div",{ref:i,class:["vxe-table--context-menu-wrapper",d,{"is--visible":c}],style:e.style},!s||c?u.map((t,n)=>t.every(e=>!1===e.visible)?Wn(r):(0,K.h)("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map((t,o)=>{const i=t.children&&t.children.some(e=>!1!==e.visible),l=Object.assign({},t.prefixConfig),s=l.icon||t.prefixIcon,c=Object.assign({},t.suffixConfig),u=c.icon||t.suffixIcon,d=h(t.name);return!1===t.visible?Wn(r):(0,K.h)("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[(0,K.h)("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,t)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[(0,K.h)("div",{class:["vxe-context-menu--link-prefix",l.className||""]},[s&&a().isFunction(s)?(0,K.h)("span",{},St(s({}))):(0,K.h)("i",{class:s}),l.content?(0,K.h)("span",{},`${l.content}`):Wn(r)]),(0,K.h)("div",{class:"vxe-context-menu--link-content",title:d},d),(0,K.h)("div",{class:["vxe-context-menu--link-suffix",c.className||""]},[u&&a().isFunction(u)?(0,K.h)("span",{},St(u({}))):(0,K.h)("i",{class:u||(i?Hn().TABLE_MENU_OPTIONS:"")}),c.content?(0,K.h)("span",`${c.content}`):Wn(r)])]),i&&t.children?(0,K.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map((i,l)=>{const s=Object.assign({},i.prefixConfig),c=s.icon||i.prefixIcon,u=Object.assign({},i.suffixConfig),d=u.icon||i.suffixIcon,p=h(i.name);return!1===i.visible?null:(0,K.h)("li",{class:[i.className,{"link--disabled":i.disabled,"link--active":i===e.selectChild}],key:`${n}_${o}_${l}`},[(0,K.h)("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,i)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t,i)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[(0,K.h)("div",{class:["vxe-context-menu--link-prefix",s.className||""]},[c&&a().isFunction(c)?(0,K.h)("span",{},St(c({}))):(0,K.h)("i",{class:c}),s.content?(0,K.h)("span",`${s.content}`):Wn(r)]),(0,K.h)("div",{class:"vxe-context-menu--link-content",title:p},p),(0,K.h)("div",{class:["vxe-context-menu--link-suffix",u.className||""]},[d&&a().isFunction(d)?(0,K.h)("span",{},St(d({}))):(0,K.h)("i",{class:d}),u.content?(0,K.h)("span",`${u.content}`):Wn(r)])])])})):null])}))):[])])};return s.renderVN=c,s},render(){return this.renderVN()}});const{renderer:Un,hooks:Gn}=o.OE,Yn=["openFilter","setFilter","clearFilter","saveFilterPanel","saveFilterPanelByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];Gn.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,n=e.xeGantt,r=t||n,{props:o,reactData:i,internalData:l}=e,{refElem:c,refTableFilter:u}=e.getRefMaps(),{computeFilterOpts:d,computeMouseOpts:p}=e.getComputeMaps(),f=t=>{const{filterStore:n}=i;n.options.forEach(e=>{e.checked=e._checked}),e.confirmFilterEvent(t)},h=(t,n,r)=>{const{filterStore:o}=i;o.options.forEach(e=>{e._checked=!1}),r._checked=n,e.checkFilterOptions(),f(t)},m=(t,n,r)=>{r._checked=n,e.checkFilterOptions()},g=t=>{const{filterStore:n}=i;e.handleClearFilter(n.column),e.confirmFilterEvent(t),t&&e.dispatchEvent("clear-filter",{filterList:[]},t)},v={checkFilterOptions(){const{filterStore:e}=i;e.isAllSelected=e.options.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&e.options.some(e=>e._checked)},triggerFilterEvent(t,n,o){const{initStore:a,filterStore:p}=i,{elemStore:f}=l;if(p.column===n&&p.visible)p.visible=!1;else{const i=c.value,{scrollTop:h,scrollLeft:m,visibleHeight:g,visibleWidth:v}=be(),b=d.value,{transfer:x}=b,y=i.getBoundingClientRect(),w=t.currentTarget,C=n?n.filterRender:null,k=C&&s(C)?Un.get(C.name):null;e.handleFilterOptions(n),l._currFilterParams=o,p.style=null,p.visible=!0,a.filter=!0,(0,K.nextTick)(()=>{const e=tt(f["main-header-scroll"]);if(!e)return;const t=u.value,n=t?t.getRefMaps().refElem.value:null;if(!n)return;const o=w.getBoundingClientRect(),a=n.querySelector(".vxe-table--filter-header"),l=n.querySelector(".vxe-table--filter-footer"),s=n.offsetWidth,c=s/2;let d=0,b=0,C=0;if(x)d=o.left-c+m,b=o.top+w.clientHeight+h,C=Math.min(Math.max(y.height,Math.floor(g/2)),Math.max(80,g-b-(a?a.clientHeight:0)-(l?l.clientHeight:0)-28)),d<16?d=16:d>v-s-16&&(d=v-s-16);else if(d=o.left-y.left-c,b=o.top-y.top+w.clientHeight,C=Math.max(40,i.clientHeight-b-(a?a.clientHeight:0)-(l?l.clientHeight:0)-14),d<1?d=1:d>i.clientWidth-s-1&&(d=i.clientWidth-s-1),r){const e=r.getRefMaps().refElem.value;if(e){const t=e.getBoundingClientRect();b+=y.top-t.top}}p.style={top:ge(b),left:ge(d)},k&&!k.tableFilterAutoHeight&&(C=0),p.maxHeight=C})}e.dispatchEvent("filter-visible",{column:n,field:n.field,property:n.field,filterList:e.getCheckedFilters(),visible:p.visible},t)},handleClearFilter(t){if(t){const{filters:n,filterRender:r}=t;if(n){const o=s(r)?Un.get(r.name):null,i=t.filterResetMethod||(o?o.tableFilterResetMethod||o.filterResetMethod:null);n.forEach(e=>{e._checked=!1,e.checked=!1,i||(e.data=a().clone(e.resetValue,!0))}),i&&i({options:n,column:t,$table:e})}}},handleColumnConfirmFilter(t,n){const{mouseConfig:r}=o,{scrollXLoad:a,scrollYLoad:l}=i,s=d.value,c=p.value,{field:u}=t,f=[],h=[];t.filters.forEach(e=>{e.checked&&(f.push(e.value),h.push(e.data))});const m=e.getCheckedFilters(),g={$table:e,$event:n,column:t,field:u,property:u,values:f,datas:h,filters:m,filterList:m};return s.remote||(e.handleTableData(!0),e.checkSelectionStatus()),r&&c.area&&e.handleFilterEvent&&e.handleFilterEvent(n,g),n&&e.dispatchEvent("filter-change",g,n),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:t,scrollYLoad:n}=i;if(a||t||l||n)return(a||t)&&e.updateScrollXSpace(),(l||n)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(t){const{filterStore:n}=i,{column:r}=n;e.handleColumnConfirmFilter(r,t)},handleFilterChangeRadioOption:h,handleFilterChangeMultipleOption:m,handleFilterChangeOption(e,t,n){const{filterStore:r}=i;r.multiple?m(e,t,n):h(e,t,n)},handleFilterConfirmFilter:f,handleFilterResetFilter:g},b={openFilter(t){const n=Ue(e,t);if(n&&n.filters){const{elemStore:t}=l,{fixed:r}=n;return e.scrollToColumn(n).then(()=>{const e=tt(t[`${r||"main"}-header-wrapper`]||t["main-header-wrapper"]);if(e){const t=e.querySelector(`.vxe-header--column.${n.id} .vxe-cell--filter`);Ae(t,"click")}})}return(0,K.nextTick)()},setFilter(t,n,r){const{filterStore:o}=i,a=Ue(e,t);if(a&&a.filters){if(a.filters=Ze(n||[]),r)return e.handleColumnConfirmFilter(a,null);o.visible&&e.handleFilterOptions(a)}return(0,K.nextTick)()},clearFilter(t){const{filterStore:n}=i,{tableFullColumn:r}=l,o=d.value;let a;return t?(a=Ue(e,t),a&&e.handleClearFilter(a)):r.forEach(e.handleClearFilter),t&&a===n.column||Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),o.remote?(0,K.nextTick)():e.updateData()},saveFilterPanel(){return f(null),(0,K.nextTick)()},saveFilterPanelByEvent(e){return f(e),(0,K.nextTick)()},resetFilterPanel(){return g(null),(0,K.nextTick)()},resetFilterPanelByEvent(e){return g(e),(0,K.nextTick)()},getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach(e=>{const{field:n,filters:r}=e,o=[],i=[];r&&r.length&&(r.forEach(e=>{e.checked&&(o.push(e.value),i.push(e.data))}),o.length&&t.push({column:e,field:n,property:n,values:o,datas:i}))}),t},updateFilterOptionStatus(e,t){return e._checked=t,e.checked=t,(0,K.nextTick)()}};return Object.assign(Object.assign({},b),v)},setupGrid(e){return e.extendTableMethods(Yn)},setupGantt(e){return e.extendTableMethods(Yn)}});const{menus:Kn,hooks:Xn,globalEvents:Zn,GLOBAL_EVENT_KEYS:Jn}=o.OE,Qn=["closeMenu"];Xn.add("tableMenuModule",{setupTable(e){const{xID:t,props:n,reactData:r,internalData:o}=e,{refElem:i,refTableFilter:l,refTableMenu:c}=e.getRefMaps(),{computeMouseOpts:u,computeIsContentMenu:d,computeMenuOpts:p}=e.getComputeMaps();let h={},m={};const g=(t,n,a)=>{const{ctxMenuStore:l}=r,s=d.value,u=p.value,f=u[n],{transfer:m,visibleMethod:g}=u;if(f){const{options:n,disabled:r}=f;r?t.preventDefault():s&&n&&n.length&&(a.options=n,e.preventEvent(t,"event.showMenu",a,()=>{if(!g||g(a)){t.preventDefault(),e.updateZindex();const r=i.value,s=r.getBoundingClientRect(),{scrollTop:u,scrollLeft:d,visibleHeight:p,visibleWidth:f}=be();let h=t.clientY-s.y,g=t.clientX-s.x;m&&(h=t.clientY+u,g=t.clientX+d);const v=()=>{o._currMenuParams=a,Object.assign(l,{visible:!0,list:n,selected:null,selectChild:null,showChild:!1,style:{zIndex:o.tZindex,top:`${h}px`,left:`${g}px`}}),(0,K.nextTick)(()=>{const e=c.value,t=e.getRefMaps().refElem.value,n=t.clientHeight,r=t.clientWidth,{boundingTop:o,boundingLeft:i}=Te(t),a=o+n-p,s=i+r-f;a>-10&&(l.style.top=`${Math.max(u+2,h-n-2)}px`),s>-10&&(l.style.left=`${Math.max(d+2,g-r-2)}px`)})},{keyboard:b,row:x,column:y}=a;b&&x&&y?e.scrollToRow(x,y).then(()=>{const t=e.getCellElement(x,y);if(t){const{boundingTop:e,boundingLeft:n}=Te(t);h=e+u+Math.floor(t.offsetHeight/2),g=n+d+Math.floor(t.offsetWidth/2)}v()}):v()}else h.closeMenu()}))}e.closeFilter()};return h={closeMenu(){return Object.assign(r.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,K.nextTick)()}},m={moveCtxMenu(t,n,r,o,i,l){let s;const c=a().findIndexOf(l,e=>n[r]===e);if(o)i&&f(n.selected)?n.showChild=!0:(n.showChild=!1,n.selectChild=null);else if(Zn.hasKey(t,Jn.ARROW_UP)){for(let e=c-1;e>=0;e--)if(!1!==l[e].visible){s=l[e];break}n[r]=s||l[l.length-1]}else if(Zn.hasKey(t,Jn.ARROW_DOWN)){for(let e=c+1;e<l.length;e++)if(!1!==l[e].visible){s=l[e];break}n[r]=s||l[0]}else n[r]&&(Zn.hasKey(t,Jn.ENTER)||Zn.hasKey(t,Jn.SPACEBAR))&&e.ctxMenuLinkEvent(t,n[r])},handleOpenMenuEvent:g,handleGlobalContextmenuEvent(a){const d=e.xeGrid,f=e.xeGantt,{mouseConfig:m,menuConfig:v}=n,{editStore:b,ctxMenuStore:x}=r,{visibleColumn:y}=o,w=l.value,C=c.value,k=u.value,S=p.value,T=i.value,{selected:E}=b,O=["header","body","footer"];if(s(v)){if(x.visible&&C&&Se(a,C.getRefMaps().refElem.value).flag)return void a.preventDefault();if(o._keyCtx){const t="body",n={type:t,$table:e,$grid:d,$gantt:f,keyboard:!0,columns:y.slice(0),$event:a};if(m&&k.area){const r=e.getActiveCellArea();if(r&&r.row&&r.column)return n.row=r.row,n.column=r.column,void g(a,t,n)}else if(m&&k.selected&&E.row&&E.column)return n.row=E.row,n.column=E.column,void g(a,t,n)}for(let n=0;n<O.length;n++){const r=O[n],o=Se(a,T,`vxe-${r}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===t),i={type:r,$table:e,$grid:d,$gantt:f,columns:y.slice(0),$event:a};if(o.flag){const t=o.targetElem,n=e.getColumnNode(t),l=n?n.item:null;let s=`${r}-`;if(l&&Object.assign(i,{column:l,columnIndex:e.getColumnIndex(l),cell:t}),"body"===r){const n=e.getRowNode(t.parentNode),r=n?n.item:null;s="",r&&(i.row=r,i.rowIndex=e.getRowIndex(r))}const c=`${s}cell-menu`;return g(a,r,i),void e.dispatchEvent(c,i,a)}if(Se(a,T,`vxe-table--${r}-wrapper`,e=>e.getAttribute("xid")===t).flag)return void("cell"===S.trigger?a.preventDefault():g(a,r,i))}}w&&!Se(a,w.getRefMaps().refElem.value).flag&&e.closeFilter(),h.closeMenu()},ctxMenuMouseoverEvent(e,t,n){const o=e.currentTarget,{ctxMenuStore:i}=r;e.preventDefault(),e.stopPropagation(),i.selected=t,i.selectChild=n,n||(i.showChild=f(t),i.showChild&&(0,K.nextTick)(()=>{const e=o.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:n,visibleHeight:r,visibleWidth:i}=Te(o),a=t+o.offsetHeight,l=n+o.offsetWidth;let s="",c="";l+e.offsetWidth>i-10&&(s="auto",c=`${o.offsetWidth}px`);let u="",d="";a+e.offsetHeight>r-10&&(u="auto",d="0"),e.style.left=s,e.style.right=c,e.style.top=u,e.style.bottom=d}}))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:n}=r;t.children||(n.selected=null),n.selectChild=null},ctxMenuLinkEvent(t,n){const r=e.xeGrid,i=e.xeGantt;if(!n.disabled&&(n.code||!n.children||!n.children.length)){const a=Kn.get(n.code),l=Object.assign({},o._currMenuParams,{menu:n,$table:e,$grid:r,$gantt:i,$event:t}),s=a?a.tableMenuMethod||a.menuMethod:null;s&&s(l,t),e.dispatchEvent("menu-click",l,t),h.closeMenu()}}},Object.assign(Object.assign({},h),m)},setupGrid(e){return e.extendTableMethods(Qn)},setupGantt(e){return e.extendTableMethods(Qn)}});const{getConfig:er,renderer:tr,hooks:nr,getI18n:rr}=o.OE,or=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];nr.add("tableEditModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refElem:o}=e.getRefMaps(),{computeMouseOpts:i,computeEditOpts:l,computeCheckboxOpts:c,computeTreeOpts:u,computeValidOpts:d}=e.getComputeMaps(),p=a().browse();let f={},h={};const m=(e,t)=>{const{model:n,editRender:r}=t;r&&(n.value=Qe(e,t),n.update=!1)},g=(e,t)=>{const{model:n,editRender:r}=t;r&&n.update&&(et(e,t,n.value),n.update=!1,n.value=null)},v=()=>{const e=o.value;if(e){const t=e.querySelector(".col--selected");t&&fe(t,"col--selected")}},b=()=>{const{editStore:e,tableColumn:t}=n,r=l.value,{actived:o}=e,{row:i,column:a}=o;(i||a)&&("row"===r.mode?t.forEach(e=>g(i,e)):g(i,a))},x=(t,n)=>{const{tableFullTreeData:o,afterFullData:i,fullDataRowIdData:l,fullAllDataRowIdData:s}=r,c=u.value,{rowField:d,parentField:p,mapChildrenField:f}=c,h=c.children||c.childrenField,m=n?"push":"unshift";t.forEach(t=>{const n=t[p],r=Le(e,t),c=n?a().findTree(o,e=>n===e[d],{children:f}):null;if(c){const{item:n}=c,o=s[Le(e,n)],i=o?o.level:0;let u=n[h],d=n[f];a().isArray(u)||(u=n[h]=[]),a().isArray(d)||(d=n[h]=[]),u[m](t),d[m](t);const p={row:t,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:u,parent:n,level:i+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[r]=p,s[r]=p}else{n&&Q("vxe.error.unableInsert"),i[m](t),o[m](t);const e={row:t,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:o,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[r]=e,s[r]=e}})},y=(o,i,l)=>{const{treeConfig:s}=t,{isRowGroupStatus:c}=n,{tableFullTreeData:d,afterFullData:p,mergeBodyList:f,tableFullData:h,fullDataRowIdData:m,fullAllDataRowIdData:g,insertRowMaps:v,removeRowMaps:b}=r,y=u.value,{transform:w,parentField:C,rowField:k,mapChildrenField:S}=y,T=y.children||y.childrenField;a().isArray(o)||(o=[o]);const E=(0,K.reactive)(e.defineField(o.map(e=>Object.assign(s&&w?{[S]:[],[T]:[]}:{},e))));let O=[];if(s&&w&&(O=a().toArrayTree(E,{key:k,parentKey:C,children:T})),a().eqNull(i))if(s&&w)x(E,!1);else if(c){if(s)throw new Error(rr("vxe.error.noTree",["insert"]));Q(rr("vxe.error.noGroup",["remove"]))}else E.forEach(t=>{const n=Le(e,t),r={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:p,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};m[n]=r,g[n]=r,p.unshift(t),h.unshift(t)}),f.forEach(e=>{const{row:t}=e;t>=0&&(e.row=t+E.length)});else if(-1===i)if(s&&w)x(E,!0);else if(c){if(s)throw new Error(rr("vxe.error.noTree",["insert"]));Q(rr("vxe.error.noGroup",["remove"]))}else E.forEach(t=>{const n=Le(e,t),r={row:t,rowid:n,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:p,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};m[n]=r,g[n]=r,p.push(t),h.push(t)});else if(s&&w){const t=a().findTree(d,e=>i[k]===e[k],{children:S});if(t){const{parent:n}=t,r=n?n[S]:d,o=g[Le(e,n)],s=o?o.level:0;if(O.forEach((e,o)=>{n?e[C]!==n[k]&&(e[C]=n[k],ee("vxe.error.errProp",[`${C}=${e[C]}`,`${C}=${n[k]}`])):null!==e[C]&&(e[C]=null,ee("vxe.error.errProp",[`${C}=${e[C]}`,"null"]));let i=t.index+o;l&&(i+=1),r.splice(i,0,e)}),a().eachTree(O,t=>{const o=Le(e,t),i={row:t,rowid:o,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:r,parent:n,level:s+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};t[T]&&(t[S]=t[T]),m[o]=i,g[o]=i},{children:T}),n){const e=a().findTree(d,e=>i[k]===e[k],{children:T});if(e){const t=e.items;let n=e.index;l&&(n+=1),t.splice(n,0,...O)}}}else Q("vxe.error.unableInsert"),x(E,!0)}else if(c){if(s)throw new Error(rr("vxe.error.noTree",["insert"]));Q(rr("vxe.error.noGroup",["remove"]))}else{if(s)throw new Error(rr("vxe.error.noTree",["insert"]));let t=-1;if(a().isNumber(i)?i<p.length&&(t=i):t=e.findRowIndexOf(p,i),l&&(t=Math.min(p.length,t+1)),-1===t)throw new Error(rr("vxe.error.unableInsert"));p.splice(t,0,...E);const n=e.findRowIndexOf(h,i);n>-1?h.splice(n+(l?1:0),0,...E):h.push(...E),f.forEach(e=>{const{row:n,rowspan:r}=e;n>=t?e.row=n+E.length:(l?n+r>=t:n+r>t)&&(e.rowspan=r+E.length)})}const D=t=>{const n=Le(e,t);b[n]?(delete b[n],v[n]&&delete v[n]):v[n]=t};return s&&w?a().eachTree(O,D,{children:S}):E.forEach(D),n.removeRowFlag++,n.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(s&&w),s&&w||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),(0,K.nextTick)().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:E.length?E[E.length-1]:null,rows:E}))},w=(e,n,r,o)=>{const{treeConfig:i}=t,l=u.value,{transform:s,rowField:c,parentField:d}=l;return i&&s?(a().isArray(e)||(e=[e]),y(e.map(e=>Object.assign({},e,{[d]:n[c]})),r,o)):(ee("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},C=(t,r)=>{const{editStore:o}=n,{actived:i,focused:a}=o,{row:l,column:s}=i,c=d.value;if(l||s){if(r&&Le(e,r)!==Le(e,l))return(0,K.nextTick)();b(),i.args=null,i.row=null,i.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:l,rowIndex:e.getRowIndex(l),$rowIndex:e.getVMRowIndex(l),column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)},t||null)}return a.row=null,a.column=null,c.autoClear&&("full"!==c.msgMode||"obsolete"===er().cellVaildMode)&&e.clearValidate?e.clearValidate():(0,K.nextTick)().then(()=>e.updateCellAreas())},k=(r,o,i,a)=>{const c=e.xeGrid,u=e.xeGantt,{editConfig:d,mouseConfig:p}=t,{editStore:f,tableColumn:h}=n,g=l.value,{mode:v}=g,{actived:b,focused:x}=f,{row:y,column:w}=r,{editRender:k}=w,S=r.cell||e.getCellElement(y,w),T=g.beforeEditMethod||g.activeMethod;if(r.cell=S,S&&s(d)&&s(k)&&!e.isPendingByRow(y)&&!e.isAggregateRecord(y)){if(b.row!==y||"cell"===v&&b.column!==w){let t="edit-disabled";if(!T||T(Object.assign(Object.assign({},r),{$table:e,$grid:c,$gantt:u}))){p&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),b.column&&C(o),t="edit-activated",w.renderHeight=S.offsetHeight,b.args=r,b.row=y,b.column=w,"row"===v?h.forEach(e=>m(y,e)):m(y,w);const n=g.afterEditMethod;(0,K.nextTick)(()=>{i&&e.handleFocus(r,o),n&&n(Object.assign(Object.assign({},r),{$table:e,$grid:c,$gantt:u}))})}e.dispatchEvent(t,{row:y,rowIndex:e.getRowIndex(y),$rowIndex:e.getVMRowIndex(y),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},o),"edit-activated"===t&&e.dispatchEvent("edit-actived",{row:y,rowIndex:e.getRowIndex(y),$rowIndex:e.getVMRowIndex(y),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},o)}else{const{column:t}=b;if(p&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==w){const{model:n}=t;n.update&&et(y,t,n.value),e.clearValidate&&e.clearValidate(y,w)}w.renderHeight=S.offsetHeight,b.args=r,b.column=w,a&&setTimeout(()=>{e.handleFocus(r,o)})}x.column=null,x.row=null,e.focus()}return(0,K.nextTick)()},S=(n,o,i)=>{const{editConfig:l}=t,c=a().isString(o)?e.getColumnByField(o):o;return n&&c&&s(l)&&s(c.editRender)&&!e.isAggregateRecord(n)?Promise.resolve(i?e.scrollToRow(n,c):null).then(()=>{const t=e.getCellElement(n,c);return t&&(k({row:n,rowIndex:e.getRowIndex(n),column:c,columnIndex:e.getColumnIndex(c),cell:t,$table:e},null,i,i),r._lastCallTime=Date.now()),(0,K.nextTick)()}):(0,K.nextTick)()};return f={insert(e){return y(e,null)},insertAt(e,t){return y(e,t)},insertNextAt(e,t){return y(e,t,!0)},insertChild(e,t){return w(e,t,null)},insertChildAt(e,t,n){return w(e,t,n)},insertChildNextAt(e,t,n){return w(e,t,n,!0)},remove(o){const{treeConfig:i}=t,{editStore:l,isRowGroupStatus:s}=n,{tableFullTreeData:d,selectCheckboxMaps:p,afterFullData:h,mergeBodyList:m,tableFullData:g,pendingRowMaps:v,insertRowMaps:b,removeRowMaps:x}=r,y=c.value,w=u.value,{transform:C,mapChildrenField:k}=w,S=w.children||w.childrenField,{actived:T}=l,{checkField:E}=y;let O=[];return o?a().isArray(o)||(o=[o]):o=g,o.forEach(t=>{if(!e.isInsertByRow(t)){const n=Le(e,t);x[n]=t}}),E||(o.forEach(t=>{const n=Le(e,t);p[n]&&delete p[n]}),n.updateCheckboxFlag++),g===o?(o=O=g.slice(0),r.tableFullData=[],r.afterFullData=[],e.clearMergeCells()):i&&C?o.forEach(t=>{const n=Le(e,t),r=a().findTree(d,t=>n===Le(e,t),{children:k});if(r){const e=r.items.splice(r.index,1);O.push(e[0])}const o=a().findTree(d,t=>n===Le(e,t),{children:S});o&&o.items.splice(o.index,1);const i=e.findRowIndexOf(h,t);i>-1&&h.splice(i,1)}):s?Q(rr("vxe.error.noGroup",["remove"])):o.forEach(t=>{const n=e.findRowIndexOf(g,t);if(n>-1){const e=g.splice(n,1);O.push(e[0])}const r=e.findRowIndexOf(h,t);r>-1&&(m.forEach(e=>{const{row:t,rowspan:n}=e;t>r?e.row=t-1:t+n>r&&(e.rowspan=n-1)}),h.splice(r,1))}),T.row&&e.findRowIndexOf(o,T.row)>-1&&f.clearEdit(),o.forEach(t=>{const n=Le(e,t);b[n]&&delete b[n],v[n]&&delete v[n]}),n.removeRowFlag++,n.insertRowFlag++,n.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(i&&C),e.updateFooter(),e.handleUpdateBodyMerge(),i&&C||e.updateAfterDataIndex(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),(0,K.nextTick)().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:O.length?O[O.length-1]:null,rows:O}))},removeCheckboxRow(){return f.remove(e.getCheckboxRecords()).then(t=>(e.clearCheckboxRow(),t))},removeRadioRow(){const t=e.getRadioRecord();return f.remove(t||[]).then(t=>(e.clearRadioRow(),t))},removeCurrentRow(){const t=e.getCurrentRecord();return f.remove(t||[]).then(t=>(e.clearCurrentRow(),t))},getRecordset(){const t=f.getRemoveRecords(),n=e.getPendingRecords(),r=t.concat(n),o=f.getUpdateRecords().filter(t=>!r.some(n=>e.eqRow(n,t)));return{insertRecords:f.getInsertRecords(),removeRecords:t,updateRecords:o,pendingRecords:n}},getInsertRecords(){const{fullAllDataRowIdData:e,insertRowMaps:t}=r,n=[];return a().each(t,(t,r)=>{e[r]&&n.push(t)}),n},getRemoveRecords(){const{removeRowMaps:e}=r,t=[];return a().each(e,e=>{t.push(e)}),t},getUpdateRecords(){const{keepSource:n,treeConfig:o}=t,{tableFullData:i}=r,l=u.value;return n?(b(),o?a().filterTree(i,t=>e.isUpdateByRow(t),l):i.filter(t=>e.isUpdateByRow(t))):[]},getActiveRecord(){Q("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:t}=n,{fullAllDataRowIdData:o}=r,{args:i,row:a}=t.actived;return i&&a&&o[Le(e,a)]?Object.assign({},i,{row:a}):null},getEditRecord(){Q("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:t}=n,{fullAllDataRowIdData:o}=r,{args:i,row:a}=t.actived;return i&&a&&o[Le(e,a)]?Object.assign({},i,{row:a}):null},getEditCell(){const{editStore:t}=n,{row:r,column:o}=t.actived;return o&&r?{row:r,rowIndex:e.getRowIndex(r),column:o,columnIndex:e.getColumnIndex(o)}:null},getSelectedCell(){const{editStore:e}=n,{row:t,column:r}=e.selected;return t&&r?{row:t,column:r}:null},clearActived(t){return Q("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(t)},clearEdit(e){return C(null,e)},clearSelected(){const{editStore:e}=n,{selected:t}=e;return t.row=null,t.column=null,v(),(0,K.nextTick)()},isActiveByRow(t){return Q("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(t)},isEditByRow(e){const{editStore:t}=n;return t.actived.row===e},setActiveRow(e){return Q("vxe.error.delFunc",["setActiveRow","setEditRow"]),f.setEditRow(e)},setEditRow(t,n){const{visibleColumn:o}=r;let i=a().find(o,e=>s(e.editRender)),l=!1;return n&&(l=!0,!0!==n&&(i=a().isString(n)?e.getColumnByField(n):n)),S(t,i,l)},setActiveCell(e,t){return Q("vxe.error.delFunc",["setActiveCell","setEditCell"]),f.setEditCell(e,t)},setEditCell(e,t){return S(e,t,!0)},setSelectCell(t,r){const{tableData:o}=n,i=l.value,s=a().isString(r)?e.getColumnByField(r):r;if(t&&s&&"manual"!==i.trigger){const n=e.findRowIndexOf(o,t);if(n>-1&&s){const r=e.getCellElement(t,s),o={row:t,rowIndex:n,column:s,columnIndex:e.getColumnIndex(s),cell:r};e.handleSelected(o,{})}}return(0,K.nextTick)()}},h={handleEdit(e,t){return k(e,t,!0,!0)},handleActived(e,t){return h.handleEdit(e,t)},handleClearEdit:C,handleFocus(t){const{row:n,column:r,cell:o}=t,{editRender:i}=r,c=l.value;if(s(i)){const l=tr.get(i.name);let s,u=i.autofocus||i.autoFocus,d=i.autoSelect||i.autoselect;if(c.autoFocus&&(!u&&l&&(u=l.tableAutoFocus||l.tableAutofocus||l.autofocus),!d&&l&&(d=l.tableAutoSelect||l.autoselect),a().isFunction(u)?s=u(t):u&&(s=!0===u?o.querySelector("input,textarea"):o.querySelector(u),s&&s.focus())),s){if(d)s.select();else if(p.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else c.autoPos&&(r.fixed||e.scrollToRow(n,r))}},handleSelected(r,o){const{mouseConfig:a}=t,{editStore:s}=n,c=i.value,u=l.value,{actived:d,selected:p}=s,{row:f,column:m}=r,g=a&&c.selected,v=()=>(!g||p.row===f&&p.column===m||(d.row!==f||"cell"===u.mode&&d.column!==m)&&(C(o),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),p.args=r,p.row=f,p.column=m,g&&h.addCellSelectedClass(),e.focus(),o&&e.dispatchEvent("cell-selected",r,o)),(0,K.nextTick)());return v()},addCellSelectedClass(){const{editStore:t}=n,{selected:r}=t,{row:o,column:i}=r;if(v(),o&&i){const t=e.getCellElement(o,i);t&&he(t,"col--selected")}}},Object.assign(Object.assign({},f),h)},setupGrid(e){return e.extendTableMethods(or)},setupGantt(e){return e.extendTableMethods(or)}});const ir='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function ar(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function lr(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${ir}</style>`,n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:sr,hooks:cr,renderer:ur}=o.OE;let dr;const pr="\ufeff",fr="\r\n";function hr(e){return!!e.field||-1===["seq","checkbox","radio"].indexOf(e.type||"")}const mr=e=>{const t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...mr(e.childNodes))):t.push(e)}),t},gr=e=>{let t=1;const n=(e,r)=>{if(r&&(e._level=r._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach(r=>{n(r,e),t+=r._colSpan}),e._colSpan=t}else e._colSpan=1};e.forEach(e=>{e._level=1,n(e)});const r=[];for(let i=0;i<t;i++)r.push([]);const o=mr(e);return o.forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,r[e._level-1].push(e)}),r};function vr(e){return!0===e?"full":e||"default"}function br(e){return"TRUE"===e||"true"===e||!0===e}function xr(e,t,n){const r=e.xeGrid,o=e.xeGantt,{footerFilterMethod:i}=t;return i?n.filter((t,n)=>i({$table:e,$grid:r,$gantt:o,items:t,$rowIndex:n})):n}function yr(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`;break}}return t}function wr(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Cr(e,t){return e.getElementsByTagName(t)}function kr(e){return`#${e}@${a().uniqueId()}`}function Sr(e,t){return e.replace(/#\d+@\d+/g,e=>a().hasOwnProp(t,e)?t[e]:e)}function Tr(e,t){const n=Sr(e,t);return n.replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function Er(e,t){const{fieldMaps:n,titleMaps:r}=e;if(!n[t]){const e=r[t];e&&e.field&&(t=e.field)}return t}function Or(e,t,n){const r=t.split(fr),o=[];let i=[];if(r.length){const t={},a=Date.now();r.forEach(r=>{if(r){const l={};r=r.replace(/("")|(\n)/g,(e,n)=>{const r=kr(a);return t[r]=n?'"':"\n",r}).replace(/"(.*?)"/g,(e,n)=>{const r=kr(a);return t[r]=Sr(n,t),r});const s=r.split(n);i.length?(s.forEach((e,n)=>{n<i.length&&(l[i[n]]=Tr(e.trim(),t))}),o.push(l)):i=s.map(n=>Er(e,Tr(n.trim(),t)))}})}return{fields:i,rows:o}}function Dr(e,t){return Or(e,t,",")}function Ar(e,t){return Or(e,t,"\t")}function Mr(e,t){const n=new DOMParser,r=n.parseFromString(t,"text/html"),o=Cr(r,"body"),i=[],l=[];if(o.length){const t=Cr(o[0],"table");if(t.length){const n=Cr(t[0],"thead");if(n.length){a().arrayEach(Cr(n[0],"tr"),t=>{a().arrayEach(Cr(t,"th"),t=>{l.push(Er(e,t.textContent||""))})});const r=Cr(t[0],"tbody");r.length&&a().arrayEach(Cr(r[0],"tr"),e=>{const t={};a().arrayEach(Cr(e,"td"),(e,n)=>{l[n]&&(t[l[n]]=e.textContent||"")}),i.push(t)})}}}return{fields:l,rows:i}}function Ir(e,t){const n=new DOMParser,r=n.parseFromString(t,"application/xml"),o=Cr(r,"Worksheet"),i=[],l=[];if(o.length){const t=Cr(o[0],"Table");if(t.length){const n=Cr(t[0],"Row");n.length&&(a().arrayEach(Cr(n[0],"Cell"),t=>{l.push(Er(e,t.textContent||""))}),a().arrayEach(n,(e,t)=>{if(t){const t={},n=Cr(e,"Cell");a().arrayEach(n,(e,n)=>{l[n]&&(t[l[n]]=e.textContent)}),i.push(t)}}))}}return{fields:l,rows:i}}function Nr(e){a().eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}const Rr=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];cr.add("tableExportModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{computeTreeOpts:i,computePrintOpts:l,computeExportOpts:s,computeImportOpts:c,computeCustomOpts:d,computeSeqOpts:p,computeRadioOpts:f,computeCheckboxOpts:h,computeColumnOpts:v}=e.getComputeMaps(),b=e=>{const t=i.value,n=t.children||t.childrenField;return e[n]&&e[n].length},x=(t,n,r,o,i)=>{const a=p.value,l=a.seqMethod||o.seqMethod;return l?l({$table:e,row:n,rowIndex:e.getRowIndex(n),$rowIndex:r,column:o,columnIndex:e.getColumnIndex(o),$columnIndex:i}):t};function y(t,n){const r=v.value,o=n.headerExportMethod||r.headerExportMethod;return o?o({column:n,options:t,$table:e}):(t.isTitle?n.getTitle():n.field)||""}const w=e=>a().isBoolean(e)?e?"TRUE":"FALSE":e,C=e=>g(e)?"":`${e}`,k=(n,r,o)=>{const{isAllExpand:l,mode:s}=n,{treeConfig:c}=t,u=f.value,d=h.value,p=i.value,m=v.value;if(dr||(dr=document.createElement("div")),c){const t=p.children||p.childrenField,i=[],c={},f={},{handleGetRowId:h}=ze(e);return a().eachTree(o,(t,o,p,g,v,y)=>{const k=t._row||t,S=h(k);if(f[S])return;const T=v&&v._row?v._row:v,E=T?h(T):"";if(l||!T||c[E]&&e.isTreeExpandByRow(T)){const t=b(k),l={_row:k,_level:y.length-1,_hasChild:t,_expand:t&&e.isTreeExpandByRow(k)};r.forEach((t,r)=>{let i="";const c=t.editRender||t.cellRender;let p=t.exportMethod||m.exportMethod;if(!p&&c&&c.name){const e=ur.get(c.name);e&&(p=e.tableExportMethod||e.exportMethod)}if(p||(p=m.exportMethod),p)i=p({$table:e,row:k,column:t,options:n});else switch(t.type){case"seq":{const e=g.map((e,t)=>t%2===0?Number(e)+1:".").join("");i="all"===s?e:x(e,k,o,t,r);break}case"checkbox":i=w(e.isCheckedByCheckboxRow(k)),l._checkboxLabel=d.labelField?a().get(k,d.labelField):"",l._checkboxDisabled=d.checkMethod&&!d.checkMethod({$table:e,row:k});break;case"radio":i=w(e.isCheckedByRadioRow(k)),l._radioLabel=u.labelField?a().get(k,u.labelField):"",l._radioDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:k});break;default:if(n.original)i=Qe(k,t);else if(i=e.getCellLabel(k,t),"html"===t.type)dr.innerHTML=i,i=dr.innerText.trim();else{const n=e.getCellElement(k,t);n&&!pe(n,"is--progress")&&(i=n.innerText.trim())}}l[t.id]=C(i)}),f[S]=!0,E&&(c[E]=!0),i.push(Object.assign(l,k))}},{children:t}),i}return o.map((t,o)=>{const i={_row:t};return r.forEach((r,l)=>{let c="";const p=r.editRender||r.cellRender;let f=r.exportMethod||m.exportMethod;if(!f&&p&&p.name){const e=ur.get(p.name);e&&(f=e.tableExportMethod||e.exportMethod)}if(f)c=f({$table:e,row:t,column:r,options:n});else switch(r.type){case"seq":{const e=o+1;c="all"===s?e:x(e,t,o,r,l);break}case"checkbox":c=w(e.isCheckedByCheckboxRow(t)),i._checkboxLabel=d.labelField?a().get(t,d.labelField):"",i._checkboxDisabled=d.checkMethod&&!d.checkMethod({$table:e,row:t});break;case"radio":c=w(e.isCheckedByRadioRow(t)),i._radioLabel=u.labelField?a().get(t,u.labelField):"",i._radioDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:t});break;default:if(n.original)c=Qe(t,r);else if(c=e.getCellLabel(t,r),"html"===r.type)dr.innerHTML=c,c=dr.innerText.trim();else{const n=e.getCellElement(t,r);n&&!pe(n,"is--progress")&&(c=n.innerText.trim())}}i[r.id]=C(c)}),i})},S=t=>{const n=e.xeGrid,r=e.xeGantt,{columns:o,dataFilterMethod:i}=t;let a=t.data;return i&&(a=a.filter((t,o)=>i({$table:e,$grid:n,$gantt:r,row:t,$rowIndex:o}))),k(t,o,a)},T=(t,n,r)=>{const o=v.value,i=r.editRender||r.cellRender;let l=r.footerExportMethod;if(!l&&i&&i.name){const e=ur.get(i.name);e&&(l=e.tableFooterExportMethod||e.footerExportMethod)}l||(l=o.footerExportMethod);const s=e.getVTColumnIndex(r);return l?l({$table:e,items:n,itemIndex:s,row:n,_columnIndex:s,column:r,options:t}):a().isArray(n)?a().toValueString(n[s]):a().get(n,r.field)},E=(e,t,r,o)=>{let i=pr;if(t.isHeader&&(i+=r.map(e=>wr(y(t,e))).join(",")+fr),o.forEach(e=>{i+=r.map(t=>wr(yr(t,e[t.id]))).join(",")+fr}),t.isFooter){const{footerTableData:o}=n,a=xr(e,t,o);a.forEach(e=>{i+=r.map(n=>wr(T(t,e,n))).join(",")+fr})}return i},O=(e,t,r,o)=>{let i="";if(t.isHeader&&(i+=r.map(e=>wr(y(t,e))).join("\t")+fr),o.forEach(e=>{i+=r.map(t=>wr(e[t.id])).join("\t")+fr}),t.isFooter){const{footerTableData:o}=n,a=xr(e,t,o);a.forEach(e=>{i+=r.map(n=>wr(T(t,e,n))).join("\t")+fr})}return i},D=(e,t,r)=>{const o=e[t],i=a().isUndefined(o)||a().isNull(o)?r:o,l="ellipsis"===i,s="title"===i,c=!0===i||"tooltip"===i;let u=s||c||l;const{scrollXLoad:d,scrollYLoad:p}=n;return!d&&!p||u||(u=!0),u},A=(o,l,s)=>{const{id:c,border:u,treeConfig:d,headerAlign:p,align:f,footerAlign:h,showOverflow:g,showHeaderOverflow:v}=t,{isAllSelected:b,isIndeterminate:x}=n,{mergeBodyCellMaps:w}=r,C=i.value,{print:k,isHeader:S,isFooter:E,isColgroup:O,isMerge:A,colgroups:M,original:I}=o,N="check-all",R=["vxe-table",`border--${vr(u)}`,k?"is--print":"",S?"is--header":""].filter(e=>e),F=[`<table class="${R.join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${l.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];if(S&&(F.push("<thead>"),O&&!I?M.forEach(e=>{F.push(`<tr>${e.map(e=>{const t=e.headerAlign||e.align||p||f,n=D(e,"showHeaderOverflow",v)?["col--ellipsis"]:[],r=y(o,e);let i=0,l=0;a().eachTree([e],t=>{t.childNodes&&e.childNodes.length||l++,i+=t.renderWidth},{children:"childNodes"});const s=i-l;return t&&n.push(`col--${t}`),"checkbox"===e.type?`<th class="${n.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${k?"":`style="width: ${s}px"`}><input type="checkbox" class="${N}" ${b?"checked":""}><span>${r}</span></div></th>`:`<th class="${n.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${r}"><div ${k?"":`style="width: ${s}px"`}><span>${m(r,!0)}</span></div></th>`}).join("")}</tr>`)}):F.push(`<tr>${l.map(e=>{const t=e.headerAlign||e.align||p||f,n=D(e,"showHeaderOverflow",v)?["col--ellipsis"]:[],r=y(o,e);return t&&n.push(`col--${t}`),"checkbox"===e.type?`<th class="${n.join(" ")}"><div ${k?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${N}" ${b?"checked":""}><span>${r}</span></div></th>`:`<th class="${n.join(" ")}" title="${r}"><div ${k?"":`style="width: ${e.renderWidth}px"`}><span>${m(r,!0)}</span></div></th>`}).join("")}</tr>`),F.push("</thead>")),s.length&&(F.push("<tbody>"),d?s.forEach(e=>{F.push("<tr>"+l.map(t=>{const n=t.id,r=t.align||f,o=D(t,"showOverflow",g)?["col--ellipsis"]:[],i=e[n];if(r&&o.push(`col--${r}`),t.treeNode){let n="";return e._hasChild&&(n=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),o.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${c}" ${e._radioDisabled?"disabled ":""}${br(i)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${br(i)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell">${i}</div></div></div></td>`}return"radio"===t.type?`<td class="${o.join(" ")}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${c}" ${e._radioDisabled?"disabled ":""}${br(i)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${br(i)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}>${m(i,!0)}</div></td>`}).join("")+"</tr>")}):s.forEach(t=>{F.push("<tr>"+l.map(n=>{const r=n.align||f,o=D(n,"showOverflow",g)?["col--ellipsis"]:[],i=t[n.id];let a=1,l=1;if(A){const r=e.getVTRowIndex(t._row),o=e.getVTColumnIndex(n),i=w[`${r}:${o}`];if(i){const{rowspan:e,colspan:t}=i;if(!e||!t)return"";e>1&&(a=e),t>1&&(l=t)}}return r&&o.push(`col--${r}`),"radio"===n.type?`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}"><div ${k?"":`style="width: ${n.renderWidth}px"`}><input type="radio" name="radio_${c}" ${t._radioDisabled?"disabled ":""}${br(i)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===n.type?`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}"><div ${k?"":`style="width: ${n.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${br(i)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}" title="${i}"><div ${k?"":`style="width: ${n.renderWidth}px"`}>${m(i,!0)}</div></td>`}).join("")+"</tr>")}),F.push("</tbody>")),E){const{footerTableData:t}=n,r=xr(e,o,t);r.length&&(F.push("<tfoot>"),r.forEach(e=>{F.push(`<tr>${l.map(t=>{const n=t.footerAlign||t.align||h||f,r=D(t,"showOverflow",g)?["col--ellipsis"]:[],i=T(o,e,t);return n&&r.push(`col--${n}`),`<td class="${r.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}>${m(i,!0)}</div></td>`}).join("")}</tr>`)}),F.push("</tfoot>"))}const _=!b&&x?`<script>(function(){var a=document.querySelector(".${N}");if(a){a.indeterminate=true}})()<\/script>`:"";return F.push("</table>",_),k?F.join(""):lr(o,F.join(""))},M=(t,r,o)=>{let i=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${t.sheetName}">`,"<Table>",r.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");if(t.isHeader&&(i+=`<Row>${r.map(e=>`<Cell><Data ss:Type="String">${y(t,e)}</Data></Cell>`).join("")}</Row>`),o.forEach(e=>{i+="<Row>"+r.map(t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`).join("")+"</Row>"}),t.isFooter){const{footerTableData:o}=n,a=xr(e,t,o);a.forEach(e=>{i+=`<Row>${r.map(n=>`<Cell><Data ss:Type="String">${T(t,e,n)}</Data></Cell>`).join("")}</Row>`})}return`${i}</Table></Worksheet></Workbook>`},I=(e,t,n,r)=>{if(n.length)switch(t.type){case"csv":return E(e,t,n,r);case"txt":return O(e,t,n,r);case"html":return A(t,n,r);case"xml":return M(t,n,r)}return""},N=(e,t)=>{const{filename:n,type:r,download:i}=e;if(!i){const n=ar(t,e);return Promise.resolve({type:r,content:t,blob:n})}o.OE.saveFile&&o.OE.saveFile({filename:n,type:r,content:t}).then(()=>{!1!==e.message&&o.OE.modal&&o.OE.modal.message({content:sr("vxe.table.expSuccess"),status:"success"})})},R=t=>{const n=e.xeGrid,r=e.xeGantt,{remote:o,columns:i,colgroups:a,exportMethod:l,afterExportMethod:s}=t;return new Promise(s=>{if(o){const o={options:t,$table:e,$grid:n,$gantt:r};s(l?l(o):o)}else{const n=S(t);s(e.preventEvent(null,"event.export",{options:t,columns:i,colgroups:a,datas:n},()=>N(t,I(e,t,i,n))))}}).then(o=>(Nr(i),t.print||s&&s({status:!0,options:t,$table:e,$grid:n,$gantt:r}),Object.assign({status:!0},o))).catch(()=>{Nr(i),t.print||s&&s({status:!1,options:t,$table:e,$grid:n,$gantt:r});const o={status:!1};return Promise.reject(o)})},F=(t,n)=>{const{tableFullColumn:i,_importResolve:a,_importReject:l}=r;let s={fields:[],rows:[]};const c={},u={};i.forEach(e=>{const t=e.field,n=e.getTitle();t&&(c[t]=e),n&&(u[e.getTitle()]=e)});const d={fieldMaps:c,titleMaps:u};switch(n.type){case"csv":s=Dr(d,t);break;case"txt":s=Ar(d,t);break;case"html":s=Mr(d,t);break;case"xml":s=Ir(d,t);break}const{fields:p,rows:f}=s,h=p.some(e=>c[e]||u[e]);h?e.createData(f).then(t=>{let r;return"insert"!==n.mode&&"insertBottom"!==n.mode||(r=e.insertAt(t,-1)),r="insertTop"===n.mode?e.insert(t):e.reloadData(t),!1!==n.message&&o.OE.modal&&o.OE.modal.message({content:sr("vxe.table.impSuccess",[f.length]),status:"success"}),r.then(()=>{a&&a({status:!0})})}):!1!==n.message&&(o.OE.modal&&o.OE.modal.message({content:sr("vxe.error.impFields"),status:"error"}),l&&l({status:!1}))},_=(t,n)=>{const{importMethod:i,afterImportMethod:l}=n,{type:s,filename:d}=u(t),p=c.value;if(!i&&!a().includes(a().keys(p._typeMaps),s)){!1!==n.message&&o.OE.modal&&o.OE.modal.message({content:sr("vxe.error.notType",[s]),status:"error"});const e={status:!1};return Promise.reject(e)}const f=new Promise((o,a)=>{const l=e=>{o(e),r._importResolve=null,r._importReject=null},c=e=>{a(e),r._importResolve=null,r._importReject=null};if(r._importResolve=l,r._importReject=c,window.FileReader){const o=Object.assign({mode:"insertTop"},n,{type:s,filename:d});if(o.remote)i?Promise.resolve(i({file:t,options:o,$table:e})).then(()=>{l({status:!0})}).catch(()=>{l({status:!0})}):l({status:!0});else{const{tableFullColumn:n}=r;e.preventEvent(null,"event.import",{file:t,options:o,columns:n},()=>{const e=new FileReader;e.onerror=()=>{ee("vxe.error.notType",[s]),c({status:!1})},e.onload=e=>{F(e.target.result,o)},e.readAsText(t,o.encoding||"UTF-8")})}}else ee("vxe.error.notExp"),l({status:!0})});return f.then(()=>{l&&l({status:!0,options:n,$table:e})}).catch(t=>(l&&l({status:!1,options:n,$table:e}),Promise.reject(t)))},P=(e,t,n)=>n.some(e=>{if(ot(e))return t.id===e.id;if(a().isString(e))return t.field===e;{const n=e.id||e.colId,r=e.type,o=e.field;if(n)return t.id===n;if(o&&r)return t.field===o&&t.type===r;if(o)return t.field===o;if(r)return t.type===r}return!1}),j=(e,t,n,r)=>(!r||!a().includes(r,t.field))&&(n?!!a().includes(n,t.field):e.original?!!t.field:hr(t)),L=(o,i)=>{const l=e.xeGrid,c=e.xeGantt,u=l||c,{treeConfig:p,showHeader:f,showFooter:h}=t,{initStore:m,isGroup:g,footerTableData:v,exportStore:b,exportParams:x}=n,{collectColumn:y,mergeBodyList:w,mergeFooterList:C}=r,k=s.value,S=p,T=d.value,E=e.getCheckboxRecords(),O=u?u.getComputeMaps().computeProxyOpts.value:{},D=!!v.length,A=!(!w.length&&!C.length),M=Object.assign({message:!0,isHeader:f,isTitle:f,isFooter:h,isColgroup:g,isMerge:A,useStyle:!0,current:"current",modes:(O.ajax&&O.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},o),I=M.types||a().keys(k._typeMaps),N=M.modes||[],R=T.checkMethod,F=y.slice(0),{columns:_,excludeFields:L,includeFields:$}=M,z=I.map(e=>({value:e,label:sr(`vxe.export.types.${e}`)})),V=N.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:sr(`vxe.export.modes.${e}`)});a().eachTree(F,(t,n,r,o,i)=>{const a=t.children&&t.children.length>0;let l=!1;l=_&&_.length?P(M,t,_):L||$?j(M,t,$,L):t.visible&&(a||hr(t)),t.checked=l,t.halfChecked=!1,t.disabled=i&&i.disabled||!!R&&!R({$table:e,column:t})}),Object.assign(b,{columns:F,typeList:z,modeList:V,hasFooter:D,hasMerge:A,hasTree:S,isPrint:i,hasColgroup:g,visible:!0}),Object.assign(x,{mode:E.length?"selected":"current"},M);const{filename:B,sheetName:H,mode:W,type:q}=x;return B&&(a().isFunction(B)?x.filename=B({options:M,$table:e,$grid:l,$gantt:c}):x.filename=`${B}`),H&&(a().isFunction(H)?x.sheetName=H({options:M,$table:e,$grid:l,$gantt:c}):x.sheetName=`${H}`),V.some(e=>e.value===W)||(x.mode=V[0].value),z.some(e=>e.value===q)||(x.type=z[0].value),m.export=!0,(0,K.nextTick)()},$=()=>o.OE.modal?o.OE.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),z={exportData(o){const l=e.xeGrid,c=e.xeGantt,u=l||c,{treeConfig:d,showHeader:p,showFooter:f}=t,{isGroup:h}=n,{tableFullColumn:m,afterFullData:g,afterTreeFullData:v,collectColumn:b,mergeBodyList:x,mergeFooterList:y}=r,w=s.value,C=i.value,k=u?u.getComputeMaps().computeProxyOpts.value:{},S=!(!x.length&&!y.length),T=Object.assign({message:!0,isHeader:p,isTitle:p,isFooter:f,isColgroup:h,isMerge:S,useStyle:!0,current:"current",modes:(k.ajax&&k.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},w,o);let{filename:E,sheetName:O,type:D,mode:A,columns:M,original:I,columnFilterMethod:N,beforeExportMethod:F,includeFields:_,excludeFields:L}=T,$=[];const z=e.getCheckboxRecords();A||(A=z.length?"selected":"current");let V=!1,B=[];M&&M.length?(V=!0,B=M):B=a().searchTree(b,e=>{const t=e.children&&e.children.length>0;let n=!1;return n=M&&M.length?P(T,e,M):L||_?j(T,e,_,L):e.visible&&(t||hr(e)),n},{children:"children",mapChildren:"childNodes",original:!0});const H=Object.assign({},T,{filename:"",sheetName:""});V||N||(N=({column:e})=>(!L||!a().includes(L,e.field))&&(_?!!a().includes(_,e.field):I?!!e.field:hr(e)),H.columnFilterMethod=N),B?(H._isCustomColumn=!0,$=a().searchTree(a().mapTree(B,t=>{let n;if(t){if(ot(t))n=t;else if(a().isString(t))n=e.getColumnByField(t);else{const r=t.id||t.colId,o=t.type,i=t.field;r?n=e.getColumnById(r):i&&o?n=m.find(e=>e.field===i&&e.type===o):i?n=e.getColumnByField(i):o&&(n=m.find(e=>e.type===o))}return n||{}}},{children:"childNodes",mapChildren:"_children"}),(t,n)=>ot(t)&&(!N||N({$table:e,$grid:l,$gantt:c,column:t,$columnIndex:n})),{children:"_children",mapChildren:"childNodes",original:!0})):$=a().searchTree(h?b:m,(t,n)=>t.visible&&(!N||N({$table:e,$grid:l,$gantt:c,column:t,$columnIndex:n})),{children:"children",mapChildren:"childNodes",original:!0});const W=[];if(a().eachTree($,e=>{const t=e.children&&e.children.length;t||W.push(e)},{children:"childNodes"}),H.columns=W,H.colgroups=gr($),E&&(a().isFunction(E)?H.filename=E({options:T,$table:e,$grid:l,$gantt:c}):H.filename=`${E}`),H.filename||(H.filename=sr(H.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[a().toDateString(Date.now(),"yyyyMMddHHmmss")])),O&&(a().isFunction(O)?H.sheetName=O({options:T,$table:e,$grid:l,$gantt:c}):H.sheetName=`${O}`),H.sheetName||(H.sheetName=document.title||""),!H.exportMethod&&!a().includes(a().keys(w._typeMaps),D)){ee("vxe.error.notType",[D]),["xlsx","pdf"].includes(D)&&Q("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const e={status:!1};return Promise.reject(e)}if(H.print||F&&F({options:H,$table:e,$grid:l,$gantt:c}),H.data)H._isCustomData=!0;else{if(H.data=[],"selected"===A)["html","pdf"].indexOf(D)>-1&&d?H.data=a().searchTree(e.getTableData().fullData,t=>e.findRowIndexOf(z,t)>-1,Object.assign({},C,{data:"_row"})):H.data=z;else if("all"===A&&(u||ee("vxe.error.errProp",["all","mode=current,selected"]),u&&!H.remote)){const t=u.reactData,{computeProxyOpts:n}=u.getComputeMaps(),r=n.value,{sortData:o}=t,{beforeQueryAll:i,afterQueryAll:s,ajax:d={}}=r,p=r.response||r.props||{},f=d.queryAll,h=d.queryAllSuccess,m=d.queryAllError;if(f||ee("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),f){const n={$table:e,$grid:l,$gantt:c,sort:o.length?o[0]:{},sorts:o,filters:t.filterData,form:t.formData,options:H};return Promise.resolve((i||f)(n)).then(t=>{const r=p.list;return H.data=(r?a().isFunction(r)?r({data:t,$table:e,$grid:l,$gantt:c}):a().get(t,r):t)||[],s&&s(n),h&&h(Object.assign(Object.assign({},n),{response:t})),R(H)}).catch(e=>{m&&m(Object.assign(Object.assign({},n),{response:e}))})}}"current"===A&&(H.data=d?v:g)}return R(H)},importByFile(t,n){const r=Object.assign({},n),{beforeImportMethod:o}=r;return o&&o({options:r,$table:e}),_(t,r)},importData(t){const n=c.value,r=Object.assign({types:a().keys(n._typeMaps)},n,t),{beforeImportMethod:i,afterImportMethod:l}=r;return i&&i({options:r,$table:e}),o.OE.readFile(r).catch(t=>(l&&l({status:!1,options:r,$table:e}),Promise.reject(t))).then(e=>{const{file:t}=e;return _(t,r)})},saveFile(e){return o.OE.saveFile(e)},readFile(e){return o.OE.readFile(e)},print(t){const n=e.xeGrid,r=e.xeGantt,i=l.value,s=Object.assign({original:!1},i,t,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:c}=s;let u="";c&&(u=a().isFunction(c)?c({options:s,$table:e,$grid:n,$gantt:r}):`${c}`),u||(u=document.title||"");const d=s.beforePrintMethod,p=s.html||s.content;return new Promise((t,i)=>{if(o.OE.print)t(p?o.OE.print({title:u,html:p,customStyle:s.style,beforeMethod:d?({html:t})=>d({html:t,content:t,options:s,$table:e,$grid:n,$gantt:r}):void 0}):z.exportData(s).then(({content:t})=>o.OE.print({title:u,html:t,customStyle:s.style,beforeMethod:d?({html:t})=>d({html:t,content:t,options:s,$table:e,$grid:n,$gantt:r}):void 0})));else{const e={status:!1};i(e)}})},getPrintHtml(t){const n=l.value,r=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(r).then(({content:e})=>({html:e}))},closeImport(){return o.OE.modal?o.OE.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(e){const{treeConfig:r,importConfig:i}=t,{initStore:l,importStore:s,importParams:u}=n,d=c.value,p=Object.assign({mode:"insertTop",message:!0,types:a().keys(d._typeMaps),modes:["insertTop","covering"]},d,e),f=p.types||[],h=p.modes||[],m=!!r;if(m)return void(p.message&&o.OE.modal&&o.OE.modal.message({content:sr("vxe.error.treeNotImp"),status:"error"}));i||ee("vxe.error.reqProp",["import-config"]);const g=f.map(e=>({value:e,label:sr(`vxe.export.types.${e}`)})),v=h.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:sr(`vxe.import.modes.${e}`)});Object.assign(s,{file:null,type:"",filename:"",modeList:v,typeList:g,visible:!0}),Object.assign(u,p),v.some(e=>e.value===u.mode)||(u.mode=v[0].value),l.import=!0},closeExport:$,openExport(e){const n=s.value,r=Object.assign({message:!0,types:a().keys(n._typeMaps)},n,e);return t.exportConfig||ee("vxe.error.reqProp",["export-config"]),L(r)},closePrint:$,openPrint(e){const n=l.value,r=Object.assign({message:!0},n,e);return t.printConfig||ee("vxe.error.reqProp",["print-config"]),L(r,!0)}};return z},setupGrid(e){return e.extendTableMethods(Rr)},setupGantt(e){return e.extendTableMethods(Rr)}});const{hooks:Fr}=o.OE,_r=a().browse();function Pr(e,t){let n=0,r=0;const o=!_r.firefox&&pe(e,"vxe-checkbox--label");if(o){const t=getComputedStyle(e);n-=a().toNumber(t.paddingTop),r-=a().toNumber(t.paddingLeft)}while(e&&e!==t)if(n+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent,o){const t=getComputedStyle(e);n-=a().toNumber(t.paddingTop),r-=a().toNumber(t.paddingLeft)}return{offsetTop:n,offsetLeft:r}}Fr.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refElem:o}=e.getRefMaps(),{computeEditOpts:i,computeCheckboxOpts:l,computeMouseOpts:s,computeTreeOpts:c,computeRowOpts:u,computeColumnOpts:d,computeCellOpts:p,computeDefaultRowHeight:f,computeCurrentRowOpts:h,computeCurrentColumnOpts:m}=e.getComputeMaps();function g(o,i,a,l,s,c){const{showOverflow:d}=t,{fullAllDataRowIdData:h,isResizeCellHeight:m}=r,g=u.value,v=p.value,b=f.value,{row:x}=i;let y=0,w=[],C=0;const k=c>0,{scrollYLoad:S}=n,{afterFullData:T}=r;if(C=k?s+c:l.height-s+Math.abs(c),S){const t=e.getVTRowIndex(x),n=m||v.height||g.height;if(!n&&d)w=k?T.slice(t,t+Math.ceil(C/b)):T.slice(t-Math.floor(C/b),t+1);else if(k)for(let r=t;r<T.length;r++){const t=T[r],n=e.getRowid(t),o=h[n]||{};if(y+=o.resizeHeight||v.height||g.height||o.height||b,w.push(t),y>C)return w}else for(let r=t;r>=0;r--){const t=T[r],n=e.getRowid(t),o=h[n]||{};if(y+=o.resizeHeight||v.height||g.height||o.height||b,w.push(t),y>C)return w}}else{const t=k?"next":"previous";while(a&&y<C){const n=e.getRowNode(a);n&&(w.push(n.item),y+=a.offsetHeight,a=a[`${t}ElementSibling`])}}return w}const v=(t,n)=>{const{elemStore:i}=r,a=tt(i["main-body-scroll"]),l=tt(i["left-body-scroll"]),s=tt(i["right-body-scroll"]),{column:c,cell:u}=n;if("checkbox"===c.type){let r=a;if(l&&"left"===c.fixed?r=l:s&&"right"===c.fixed&&(r=s),!r)return;const i=o.value,d=t.clientX,p=t.clientY,f=r.querySelector(".vxe-table--checkbox-range"),h=u.parentElement,m=e.getCheckboxRecords();let v=[];const b=1,x=Pr(t.target,r),y=x.offsetTop+t.offsetY,w=x.offsetLeft+t.offsetX,C=r.scrollTop,k=h.offsetHeight,S=h.getBoundingClientRect(),T=p-S.y;let E=null,O=!1,D=1;const A=(t,n)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},n)},M=t=>{const{clientX:o,clientY:i}=t,a=o-d,l=i-p+(r.scrollTop-C);let s=Math.abs(l),c=Math.abs(a),u=y,x=w;l<b?(u+=l,u<b&&(u=b,s=y)):s=Math.min(s,r.scrollHeight-y-b),a<b?(x+=a,c>w&&(x=b,c=w)):c=Math.min(c,r.clientWidth-w-b),f.style.height=`${s}px`,f.style.width=`${c}px`,f.style.left=`${x}px`,f.style.top=`${u}px`,f.style.display="block";const k=g(t,n,h,S,T,l<b?-s:s);if(s>10&&k.length!==v.length){const n=me(t);v=k,n?k.forEach(t=>{e.handleBatchSelectRows([t],-1===m.indexOf(t))}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(k,!0,!1)),A("change",t)}},I=()=>{clearTimeout(E),E=null},N=t=>{I(),E=setTimeout(()=>{if(E){const{scrollLeft:n,scrollTop:o,clientHeight:i,scrollHeight:a}=r,l=Math.ceil(50*D/k);O?o+i<a?(e.scrollTo(n,o+l),N(t),M(t)):I():o?(e.scrollTo(n,o-l),N(t),M(t)):I()}},50)};he(i,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:n}=Te(r);t<n?(O=!1,D=n-t,E||N(e)):t>n+r.clientHeight?(O=!0,D=t-n-r.clientHeight,E||N(e)):E&&I(),M(e)},document.onmouseup=e=>{I(),fe(i,"drag--range"),f.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,A("end",e)},A("start",t)}},b=(n,r)=>{const{editConfig:o,checkboxConfig:a,mouseConfig:c}=t,u=l.value,d=s.value,p=i.value;if(c&&d.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(n,r);a&&u.range&&v(n,r),c&&d.selected&&(o&&"cell"!==p.mode||e.handleSelected(r,n))},x=(t,n,o,i,a,l)=>{const{afterFullData:s,visibleColumn:c}=r,u=Object.assign({},n),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);return t.preventDefault(),i&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):l&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):o&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):a&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then(()=>{u.cell=e.getCellElement(u.row,u.column),e.handleSelected(u,t)}),u},y={moveTabSelected(n,o,a){const{editConfig:l}=t,{afterFullData:s,visibleColumn:c}=r,p=i.value,f=u.value,g=h.value,v=d.value,b=m.value;let x,y,w;const C=Object.assign({},n),k=e.getVTRowIndex(C.row),S=e.getVTColumnIndex(C.column);a.preventDefault(),o?S<=0?k>0&&(y=k-1,x=s[y],w=c.length-1):w=S-1:S>=c.length-1?k<s.length-1&&(y=k+1,x=s[y],w=0):w=S+1;const T=c[w];T&&(x?(C.rowIndex=y,C.row=x):C.rowIndex=k,C.columnIndex=w,C.column=T,C.cell=e.getCellElement(C.row,C.column),f.isCurrent&&g.isFollowSelected&&e.triggerCurrentRowEvent(a,C),v.isCurrent&&b.isFollowSelected&&e.triggerCurrentColumnEvent(a,C),l?"click"!==p.trigger&&"dblclick"!==p.trigger||("row"===p.mode?e.handleEdit(C,a):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)})):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)}))},moveCurrentRow(o,i,l){const{treeConfig:s}=t,{currentRow:u}=n,{afterFullData:d}=r,p=c.value,f=p.children||p.childrenField;let h;if(u)if(s){const{index:e,items:t}=a().findTree(d,e=>e===u,{children:f});o&&e>0?h=t[e-1]:i&&e<t.length-1&&(h=t[e+1])}else{const t=e.getVTRowIndex(u);o&&t>0?h=d[t-1]:i&&t<d.length-1&&(h=d[t+1])}else h=d[0];if(h){l.preventDefault();const t={$table:e,row:h,rowIndex:e.getRowIndex(h),$rowIndex:e.getVMRowIndex(h)};e.scrollToRow(h).then(()=>e.triggerCurrentRowEvent(l,t))}},moveCurrentColumn(t,o,i){const{currentColumn:a}=n,{visibleColumn:l}=r;let s=null;if(a){const n=e.getVTColumnIndex(a);t&&n>0?s=l[n-1]:o&&n<l.length-1&&(s=l[n+1])}else s=l[0];if(s){i.preventDefault();const t={$table:e,column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)};e.scrollToColumn(s).then(()=>e.triggerCurrentColumnEvent(i,t))}},moveArrowSelected(n,r,o,i,a,l){const{highlightCurrentRow:s,highlightCurrentColumn:c}=t,p=u.value,f=h.value,g=d.value,v=m.value,b=x(l,n,r,o,i,a);(p.isCurrent||s)&&(f.isFollowSelected?e.triggerCurrentRowEvent(l,b):(o||a)&&(p.isCurrent||s)&&e.moveCurrentRow(o,a,l)),(g.isCurrent||c)&&(v.isFollowSelected?e.triggerCurrentColumnEvent(l,b):(r||i)&&(g.isCurrent||c)&&e.moveCurrentColumn(r,i,l))},moveEnterSelected(n,r,o,i,a,l){const{highlightCurrentRow:s,highlightCurrentColumn:c}=t,p=u.value,f=h.value,g=d.value,v=m.value,b=x(l,n,r,o,i,a);(p.isCurrent||s)&&f.isFollowSelected&&e.triggerCurrentRowEvent(l,b),(g.isCurrent||c)&&v.isFollowSelected&&e.triggerCurrentColumnEvent(l,b)},moveSelected(e,t,n,r,o,i){x(i,e,t,n,r,o)},handleCellMousedownEvent:b};return y}});const{getConfig:jr,validators:Lr,hooks:$r}=o.OE;class zr{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return h(this.$options.content||this.$options.message)}get message(){return this.content}}function Vr(e,t){return!(e&&!(a().isRegExp(e)?e:new RegExp(e)).test(t))}function Br(e,t){return!(!a().eqNull(e)&&t>a().toNumber(e))}function Hr(e,t){return!(!a().eqNull(e)&&t<a().toNumber(e))}function Wr(e,t,n){const{type:r,min:o,max:i,pattern:l}=e,s="array"===r,c="number"===r,u="string"===r,d=`${t}`;if(!Vr(l,d))return!1;if(s){if(!a().isArray(t))return!1;if(n&&!t.length)return!1;if(!Hr(o,t.length))return!1;if(!Br(i,t.length))return!1}else if(c){const e=Number(t);if(isNaN(e))return!1;if(!Hr(o,e))return!1;if(!Br(i,e))return!1}else{if(u&&!a().isString(t))return!1;if(n&&!d)return!1;if(!Hr(o,d.length))return!1;if(!Br(i,d.length))return!1}return!0}function qr(e,t){const{required:n}=e,r=a().isArray(t)?!t.length:g(t);if(n){if(r)return!1;if(!Wr(e,t,n))return!1}else if(!r&&!Wr(e,t,n))return!1;return!0}const Ur=["fullValidate","validate","fullValidateField","validateField","clearValidate"];$r.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refValidTooltip:o}=e.getRefMaps(),{computeValidOpts:i,computeTreeOpts:l,computeEditOpts:s,computeAggregateOpts:c}=e.getComputeMaps();let u,d={},p={};const f=t=>new Promise(n=>{const r=i.value;!1===r.autoPos?(e.dispatchEvent("valid-error",t,null),n()):e.handleEdit(t,{type:"valid-error",trigger:"call"}).then(()=>{n(p.showValidTooltip(t))})}),h=e=>{const t=i.value;if("single"===t.msgMode){const t=Object.keys(e),n={};if(t.length){const r=t[0];n[r]=e[r]}return n}return e},m=(o,s,m,g)=>{const v={},{editRules:b,treeConfig:x}=t,{isRowGroupStatus:y}=n,{afterFullData:w,pendingRowMaps:C,removeRowMaps:k}=r,S=l.value,T=c.value,E=i.value;let O;!0===o?O=w:o&&(a().isFunction(o)?m=o:O=a().isArray(o)?o:[o]),O||(O=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const D=[];r._lastCallTime=Date.now(),u=!1,d.clearValidate();const A={};if(b){const t=s&&s.length?s:e.getColumns(),r=n=>{const r=Le(e,n);if(!k[r]&&!C[r]&&!e.isAggregateRecord(n)&&(g||!u)){const r=[];t.forEach(t=>{const o=a().isString(t)?t:t.field;!g&&u||!a().has(b,o)||r.push(p.validCellRules("all",n,t).catch(({rule:r,rules:i})=>{const a={rule:r,rules:i,rowIndex:e.getRowIndex(n),row:n,columnIndex:e.getColumnIndex(t),column:t,field:o,$table:e};if(v[o]||(v[o]=[]),A[`${Le(e,n)}:${t.id}`]={column:t,row:n,rule:r,content:r.content},v[o].push(a),!g)return u=!0,Promise.reject(a)}))}),D.push(Promise.all(r))}};if(y)a().eachTree(O,r,{children:T.mapChildrenField});else if(x){const e=S.children||S.childrenField;a().eachTree(O,r,{children:e})}else O.forEach(r);return Promise.all(D).then(()=>{const e=Object.keys(v);return n.validErrorMaps=h(A),(0,K.nextTick)().then(()=>{if(e.length)return Promise.reject(v[e[0]][0]);m&&m()})}).catch(t=>new Promise((n,r)=>{const o=()=>{(0,K.nextTick)(()=>{m?(m(v),n()):"obsolete"===jr().validToReject?r(v):n(v)})},i=()=>{t.cell=e.getCellElement(t.row,t.column),De(t.cell),f(t).then(o)};if(!1===E.autoPos)o();else{const n=t.row,r=t.column;e.scrollToRow(n,r).then(i)}}))}return n.validErrorMaps={},(0,K.nextTick)().then(()=>{m&&m()})};return d={fullValidate(e,t){return a().isFunction(t)&&Q("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),m(e,null,t,!0)},validate(e,t){return m(e,null,t)},fullValidateField(t,n){const r=(a().isArray(n)?n:n?[n]:[]).map(t=>Ue(e,t));return r.length?m(t,r,null,!0):(0,K.nextTick)()},validateField(t,n){const r=(a().isArray(n)?n:n?[n]:[]).map(t=>Ue(e,t));return r.length?m(t,r,null):(0,K.nextTick)()},clearValidate(t,r){const{validErrorMaps:l}=n,s=o.value,c=i.value,u=a().isArray(t)?t:t?[t]:[],d=(a().isArray(r)?r:r?[r]:[]).map(t=>Ue(e,t));let p={};if(s&&s.reactData.visible&&s.close(),"single"===c.msgMode)return n.validErrorMaps={},(0,K.nextTick)();if(u.length&&d.length)p=Object.assign({},l),u.forEach(t=>{d.forEach(n=>{const r=`${Le(e,t)}:${n.id}`;p[r]&&delete p[r]})});else if(u.length){const t=u.map(t=>`${Le(e,t)}`);a().each(l,(e,n)=>{t.indexOf(n.split(":")[0])>-1&&(p[n]=e)})}else if(d.length){const e=d.map(e=>`${e.id}`);a().each(l,(t,n)=>{e.indexOf(n.split(":")[1])>-1&&(p[n]=t)})}return n.validErrorMaps=p,(0,K.nextTick)()}},p={validCellRules(n,r,o,i){const l=e.xeGrid,s=e.xeGantt,{editRules:c}=t,{field:d}=o,p=[],f=[];if(d&&c){const t=a().get(c,d);if(t){const c=a().isUndefined(i)?a().get(r,d):i;t.forEach(i=>{const{trigger:d,validator:h}=i;if("all"===n||!d||n===d)if(h){const n={cellValue:c,rule:i,rules:t,row:r,rowIndex:e.getRowIndex(r),column:o,columnIndex:e.getColumnIndex(o),field:o.field,$table:e,$grid:l,$gantt:s};let m;if(a().isString(h)){const e=Lr.get(h);if(e){const t=e.tableCellValidatorMethod||e.cellValidatorMethod;t?m=t(n):ee("vxe.error.notValidators",[h])}else ee("vxe.error.notValidators",[h])}else m=h(n);m&&(a().isError(m)?(u=!0,p.push(new zr({type:"custom",trigger:d,content:m.message,rule:new zr(i)}))):m.catch&&f.push(m.catch(e=>{u=!0,p.push(new zr({type:"custom",trigger:d,content:e&&e.message?e.message:i.content||i.message,rule:new zr(i)}))})))}else qr(i,c)||(u=!0,p.push(new zr(i)))})}}return Promise.all(f).then(()=>{if(p.length){const e={rules:p,rule:p[0]};return Promise.reject(e)}})},hasCellRules(e,n,r){const{editRules:o}=t,{field:i}=r;if(i&&o){const t=a().get(o,i);return t&&!!a().find(t,t=>"all"===e||!t.trigger||e===t.trigger)}return!1},triggerValidate(e){const{editConfig:r,editRules:o}=t,{editStore:a}=n,{actived:l}=a,c=s.value,u=i.value;if(o&&"single"===u.msgMode&&(n.validErrorMaps={}),r&&o&&l.row){const{row:t,column:n,cell:r}=l.args;if(p.hasCellRules(e,t,n))return p.validCellRules(e,t,n).then(()=>{"row"===c.mode&&d.clearValidate(t,n)}).catch(({rule:o})=>{if(!o.trigger||e===o.trigger){const e={rule:o,row:t,column:n,cell:r};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(r){const{height:a}=t,{tableData:l,validStore:s,validErrorMaps:c}=n,{rule:u,row:d,column:p,cell:f}=r,h=i.value,m=o.value,g=u.content;return s.visible=!0,"single"===h.msgMode?n.validErrorMaps={[`${Le(e,d)}:${p.id}`]:{column:p,row:d,rule:u,content:g}}:n.validErrorMaps=Object.assign({},c,{[`${Le(e,d)}:${p.id}`]:{column:p,row:d,rule:u,content:g}}),e.dispatchEvent("valid-error",r,null),m&&m&&("tooltip"===h.message||"default"===h.message&&!a&&l.length<2)?m.open(f,g):(0,K.nextTick)()}},Object.assign(Object.assign({},d),p)},setupGrid(e){return e.extendTableMethods(Ur)},setupGantt(e){return e.extendTableMethods(Ur)}});const Gr=["openCustom","closeCustom","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];o.OE.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:n}=e,{computeCustomOpts:r,computeRowGroupFields:o}=e.getComputeMaps(),{refElem:i}=e.getRefMaps(),l=e.xeGrid,s=e.xeGantt,c=()=>{const{customStore:e}=t;let n=i.value,r=0;if(s){const{refGanttContainerElem:e}=s.getRefMaps(),t=e.value;t&&(n=t)}n&&(r=n.clientHeight-28),e.maxHeight=Math.max(88,r)},u=()=>{const{initStore:e,customStore:n}=t;return n.visible=!0,e.custom=!0,d(),b(),c(),(0,K.nextTick)().then(()=>c())},d=()=>{const{customStore:e}=t,{collectColumn:r}=n;if(e.visible){const n={},o={},i={};a().eachTree(r,e=>{const t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,n[t]=e.renderSortNumber,o[t]=e.fixed,i[t]=e.visible}),e.oldSortMaps=n,e.oldFixedMaps=o,e.oldVisibleMaps=i,t.customColumnList=r.slice(0)}},p=()=>{const{customStore:n}=t,o=r.value;return n.visible&&(n.visible=!1,o.immediate||e.handleCustom()),(0,K.nextTick)()},f=()=>{const{customStore:e}=t;return e.visible?p():u()},h=()=>{const{customColumnList:o,aggHandleFields:i,rowGroupList:l}=t,s=r.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p,allowGroup:f,allowValues:h}=s;return a().eachTree(o,(e,t,n,r,o)=>{if(o)e.fixed=o.fixed;else{if(u){const n=t+1;e.renderSortNumber=n}d&&(e.fixed=e.renderFixed)}p&&(!e.renderVisible||e.children&&!e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth)),c&&(e.visible=e.renderVisible),f&&h&&(e.aggFunc=e.renderAggFn)}),t.isCustomStatus=!0,f&&e.handlePivotTableAggregateData&&(l.length!==i.length||l.some((e,t)=>e.field!==i[t])?i.length?e.setRowGroups(i):e.clearRowGroups():h&&e.handleUpdateAggData()),u&&(n.collectColumn=o),e.saveCustomStore("confirm")},m=()=>{const{customColumnList:e,customStore:n}=t,{oldSortMaps:o,oldFixedMaps:i,oldVisibleMaps:l}=n,s=r.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p}=s;return a().eachTree(e,e=>{const t=e.getKey(),n=!!l[t],r=i[t]||"";c&&(e.renderVisible=n,e.visible=n),d&&(e.renderFixed=r,e.fixed=r),u&&(e.renderSortNumber=o[t]||0),p&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),(0,K.nextTick)()},g=n=>{const{customStore:o}=t,{customColumnList:i}=t,l=r.value,{checkMethod:s,visibleMethod:c}=l,u=!!n;return l.immediate?(a().eachTree(i,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.visible=u,t.renderVisible=u,t.halfVisible=!1)}),o.isAll=u,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(a().eachTree(i,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.renderVisible=u,t.halfVisible=!1)}),o.isAll=u),e.checkCustomStatus(),(0,K.nextTick)()},v={getCustomVisible(){const{customStore:e}=t;return e.visible},openCustom:u,closeCustom:p,toggleCustom:f,saveCustom:h,cancelCustom:m,resetCustom(i){const{rowGroupList:l}=t,{collectColumn:s}=n,c=r.value,{checkMethod:u}=c,d=Object.assign({visible:!0,resizable:!0===i,fixed:!0===i,sort:!0===i,aggFunc:!0===i},i),p=[];if(a().eachTree(s,t=>{d.resizable&&(t.resizeWidth=0),d.fixed&&(t.fixed=t.defaultFixed),d.sort&&(t.renderSortNumber=t.sortNumber,t.parentId=t.defaultParentId),u&&!u({$table:e,column:t})||(t.visible=t.defaultVisible),d.aggFunc&&(t.aggFunc=t.defaultAggFunc,t.renderAggFn=t.defaultAggFunc),t.renderResizeWidth=t.renderWidth,p.push(t)}),d.sort){const e=a().toArrayTree(a().orderBy(p,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});n.collectColumn=e,n.tableFullColumn=it(e)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(d.aggFunc&&e.handlePivotTableAggregateData){const t=o.value;(t?t.length:l.length)?t&&t.length?e.setRowGroups(t):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:e}=t,n=!e.isAll;return g(n)},setCustomAllCheckbox:g},b=()=>{const{customStore:o}=t,{collectColumn:i}=n,a=r.value,{checkMethod:l}=a;o.isAll=i.every(t=>!!l&&!l({$table:e,column:t})||t.renderVisible),o.isIndeterminate=!o.isAll&&i.some(t=>(!l||l({$table:e,column:t}))&&(t.renderVisible||t.halfVisible))},x=(t,n)=>{const r=l||s||e;r.dispatchEvent("custom",{type:t},n)},y={checkCustomStatus:b,emitCustomEvent:x,triggerCustomEvent(t){const n=e.reactData,{customStore:r}=n;r.visible?(p(),x("close",t)):(r.btnEl=t.target,u(),x("open",t))},customOpenEvent(t){const n=e.reactData,{customStore:r}=n;r.visible||(r.activeBtn=!0,r.btnEl=t.target,e.openCustom(),e.emitCustomEvent("open",t))},customCloseEvent(t){const n=e.reactData,{customStore:r}=n;r.visible&&(r.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",t))},handleUpdateCustomColumn:d};return Object.assign(Object.assign({},v),y)},setupGrid(e){return e.extendTableMethods(Gr)},setupGantt(e){return e.extendTableMethods(Gr)}});const{getConfig:Yr,renderer:Kr,getI18n:Xr,getComponent:Zr}=o.OE,Jr="modelValue",Qr={};function eo(e,t,n){return a().eqNull(e)?a().eqNull(t)?n:t:e}function to(e,t){return e&&t.valueFormat?a().toStringDate(e,t.valueFormat):e}function no(e,t,n){const{dateConfig:r={}}=t;return a().toDateString(to(e,t),r.labelFormat||n)}function ro(e,t){return no(e,t,Xr(`vxe.input.date.labelFormat.${t.type||"date"}`))}function oo(e){return`vxe-${e.replace("$","")}`}function io({name:e}){return Zr(e)}function ao({name:e}){return(0,K.resolveComponent)(oo(e))}function lo(e,t,n){const{$panel:r}=e;r.changeOption({},t,n)}function so(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function co(e){const{name:t,immediate:n,props:r}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=r||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function uo(e,t,n,r){return a().assign({immediate:co(e)},Qr,r,e.props,{[Jr]:n})}function po(e,t,n,r){return a().assign({},Qr,r,e.props,{[Jr]:n})}function fo(e,t){return"cell"===t.$type||co(e)}function ho(e,t,n,r){const{placeholder:o}=e;return[(0,K.h)("span",{class:["vxe-cell--label",r?r.class:""]},o&&c(n)?[(0,K.h)("span",{class:"vxe-cell--placeholder"},m(h(o),1))]:m(n,1))]}function mo(e,t,n){const{events:r}=e,o=Ct(e),i=kt(e),{model:l,change:s,blur:c}=n||{},u=i===o,d={};return r&&a().objectEach(r,(e,n)=>{d[wt(n)]=function(...n){e(t,...n)}}),l&&(d[wt(o)]=function(e){l(e),u&&s&&s(e),r&&r[o]&&r[o](t,e)}),!u&&s&&(d[wt(i)]=function(e){s(e),r&&r[i]&&r[i](t,e)}),c&&(d[wt(go)]=function(e){c(e),r&&r[go]&&r[go](t,e)}),d}const go="blur";function vo(e,t,n,r){const{events:o}=e,i=Ct(e),l=kt(e),{model:s,change:c,blur:u}=n||{},d={};return a().objectEach(o,(e,n)=>{d[wt(n)]=function(...n){a().isFunction(e)||ee("vxe.error.errFunc",[e]),e(t,...n)}}),s&&(d[wt(i)]=function(e){s(e),o&&o[i]&&o[i](t,e)}),c&&(d[wt(l)]=function(...e){c(...e),o&&o[l]&&o[l](t,...e)}),u&&(d[wt(go)]=function(...e){u(...e),o&&o[go]&&o[go](t,...e)}),r?Object.assign(d,r):d}function bo(e,t){const{$table:n,row:r,column:o}=t,{name:i}=e,{model:a}=o,l=fo(e,t);return vo(e,t,{model(e){a.update=!0,a.value=e,l&&et(r,o,e)},change(e){if(!l&&i&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(i)){const r=e.value;a.update=!0,a.value=r,n.updateStatus(t,r)}else n.updateStatus(t)},blur(){l?n.handleCellRuleUpdateStatus("blur",t):n.handleCellRuleUpdateStatus("blur",t,a.value)}})}function xo(e,t,n){return vo(e,t,{model(e){n.data=e},change(){lo(t,!a().eqNull(n.data),n)},blur(){lo(t,!a().eqNull(n.data),n)}})}function yo(e,t){const{$table:n,row:r,column:o}=t,{model:i}=o;return mo(e,t,{model(n){const a=n.target;if(a){const n=a.value;fo(e,t)?et(r,o,n):(i.update=!0,i.value=n)}},change(e){const r=e.target;if(r){const e=r.value;n.updateStatus(t,e)}},blur(e){const r=e.target;if(r){const e=r.value;n.updateStatus(t,e)}}})}function wo(e,t,n){return mo(e,t,{model(e){const t=e.target;t&&(n.data=t.value)},change(){lo(t,!a().eqNull(n.data),n)},blur(){lo(t,!a().eqNull(n.data),n)}})}function Co(e,t){const{row:n,column:r}=t,{name:o}=e,i=fo(e,t)?Qe(n,r):r.model.value;return[(0,K.h)(`${o}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},so(e)),{value:i}),yo(e,t)))]}function ko(e,t){return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,null)),vo(e,t)))]}function So(e,t){const{row:n,column:r}=t,o=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,o)),bo(e,t)))]}function To(e,t){const{row:n,column:r}=t,o=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,o)),bo(e,t)))]}function Eo(e,t){const{options:n}=e,{row:r,column:o}=t,i=Qe(r,o);return[(0,K.h)(io(e),Object.assign(Object.assign({options:n},uo(e,t,i)),bo(e,t)))]}function Oo(e,t){const{row:n,column:r}=t,o=Qe(n,r);return[(0,K.h)(ao(e),Object.assign(Object.assign({},uo(e,t,o)),bo(e,t)))]}function Do(e,t){return[(0,K.h)(Zr("vxe-button"),Object.assign(Object.assign({},uo(e,t,null)),vo(e,t)))]}function Ao(e,t){const{children:n}=e;return n?n.map(e=>Do(e,t)[0]):[]}function Mo(e,t,n){const{optionGroups:r,optionGroupProps:o={}}=e,i=o.options||"options",a=o.label||"label";return r?r.map((r,o)=>(0,K.h)("optgroup",{key:o,label:r[a]},n(r[i],e,t))):[]}function Io(e,t,n){const{optionProps:r={}}=t,{row:o,column:i}=n,a=r.label||"label",l=r.value||"value",s=r.disabled||"disabled",c=fo(t,n)?Qe(o,i):i.model.value;return e?e.map((e,t)=>(0,K.h)("option",{key:t,value:e[l],disabled:e[s],selected:e[l]==c},e[a])):[]}function No(e,t){const{column:n}=t,{name:r}=e,o=so(e);return n.filters.map((n,i)=>(0,K.h)(`${r}`,Object.assign(Object.assign(Object.assign({key:i,class:`vxe-default-${r}`},o),{value:n.data}),wo(e,t,n))))}function Ro(e,t){const{column:n}=t;return n.filters.map((n,r)=>{const o=n.data;return(0,K.h)(io(e),Object.assign(Object.assign({key:r},po(e,e,o)),xo(e,t,n)))})}function Fo(e,t){const{column:n}=t;return n.filters.map((n,r)=>{const o=n.data;return(0,K.h)(ao(e),Object.assign(Object.assign({key:r},po(e,e,o)),xo(e,t,n)))})}function _o({option:e,row:t,column:n}){const{data:r}=e,o=a().get(t,n.field);return o==r}function Po({option:e,row:t,column:n}){const{data:r}=e,o=a().get(t,n.field);return a().toValueString(o).indexOf(r)>-1}function jo(e,t){return[(0,K.h)("select",Object.assign(Object.assign({class:"vxe-default-select"},so(e)),yo(e,t)),e.optionGroups?Mo(e,t,Io):Io(e.options,e,t))]}function Lo(e,t){const{row:n,column:r}=t,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l}=e,s=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,s,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l})),bo(e,t)))]}function $o(e,t){const{row:n,column:r}=t,{options:o,optionProps:i}=e,a=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,a,{options:o,optionProps:i})),bo(e,t)))]}function zo(e,t){const{row:n,column:r}=t,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l}=e,s=Qe(n,r);return[(0,K.h)(ao(e),Object.assign(Object.assign({},uo(e,t,s,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l})),bo(e,t)))]}function Vo(e,{row:t,column:n}){const{options:r,optionGroups:o,optionProps:i={},optionGroupProps:l={}}=e,s=a().get(t,n.field);let c;const u=i.label||"label",d=i.value||"value";return null!==s&&void 0!==s?a().map(a().isArray(s)?s:[s],o?e=>{const t=l.options||"options";for(let n=0;n<o.length;n++)if(c=a().find(o[n][t],t=>t[d]==e),c)break;return c?c[u]:e}:e=>(c=a().find(r,t=>t[d]==e),c?c[u]:e)).join(", "):""}function Bo(e){const{row:t,column:n,options:r}=e;return r.original?Qe(t,n):Vo(n.editRender||n.cellRender,e)}function Ho(e,{row:t,column:n}){const{options:r,optionProps:o={}}=e,i=a().get(t,n.field),l=o.label||"label",s=o.value||"value",c=o.children||"children";if(null!==i&&void 0!==i){const e={};return a().eachTree(r,t=>{e[a().get(t,s)]=t},{children:c}),a().map(a().isArray(i)?i:[i],t=>{const n=e[t];return n?a().get(n,l):n}).join(", ")}return""}function Wo(e){const{row:t,column:n,options:r}=e;return r.original?Qe(t,n):Ho(n.editRender||n.cellRender,e)}function qo(e,t){const{props:n={},showNegativeStatus:r}=e,{row:o,column:i}=t,{type:l}=n;let s=a().get(o,i.field),u=!1;if(!c(s)){const e=Yr().numberInput||{};if("float"===l){const t=eo(n.autoFill,e.autoFill,!0),o=eo(n.digits,e.digits,1);s=a().toFixed(a().floor(s,o),o),t||(s=a().toNumber(s)),r&&s<0&&(u=!0)}else if("amount"===l){const t=eo(n.autoFill,e.autoFill,!0),o=eo(n.digits,e.digits,2),i=eo(n.showCurrency,e.showCurrency,!1);if(s=a().toNumber(s),r&&s<0&&(u=!0),s=a().commafy(s,{digits:o}),!t){const[e,t]=s.split(".");if(t){const n=t.replace(/0+$/,"");s=n?[e,".",n].join(""):e}}i&&(s=`${n.currencySymbol||e.currencySymbol||Xr("vxe.numberInput.currencySymbol")||""}${s}`)}else r&&a().toNumber(s)<0&&(u=!0)}return ho(e,t,s,u?{class:"is--negative"}:{})}Kr.mixin({input:{tableAutoFocus:"input",renderTableEdit:Co,renderTableDefault:Co,renderTableFilter:No,tableFilterDefaultMethod:Po},textarea:{tableAutoFocus:"textarea",renderTableEdit:Co},select:{renderTableEdit:jo,renderTableDefault:jo,renderTableCell(e,t){return ho(e,t,Vo(e,t))},renderTableFilter(e,t){const{column:n}=t;return n.filters.map((n,r)=>(0,K.h)("select",Object.assign(Object.assign({key:r,class:"vxe-default-select"},so(e)),wo(e,t,n)),e.optionGroups?Mo(e,t,Io):Io(e.options,e,t)))},tableFilterDefaultMethod:_o,tableExportMethod:Bo},VxeInput:{tableAutoFocus:"input",renderTableEdit:So,renderTableCell(e,t){const{props:n={}}=e,{row:r,column:o}=t,i=Yr().input||{},l=n.digits||i.digits||2;let s=a().get(r,o.field);if(s)switch(n.type){case"date":case"week":case"month":case"quarter":case"year":s=ro(s,n);break;case"float":s=a().toFixed(a().floor(s,l),l);break}return ho(e,t,s)},renderTableDefault:So,renderTableFilter:Ro,tableFilterDefaultMethod:Po},FormatNumberInput:{renderTableDefault:qo,tableFilterDefaultMethod:Po,tableExportMethod(e){const{row:t,column:n}=e,r=a().get(t,n.field);return r}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:So,renderTableCell:qo,renderTableFooter(e,t){const{props:n={}}=e,{row:r,column:o,_columnIndex:i}=t,{type:l}=n,s=a().isArray(r)?r[i]:a().get(r,o.field);if(a().isNumber(s)){const e=Yr().numberInput||{};if("float"===l){const t=eo(n.autoFill,e.autoFill,!0),r=eo(n.digits,e.digits,1);let o=a().toFixed(a().floor(s,r),r);return t||(o=a().toNumber(o)),o}if("amount"===l){const t=eo(n.autoFill,e.autoFill,!0),r=eo(n.digits,e.digits,2),o=eo(n.showCurrency,e.showCurrency,!1);let i=a().commafy(a().toNumber(s),{digits:r});if(!t){const[e,t]=i.split(".");if(t){const n=t.replace(/0+$/,"");i=n?[e,".",n].join(""):e}}return o&&(i=`${n.currencySymbol||e.currencySymbol||Xr("vxe.numberInput.currencySymbol")||""}${i}`),i}}return h(s,1)},renderTableDefault:So,renderTableFilter:Ro,tableFilterDefaultMethod:Po,tableExportMethod(e){const{row:t,column:n}=e,r=a().get(t,n.field);return r}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:So,renderTableCell(e,t){const{props:n={}}=e,{row:r,column:o}=t;let i=a().get(r,o.field);return i&&"time"!==n.type&&(i=ro(i,n)),ho(e,t,i)},renderTableDefault:So,renderTableFilter:Ro,tableFilterDefaultMethod:_o},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:n,endField:r}=e,{$table:o,row:i,column:l}=t,{model:s}=l,c=Qe(i,l),u={},d={};return n&&r&&(u.startValue=a().get(i,n),u.endValue=a().get(i,r),d["onUpdate:startValue"]=e=>{n&&a().set(i,n,e)},d["onUpdate:endValue"]=e=>{r&&a().set(i,r,e)}),[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,c,u)),vo(e,t,{model(e){s.update=!0,s.value=e,et(i,l,e)},change(){o.updateStatus(t)},blur(){o.handleCellRuleUpdateStatus("blur",t)}},d)))]},renderTableCell(e,t){const{startField:n,endField:r}=e,{row:o,column:i}=t;let l="",s="";if(n&&r)l=a().get(o,n),s=a().get(o,r);else{const e=a().get(o,i.field);if(e)if(a().isArray(e))l=e[0],s=e[1];else{const t=`${e}`.split(",");l=t[0],s=t[1]}}let c="";return l&&s&&(c=`${l} ~ ${s}`),ho(e,t,c)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:So,renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return ho(e,t,o)}},VxeButton:{renderTableDefault:ko},VxeButtonGroup:{renderTableDefault(e,t){const{options:n}=e;return[(0,K.h)(io(e),Object.assign(Object.assign({options:n},uo(e,t,null)),vo(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Lo,renderTableDefault:Lo,renderTableCell(e,t){return ho(e,t,Vo(e,t))},renderTableFilter(e,t){const{column:n}=t,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a}=e;return n.filters.map((n,l)=>{const s=n.data;return(0,K.h)(io(e),Object.assign(Object.assign({key:l},po(e,t,s,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a})),xo(e,t,n)))})},tableFilterDefaultMethod:_o,tableExportMethod:Bo},VxeText:{renderTableDefault(e,t){const{$table:n,row:r,column:o}=t,{props:i}=e,a=n.getCellLabel(r,o);return[(0,K.h)(io(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:a}),vo(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:n,row:r,column:o}=t,{props:i}=e,{href:l}=i||{},s=n.getCellLabel(r,o);return[(0,K.h)(io(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:s,href:a().toFormatString(l,t)}),vo(e,t)))]}},formatOption:{renderTableDefault(e,t){return ho(e,t,Vo(e,t))}},FormatSelect:{renderTableDefault(e,t){return ho(e,t,Vo(e,t))},tableFilterDefaultMethod:_o,tableExportMethod:Bo},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:$o,renderTableCell(e,t){return ho(e,t,Ho(e,t))},tableExportMethod:Wo},formatTree:{renderTableDefault(e,t){return ho(e,t,Ho(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return ho(e,t,Ho(e,t))},tableExportMethod:Wo},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:$o,renderTableCell(e,t){return ho(e,t,Ho(e,t))},tableExportMethod:Wo},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:r}=t,{options:o}=e,i=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,i,{colors:o})),bo(e,t)))]},renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return(0,K.h)("span",{class:"vxe-color-picker--readonly"},[(0,K.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:o}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:r}=t,{options:o}=e,i=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign({},uo(e,t,i,{icons:o})),bo(e,t)))]},renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return(0,K.h)("i",{class:o})}},VxeRadioGroup:{renderTableDefault:Eo},VxeCheckbox:{renderTableDefault:To},VxeCheckboxGroup:{renderTableDefault:Eo},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:So,renderTableDefault:So},VxeUpload:{renderTableEdit:So,renderTableCell:So,renderTableDefault:So},VxeImage:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign(Object.assign({},o),{src:i}),bo(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign(Object.assign({},o),{urlList:i}),bo(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=Qe(n,r);return[(0,K.h)(io(e),Object.assign(Object.assign(Object.assign({},o),{content:i}),bo(e,t)))]}},VxeRate:{renderTableDefault:So},VxeSlider:{renderTableDefault:So},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Oo,renderTableCell(e,t){var n;const{props:r={}}=e,{row:o,column:i}=t,l=r.digits||(null===(n=Yr().input)||void 0===n?void 0:n.digits)||2;let s=a().get(o,i.field);if(s)switch(r.type){case"date":case"week":case"month":case"year":s=ro(s,r);break;case"float":s=a().toFixed(a().floor(s,l),l);break}return ho(e,t,s)},renderTableDefault:Oo,renderTableFilter:Fo,tableFilterDefaultMethod:Po},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:Do},$buttons:{renderTableDefault:Ao},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:zo,renderTableDefault:zo,renderTableCell(e,t){return ho(e,t,Vo(e,t))},renderTableFilter(e,t){const{column:n}=t,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a}=e;return n.filters.map((n,l)=>{const s=n.data;return(0,K.h)(ao(e),Object.assign(Object.assign({key:l},po(e,t,s,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a})),xo(e,t,n)))})},tableFilterDefaultMethod:_o,tableExportMethod:Bo},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Oo,renderTableDefault:Oo}});const{getConfig:Uo,getIcon:Go,getI18n:Yo,renderer:Ko,formats:Xo,createEvent:Zo,globalResize:Jo,interceptor:Qo,hooks:ei,globalEvents:ti,GLOBAL_EVENT_KEYS:ni,useFns:ri,renderEmptyElement:oi}=o.OE,ii=5e6,ai="VXE_CUSTOM_STORE",li=5e6,si=5e6;let ci=null;var ui=X({name:"VxeTable",props:Qt,emits:nn,setup(e,t){const{slots:n,emit:r}=t,i=a().uniqueId(),l=a().browse(),c=o.OE.getComponent("VxeLoading"),u=o.OE.getComponent("VxeTooltip"),v=(0,K.inject)("$xeTabs",null),b=(0,K.inject)("$xeGrid",null),x=(0,K.inject)("$xeGantt",null),y=b||x,{computeSize:w}=ri.useSize(e),C=pn(),k=(0,K.reactive)({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),S=Me();let T={},E={};const O=(0,K.ref)(),D=(0,K.ref)(),A=(0,K.ref)(),M=(0,K.ref)(),I=(0,K.ref)(),N=(0,K.ref)(),R=(0,K.ref)(),F=(0,K.ref)(),_=(0,K.ref)(),P=(0,K.ref)(),j=(0,K.ref)(),L=(0,K.ref)(),$=(0,K.ref)(),z=(0,K.ref)(),V=(0,K.ref)(),B=(0,K.ref)(),H=(0,K.ref)(),W=(0,K.ref)(),q=(0,K.ref)(),U=(0,K.ref)(),G=(0,K.ref)(),Y=(0,K.ref)(),X=(0,K.ref)(),Z=(0,K.ref)(),J=(0,K.ref)(),te=(0,K.ref)(),ne=(0,K.ref)(),re=(0,K.ref)(),oe=(0,K.ref)(),ie=(0,K.ref)(),se=(0,K.ref)(),ce=(0,K.ref)(),ve=(0,K.ref)(),be=(0,K.ref)(),xe=(0,K.ref)(),ke=(0,K.ref)(),Te=(0,K.ref)(),Ee=(0,K.ref)(),Oe=(0,K.ref)(),De=(0,K.ref)(),Ae=(0,K.ref)(),Ie=(0,K.ref)();let Ne;const Re=(0,K.computed)(()=>{const{id:t}=e;return t?a().isFunction(t)?`${t({$table:Fn,$grid:b,$gantt:x})||""}`:`${t}`:""}),Ve=(0,K.computed)(()=>{const t=wt.value;return`${e.rowId||t.keyField||"_X_ROW_KEY"}`}),Be=(0,K.computed)(()=>Object.assign({},Uo().table.validConfig,e.validConfig)),He=(0,K.computed)(()=>{const e=Ke.value;return e}),We=(0,K.computed)(()=>{const e=Ke.value,{threshold:t}=e;return t?a().toNumber(t):0}),qe=(0,K.computed)(()=>{const e=Xe.value;return e}),Ke=(0,K.computed)(()=>{const{virtualXConfig:t,scrollX:n}=e,r=Uo().table.virtualXConfig,o=Uo().table.scrollX;return t?Object.assign({},r,t):n?Object.assign({},o,n):r?Object.assign({},r,t):Object.assign({},o,n)}),Xe=(0,K.computed)(()=>{const{virtualYConfig:t,scrollY:n}=e,r=Uo().table.virtualYConfig,o=Uo().table.scrollY;return t?Object.assign({},r,t):n?Object.assign({},o,n):r?Object.assign({},r,t):Object.assign({},o,n)}),ot=(0,K.computed)(()=>Object.assign({},Uo().table.scrollbarConfig,e.scrollbarConfig)),at=(0,K.computed)(()=>{const e=ot.value;return!(!e.x||"top"!==e.x.position)}),lt=(0,K.computed)(()=>{const e=ot.value;return!(!e.y||"left"!==e.y.position)}),st=(0,K.computed)(()=>{const e=Xe.value,{threshold:t}=e;return t?a().toNumber(t):0}),ct=(0,K.computed)(()=>k.rowHeightStore),dt=(0,K.computed)(()=>{const e=w.value,t=ct.value;return t[e||"default"]||18}),ft=(0,K.computed)(()=>Object.assign({},Uo().table.columnConfig,e.columnConfig)),ht=(0,K.computed)(()=>Object.assign({},Uo().table.currentColumnConfig,e.currentColumnConfig)),mt=(0,K.computed)(()=>{const t=Object.assign({},Uo().table.cellConfig,e.cellConfig);return t.height&&(t.height=a().toNumber(t.height)),t}),gt=(0,K.computed)(()=>{const t=Object.assign({},Uo().table.headerCellConfig,e.headerCellConfig),n=dt.value,r=mt.value;let o=a().toNumber(nt(t.height||r.height));if(x){const{computeTaskScaleConfs:e}=x.getComputeMaps(),t=e.value;if(t&&t.length>2){const e=n/2*t.length;o=Math.max(e,o)}}return t.height=o,t}),vt=(0,K.computed)(()=>{const t=Object.assign({},Uo().table.footerCellConfig,e.footerCellConfig),n=mt.value;return t.height=a().toNumber(nt(t.height||n.height)),t}),wt=(0,K.computed)(()=>Object.assign({},Uo().table.rowConfig,e.rowConfig)),Ct=(0,K.computed)(()=>Object.assign({},Uo().table.aggregateConfig||Uo().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),kt=(0,K.computed)(()=>Ct.value),Tt=(0,K.computed)(()=>Object.assign({},Uo().table.currentRowConfig,e.currentRowConfig)),Et=(0,K.computed)(()=>Object.assign({},Uo().table.rowDragConfig,e.rowDragConfig)),Ot=(0,K.computed)(()=>Object.assign({},Uo().table.columnDragConfig,e.columnDragConfig)),Dt=(0,K.computed)(()=>Object.assign({},Uo().table.resizeConfig,e.resizeConfig)),At=(0,K.computed)(()=>Object.assign({},Uo().table.resizableConfig,e.resizableConfig)),Mt=(0,K.computed)(()=>Object.assign({startIndex:0},Uo().table.seqConfig,e.seqConfig)),It=(0,K.computed)(()=>Object.assign({},Uo().table.radioConfig,e.radioConfig)),Nt=(0,K.computed)(()=>Object.assign({},Uo().table.checkboxConfig,e.checkboxConfig)),Rt=(0,K.computed)(()=>Object.assign({},Uo().tooltip,Uo().table.tooltipConfig,e.tooltipConfig)),Ft=(0,K.computed)(()=>Object.assign({},Uo().tooltip,Uo().table.headerTooltipConfig,e.headerTooltipConfig)),_t=(0,K.computed)(()=>Object.assign({},Uo().tooltip,Uo().table.footerTooltipConfig,e.footerTooltipConfig)),Pt=(0,K.computed)(()=>{const{tooltipStore:e}=k,t=Rt.value;return Object.assign({},t,e.currOpts)}),jt=(0,K.computed)(()=>{const e=Rt.value;return Object.assign({},e)}),Lt=(0,K.computed)(()=>Object.assign({},Uo().table.editConfig,e.editConfig)),$t=(0,K.computed)(()=>Object.assign({orders:["asc","desc",null]},Uo().table.sortConfig,e.sortConfig)),zt=(0,K.computed)(()=>Object.assign({},Uo().table.filterConfig,e.filterConfig)),Vt=(0,K.computed)(()=>Object.assign({},Uo().table.mouseConfig,e.mouseConfig)),Bt=(0,K.computed)(()=>Object.assign({},Uo().table.areaConfig,e.areaConfig)),Ht=(0,K.computed)(()=>Object.assign({},Uo().table.keyboardConfig,e.keyboardConfig)),qt=(0,K.computed)(()=>Object.assign({},Uo().table.clipConfig,e.clipConfig)),Ut=(0,K.computed)(()=>{const e=Gt.value;return e}),Gt=(0,K.computed)(()=>Object.assign({},Uo().table.fnrConfig,e.fnrConfig)),Yt=(0,K.computed)(()=>Object.assign({},Uo().table.menuConfig,e.menuConfig)),Kt=(0,K.computed)(()=>{const{columnStore:e}=k,{leftList:t}=e;let n=0;for(let r=0;r<t.length;r++){const e=t[r];n+=e.renderWidth}return n}),Xt=(0,K.computed)(()=>{const{columnStore:e}=k,{rightList:t}=e;let n=0;for(let r=0;r<t.length;r++){const e=t[r];n+=e.renderWidth}return n}),Zt=(0,K.computed)(()=>{const e=Yt.value,t=e.header;return t&&t.options?t.options:[]}),Jt=(0,K.computed)(()=>{const e=Yt.value,t=e.body;return t&&t.options?t.options:[]}),en=(0,K.computed)(()=>{const e=Yt.value,t=e.footer;return t&&t.options?t.options:[]}),tn=(0,K.computed)(()=>{const e=nn.value;return e}),nn=(0,K.computed)(()=>{const t=Yt.value,n=Zt.value,r=Jt.value,o=en.value;return!!(e.menuConfig&&s(t)&&(n.length||r.length||o.length))}),rn=(0,K.computed)(()=>{const{ctxMenuStore:e}=k,t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),on=(0,K.computed)(()=>Object.assign({},Uo().table.exportConfig,e.exportConfig)),an=(0,K.computed)(()=>Object.assign({},Uo().table.importConfig,e.importConfig)),dn=(0,K.computed)(()=>Object.assign({},Uo().table.printConfig,e.printConfig)),fn=(0,K.computed)(()=>Object.assign({},Uo().table.expandConfig,e.expandConfig)),hn=(0,K.computed)(()=>Object.assign({},Uo().table.treeConfig,e.treeConfig)),mn=(0,K.computed)(()=>Object.assign({},Uo().table.emptyRender,e.emptyRender)),gn=(0,K.computed)(()=>Object.assign({},Uo().table.loadingConfig,e.loadingConfig)),bn=(0,K.computed)(()=>e.border?Math.max(2,Math.ceil(k.scrollbarWidth/k.tableColumn.length)):1),xn=(0,K.computed)(()=>Object.assign({},Uo().table.customConfig,e.customConfig)),yn=(0,K.computed)(()=>{const{tableData:e,rowExpandedFlag:t,expandColumn:n,rowGroupExpandedFlag:r,treeExpandedFlag:o}=k,{visibleDataRowIdData:i,rowExpandedMaps:l}=S,s=[];return e.length&&n&&t&&r&&o&&a().each(l,(e,t)=>{i[t]&&s.push(e)}),s}),wn=(0,K.computed)(()=>{const{visibleColumn:e}=S,{tableColumn:t}=k;return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),Cn=(0,K.computed)(()=>{const{tableColumn:e}=k,{collectColumn:t}=S;let n=0;return e.length&&t.length&&t.forEach(e=>{e.renderFixed&&n++}),n}),Sn=(0,K.computed)(()=>{const e=Cn.value,t=ft.value,{maxFixedSize:n}=t;return!!n&&e>=n}),Tn=(0,K.computed)(()=>{const{border:t}=e;return!0===t?"full":t||"default"}),En=(0,K.computed)(()=>{const{treeConfig:t}=e,{tableData:n}=k,{tableFullData:r}=S,o=Nt.value,{strict:i,checkMethod:a}=o;return!!i&&(!n.length&&!r.length||!!a&&r.every(e=>!a({$table:Fn,row:e})))}),Dn=(0,K.computed)(()=>{const{overflowX:e,scrollXLoad:t,overflowY:n,scrollYLoad:r}=k;return{x:e&&t,y:n&&r}}),An=(0,K.computed)(()=>{const e=kt.value;return e.groupFields}),Mn=(0,K.computed)(()=>{const{rowGroupList:e}=k,{fullColumnFieldData:t}=S,n=[];return e.forEach(e=>{const r=t[e.field];r&&n.push(r.column)}),n}),In={refElem:O,refTooltip:A,refValidTooltip:I,refTableFilter:R,refTableCustom:F,refTableMenu:N,refTableHeader:P,refTableBody:j,refTableFooter:L,refTableLeftHeader:$,refTableLeftBody:z,refTableLeftFooter:V,refTableRightHeader:B,refTableRightBody:H,refTableRightFooter:W,refLeftContainer:G,refRightContainer:Y,refColResizeBar:X,refRowResizeBar:Z,refScrollXVirtualElem:se,refScrollYVirtualElem:ce,refScrollXHandleElem:ve,refScrollYHandleElem:ke,refScrollXSpaceElem:Ae,refScrollYSpaceElem:Ie},Rn={computeSize:w,computeTableId:Re,computeValidOpts:Be,computeRowField:Ve,computeVirtualXOpts:Ke,computeVirtualYOpts:Xe,computeScrollbarOpts:ot,computeScrollbarXToTop:at,computeScrollbarYToLeft:lt,computeColumnOpts:ft,computeCurrentColumnOpts:ht,computeScrollXThreshold:We,computeScrollYThreshold:st,computeRowHeightMaps:ct,computeDefaultRowHeight:dt,computeCellOpts:mt,computeHeaderCellOpts:gt,computeFooterCellOpts:vt,computeRowOpts:wt,computeAggregateOpts:Ct,computeRowGroupOpts:kt,computeCurrentRowOpts:Tt,computeRowDragOpts:Et,computeColumnDragOpts:Ot,computeResizeOpts:Dt,computeResizableOpts:At,computeSeqOpts:Mt,computeRadioOpts:It,computeCheckboxOpts:Nt,computeTooltipOpts:Rt,computeHeaderTooltipOpts:Ft,computeFooterTooltipOpts:_t,computeEditOpts:Lt,computeSortOpts:$t,computeFilterOpts:zt,computeMouseOpts:Vt,computeAreaOpts:Bt,computeKeyboardOpts:Ht,computeClipOpts:qt,computeFnrOpts:Gt,computeHeaderMenu:Zt,computeBodyMenu:Jt,computeFooterMenu:en,computeIsMenu:tn,computeIsContentMenu:nn,computeMenuList:rn,computeMenuOpts:Yt,computeExportOpts:on,computeImportOpts:an,computePrintOpts:dn,computeExpandOpts:fn,computeTreeOpts:hn,computeEmptyOpts:mn,computeLoadingOpts:gn,computeCellOffsetWidth:bn,computeCustomOpts:xn,computeLeftFixedWidth:Kt,computeRightFixedWidth:Xt,computeFixedColumnSize:Cn,computeIsMaxFixedColumn:Sn,computeIsAllCheckboxDisabled:En,computeVirtualScrollBars:Dn,computeRowGroupFields:An,computeRowGroupColumns:Mn,computeFNROpts:Ut,computeSXOpts:He,computeSYOpts:qe},Fn={xID:i,props:e,context:t,reactData:k,internalData:S,getRefMaps:()=>In,getComputeMaps:()=>Rn,xeGrid:b,xeGantt:x,xegrid:b},_n=(e,t,n)=>{const r=a().get(e,n),o=a().get(t,n);return!(!g(r)||!g(o))||(a().isString(r)||a().isNumber(r)?""+r===""+o:a().isEqual(r,o))},jn=()=>{const e=Ve.value;S.currKeyField=e,S.isCurrDeepKey=Pe(e)},Ln=(e,t)=>a().isBoolean(e)?e:t,zn=e=>{const t=$t.value,{orders:n=[]}=t,r=e.order||null,o=n.indexOf(r)+1;return n[o<n.length?o:0]},Vn=e=>{const t=Uo().version,n=a().toStringJSON(localStorage.getItem(ai)||""),r=n&&n._v===t?n:{_v:t};return(e?r[e]:r)||{}},Hn=(e,t)=>{const n=Uo().version,r=Vn();r[e]=t||void 0,r._v=n,localStorage.setItem(ai,a().toJSONString(r))},Wn=e=>{const{fullAllDataRowIdData:t}=S,n={};return a().each(e,(e,r)=>{t[r]&&(n[r]=e)}),n},Un=e=>{const{fullDataRowIdData:t}=S,n=[];return a().each(e,(e,r)=>{t[r]&&-1===Fn.findRowIndexOf(n,t[r].row)&&n.push(t[r].row)}),n},Gn=()=>{const{isScrollXBig:e,scrollXWidth:t}=k,{elemStore:n,visibleColumn:r,fullColumnIdData:o}=S,i=Kt.value,a=Xt.value,l=tt(n["main-body-scroll"]);if(l){const n=l.clientWidth;let s=l.scrollLeft;e&&(s=Math.ceil((t-n)*Math.min(1,s/(si-n))));const c=s+i,u=s+n-a;let d=0,p=r.length;while(d<p){const e=Math.floor((d+p)/2),t=r[e],n=t.id,i=o[n]||{};i.oLeft<=c?d=e+1:p=e}let f=0;const h=d===r.length?d:Math.max(0,d<r.length?d-2:0);for(let e=h,t=r.length;e<t;e++){const t=r[e],n=t.id,i=o[n]||{};if(f++,i.oLeft>u||f>=60)break}return{toVisibleIndex:Math.max(0,h),visibleSize:Math.max(1,f)}}return{toVisibleIndex:0,visibleSize:6}},Yn=(e,t)=>{const{rowHeightStore:n}=k;t&&t.clientHeight&&(n[e]=t.clientHeight)},Kn=()=>{const{isAllOverflow:e}=k,t=P.value,n=j.value,r=n?n.$el:null,o=dt.value;let i=0;if(e){if(r){const e=t?t.$el:null;let n;n=r.querySelector("tr"),!n&&e&&(n=e.querySelector("tr")),n&&(i=n.clientHeight)}i||(i=o)}else i=o;return Math.max(18,i)},Xn=()=>{const{isAllOverflow:e,expandColumn:t,isScrollYBig:n,scrollYHeight:r}=k,{elemStore:o,isResizeCellHeight:i,afterFullData:a,fullAllDataRowIdData:l}=S,s=wt.value,c=mt.value,u=dt.value,d=tt(o["main-body-scroll"]);if(d){const o=d.clientHeight;let p=d.scrollTop;n&&(p=Math.ceil((r-o)*Math.min(1,p/(li-o))));const f=p,h=p+o;let m=-1,g=0;const v=i||c.height||s.height;if(v||t||!e){const{handleGetRowId:e}=ze(Fn);let t=0,n=a.length;while(t<n){const r=Math.floor((t+n)/2),o=a[r],i=e(o),s=l[i]||{};s.oTop<=f?t=r+1:n=r}m=t===a.length?t:Math.max(0,t<a.length?t-2:0);for(let r=m,o=a.length;r<o;r++){const t=a[r],n=e(t),o=l[n]||{};if(g++,o.oTop>h||g>=100)break}}else m=Math.floor(f/u)-1,g=Math.ceil(o/u)+1;return{toVisibleIndex:Math.max(0,m),visibleSize:Math.max(6,g)}}return{toVisibleIndex:0,visibleSize:6}},Zn=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r],{startIndex:i,endIndex:a}=t,l=o[n],s=o[n+"span"],c=l+s;l<i&&i<c&&(t.startIndex=l),l<a&&a<c&&(t.endIndex=c),t.startIndex===i&&t.endIndex===a||(r=-1)}};function Jn(e){const t={};if(e&&e.length)for(let n=0;n<e.length;n++){const{row:r,col:o,rowspan:i,colspan:a}=e[n];for(let e=0;e<i;e++)for(let n=0;n<a;n++)t[`${r+e}:${o+n}`]=e||n?{rowspan:0,colspan:0}:{rowspan:i,colspan:a}}return t}const Qn=e=>{S.mergeBodyList=[],S.mergeBodyMaps={},S.mergeBodyCellMaps={},Fn.setMergeCells(e)},er=e=>{const{fullAllDataRowIdData:t,fullColumnIdData:n,visibleColumn:r,afterFullData:o,mergeBodyList:i,mergeBodyMaps:l}=S;if(e){const{handleGetRowId:s}=ze(Fn);a().isArray(e)||(e=[e]),e.forEach(e=>{let{row:c,col:u,rowspan:d,colspan:p}=e,f=-1,h=-1;if(a().isNumber(c))f=c;else{const e=c?s(c):null,n=e?t[e]:null;n&&(f=n._index)}if(a().isNumber(u))h=u;else{const e=u?u.id:null,t=e?n[e]:null;t&&(h=t._index)}if(f>-1&&h>-1&&(d||p)&&(d=a().toNumber(d)||1,p=a().toNumber(p)||1,d>1||p>1)){const e=o[f],t=r[h];let n=l[`${f}:${h}`];n?(n.rowspan=d,n.colspan=p,n._rowspan=d,n._colspan=p):(n={row:f,col:h,rowspan:d,colspan:p,_row:e,_col:t,_rowspan:d,_colspan:p},l[`${f}:${h}`]=n,i.push(n))}})}},tr=e=>{const{mergeBodyList:t,fullColumnIdData:n,fullAllDataRowIdData:r,mergeBodyMaps:o}=S,i=[];if(e){const{handleGetRowId:l}=ze(Fn);a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:s,col:c}=e;let u=-1,d=-1;if(a().isNumber(s))u=s;else{const e=s?l(s):null,t=e?r[e]:null;t&&(u=t._index)}if(a().isNumber(c))d=c;else{const e=c?c.id:null,t=e?n[e]:null;t&&(d=t._index)}const p=a().findIndexOf(t,e=>e.row===u&&e.col===d);if(p>-1){const e=t.splice(p,1),n=e[0];n&&(i.push(e[0]),o[`${u}:${d}`]&&delete o[`${u}:${d}`])}})}return i},nr=e=>{S.mergeHeaderList=[],S.mergeHeaderMaps={},S.mergeHeaderCellMaps={},Fn.setMergeHeaderCells(e)},rr=t=>{const{showCustomHeader:n}=e,{footerTableData:r}=k,{mergeHeaderList:o,mergeHeaderMaps:i,fullColumnIdData:l}=S;if(t){const{visibleColumn:e}=S;a().isArray(t)||(t=[t]),t.forEach(t=>{let{row:s,col:c,rowspan:u,colspan:d}=t;const p=a().isNumber(s)?s:-1;let f=-1;if(a().isNumber(c))f=c;else{const e=c?c.id:null,t=e?l[e]:null;t&&(f=t._index)}if(p>-1&&f>-1&&(u||d)){if(u=a().toNumber(u)||1,d=a().toNumber(d)||1,!n&&u>1)return void ee("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${u}`,"rowspan=1"]);if(u>1||d>1){const t=r[p],n=e[f];let a=i[`${p}:${f}`];a?(a.rowspan=u,a.colspan=d,a._rowspan=u,a._colspan=d):(a={row:p,col:f,rowspan:u,colspan:d,_row:t,_col:n,_rowspan:u,_colspan:d},i[`${p}:${f}`]=a,o.push(a))}}})}},or=e=>{const{mergeHeaderList:t,fullColumnIdData:n,mergeHeaderMaps:r}=S,o=[];return e&&(a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:i,col:l}=e,s=a().isNumber(i)?i:-1;let c=-1;if(a().isNumber(l))c=l;else{const e=l?l.id:null,t=e?n[e]:null;t&&(c=t._index)}const u=a().findIndexOf(t,e=>e.row===s&&e.col===c);if(u>-1){const e=t.splice(u,1),n=e[0];n&&(o.push(n),r[`${s}:${c}`]&&delete r[`${s}:${c}`])}})),o},ir=e=>{S.mergeFooterList=[],S.mergeFooterMaps={},S.mergeFooterCellMaps={},Fn.setMergeFooterCells(e)},ar=e=>{const{footerTableData:t}=k,{mergeFooterList:n,mergeFooterMaps:r,fullColumnIdData:o}=S;if(e){const{visibleColumn:i}=S;a().isArray(e)||(e=[e]),e.forEach(e=>{let{row:l,col:s,rowspan:c,colspan:u}=e;const d=a().isNumber(l)?l:-1;let p=-1;if(a().isNumber(s))p=s;else{const e=s?s.id:null,t=e?o[e]:null;t&&(p=t._index)}if(d>-1&&p>-1&&(c||u)&&(c=a().toNumber(c)||1,u=a().toNumber(u)||1,c>1||u>1)){const e=t[d],o=i[p];let a=r[`${d}:${p}`];a?(a.rowspan=c,a.colspan=u,a._rowspan=c,a._colspan=u):(a={row:d,col:p,rowspan:c,colspan:u,_row:e,_col:o,_rowspan:c,_colspan:u},r[`${d}:${p}`]=a,n.push(a))}})}},lr=e=>{const{mergeFooterList:t,fullColumnIdData:n,mergeFooterMaps:r}=S,o=[];return e&&(a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:i,col:l}=e,s=a().isNumber(i)?i:-1;let c=-1;if(a().isNumber(l))c=l;else{const e=l?l.id:null,t=e?n[e]:null;t&&(c=t._index)}const u=a().findIndexOf(t,e=>e.row===s&&e.col===c);if(u>-1){const e=t.splice(u,1),n=e[0];n&&(o.push(n),r[`${s}:${c}`]&&delete r[`${s}:${c}`])}})),o},sr=(e,t,n)=>{const{tableFullColumn:r}=S,o=$t.value,{multiple:i,remote:l,orders:s}=o;if(a().isArray(t)||(t=[t]),t&&t.length){const o={};i||(t=[t[0]],r.forEach(e=>{e.order&&(o[e.id]=e)}));const c={};let u=null;return t.forEach((e,t)=>{let{field:n,order:r}=e,o=n;a().isString(n)&&(o=Fn.getColumnByField(n)),u||(u=o),o&&o.sortable&&(s&&-1===s.indexOf(r)&&(r=zn(o)),o.order!==r&&(o.order=r),o.sortTime=Date.now()+t,c[o.id]=o)}),i||a().each(o,(e,t)=>{c[t]||(e.order=null)}),n&&(l||Fn.handleTableData(!0)),e&&Fn.handleColumnSortEvent(e,u),(0,K.nextTick)().then(()=>(Po(),Fn.updateCellAreas(),Tr()))}return(0,K.nextTick)()},cr=()=>{const{tableFullColumn:e}=S;e.forEach(e=>{e.order=null})},ur=t=>{const{editConfig:n}=e,{parentHeight:r}=k;let o=e[t];if("minHeight"===t){const e=Uo().table.minHeight;a().eqNull(o)&&(g(e)?s(n)&&(o=144):o=e)}let i=0;if(o)if("100%"===o||"auto"===o)i=r;else{const e=Fn.getExcludeHeight();i=de(o)?Math.floor((a().toInteger(o)||1)/100*r):a().toNumber(o),i=Math.max(40,i-e)}return i},dr=t=>{const{aggregateConfig:n,rowGroupConfig:r}=e,{collectColumn:o}=S,i=xn.value,{storage:l,storeOptions:s}=i,c=!0===l,u=c?{}:Object.assign({},l||{},s),d=Ln(u.resizable,c),p=Ln(u.visible,c),f=Ln(u.fixed,c),h=Ln(u.sort,c),m=Ln(u.aggGroup,c),g=Ln(u.aggFunc,c);let{resizableData:v,sortData:b,visibleData:x,fixedData:y,aggGroupData:w,aggFuncData:C}=t;if(d&&v||h&&b||p&&x||f&&y||m&&w||g&&C){const e={};if(h&&b){if(!a().isArray(b)){const e=[];a().each(b,(t,n)=>{e.push({key:n,index:t})}),b=a().orderBy(e,{field:"index",order:"asc"}).map(e=>({k:e.key}))}let t=1;a().eachTree(b,(n,r,o,i,a)=>{e[n.k]={key:n.k,sNum:t++,pKey:a?a.k:null}},{children:"c"})}const t={},i=[],l=[];if(a().eachTree(o,(e,o,s,c,u)=>{const h=e.getKey();u||f&&y&&void 0!==y[h]&&(e.fixed=y[h]),d&&v&&a().isNumber(v[h])&&(e.resizeWidth=v[h]),p&&x&&a().isBoolean(x[h])&&(e.visible=x[h]),g&&C&&(n||r)&&C[h]&&(e.aggFunc=C[h]),m&&w&&w[h]&&l.push({field:e.field}),t[h]=e,i.push(e)}),(n||r)&&l.length){const e=to(S.tableFullData,l);S.tableFullTreeData=[],S.tableFullGroupData=e.treeData,k.isRowGroupStatus=!0,k.rowGroupList=l,Fn.cacheRowMap(!1)}if(h&&b){i.forEach(n=>{const r=n.getKey(),o=e[r];if(o){const e=o.pKey?t[o.pKey]:null;n.parentId=e?e.id:null,n.renderSortNumber=o.sNum}});const n=a().toArrayTree(a().orderBy(i,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});S.collectColumn=n,S.tableFullColumn=it(n)}k.isCustomStatus=!0}else k.isCustomStatus=!1},pr=()=>{const{customConfig:t}=e,n=Re.value,r=xn.value,{storage:o,restoreStore:i,storeOptions:a}=r,l=!0===o,c=l?{}:Object.assign({},o||{},a),u=Ln(c.resizable,l),d=Ln(c.visible,l),p=Ln(c.fixed,l),f=Ln(c.sort,l),h=Ln(c.aggGroup,l),m=Ln(c.aggFunc,l);if(o&&(t?s(r):r.enabled)&&(u||d||p||f||h||m)){if(!n)return void ee("vxe.error.reqProp",["id"]);const e=Vn(n);return i?Promise.resolve(i({$table:Fn,id:n,type:"restore",storeData:e})).then(e=>{if(e)return dr(e)}).catch(e=>e):dr(e)}},fr=()=>{const{treeConfig:t,showOverflow:n}=e,{tableFullColumn:r,collectColumn:o}=S,i=S.fullColumnIdData={},l=S.fullColumnFieldData={},s=Vt.value,c=fn.value,u=ft.value,d=Ot.value,p=Xe.value,{isCrossDrag:h,isSelfToChildDrag:m}=d,g=xn.value,v=hn.value,{storage:b}=g,x=wt.value,y=o.some(f);let w,C,T,E,O,D,A,M=!!n;const I=(e,t,n,r,o)=>{const{id:a,field:s,fixed:c,type:d,treeNode:p,rowGroupNode:f}=e,g={$index:-1,_index:-1,column:e,colid:a,index:t,items:n,parent:o||null,width:0,oLeft:0};s?(l[s]&&ee("vxe.error.colRepet",["field",s]),l[s]=g):(b&&!d&&ee("vxe.error.reqSupportProp",["storage",`${e.getTitle()||d||""} -> field=?`]),u.drag&&(h||m)&&ee("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${e.getTitle()||d||""} -> field=?`])),!A&&c&&(A=c),D||"html"!==d||(D=e),p&&(T&&Q("vxe.error.colRepet",["tree-node",p]),T||(T=e)),f&&(T&&Q("vxe.error.colRepet",["row-group-node",f]),w||(w=e)),"expand"===d&&(C&&Q("vxe.error.colRepet",["type",d]),C||(C=e)),"checkbox"===d?(E&&Q("vxe.error.colRepet",["type",d]),E||(E=e)):"radio"===d&&(O&&Q("vxe.error.colRepet",["type",d]),O||(O=e)),M&&!1===e.showOverflow&&(M=!1),i[a]&&ee("vxe.error.colRepet",["colId",a]),i[a]=g};y?a().eachTree(o,(e,t,n,r,o,i)=>{e.level=i.length,I(e,t,n,r,o)}):r.forEach(I),C&&"fixed"!==c.mode&&p.enabled&&Q("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),C&&"fixed"!==c.mode&&s.area&&ee("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),C&&"inside"!==c.mode&&t&&!v.transform&&ee("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),D&&(u.useKey||ee("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),x.useKey||ee("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),k.isGroup=y,k.rowGroupColumn=w,k.treeNodeColumn=T,k.expandColumn=C,k.checkboxColumn=E,k.radioColumn=O,k.isAllOverflow=M},hr=()=>{S.customHeight=ur("height"),S.customMinHeight=ur("minHeight"),S.customMaxHeight=ur("maxHeight"),!k.scrollYLoad||S.customHeight||S.customMinHeight||(S.customHeight=300)},mr=(e,t)=>{const n=ft.value,{autoOptions:r}=n,{isCalcHeader:o,isCalcBody:i,isCalcFooter:l}=r||{},s=[];o&&s.push(`.vxe-header-cell--wrapper[colid="${e.id}"]`),i&&s.push(`.vxe-body-cell--wrapper[colid="${e.id}"]`),l&&s.push(`.vxe-footer-cell--wrapper[colid="${e.id}"]`);const c=s.length?t.querySelectorAll(s.join(",")):[];let u=0;const d=c[0];if(d&&d.parentElement){const e=getComputedStyle(d.parentElement);u=Math.ceil(a().toNumber(e.paddingLeft)+a().toNumber(e.paddingRight))}let p=e.renderAutoWidth-u;for(let a=0;a<c.length;a++){const e=c[a];p=Math.max(p,e?Math.ceil(e.scrollWidth)+4:0)}return p+u},gr=()=>{const e=wn.value,{fullColumnIdData:t}=S,n=O.value;n&&(n.setAttribute("data-calc-col","Y"),e.forEach(e=>{const r=e.id,o=t[r],i=mr(e,n);o&&(o.width=Math.max(i,o.width)),e.renderAutoWidth=i}),Fn.analyColumnWidth(),n.removeAttribute("data-calc-col"))},vr=()=>{const{elemStore:t}=S,n=tt(t["main-body-wrapper"]);if(!n)return;const r=ke.value;if(!r)return;const o=ve.value;if(!o)return;let i=0;const l=40,s=n.clientWidth;let c=s,u=c/100;const{fit:d}=e,{columnStore:p}=k,{resizeList:f,pxMinList:h,autoMinList:m,pxList:g,scaleList:v,scaleMinList:b,autoList:x,remainList:y}=p;if(h.forEach(e=>{const t=a().toInteger(e.minWidth);i+=t,e.renderWidth=t}),m.forEach(e=>{const t=Math.max(60,a().toInteger(e.renderAutoWidth));i+=t,e.renderWidth=t}),b.forEach(e=>{const t=Math.floor(a().toInteger(e.minWidth)*u);i+=t,e.renderWidth=t}),v.forEach(e=>{const t=Math.floor(a().toInteger(e.width)*u);i+=t,e.renderWidth=t}),g.forEach(e=>{const t=a().toInteger(e.width);i+=t,e.renderWidth=t}),x.forEach(e=>{const t=Math.max(60,a().toInteger(e.renderAutoWidth));i+=t,e.renderWidth=t}),f.forEach(e=>{const t=a().toInteger(e.resizeWidth);i+=t,e.renderWidth=t}),c-=i,u=c>0?Math.floor(c/(b.length+h.length+m.length+y.length)):0,d?c>0&&b.concat(h).concat(m).forEach(e=>{i+=u,e.renderWidth+=u}):u=l,y.forEach(e=>{const t=Math.max(u,l);e.renderWidth=t,i+=t}),d){const e=v.concat(b).concat(h).concat(m).concat(y);let t=e.length-1;if(t>0){let n=s-i;if(n>0){while(n>0&&t>=0)n--,e[t--].renderWidth++;i=s}}}k.scrollXWidth=i,k.resizeWidthFlag++,_o(),hr()},br=(e,t)=>{const n=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let r=e.height,o=null,i=0;for(let l=0;l<n.length;l++){const e=n[l],t=e.parentElement;o||(o=getComputedStyle(t),i=o?Math.ceil(a().toNumber(o.paddingTop)+a().toNumber(o.paddingBottom)):0);const s=e?e.clientHeight:0;r=Math.max(r,Math.ceil(s+i))}return r},xr=()=>{const{tableData:e,isAllOverflow:t,scrollYLoad:n,scrollXLoad:r}=k,{fullAllDataRowIdData:o}=S,i=dt.value,a=O.value;if(!t&&(n||r)&&a){const{handleGetRowId:t}=ze(Fn);a.setAttribute("data-calc-row","Y"),e.forEach(e=>{const n=t(e),l=o[n];if(l){const e=br(l,a);l.height=Math.max(i,r?Math.max(l.height,e):e)}a.removeAttribute("data-calc-row")}),k.calcCellHeightFlag++}},yr=e=>{const{sortBy:t,sortType:n}=e;return r=>{let o;return o=t?a().isFunction(t)?t({row:r,column:e}):a().get(r,t):T.getCellLabel(r,e),n&&"auto"!==n?"number"===n?a().toNumber(o):"string"===n?a().toValueString(o):o:isNaN(o)?o:a().toNumber(o)}},wr=()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:r,fullAllDataRowIdData:o}=S,{handleGetRowId:i}=ze(Fn),a={};n.forEach((e,n)=>{const l=i(e),s=o[l],c=n+1;if(s)t||(s.seq=c),s._index=n;else{const t={row:e,rowid:l,seq:c,index:-1,$index:-1,_index:n,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};o[l]=t,r[l]=t}a[l]=e}),S.afterFullRowMaps=a},Cr=()=>{const{treeConfig:t}=e,{fullDataRowIdData:n,fullAllDataRowIdData:r,afterFullData:o,afterTreeFullData:i}=S,l=hn.value,{transform:s}=l,c=l.children||l.childrenField,u={};if(t){let e=0;const{handleGetRowId:d}=ze(Fn);a().eachTree(i,(t,o,i,a)=>{const l=d(t),s=r[l],c=a.map((e,t)=>t%2===0?Number(e)+1:".").join("");if(s)s.seq=c,s.treeIndex=o,s._tIndex=e;else{const o={row:t,rowid:l,seq:c,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:e,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};r[l]=o,n[l]=o}e++,u[l]=t},{children:s?l.mapChildrenField:c}),s&&o.forEach((e,n)=>{const o=d(e),i=r[o],a=n+1;i&&(t||(i.seq=a),i._index=n)}),S.afterFullRowMaps=u}else wr()},kr=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=k,{fullAllDataRowIdData:r,treeExpandedMaps:o,rowGroupExpandedMaps:i}=S,l=Ct.value,s=hn.value,{handleGetRowId:c}=ze(Fn),u=[],d={};if(t&&s.transform){const e=s.children||s.childrenField;return a().eachTree(S.afterTreeFullData,(e,t,n,i,a)=>{const l=c(e),s=c(a);if(!a||d[s]&&o[s]){const t=r[l];t&&(t._index=u.length),d[l]=1,u.push(e)}},{children:e}),S.afterFullData=u,fo(u),u}if(n){const{childrenField:e}=l;return a().eachTree(S.afterGroupFullData,(e,t,n,o,a)=>{const l=c(e),s=c(a);if(!a||d[s]&&i[s]){const t=r[l];t&&(t._index=u.length),d[l]=1,u.push(e)}},{children:e}),S.afterFullData=u,fo(u),u}return S.afterFullData},Sr=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=k,{tableFullColumn:r,tableFullData:o,tableFullTreeData:i,tableFullGroupData:l}=S,c=zt.value,u=$t.value,d=Ct.value,p=hn.value,f=p.children||p.childrenField,{transform:h,rowField:m,parentField:g,mapChildrenField:v}=p,{isEvery:b,remote:x,filterMethod:y}=c,{remote:w,sortMethod:C,multiple:T,chronological:E}=u;let O=[],D=[];if(x&&w)n?(D=a().searchTree(l,()=>!0,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,()=>!0,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.slice(0):o.slice(0),D=O);else{const e=[];let c=[];if(r.forEach(t=>{const{field:n,sortable:r,order:o,filters:i}=t;if(!x&&i&&i.length){const n=[],r=[];i.forEach(e=>{e.checked&&(r.push(e),n.push(e.value))}),r.length&&e.push({column:t,valueList:n,itemList:r})}!w&&r&&o&&c.push({column:t,field:n,property:n,order:o,sortTime:t.sortTime})}),T&&E&&c.length>1&&(c=a().orderBy(c,"sortTime")),!x&&e.length){const r=t=>e.every(({column:e,valueList:n,itemList:r})=>{const{filterMethod:o,filterRender:i}=e,l=s(i)?Ko.get(i.name):null,c=l?l.tableFilterMethod||l.filterMethod:null,u=l?l.tableFilterDefaultMethod||l.defaultTableFilterMethod||l.defaultFilterMethod:null,d=Qe(t,e);return o?r.some(n=>o({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Fn})):c?r.some(n=>c({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Fn})):y?y({$table:Fn,options:r,values:n,cellValue:d,row:t,column:e}):u?r.some(n=>u({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Fn})):n.indexOf(a().get(t,e.field))>-1});n?(D=a().searchTree(l,r,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,r,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.filter(r):o.filter(r),D=O)}else n?(D=a().searchTree(l,()=>!0,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,()=>!0,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.slice(0):o.slice(0),D=O);if(!w&&c.length)if(n){if(C){const e=C({data:D,sortList:c,$table:Fn});D=a().isArray(e)?e:D}else{const e=a().toTreeArray(D,{key:d.rowField,parentKey:d.parentField,children:d.mapChildrenField});D=a().toArrayTree(a().orderBy(e,c.map(({column:e,order:t})=>[yr(e),t])),{key:d.rowField,parentKey:d.parentField,children:d.childrenField,mapChildren:d.mapChildrenField})}O=D}else if(t&&h){if(C){const e=C({data:D,sortList:c,$table:Fn});D=a().isArray(e)?e:D}else{const e=a().toTreeArray(D,{children:v});D=a().toArrayTree(a().orderBy(e,c.map(({column:e,order:t})=>[yr(e),t])),{key:m,parentKey:g,children:f,mapChildren:v})}O=D}else{if(C){const e=C({data:O,sortList:c,$table:Fn});O=a().isArray(e)?e:O}else O=a().orderBy(O,c.map(({column:e,order:t})=>[yr(e),t]));D=O}}S.afterFullData=O,S.afterTreeFullData=D,S.afterGroupFullData=D,Cr()},Tr=()=>{const{showHeaderOverflow:t,showFooterOverflow:n,mouseConfig:r,spanMethod:o,footerSpanMethod:i}=e,{isGroup:a,currentRow:s,tableColumn:c,scrollXLoad:u,scrollYLoad:d,overflowX:p,scrollbarWidth:f,overflowY:h,scrollbarHeight:m,scrollXWidth:g,columnStore:v,editStore:b,isAllOverflow:x,expandColumn:y,isColLoading:w}=k,{visibleColumn:C,tableHeight:T,elemStore:E,customHeight:D,customMinHeight:A,customMaxHeight:M,tHeaderHeight:I,tFooterHeight:N}=S,R=S.xeGanttView,F=O.value;if(!F||!F.clientHeight)return;const _=["main","left","right"];let P=h?f:0,j=p?m:0;const L=J.value,$=ot.value,z=Vt.value,V=fn.value,B=tt(E["main-body-wrapper"]),H=tt(E["main-body-table"]);L&&(L.style.top=`${I}px`,L.style.height=B?B.offsetHeight-j+"px":"");const W=$.x||{},q=at.value,U=$.y||{},X=lt.value;let Z=p?"visible":"hidden";"visible"===W.visible||R?(j=m,Z="visible"):"hidden"!==W.visible&&!1!==W.visible||(j=0,Z="hidden");let Q=h?"visible":"hidden";"hidden"===U.visible||!1===U.visible||R&&!X?(P=0,Q="hidden"):"visible"===U.visible&&(P=f,Q="visible");let ee=0,te=0;const ne=A-I-N-j;M&&(te=Math.max(ne,M-I-N-j)),D&&(ee=D-I-N-j),ee||H&&(ee=H.clientHeight),ee&&(te&&(ee=Math.min(te,ee)),ee=Math.max(ne,ee));const re=be.value,ie=xe.value,ae=se.value;ae&&(ae.style.height=`${j}px`,ae.style.visibility=Z);const le=Ee.value;le&&(le.style.left=q?`${P}px`:"",le.style.width=F.clientWidth-P+"px"),re&&(re.style.width=q?`${P}px`:"",re.style.display=q&&p&&j?"block":""),ie&&(ie.style.width=q?"":`${P}px`,ie.style.display=q?"":"visible"===Z?"block":"");const ue=ce.value;ue&&(ue.style.width=`${P}px`,ue.style.height=`${ee+I+N}px`,ue.style.visibility=Q);const de=Te.value;de&&(de.style.height=`${I}px`,de.style.display=I&&"visible"===Q?"block":"");const pe=Oe.value;pe&&(pe.style.height=`${ee}px`,pe.style.top=`${I}px`);const fe=De.value;fe&&(fe.style.height=`${N}px`,fe.style.top=`${I+ee}px`,fe.style.display=N&&"visible"===Q?"block":"");const he=oe.value;return he&&(he.style.height=`${ee}px`,he.style.top=`${I}px`),S.tBodyHeight=ee,_.forEach((e,r)=>{const s=r>0?e:"",f=["header","body","footer"],h="left"===s;let m,b=[];s&&(b=h?v.leftList:v.rightList,m=h?G.value:Y.value),f.forEach(r=>{const f=tt(E[`${e}-${r}-wrapper`]),h=tt(E[`${e}-${r}-scroll`]),v=tt(E[`${e}-${r}-table`]);if("header"===r){let e=c,n=!1;a?e=C:(u&&t&&(o||i||(n=!0)),n&&(w||!s&&p)||(e=C),s&&n&&(e=b||[]));const r=e.reduce((e,t)=>e+t.renderWidth,0);s&&(a?f&&(f.style.width=g?`${g}px`:""):n?f&&(f.style.width=r?`${r}px`:""):f&&(f.style.width=g?`${g}px`:"")),h&&(h.style.height=`${I}px`),v&&(v.style.width=r?`${r}px`:"")}else if("body"===r){h&&(h.style.maxHeight=M?`${te}px`:"",h.style.height=D?`${ee}px`:"",h.style.minHeight=`${ne}px`),m&&(f&&(f.style.top=`${I}px`),m.style.height=`${D>0?D:T+I+N+j}px`,m.style.width=`${b.reduce((e,t)=>e+t.renderWidth,0)}px`);let t=c,n=!1;(u||d||x)&&(y&&"fixed"!==V.mode||o||i||(n=!0)),s&&(t=C,n&&(t=b||[]));const a=t.reduce((e,t)=>e+t.renderWidth,0);s&&(n?f&&(f.style.width=a?`${a}px`:""):f&&(f.style.width=g?`${g}px`:"")),v&&(v.style.width=a?`${a}px`:"",v.style.paddingRight=P&&s&&(l.firefox||l.safari)?`${P}px`:"");const p=tt(E[`${e}-${r}-emptyBlock`]);p&&(p.style.width=a?`${a}px`:"")}else if("footer"===r){let e=c,t=!1;u&&n&&(o||i||(t=!0)),t&&(w||!s&&p)||(e=C),s&&t&&(e=b||[]);const r=e.reduce((e,t)=>e+t.renderWidth,0);s&&(t?f&&(f.style.width=r?`${r}px`:""):f&&(f.style.width=g?`${g}px`:"")),h&&(h.style.height=`${N}px`,m&&f&&(f.style.top=`${D>0?D-N-j:T+I}px`)),v&&(v.style.width=r?`${r}px`:"")}})}),s&&Fn.setCurrentRow(s),r&&z.selected&&b.selected.row&&b.selected.column&&Fn.addCellSelectedClass(),R&&R.handleUpdateStyle&&R.handleUpdateStyle(),(0,K.nextTick)()},Er=e=>Fn.triggerValidate?Fn.triggerValidate(e):(0,K.nextTick)(),Or=(e,t)=>{Er("blur").catch(e=>e).then(()=>{Fn.handleEdit(t,e).then(()=>Er("change")).catch(e=>e)})},Dr=()=>{const{sortConfig:t}=e;if(t){const e=$t.value;let{defaultSort:n}=e;n&&(a().isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((e,t)=>{const{field:n,order:r}=e;if(n&&r){const e=Fn.getColumnByField(n);e&&e.sortable&&(e.order=r,e.sortTime=Date.now()+t)}}),e.remote||Fn.handleTableData(!0).then(Tr)))}},Ar=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=Nt.value,{checkAll:n,checkRowKeys:r}=t;if(n)Pr(!0,!0);else if(r){const t=[];r.forEach(n=>{e[n]&&t.push(e[n].row)}),_r(t,!0,!0)}}},Mr=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=It.value,{checkRowKey:n,reserve:r}=t;if(n&&(e[n]&&Fr(e[n].row,!0),r)){const e=je(Fn);S.radioReserveRow={[e]:n}}}},Ir=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=fn.value,{expandAll:n,expandRowKeys:r}=t;if(n)Fn.setAllRowExpand(!0);else if(r){const t=[];r.forEach(n=>{e[n]&&t.push(e[n].row)}),Fn.setRowExpand(t,!0)}}},Nr=e=>{const t=It.value;t.reserve&&(S.radioReserveRow=e)},Rr=(e,t)=>{const{checkboxReserveRowMap:n}=S,r=Nt.value;if(r.reserve){const r=Le(Fn,e);t?n[r]=e:n[r]&&delete n[r]}},Fr=(e,t)=>{const n=It.value,{checkMethod:r}=n;return e&&(t||!r||r({$table:Fn,row:e}))&&(k.selectRadioRow=e,Nr(e)),(0,K.nextTick)()},_r=(e,t,n)=>(e&&!a().isArray(e)&&(e=[e]),Fn.handleBatchSelectRows(e,!!t,n),Fn.checkSelectionStatus(),(0,K.nextTick)()),Pr=(t,n)=>{const{treeConfig:r}=e,{isRowGroupStatus:o}=k,{afterFullData:i,afterTreeFullData:l,afterGroupFullData:s,checkboxReserveRowMap:c,selectCheckboxMaps:u}=S,d=hn.value,p=Ct.value,f=d.children||d.childrenField,h=Nt.value,{checkField:m,reserve:g,checkMethod:v}=h,{handleGetRowId:b}=ze(Fn),x=h.indeterminateField||h.halfField,y={};if(m){const e=e=>{(n||!v||v({$table:Fn,row:e}))&&(t&&(y[b(e)]=e),a().set(e,m,t)),(r||o)&&x&&a().set(e,x,!1)};r||o?a().eachTree(i,e,{children:f}):i.forEach(e)}else o?t?a().eachTree(s,e=>{if(n||!v||v({$table:Fn,row:e})){const t=b(e);y[t]=e}},{children:p.mapChildrenField}):!n&&v&&a().eachTree(s,e=>{const t=b(e);!v({$table:Fn,row:e})&&u[t]&&(y[t]=e)},{children:p.mapChildrenField}):r?t?a().eachTree(l,e=>{if(n||!v||v({$table:Fn,row:e})){const t=b(e);y[t]=e}},{children:f}):!n&&v&&a().eachTree(l,e=>{const t=b(e);!v({$table:Fn,row:e})&&u[t]&&(y[t]=e)},{children:f}):t?!n&&v?i.forEach(e=>{const t=b(e);(u[t]||v({$table:Fn,row:e}))&&(y[t]=e)}):i.forEach(e=>{const t=b(e);y[t]=e}):!n&&v&&i.forEach(e=>{const t=b(e);!v({$table:Fn,row:e})&&u[t]&&(y[t]=e)});return g&&(t?a().each(y,(e,t)=>{c[t]=e}):i.forEach(e=>Rr(e,!1))),k.updateCheckboxFlag++,S.selectCheckboxMaps=m?{}:y,k.isAllSelected=t,k.isIndeterminate=!1,S.treeIndeterminateRowMaps={},Fn.checkSelectionStatus(),(0,K.nextTick)()},jr=()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:r,selectRadioRow:o}=k,{fullDataRowIdData:i,fullAllDataRowIdData:a,radioReserveRow:l,selectCheckboxMaps:s,treeExpandedMaps:c,rowExpandedMaps:u}=S,d=fn.value,p=hn.value,f=It.value,h=Nt.value;if(o&&!a[Le(Fn,o)]&&(k.selectRadioRow=null),f.reserve&&l){const e=Le(Fn,l);i[e]&&Fr(i[e].row,!0)}S.selectCheckboxMaps=Wn(s),k.updateCheckboxFlag++,h.reserve&&_r(Un(S.checkboxReserveRowMap),!0,!0),r&&!a[Le(Fn,r)]&&(k.currentRow=null),S.rowExpandedMaps=n?Wn(u):{},k.rowExpandedFlag++,n&&d.reserve&&Fn.setRowExpand(Un(S.rowExpandedReserveRowMap),!0),S.treeExpandedMaps=t?Wn(c):{},k.treeExpandedFlag++,t&&p.reserve&&Fn.setTreeExpand(Un(S.treeExpandedReserveRowMap),!0)},Lr=()=>{const{treeConfig:t}=e;if(t){const{fullAllDataRowIdData:e}=S,t=hn.value,{expandAll:n,expandRowKeys:r}=t;if(n)Fn.setAllTreeExpand(!0);else if(r){const t=[];r.forEach(n=>{const r=e[n];r&&t.push(r.row)}),Fn.setTreeExpand(t,!0)}}},$r=e=>{const t=hn.value,n=Nt.value,{transform:r,loadMethod:o}=t,{checkStrictly:i}=n;return new Promise(t=>{if(o){const{fullAllDataRowIdData:n,treeExpandLazyLoadedMaps:l}=S,s=Le(Fn,e),c=n[s];l[s]=e,Promise.resolve(o({$table:Fn,row:e})).then(t=>{if(c&&(c.treeLoaded=!0),l[s]&&delete l[s],a().isArray(t)||(t=[]),t)return Fn.loadTreeChildren(e,t).then(t=>{const{treeExpandedMaps:n}=S;return t.length&&!n[s]&&(n[s]=e),k.treeExpandedFlag++,!i&&Fn.isCheckedByCheckboxRow(e)&&_r(t,!0),(0,K.nextTick)().then(()=>{if(r)return Fn.handleTableData(),Cr(),(0,K.nextTick)()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:e}=S;c&&(c.treeLoaded=!1),e[s]&&delete e[s]}).finally(()=>{k.treeExpandedFlag++,(0,K.nextTick)().then(()=>Fn.recalculate()).then(()=>t())})}else t()})},zr=(e,t)=>{const{treeExpandedReserveRowMap:n}=S,r=hn.value;if(r.reserve){const r=Le(Fn,e);t?n[r]=e:n[r]&&delete n[r]}},Vr=e=>new Promise(t=>{const n=fn.value,{loadMethod:r}=n;if(r){const{fullAllDataRowIdData:n,rowExpandLazyLoadedMaps:o}=S,i=Le(Fn,e),a=n[i];o[i]=e,r({$table:Fn,row:e,rowIndex:Fn.getRowIndex(e),$rowIndex:Fn.getVMRowIndex(e)}).then(()=>{const{rowExpandedMaps:t}=S;a&&(a.expandLoaded=!0),t[i]=e,k.rowExpandedFlag++}).catch(()=>{a&&(a.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:e}=S;e[i]&&delete e[i],k.rowExpandedFlag++,(0,K.nextTick)().then(()=>Fn.recalculate()).then(()=>Fn.updateCellAreas()).then(()=>t())})}else t()}),Br=(e,t)=>{const{rowExpandedReserveRowMap:n}=S,r=fn.value;if(r.reserve){const r=Le(Fn,e);t?n[r]=e:n[r]&&delete n[r]}},Hr=()=>{const{mergeCells:t}=e;t&&Fn.setMergeCells(t)},Wr=()=>{const{mergeHeaderCells:t}=e;t&&Fn.setMergeHeaderCells(t)},qr=()=>{const{mergeFooterCells:t,mergeFooterItems:n}=e,r=t||n;r&&Fn.setMergeFooterCells(r)},Ur=()=>(0,K.nextTick)().then(()=>{const{scrollXLoad:e,scrollYLoad:t}=k,{scrollXStore:n,scrollYStore:r}=S,o=Xe.value,i=Ke.value;if(e){const{toVisibleIndex:e,visibleSize:t}=Gn(),r=Math.max(0,i.oSize?a().toNumber(i.oSize):0);n.preloadSize=a().toNumber(i.preSize),n.offsetSize=r,n.visibleSize=t,n.endIndex=Math.max(n.startIndex+n.visibleSize+r,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,e),n.visibleEndIndex=Math.min(n.endIndex,e+t),Fn.updateScrollXData().then(()=>{lo()})}else Fn.updateScrollXSpace();const l=Kn();r.rowHeight=l,k.rowHeight=l;const{toVisibleIndex:s,visibleSize:c}=Xn();if(t){const e=Math.max(0,o.oSize?a().toNumber(o.oSize):0);r.preloadSize=a().toNumber(o.preSize),r.offsetSize=e,r.visibleSize=c,r.endIndex=Math.max(r.startIndex+c+e,r.endIndex),r.visibleStartIndex=Math.max(r.startIndex,s),r.visibleEndIndex=Math.min(r.endIndex,s+c),Fn.updateScrollYData().then(()=>{yo()})}else Fn.updateScrollYSpace()}),Gr=()=>{const{scrollXWidth:e,scrollYHeight:t}=k,{elemStore:n}=S,r=ot.value,o=tt(n["main-body-wrapper"]),i=tt(n["main-header-table"]),a=tt(n["main-footer-table"]),l=ve.value,s=ke.value;let c=!1,u=!1;if(o){c=t>o.clientHeight,s&&(k.scrollbarWidth=r.width||s.offsetWidth-s.clientWidth||14),k.overflowY=c,u=e>o.clientWidth,l&&(k.scrollbarHeight=r.height||l.offsetHeight-l.clientHeight||14);const n=i?i.clientHeight:0,d=a?a.clientHeight:0;S.tableHeight=o.offsetHeight,S.tHeaderHeight=n,S.tFooterHeight=d,k.overflowX=u,k.parentHeight=Math.max(n+d+20,Fn.getParentHeight())}u&&Fn.checkScrolling()},Yr=(e,t,n)=>{const r=O.value;if(S.rceRunTime=Date.now(),!r||!r.clientWidth)return(0,K.nextTick)();const o=D.value;if(o){const[e,t,n,r]=o.children;Yn("default",e),Yn("medium",t),Yn("small",n),Yn("mini",r)}return t&&gr(),e&&vr(),Gr(),Tr(),jo(),Ur().then(()=>{if(t&&gr(),e&&vr(),n&&xr(),Tr(),Gr(),e&&Po(),jo(),e)return Ur()})},Kr=(e,t,n)=>new Promise(r=>{const o=S.xeGanttView,{rceTimeout:i,rceRunTime:a}=S,l=Dt.value,s=l.refreshDelay||20,c=O.value;c&&c.clientWidth&&(vr(),jo()),i?(clearTimeout(i),a&&a+(s-5)<Date.now()?r(Yr(e,t,n)):(0,K.nextTick)(()=>{r()})):r(Yr(e,t,n)),o&&o.handleLazyRecalculate&&o.handleLazyRecalculate(),S.rceTimeout=setTimeout(()=>{S.rceTimeout=void 0,Yr(e,t,n)},s)}),Xr=()=>{Kr(!0,!0,!0)},Zr=()=>{const{visibleColumn:e}=S,t=[];e.forEach(e=>{e.aggFunc&&t.push(e)}),k.aggHandleAggColumns=t},Jr=e=>{const t=[],n=[];e&&(a().isArray(e)?e:[e]).forEach(e=>{t.push(e),n.push({field:e})}),k.rowGroupList=n,k.aggHandleFields=t,Zr()},Qr=e=>{const t=Ct.value,{mapChildrenField:n}=t;n&&(a().lastEach(e,e=>{let t=0;a().each(e[n],e=>{e.isAggregate?t+=e.childCount||0:t++}),e.childCount=t}),Fn.handlePivotTableAggregateData&&Fn.handlePivotTableAggregateData(e))},eo=()=>{const{aggregateConfig:t,rowGroupConfig:n}=e,{isRowGroupStatus:r}=k,{tableFullGroupData:o}=S,i=Ct.value,{mapChildrenField:l}=i;if((t||n)&&r){const e=[];a().eachTree(o,t=>{t.isAggregate&&e.push(t)},{children:l}),Qr(e)}},to=(e,t)=>{let n=e,r=e;if(t){const o=Ct.value,{rowField:i,parentField:l,childrenField:s,mapChildrenField:c}=o,u=Nt.value,{checkField:d}=u,p=u.indeterminateField||u.halfField,f=t[0];if(f&&i&&l&&s&&c){n=[],r=[];const o=f.field,u=Fn.getColumnByField(o),h={},m=[],g=je(Fn);e.forEach(e=>{const t=u?Fn.getCellLabel(e,u):a().get(e,o),n=a().eqNull(t)?"":t;let r=h[n];r||(r=[],h[n]=r),e.isAggregate&&(e.isAggregate=void 0),r.push(e)}),a().objectEach(h,(e,a)=>{const{fullData:u,treeData:f}=to(e,t.slice(1)),h={isAggregate:!0,aggData:{},groupContent:a,groupField:o,childCount:0,[i]:_e(),[l]:null,[g]:_e(),[s]:f,[c]:f};d&&(h[d]=!1),p&&(h[p]=!1),m.push(h),r.push(h),n.push(h),u.length&&n.push(...u)}),Qr(m)}}return{treeData:r,fullData:n}},no=(t,n)=>{const{keepSource:r,treeConfig:o,rowGroupConfig:i,aggregateConfig:l}=e,{rowGroupList:s,scrollYLoad:c}=k,{scrollYStore:u,scrollXStore:d,lastScrollLeft:p,lastScrollTop:f}=S,h=wt.value,m=hn.value,g=fn.value,{transform:v}=m,b=m.children||m.childrenField;let x=[],y=(0,K.reactive)(t?t.slice(0):[]);if(y.length>ii&&ee("vxe.error.errMaxRow",[ii]),o&&s.length)return ee("vxe.error.noTree",["aggregate-config"]),(0,K.nextTick)();if(h.drag&&s.length)return ee("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),(0,K.nextTick)();let w=!1;if(o)v?(m.rowField||ee("vxe.error.reqProp",["tree-config.rowField"]),m.parentField||ee("vxe.error.reqProp",["tree-config.parentField"]),b||ee("vxe.error.reqProp",["tree-config.childrenField"]),m.mapChildrenField||ee("vxe.error.reqProp",["tree-config.mapChildrenField"]),b===m.mapChildrenField&&ee("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),x=a().toArrayTree(y,{key:m.rowField,parentKey:m.parentField,children:b,mapChildren:m.mapChildrenField}),y=x.slice(0)):x=y.slice(0);else if((l||i)&&s.length){const e=to(y,s);x=e.treeData,y=e.fullData,w=!0}k.isRowGroupStatus=w,u.startIndex=0,u.endIndex=1,d.startIndex=0,d.endIndex=1,S.cvCacheMaps={},k.isRowLoading=!0,k.scrollVMLoading=!1,k.treeExpandedFlag++,k.rowExpandedFlag++,S.insertRowMaps={},k.insertRowFlag++,S.removeRowMaps={},k.removeRowFlag++;const C=fo(y);return S.tableFullData=y,S.tableFullTreeData=w?[]:x,S.tableFullGroupData=w?x:[],Fn.cacheRowMap(n),S.tableSynchData=t,n&&(S.isResizeCellHeight=!1),r&&Fn.cacheSourceMap(y),Fn.clearCellAreas&&e.mouseConfig&&(Fn.clearCellAreas(),Fn.clearCopyCellArea()),Fn.clearMergeCells(),Fn.clearMergeFooterItems(),Fn.handleTableData(!0),Fn.updateFooter(),Fn.handleUpdateBodyMerge(),(0,K.nextTick)().then(()=>{hr(),Tr()}).then(()=>{Ur()}).then(()=>{const t=Xe.value;return C&&(u.endIndex=u.visibleSize),C&&(k.expandColumn&&"fixed"!==g.mode&&ee("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),"scroll"===t.mode&&"fixed"===g.mode&&Q("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||ee("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&ee("vxe.error.scrollErrProp",["table.span-method"])),jr(),Fn.checkSelectionStatus(),Fn.dispatchEvent("data-change",{visibleColumn:S.visibleColumn,visibleData:S.afterFullData},null),new Promise(t=>{(0,K.nextTick)().then(()=>Yr(!1,!1,!1)).then(()=>{Yr(!1,!0,!0),Po()}).then(()=>{let n=p,r=f;const o=Ke.value,i=Xe.value;o.scrollToLeftOnChange&&(n=0),i.scrollToTopOnChange&&(r=0),k.isRowLoading=!1,Yr(!1,!1,!1),e.showOverflow||setTimeout(()=>{Kr(!1,!0,!0),setTimeout(()=>Kr(!1,!0,!0),3e3)},2e3),c===C?Fe(Fn,n,r).then(()=>{Yr(!1,!0,!0),Po(),t()}):setTimeout(()=>{Fe(Fn,n,r).then(()=>{Yr(!1,!0,!0),Po(),t()})})})})})},ro=()=>{Ar(),Mr(),Ir(),Lr(),bo(),Hr(),Wr(),qr(),(0,K.nextTick)(()=>setTimeout(()=>Fn.recalculate()))},oo=()=>{Dr()},io=()=>{const{scrollXLoad:e}=k,{visibleColumn:t,scrollXStore:n,fullColumnIdData:r}=S,o=e?t.slice(n.startIndex,n.endIndex):t.slice(0);o.forEach((e,t)=>{const n=e.id,o=r[n];o&&(o.$index=t)}),k.tableColumn=o},ao=()=>{const e=a().orderBy(S.collectColumn,"renderSortNumber");S.collectColumn=e;const t=it(e);S.tableFullColumn=t,fr()},lo=()=>{const{isScrollXBig:e}=k,{mergeBodyList:t,mergeFooterList:n,scrollXStore:r}=S,{preloadSize:o,startIndex:i,endIndex:a,offsetSize:l}=r,{toVisibleIndex:s,visibleSize:c}=Gn(),u={startIndex:Math.max(0,e?s-1:s-1-l-o),endIndex:e?s+c:s+c+l+o};r.visibleStartIndex=s-1,r.visibleEndIndex=s+c+1,Zn(t.concat(n),u,"col");const{startIndex:d,endIndex:p}=u;(s<=i||s>=a-c-1)&&(i===d&&a===p||(r.startIndex=d,r.endIndex=p,Fn.updateScrollXData())),Fn.closeTooltip()},so=t=>{const n=[],r=[],o=[],{isGroup:i,columnStore:l}=k,{collectColumn:s,tableFullColumn:c,scrollXStore:u,fullColumnIdData:d}=S;if(i){const e=[],t=[],i=[];a().eachTree(s,(e,t,i,l,s)=>{const c=f(e);s&&s.fixed&&(e.fixed=s.fixed),s&&(e.fixed||"")!==(s.fixed||"")&&ee("vxe.error.groupFixed"),c?e.visible=!!a().findTree(e.children,e=>!f(e)&&e.visible):e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?o.push(e):r.push(e))}),s.forEach(n=>{n.visible&&("left"===n.fixed?e.push(n):"right"===n.fixed?i.push(n):t.push(n))}),k.tableGroupColumn=e.concat(t).concat(i)}else c.forEach(e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?o.push(e):r.push(e))});const p=n.concat(r).concat(o);S.visibleColumn=p,_o();const h=po();if(k.hasFixedColumn=n.length>0||o.length>0,Object.assign(l,{leftList:n,centerList:r,rightList:o}),h&&(e.spanMethod&&Q("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&Q("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:e}=Gn();u.startIndex=0,u.endIndex=e,u.visibleSize=e,u.visibleStartIndex=0,u.visibleEndIndex=e}return p.length===S.visibleColumn.length&&S.visibleColumn.every((e,t)=>e===p[t])||(Fn.clearMergeCells(),Fn.clearMergeFooterItems()),p.forEach((e,t)=>{const n=e.id,r=d[n];r&&(r._index=t)}),io(),Zr(),t?(_o(),Fn.updateFooter().then(()=>Fn.recalculate()).then(()=>(Fn.updateCellAreas(),Fn.recalculate()))):Fn.updateFooter()},co=()=>{const{collectColumn:e}=S,t={},n={};let r=1;a().eachTree(e,(e,o,i,a,l)=>{const{id:s,field:c}=e,u=l?l.id:null,d={$index:-1,_index:-1,column:e,colid:s,index:o,items:i,parent:l||null,width:0,oLeft:0};e.parentId=u,e.defaultParentId=u,e.sortNumber=r,e.renderSortNumber=r,r++,c&&(n[c]&&ee("vxe.error.colRepet",["field",c]),n[c]=d),t[s]=d}),S.fullColumnIdData=t,S.fullColumnFieldData=n},uo=t=>{const n=fn.value;S.collectColumn=t;const r=it(t);return S.tableFullColumn=r,k.isColLoading=!0,co(),Promise.resolve(pr()).then(()=>{const{scrollXLoad:t,scrollYLoad:r,expandColumn:o}=k;return fr(),so(!0).then(()=>{k.scrollXLoad&&lo()}),Fn.clearMergeCells(),Fn.clearMergeFooterItems(),Fn.handleTableData(!0),Fn.handleAggregateSummaryData(),(t||r)&&o&&"fixed"!==n.mode&&Q("vxe.error.scrollErrProp",["column.type=expand"]),(0,K.nextTick)().then(()=>{Ne&&Ne.syncUpdate({collectColumn:S.collectColumn,$table:Fn}),Fn.handleUpdateCustomColumn&&Fn.handleUpdateCustomColumn();const t=ft.value;return e.showCustomHeader&&k.isGroup&&(t.resizable||e.resizable)&&Q("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),k.isColLoading=!1,Kr(!1,!0,!0)})})},po=e=>{const t=Ke.value,n=e||S.tableFullColumn,r=!!t.enabled&&t.gt>-1&&(0===t.gt||t.gt<n.length);return k.scrollXLoad=r,r},fo=t=>{const{treeConfig:n}=e,r=S.xeGanttView,o=Xe.value,i=hn.value,{transform:a}=i,l=t||S.tableFullData,s=(a||!n)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<l.length);return k.scrollYLoad=s,r&&r.handleUpdateSYStatus&&r.handleUpdateSYStatus(s),s},ho=(e,t)=>{const{treeNodeColumn:n}=k,{fullAllDataRowIdData:r,tableFullTreeData:o,treeExpandedMaps:i,treeExpandLazyLoadedMaps:l}=S,s=hn.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,f=s.children||s.childrenField,h=s.hasChild||s.hasChildField,m=[],g=Fn.getColumnIndex(n),v=Fn.getVMColumnIndex(n),{handleGetRowId:b}=ze(Fn);let x=p?e.filter(e=>p({$table:Fn,expanded:t,column:n,columnIndex:g,$columnIndex:v,row:e})):e;if(d){x=x.length?[x[x.length-1]]:[];const e=a().findTree(o,e=>e===x[0],{children:f});e&&e.items.forEach(e=>{const t=b(e);i[t]&&delete i[t]})}return t?x.forEach(e=>{const t=b(e);if(!i[t]){const n=r[t];if(n){const r=u&&e[h]&&!n.treeLoaded&&!l[t];r?m.push($r(e)):e[f]&&e[f].length&&(i[t]=e)}}}):x.forEach(e=>{const t=b(e);i[t]&&delete i[t]}),c&&x.forEach(e=>zr(e,t)),k.treeExpandedFlag++,Promise.all(m).then(()=>Fn.recalculate())},mo=(e,t)=>ho(e,t).then(()=>(kr(),Fn.handleTableData(),k.treeExpandedFlag++,Cr(),(0,K.nextTick)())).then(()=>Kr(!0,!0,!0)).then(()=>{setTimeout(()=>{Fn.updateCellAreas()},30)}),go=(e,t)=>{const{fullAllDataRowIdData:n,tableFullGroupData:r,rowGroupExpandedMaps:o}=S,i=Ct.value,{mapChildrenField:l,accordion:s}=i,{handleGetRowId:c}=ze(Fn);let u=e;if(l){if(s){u=u.length?[u[u.length-1]]:[];const e=a().findTree(r,e=>Le(Fn,e)===Le(Fn,u[0]),{children:l});e&&e.items.forEach(e=>{const t=c(e);o[t]&&delete o[t]})}t?u.forEach(e=>{const t=c(e);if(!o[t]){const r=n[t];r&&e[l]&&e[l].length&&(o[t]=e)}}):u.forEach(e=>{const t=c(e);o[t]&&delete o[t]})}return k.rowGroupExpandedFlag++,Fn.recalculate()},vo=(e,t)=>go(e,t).then(()=>(kr(),Fn.handleTableData(),k.rowGroupExpandedFlag++,Cr(),(0,K.nextTick)())).then(()=>Kr(!0,!0,!0)).then(()=>{setTimeout(()=>{Fn.updateCellAreas()},30)}),bo=()=>{const{isRowGroupStatus:e}=k;if(e){const e=Ct.value,{expandAll:t,expandGroupFields:n}=e;t?Fn.setAllRowGroupExpand(!0):n&&n.length&&Fn.setRowGroupExpandByField(n,!0)}},xo=(e,t)=>{Pr(t),e&&Mo("checkbox-all",{records:()=>Fn.getCheckboxRecords(),reserves:()=>Fn.getCheckboxReserveRecords(),indeterminates:()=>Fn.getCheckboxIndeterminateRecords(),checked:t},e)},yo=()=>{const{isAllOverflow:e,isScrollYBig:t}=k,{mergeBodyList:n,scrollYStore:r}=S,{preloadSize:o,startIndex:i,endIndex:a,offsetSize:l}=r,s=e?l:l+1,{toVisibleIndex:c,visibleSize:u}=Xn(),d={startIndex:Math.max(0,t?c-1:c-1-l-o),endIndex:t?c+u:c+u+s+o};r.visibleStartIndex=c-1,r.visibleEndIndex=c+u+1,Zn(n,d,"row");const{startIndex:p,endIndex:f}=d;(c<=i||c>=a-u-1)&&(i===p&&a===f||(r.startIndex=p,r.endIndex=f,Fn.updateScrollYData()))},wo=e=>function(t){const{fullAllDataRowIdData:n}=S;if(t){const r=Le(Fn,t),o=n[r];if(o)return o[e]}return-1},Co=e=>function(t){const{fullColumnIdData:n}=S;if(t){const r=n[t.id];if(r)return r[e]}return-1},ko=()=>{const{lxTimeout:e,lxRunTime:t,scrollXStore:n}=S,{visibleSize:r}=n,o=r>26?26:r>16?14:6;e&&clearTimeout(e),(!t||t+o<Date.now())&&(S.lxRunTime=Date.now(),lo()),S.lxTimeout=setTimeout(()=>{S.lxTimeout=void 0,S.lxRunTime=void 0,lo()},o)},So=()=>{const{lyTimeout:e,lyRunTime:t,scrollYStore:n}=S,{visibleSize:r}=n,o=r>30?32:r>20?18:8;e&&clearTimeout(e),(!t||t+o<Date.now())&&(S.lyRunTime=Date.now(),yo()),S.lyTimeout=setTimeout(()=>{S.lyTimeout=void 0,S.lyRunTime=void 0,yo()},o)},To=(e,t)=>{const{lcsTimeout:n}=S;k.lazScrollLoading=!0,n&&clearTimeout(n),S.lcsTimeout=setTimeout(()=>{const{scrollXLoad:n,scrollYLoad:r,isAllOverflow:o}=k;S.lcsRunTime=Date.now(),S.lcsTimeout=void 0,S.intoRunScroll=!1,S.inVirtualScroll=!1,S.inWheelScroll=!1,S.inHeaderScroll=!1,S.inBodyScroll=!1,S.inFooterScroll=!1,k.lazScrollLoading=!1,S.scrollRenderType="",o||(xr(),Po()),e&&n&&Fn.updateScrollXData(),t&&r&&Fn.updateScrollYData().then(()=>{o||(xr(),Po()),Fn.updateScrollYSpace()}),jo(),Fn.updateCellAreas()},200)},Eo=e=>{let t=1;const n=Date.now();return e+25>n?t=1.18:e+30>n?t=1.15:e+40>n?t=1.12:e+55>n?t=1.09:e+75>n?t=1.06:e+100>n&&(t=1.03),t},Oo=(e,t)=>{requestAnimationFrame(()=>{t(e)})},Do=(e,t)=>{const n=Math.abs(e),r=performance.now();let o=0;const i=a=>{let l=(a-r)/n;l<0?l=0:l>1&&(l=1);const s=Math.pow(l,2),c=Math.floor(e*s)-o;o+=c,t(c),l<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},Ao=e=>{const t=S.xeGanttView;if(t){const n=t.internalData,{elemStore:r}=n,o=tt(r["main-body-scroll"]);o&&(o.scrollTop=e)}},Mo=(e,t,n)=>{r(e,Zo(n,{$table:Fn,$grid:b,$gantt:x},t))},Io=(e,t)=>{const{fullColumnIdData:n}=S,r=Ue(Fn,e);return r&&n[r.id]?yt(Fn,r,t):(0,K.nextTick)()},No=()=>{const e=O.value;e&&e.clientWidth&&e.clientHeight&&Fn.recalculate()},Ro=(e,t)=>{Fn.analyColumnWidth(),Fn.recalculate().then(()=>{Fn.saveCustomStore("update:width"),Fn.updateCellAreas(),Fn.dispatchEvent("column-resizable-change",t,e),Fn.dispatchEvent("resizable-change",t,e),setTimeout(()=>Fn.recalculate(!0),300)})},Fo=(e,t)=>{k.resizeHeightFlag++,Fn.recalculate().then(()=>{Fn.updateCellAreas(),Fn.dispatchEvent("row-resizable-change",t,e),setTimeout(()=>Fn.recalculate(!0),300)})},_o=()=>{const{visibleColumn:e,fullColumnIdData:t}=S;let n=0;for(let r=0,o=e.length;r<o;r++){const o=e[r],i=o.id,a=t[i];a&&(a.oLeft=n),n+=o.renderWidth}},Po=()=>{const{expandColumn:e}=k,{afterFullData:t,fullAllDataRowIdData:n,rowExpandedMaps:r}=S,o=fn.value,i=wt.value,a=mt.value,l=dt.value,{handleGetRowId:s}=ze(Fn);let c=0;for(let u=0,d=t.length;u<d;u++){const d=t[u],p=s(d),f=n[p]||{};f.oTop=c,c+=f.resizeHeight||a.height||i.height||f.height||l,e&&r[p]&&(c+=f.expandHeight||o.height||0)}},jo=()=>{const{expandColumn:e,scrollYLoad:t,scrollYTop:n,isScrollYBig:r}=k,o=fn.value,i=wt.value,l=mt.value,s=dt.value,{mode:c}=o;if(e&&"fixed"===c){const{elemStore:e,fullAllDataRowIdData:o}=S,c=oe.value,u=tt(e["main-body-scroll"]);if(c&&u){let e=!1;a().arrayEach(c.children,a=>{const c=a,d=c.getAttribute("rowid")||"",p=o[d];if(p){const o=c.offsetHeight+1,a=u.querySelector(`.vxe-body--row[rowid="${d}"]`);let f=0;t?f=r&&a?a.offsetTop+a.offsetHeight:p.oTop+(p.resizeHeight||l.height||i.height||p.height||s):a&&(f=a.offsetTop+a.offsetHeight),r&&(f+=n),c.style.top=ge(f),e||p.expandHeight!==o&&(e=!0),p.expandHeight=o}}),e&&(k.rowExpandHeightFlag++,(0,K.nextTick)(()=>{Po()}))}}},Lo=()=>{const{elemStore:e}=S,t=oe.value,n=tt(e["main-body-scroll"]);t&&n&&(t.scrollTop=n.scrollTop)};T={dispatchEvent:Mo,getEl(){return O.value},clearAll(){return bt(Fn)},syncData(){return ee("vxe.error.delFunc",["syncData","getData"]),(0,K.nextTick)().then(()=>(k.tableData=[],r("update:data",S.tableFullData),(0,K.nextTick)()))},updateData(){const{scrollXLoad:e,scrollYLoad:t}=k;return Fn.handleTableData(!0).then(()=>{if(Fn.updateFooter(),e||t)return e&&Fn.updateScrollXSpace(),t&&Fn.updateScrollYSpace(),Fn.refreshScroll()}).then(()=>(Fn.updateCellAreas(),Kr(!0,!0,!0))).then(()=>{setTimeout(()=>Kr(!1,!0,!0),50)})},loadData(e){const{initStatus:t}=S;return no(e,!1).then(()=>(S.inited=!0,S.initStatus=!0,t||ro(),Kr(!1,!0,!0)))},reloadData(e){return Fn.clearAll().then(()=>(S.inited=!0,S.initStatus=!0,no(e,!0))).then(()=>(ro(),Kr(!1,!0,!0)))},setRow(e,t){if(e&&t){let n=e;a().isArray(e)||(n=[e]);const r=je(Fn);n.forEach(e=>{const n=Le(Fn,e),o=a().clone(Object.assign({},t),!0);a().set(o,r,n),Object.assign(e,o)})}return(0,K.nextTick)()},reloadRow(t,n,r){const{keepSource:o}=e,{tableData:i}=k,{sourceDataRowIdData:l}=S;if(o){if(Fn.isAggregateRecord(t))return(0,K.nextTick)();const e=l[Le(Fn,t)];if(e&&t)if(r){const o=a().clone(a().get(n||t,r),!0);a().set(t,r,o),a().set(e,r,o)}else{const r=je(Fn),o=Le(Fn,t),i=a().clone(Object.assign({},n),!0);a().set(i,r,o),a().destructuring(e,Object.assign(t,i))}k.tableData=i.slice(0)}else ee("vxe.error.reqProp",["keep-source"]);return(0,K.nextTick)()},getParams(){return e.params},loadTreeChildren(t,n){const{keepSource:r}=e,{tableSourceData:o,fullDataRowIdData:i,fullAllDataRowIdData:l,sourceDataRowIdData:s}=S,c=hn.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,f=l[Le(Fn,t)],h=f?f.level:0;return T.createData(n).then(e=>{if(r){const n=Le(Fn,t),r=a().findTree(o,e=>n===Le(Fn,e),{children:p});r&&(r.item[p]=a().clone(e,!0)),e.forEach(e=>{const t=Le(Fn,e);s[t]=a().clone(e,!0)})}return a().eachTree(e,(e,t,n,r,o,a)=>{const s=Le(Fn,e),c=o||f.row,u={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:n,parent:c,level:h+a.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};i[s]=u,l[s]=u},{children:p}),t[p]=e,u&&(t[d]=a().clone(e,!1)),Cr(),e})},loadColumn(e){const{lastScrollLeft:t,lastScrollTop:n}=S,r=a().mapTree(e,e=>(0,K.reactive)(Wt.createColumn(Fn,e)));return uo(r).then(()=>{let e=t,r=n;const o=Ke.value,i=Xe.value;o.scrollToLeftOnChange&&(e=0),i.scrollToTopOnChange&&(r=0),Fe(Fn,e,r)})},reloadColumn(e){return T.clearAll().then(()=>T.loadColumn(e))},getRowNode(e){if(e){const{fullAllDataRowIdData:t}=S,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=S,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:wo("seq"),getRowIndex:wo("index"),getVTRowIndex:wo("_index"),getVMRowIndex:wo("$index"),getColumnIndex:Co("index"),getVTColumnIndex:Co("_index"),getVMColumnIndex:Co("$index"),createData(e){return(0,K.nextTick)().then(()=>(0,K.reactive)(E.defineField(e)))},createRow(e){const t=a().isArray(e);return t||(e=[e||{}]),T.createData(e).then(e=>t?e:e[0])},revertData(t,n){const{keepSource:r,treeConfig:o}=e,{fullAllDataRowIdData:i,fullDataRowIdData:l,tableSourceData:s,sourceDataRowIdData:c,tableFullData:u,afterFullData:d,removeRowMaps:p}=S,f=hn.value,{transform:h}=f,{handleGetRowId:m}=ze(Fn);if(!r)return ee("vxe.error.reqProp",["keep-source"]),(0,K.nextTick)();let g=t;t?a().isArray(t)||(g=[t]):g=a().toArray(Fn.getUpdateRecords());let v=!1;return g.length&&g.forEach(e=>{const t=m(e),r=i[t];if(r){const e=r.row;if(!Fn.isInsertByRow(e)){const r=c[t];r&&e&&(n?a().set(e,n,a().clone(a().get(r,n),!0)):a().destructuring(e,a().clone(r,!0)),!l[t]&&Fn.isRemoveByRow(e)&&(p[t]&&delete p[t],u.unshift(e),d.unshift(e),v=!0))}}}),t?(v&&(k.removeRowFlag++,Fn.updateFooter(),Fn.cacheRowMap(!1),Fn.handleTableData(o&&h),o&&h||Fn.updateAfterDataIndex(),Fn.checkSelectionStatus(),k.scrollYLoad&&Fn.updateScrollYSpace()),(0,K.nextTick)().then(()=>(Fn.updateCellAreas(),Kr(!1,!0,!0)))):Fn.reloadData(s)},clearData(e,t){const{tableFullData:n,visibleColumn:r}=S;return arguments.length?e&&!a().isArray(e)&&(e=[e]):e=n,t?e.forEach(e=>a().set(e,t,null)):e.forEach(e=>{r.forEach(t=>{t.field&&et(e,t,null)})}),(0,K.nextTick)()},getCellElement(e,t){const{elemStore:n}=S,r=Ue(Fn,t);if(!r)return null;const o=Le(Fn,e),i=tt(n["main-body-scroll"]),a=tt(n["left-body-scroll"]),l=tt(n["right-body-scroll"]);let s;return r&&(r.fixed&&("left"===r.fixed?a&&(s=a):l&&(s=l)),s||(s=i),s)?s.querySelector(`.vxe-body--row[rowid="${o}"] .${r.id}`):null},getCellLabel(e,t){const n=Ue(Fn,t);if(!n)return null;const{formatter:r}=n,o=Qe(e,n);let i=o;if(r){let t;const{fullAllDataRowIdData:l}=S,s=Le(Fn,e),c=n.id,u=l[s];if(u&&(t=u.formatData,t||(t=l[s].formatData={}),u&&t[c]&&t[c].value===o))return t[c].label;const d={cellValue:o,row:e,rowIndex:T.getRowIndex(e),column:n,columnIndex:T.getColumnIndex(n)};if(a().isString(r)){const e=Xo.get(r),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;i=t?t(d):""}else if(a().isArray(r)){const e=Xo.get(r[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;i=t?t(d,...r.slice(1)):""}else i=r(d);t&&(t[c]={value:o,label:i})}return i},isInsertByRow(e){const t=Le(Fn,e);return!!k.insertRowFlag&&!!S.insertRowMaps[t]},isRemoveByRow(e){const t=Le(Fn,e);return!!k.removeRowFlag&&!!S.removeRowMaps[t]},removeInsertRow(){const{insertRowMaps:e}=S;return Fn.remove(a().values(e))},isUpdateByRow(t,n){const{keepSource:r}=e,{tableFullColumn:o,fullDataRowIdData:i,sourceDataRowIdData:l}=S;if(r){const e=a().isString(t)||a().isNumber(t)?t:Le(Fn,t),r=i[e];if(!r)return!1;const s=r.row,c=l[e];if(c){if(arguments.length>1)return!_n(c,s,n);for(let e=0,t=o.length;e<t;e++){const t=o[e].field;if(t&&!_n(c,s,t))return!0}}}return!1},getColumns(e){const{visibleColumn:t}=S;return a().isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=Ue(Fn,e);return t?t.id:null},getColumnById(e){const{fullColumnIdData:t}=S;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=S.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const{fullColumnIdData:t}=S,n=Ue(Fn,e);return n&&n.parentId&&t[n.parentId]?t[n.parentId].column:null},getTableColumn(){return{collectColumn:S.collectColumn.slice(0),fullColumn:S.tableFullColumn.slice(0),visibleColumn:S.visibleColumn.slice(0),tableColumn:k.tableColumn.slice(0)}},moveColumnTo(e,t,n){const{fullColumnIdData:r,visibleColumn:o}=S,{dragToChild:i,dragPos:l,isCrossDrag:s}=Object.assign({},n),c=Ue(Fn,e);let u=null;const d=c?r[c.id]:null;let p="left";if(a().isNumber(t)){if(d&&t){let e=d.items,n=d._index+t;s&&(e=o,n=d._index+t),n>0&&n<e.length-1&&(u=e[n]),t>0&&(p="right")}}else{u=Ue(Fn,t);const e=u?r[u.id]:null;d&&e&&e._index>d._index&&(p="right")}return Fn.handleColDragSwapEvent(null,!0,c,u,l||p,!0===i)},moveRowTo(t,n,r){const{treeConfig:o}=e,{fullAllDataRowIdData:i,afterFullData:l}=S,{dragToChild:s,dragPos:c,isCrossDrag:u}=Object.assign({},r),d=hn.value,p=Ge(Fn,t);let f=null,h="top";const m=p?i[Le(Fn,p)]:null;if(a().isNumber(n)){if(m&&n){let e=l,t=m._index+n;o&&(e=m.items,d.transform&&(t=m.treeIndex+n,u&&(e=l,t=m._index+n))),t>=0&&t<=e.length-1&&(f=e[t]),n>0&&(h="bottom")}}else{f=Ge(Fn,n);const e=f?i[Le(Fn,f)]:null;m&&e&&e._index>m._index&&(h="bottom")}const g=Fn.handleRowDragSwapEvent(null,!0,p,f,c||h,!0===s);return ki(),g},getFullColumns(){const{collectColumn:e}=S;return e.slice(0)},getData(t){const n=e.data||S.tableSynchData;return a().isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{updateCheckboxFlag:r}=k,{tableFullData:o,afterFullData:i,tableFullTreeData:l,fullDataRowIdData:s,afterFullRowMaps:c,selectCheckboxMaps:u}=S,d=hn.value,p=Nt.value,{transform:f,mapChildrenField:h}=d,{checkField:m}=p,g=d.children||d.childrenField;let v=[];if(r)if(m)if(n){const e=t?f?l:o:f?l:i;v=a().filterTree(e,e=>a().get(e,m),{children:f?h:g})}else{const e=t?o:i;v=e.filter(e=>a().get(e,m))}else{const e=t||n&&!f?s:c;a().each(u,(t,n)=>{e[n]&&v.push(s[n].row)})}return v},getTreeRowChildren(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=S,o=hn.value,{transform:i,mapChildrenField:l}=o,s=o.children||o.childrenField;if(t&&n){let e;if(e=a().isString(t)?t:Le(Fn,t),e){const t=r[e],n=t?t.row:null;if(n)return n[i?l:s]||[]}}return[]},getTreeRowLevel(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=S;if(t&&n){let e;if(e=a().isString(t)?t:Le(Fn,t),e){const t=r[e];if(t)return t.level}}return-1},getTreeParentRow(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=S;if(t&&n){let e;if(e=a().isString(t)?t:Le(Fn,t),e){const t=r[e];if(t)return t.parent}}return null},getParentRow(e){return Q("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),Fn.getTreeParentRow(e)},getRowById(e){const{fullAllDataRowIdData:t}=S,n=a().eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid(e){return Le(Fn,e)},getTableData(){const{tableData:t,footerTableData:n}=k,{tableFullData:r,afterFullData:o,tableFullTreeData:i}=S;return{fullData:e.treeConfig?i.slice(0):r.slice(0),visibleData:o.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:n,tableFullTreeData:r}=S;if(t){const e=hn.value,{transform:t,mapChildrenField:n,rowField:o,parentField:i}=e,l=e.children||e.childrenField;return t?a().toArrayTree(a().toTreeArray(r,{children:n}),{key:o,parentKey:i,children:l,mapChildren:n}):r.slice(0)}return n.slice(0)},setColumnFixed(e,t){let n=!1;const r=a().isArray(e)?e:[e],i=ft.value,l=Sn.value;for(let s=0;s<r.length;s++){const e=r[s],c=Ue(Fn,e),u=ut(Fn,c);if(u&&u.fixed!==t){if(!u.fixed&&l)return o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.table.maxFixedCol",[i.maxFixedSize])}),(0,K.nextTick)();a().eachTree([u],e=>{e.fixed=t,e.renderFixed=t}),E.saveCustomStore("update:fixed"),n||(n=!0)}}return n?T.refreshColumn():(0,K.nextTick)()},clearColumnFixed(e){let t=!1;const n=a().isArray(e)?e:[e];return n.forEach(e=>{const n=Ue(Fn,e),r=ut(Fn,n);r&&r.fixed&&(a().eachTree([r],e=>{e.fixed=null,e.renderFixed=null}),E.saveCustomStore("update:fixed"),t||(t=!0))}),t?T.refreshColumn():(0,K.nextTick)()},hideColumn(e){let t=!1;const n=a().isArray(e)?e:[e];return n.forEach(e=>{const n=Ue(Fn,e);n&&n.visible&&(n.visible=!1,t||(t=!0))}),t?E.handleCustom():(0,K.nextTick)()},showColumn(e){let t=!1;const n=a().isArray(e)?e:[e];return n.forEach(e=>{const n=Ue(Fn,e);n&&!n.visible&&(n.visible=!0,t||(t=!0))}),t?E.handleCustom():(0,K.nextTick)()},setColumnWidth(e,t){const{elemStore:n}=S;let r=!1;const o=a().isArray(e)?e:[e];let i=a().toInteger(t);if(de(t)){const e=tt(n["main-body-scroll"]),t=e?e.clientWidth-1:0;i=Math.floor(i*t)}return i&&(o.forEach(e=>{const t=Ue(Fn,e);t&&(t.resizeWidth=i,r||(r=!0))}),r)?Fn.refreshColumn().then(()=>({status:r})):(0,K.nextTick)().then(()=>({status:r}))},getColumnWidth(e){const t=Ue(Fn,e);return t?t.renderWidth:0},resetColumn(e){return Q("vxe.error.delFunc",["resetColumn","resetCustom"]),Fn.resetCustom(e)},refreshColumn(e){return e&&ao(),so(!0).then(()=>Fn.refreshScroll()).then(()=>Kr(!1,!0,!0))},setRowHeightConf(e){const{fullAllDataRowIdData:t}=S;let n=!1;return e&&(a().each(e,(e,r)=>{const o=t[r];if(o){const t=a().toInteger(e);t&&(o.resizeHeight=t,n||(n=!0))}}),n&&(S.isResizeCellHeight=!0,k.resizeHeightFlag++)),(0,K.nextTick)().then(()=>(Po(),{status:n}))},getRowHeightConf(e){const{fullAllDataRowIdData:t,afterFullData:n}=S,{handleGetRowId:r}=ze(Fn),o=wt.value,i=mt.value,a=dt.value,l={};return n.forEach(n=>{const s=r(n),c=t[s];if(c){const t=c.resizeHeight;if(t||e){const e=t||i.height||o.height||c.height||a;l[s]=e}}}),l},recalcRowHeight(e){const{fullAllDataRowIdData:t}=S,n=a().isArray(e)?e:[e],r=O.value;if(r){const{handleGetRowId:e}=ze(Fn);r.setAttribute("data-calc-row","Y"),n.forEach(n=>{const o=a().isString(n)||a().isNumber(n)?n:e(n),i=t[o];i&&(i.resizeHeight=br(i,r)),r.removeAttribute("data-calc-row")}),k.calcCellHeightFlag++}return(0,K.nextTick)()},setRowHeight(e,t){const{fullAllDataRowIdData:n}=S;let r=!1;const o=a().isArray(e)?e:[e];let i=a().toInteger(t);if(de(t)){const e=j.value,t=e?e.$el:null,n=t?t.clientHeight-1:0;i=Math.floor(i*n)}if(i){const{handleGetRowId:e}=ze(Fn);o.forEach(t=>{const o=a().isString(t)||a().isNumber(t)?t:e(t),l=n[o];l&&(l.resizeHeight=i,r||(r=!0))}),r&&(S.isResizeCellHeight=!0,k.resizeHeightFlag++)}return(0,K.nextTick)().then(()=>({status:r}))},getRowHeight(e){const{fullAllDataRowIdData:t}=S,n=wt.value,r=mt.value,o=dt.value,i=a().isString(e)||a().isNumber(e)?e:Le(Fn,e),l=t[i];return l?l.resizeHeight||r.height||n.height||l.height||o:0},refreshScroll(){const{elemStore:e,lastScrollLeft:t,lastScrollTop:n}=S,r=tt(e["main-header-scroll"]),o=tt(e["main-body-scroll"]),i=tt(e["main-footer-scroll"]),a=tt(e["left-body-scroll"]),l=tt(e["right-body-scroll"]),s=ve.value,c=ke.value;return new Promise(e=>{if(t||n)return Fe(Fn,t,n).then(()=>{setTimeout(e,10)});S.intoRunScroll=!0,we(c,n),we(o,n),we(a,n),we(l,n),Ce(s,t),Ce(o,t),Ce(r,t),Ce(i,t),setTimeout(()=>{S.intoRunScroll=!1,e()},10)})},recalculate(e){const t=!!e;return Kr(t,t,t)},openTooltip(e,t){const n=M.value;return n&&n.open?n.open(e,t):(0,K.nextTick)()},closeTooltip(){const{tooltipStore:e}=k,t=A.value,n=M.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),t&&t.close&&t.close()),n&&n.close&&n.close(),(0,K.nextTick)()},isAllCheckboxChecked(){return k.isAllSelected},isAllCheckboxIndeterminate(){return!k.isAllSelected&&k.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:r,treeIndeterminateRowMaps:o}=S;if(n){const e=[],n=[];return a().each(o,(t,o)=>{t&&(e.push(t),r[o]&&n.push(t))}),t?e:n}return[]},setCheckboxRow(e,t){return e&&!a().isArray(e)&&(e=[e]),_r(e,t,!0)},setCheckboxRowKey(e,t){const{fullAllDataRowIdData:n}=S;a().isArray(e)||(e=[e]);const r=[];return e.forEach(e=>{const t=n[e];t&&r.push(t.row)}),_r(r,t,!0)},isCheckedByCheckboxRow(e){const{updateCheckboxFlag:t}=k,{selectCheckboxMaps:n}=S,r=Nt.value,{checkField:o}=r;return o?a().get(e,o):!!t&&!!n[Le(Fn,e)]},isCheckedByCheckboxRowKey(e){const{updateCheckboxFlag:t}=k,{fullAllDataRowIdData:n,selectCheckboxMaps:r}=S,o=Nt.value,{checkField:i}=o;if(i){const t=n[e];return!!t&&a().get(t.row,i)}return!!t&&!!r[e]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateRowMaps:t}=S;return!!t[Le(Fn,e)]&&!Fn.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){const{treeIndeterminateRowMaps:t}=S;return!!t[e]&&!Fn.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:t}=S,n=Nt.value,{checkField:r}=n,o=r?!a().get(e,r):!t[Le(Fn,e)];return E.handleBatchSelectRows([e],o,!0),E.checkSelectionStatus(),(0,K.nextTick)()},setAllCheckboxRow(e){return Pr(e,!0)},getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:r,radioReserveRow:o,afterFullData:i}=S,l=It.value,s=hn.value,c=s.children||s.childrenField;if(l.reserve&&o){const e=Le(Fn,o);if(t){if(!r[e])return o}else{const t=je(Fn);if(n){const n=a().findTree(i,n=>e===a().get(n,t),{children:c});if(n)return o}else if(!i.some(n=>e===a().get(n,t)))return o}}return null},clearRadioReserve(){return S.radioReserveRow=null,(0,K.nextTick)()},getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:r,fullDataRowIdData:o,checkboxReserveRowMap:i}=S,l=Nt.value,s=hn.value,c=s.children||s.childrenField,u=[];if(l.reserve){const{handleGetRowId:e}=ze(Fn),l={};n?a().eachTree(r,t=>{l[e(t)]=1},{children:c}):r.forEach(t=>{l[e(t)]=1}),a().each(i,(e,n)=>{e&&(t?o[n]||u.push(e):l[n]||u.push(e))})}return u},clearCheckboxReserve(){return S.checkboxReserveRowMap={},(0,K.nextTick)()},toggleAllCheckboxRow(){return xo(null,!k.isAllSelected),(0,K.nextTick)()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:n}=S,r=hn.value,o=r.children||r.childrenField,i=Nt.value,{checkField:l,reserve:s}=i,c=i.indeterminateField||i.halfField;if(l){const e=e=>{t&&c&&a().set(e,c,!1),a().set(e,l,!1)};t?a().eachTree(n,e,{children:o}):n.forEach(e)}return s&&n.forEach(e=>Rr(e,!1)),k.isAllSelected=!1,k.isIndeterminate=!1,S.selectCheckboxMaps={},S.treeIndeterminateRowMaps={},k.updateCheckboxFlag++,(0,K.nextTick)()},setCurrentRow(t){const n=S.xeGanttView,r=wt.value,o=O.value;return T.clearCurrentRow(),k.currentRow=t,(r.isCurrent||e.highlightCurrentRow)&&o&&a().arrayEach(o.querySelectorAll(`[rowid="${Le(Fn,t)}"]`),e=>he(e,"row--current")),n&&n.handleUpdateCurrentRow&&n.handleUpdateCurrentRow(t),(0,K.nextTick)()},isCheckedByRadioRow(e){const{selectRadioRow:t}=k;return!(!e||!t)&&Fn.eqRow(t,e)},isCheckedByRadioRowKey(e){const{selectRadioRow:t}=k;return!!t&&e===Le(Fn,t)},setRadioRow(e){return Fr(e,!0)},setRadioRowKey(e){const{fullAllDataRowIdData:t}=S,n=t[e];return n?Fr(n.row,!0):(0,K.nextTick)()},clearCurrentRow(){const e=S.xeGanttView,t=O.value;return k.currentRow=null,S.hoverRow=null,t&&a().arrayEach(t.querySelectorAll(".row--current"),e=>fe(e,"row--current")),e&&e.handleUpdateCurrentRow&&e.handleUpdateCurrentRow(),(0,K.nextTick)()},clearRadioRow(){return k.selectRadioRow=null,(0,K.nextTick)()},getCurrentRecord(t){const{currentRow:n}=k,{fullDataRowIdData:r,afterFullRowMaps:o}=S,i=wt.value;if(i.isCurrent||e.highlightCurrentRow){const e=Le(Fn,n);if(t){if(r[e])return n}else if(o[e])return n}return null},getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=S,{selectRadioRow:r}=k;if(r){const o=Le(Fn,r);if(e){if(t[o])return r}else if(n[o])return r}return null},getCurrentColumn(){const t=ft.value;return t.isCurrent||e.highlightCurrentColumn?k.currentColumn:null},setCurrentColumn(t){const{mouseConfig:n}=e,r=Vt.value,o=n&&r.selected,i=Ue(Fn,t);return i&&(Fn.clearCurrentColumn(),k.currentColumn=i),(0,K.nextTick)().then(()=>{o&&Fn.addCellSelectedClass()})},clearCurrentColumn(){return k.currentColumn=null,(0,K.nextTick)()},setPendingRow(e,t){const{handleGetRowId:n}=ze(Fn),{pendingRowMaps:r}=S;return e&&!a().isArray(e)&&(e=[e]),t?e.forEach(e=>{const t=n(e);t&&!r[t]&&(r[t]=e)}):e.forEach(e=>{const t=n(e);t&&r[t]&&delete r[t]}),k.pendingRowFlag++,(0,K.nextTick)()},togglePendingRow(e){const{handleGetRowId:t}=ze(Fn),{pendingRowMaps:n}=S;return e&&!a().isArray(e)&&(e=[e]),e.forEach(e=>{const r=t(e);r&&(n[r]?delete n[r]:n[r]=e)}),k.pendingRowFlag++,(0,K.nextTick)()},hasPendingByRow(e){return T.isPendingByRow(e)},isPendingByRow(e){const{pendingRowMaps:t}=S,n=Le(Fn,e);return!!t[n]},getPendingRecords(){const{fullAllDataRowIdData:e,pendingRowMaps:t}=S,n=[];return a().each(t,(t,r)=>{e[r]&&n.push(t)}),n},clearPendingRow(){return S.pendingRowMaps={},k.pendingRowFlag++,(0,K.nextTick)()},sort(e,t){const n=$t.value,{multiple:r,remote:o,orders:i}=n;return e&&a().isString(e)&&(e=[{field:e,order:t}]),a().isArray(e)||(e=[e]),e.length?(r||cr(),(r?e:[e[0]]).forEach((e,t)=>{let{field:n,order:r}=e,o=n;a().isString(n)&&(o=T.getColumnByField(n)),o&&o.sortable&&(i&&-1===i.indexOf(r)&&(r=zn(o)),o.order!==r&&(o.order=r),o.sortTime=Date.now()+t)}),o||E.handleTableData(!0),(0,K.nextTick)().then(()=>(Po(),T.updateCellAreas(),Tr()))):(0,K.nextTick)()},setSort(e,t){return sr(null,e,t)},setSortByEvent(e,t){return sr(e,t,!0)},clearSort(e){const t=$t.value;if(e){const t=Ue(Fn,e);t&&(t.order=null)}else cr();return t.remote||Fn.handleTableData(!0),(0,K.nextTick)().then(()=>(Po(),Tr()))},clearSortByEvent(e,t){const{tableFullColumn:n}=S,r=$t.value,{multiple:o}=r,i=[];let a=null;if(e&&(t?(a=Ue(Fn,t),a&&(a.order=null)):n.forEach(e=>{e.order&&(e.order=null,i.push(e))}),r.remote||Fn.handleTableData(!0),o||(a=i[0]),a&&Fn.handleColumnSortEvent(e,a),o&&i.length)){const t={$table:Fn,$event:e,cols:i,sortList:[]};Mo("clear-all-sort",t,e)}return(0,K.nextTick)().then(()=>(Po(),Tr()))},isSort(e){if(e){const t=Ue(Fn,e);return!!t&&(t.sortable&&!!t.order)}return T.getSortColumns().length>0},getSortColumns(){const e=$t.value,{multiple:t,chronological:n}=e,r=[],{tableFullColumn:o}=S;return o.forEach(e=>{const{field:t,order:n}=e;e.sortable&&n&&r.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})}),t&&n&&r.length>1?a().orderBy(r,"sortTime"):r},setFilterByEvent(e,t,n){const r=Ue(Fn,t);return r&&r.filters?(r.filters=Ze(n||[]),Fn.handleColumnConfirmFilter(r,e)):(0,K.nextTick)()},closeFilter(){const{filterStore:e}=k,{column:t,visible:n}=e;return e.isAllSelected=!1,e.isIndeterminate=!1,e.options=[],e.visible=!1,n&&Mo("filter-visible",{column:t,property:t.field,field:t.field,filterList:()=>Fn.getCheckedFilters(),visible:!1},null),(0,K.nextTick)()},isActiveFilterByColumn(e){const t=Ue(Fn,e);return t?t.filters&&t.filters.some(e=>e.checked):Fn.getCheckedFilters().length>0},isFilter(e){return T.isActiveFilterByColumn(e)},clearFilterByEvent(e,t){const{filterStore:n}=k,{tableFullColumn:r}=S,o=zt.value,{multiple:i}=o,a=[];let l=null;if(t?(l=Ue(Fn,t),l&&Fn.handleClearFilter(l)):r.forEach(e=>{e.filters&&(a.push(e),Fn.handleClearFilter(e))}),t&&l===n.column||Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),o.remote||Fn.updateData(),i||(l=a[0]),l){const t=()=>Fn.getCheckedFilters(),n=[],r=[];l.filters.forEach(e=>{e.checked&&(n.push(e.value),r.push(e.data))});const o={$table:Fn,$event:e,column:l,field:l.field,property:l.field,values:n,datas:r,filters:t,filterList:t};Fn.dispatchEvent("filter-change",o,e),Fn.dispatchEvent("clear-filter",o,e)}if(i&&a.length){const t={$table:Fn,$event:e,cols:a,filterList:[]};Mo("clear-all-filter",t,e)}return(0,K.nextTick)()},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=S,n=t[Le(Fn,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const{fullAllDataRowIdData:t,rowExpandLazyLoadedMaps:n}=S,r=fn.value,{lazy:o}=r,i=Le(Fn,e),a=t[i];return o&&a&&(a.expandLoaded=!1,delete n[i]),k.rowExpandedFlag++,(0,K.nextTick)()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=S,n=fn.value,{lazy:r}=n,o=Le(Fn,e);return r&&!t[o]&&Fn.clearRowExpandLoaded(e).then(()=>Vr(e)),(0,K.nextTick)()},reloadExpandContent(e){return Q("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),Fn.reloadRowExpand(e)},toggleRowExpand(e){return Fn.setRowExpand(e,!Fn.isRowExpandByRow(e))},setAllRowExpand(t){const n=hn.value,{tableFullData:r,tableFullTreeData:o}=S,i=n.children||n.childrenField;let l=[];return e.treeConfig?a().eachTree(o,e=>{l.push(e)},{children:i}):l=r,T.setRowExpand(l,t)},setRowExpand(e,t){const{expandColumn:n}=k;let{fullAllDataRowIdData:r,rowExpandedMaps:o,rowExpandLazyLoadedMaps:i}=S;const{handleGetRowId:l}=ze(Fn),s=fn.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,f=[],h=n?Fn.getColumnIndex(n):-1,m=n?Fn.getVMColumnIndex(n):-1;if(e){a().isArray(e)||(e=[e]),d&&(o={},S.rowExpandedMaps=o,e=e.slice(e.length-1,e.length));const s=p?e.filter(e=>p({$table:Fn,expanded:t,column:n,columnIndex:h,$columnIndex:m,row:e,rowIndex:Fn.getRowIndex(e),$rowIndex:Fn.getVMRowIndex(e)})):e;t?s.forEach(e=>{const t=l(e);if(!o[t]){const n=r[t],a=u&&!n.expandLoaded&&!i[t];a?f.push(Vr(e)):o[t]=e}}):s.forEach(e=>{const t=l(e);o[t]&&delete o[t]}),c&&s.forEach(e=>Br(e,t))}return k.rowExpandedFlag++,Promise.all(f).then(()=>(0,K.nextTick)()).then(()=>Kr(!0,!0,!0)).then(()=>(Po(),jo(),Lo(),Fn.updateCellAreas()))},isRowExpandByRow(e){const{rowExpandedFlag:t}=k,{rowExpandedMaps:n}=S,r=Le(Fn,e);return!!t&&!!n[r]},isExpandByRow(e){return Q("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),T.isRowExpandByRow(e)},clearRowExpand(){const{tableFullData:e,scrollYStore:t}=S,n=fn.value,{reserve:r}=n,o=Fn.getRowExpandRecords();return S.rowExpandedMaps={},r&&e.forEach(e=>Br(e,!1)),k.rowExpandedFlag++,t.startIndex=0,t.endIndex=1,(0,K.nextTick)().then(()=>{if(o.length)return Kr(!0,!0,!0)}).then(()=>(Po(),jo(),Lo(),Fn.updateCellAreas()))},clearRowExpandReserve(){return S.rowExpandedReserveRowMap={},(0,K.nextTick)()},getRowExpandRecords(){const e=[];return a().each(S.rowExpandedMaps,t=>{t&&e.push(t)}),e},setRowGroups(t){const{aggregateConfig:n,rowGroupConfig:r}=e,i=Ct.value,{maxGroupSize:l}=i;if(!n&&!r)return ee("vxe.error.reqProp",["aggregate-config"]),(0,K.nextTick)();const s=t?a().isArray(t)?t:[t]:[];return l&&s.length>l?(o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.table.maxGroupCol",[l])}),(0,K.nextTick)()):s.length?(Jr(s.map(e=>a().isString(e)?e:e.field)),no(S.tableSynchData,!0)):(0,K.nextTick)()},getRowGroups(){const{aggregateConfig:t,rowGroupConfig:n}=e,{fullColumnFieldData:r}=S;if(t||n){const{rowGroupList:e}=k;return e.map(({field:e})=>{const t=r[e];return t?t.column:{field:e}})}return[]},getRowGroupFields(){return Fn.getRowGroups().map(e=>e.field)},clearRowGroups(){const{aggregateConfig:t,rowGroupConfig:n}=e;return t||n?(Jr([]),no(S.tableSynchData,!0)):(ee("vxe.error.reqProp",["aggregate-config"]),(0,K.nextTick)())},isRowGroupRecord(e){return Q("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),Fn.isAggregateRecord(e)},isRowGroupExpandByRow(e){return Q("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),Fn.isAggregateExpandByRow(e)},isAggregateRecord(e){const{isRowGroupStatus:t}=k;return t&&e.isAggregate},getAggregateContentByRow(e){const{isRowGroupStatus:t}=k;return t&&e&&e.isAggregate?e.groupContent:""},getAggregateRowChildren(e){const t=Ct.value,{childrenField:n,mapChildrenField:r}=t,{isRowGroupStatus:o}=k;return o&&e&&e.isAggregate&&n&&r&&e[r]||[]},isAggregateExpandByRow(e){const{rowGroupExpandedFlag:t}=k,{rowGroupExpandedMaps:n}=S;return!!t&&!!n[Le(Fn,e)]},setRowGroupExpand(e,t){return e?(a().isArray(e)||(e=[e]),vo(e,t)):(0,K.nextTick)()},setRowGroupExpandByField(e,t){const{isRowGroupStatus:n}=k,r=Ct.value,{childrenField:o}=r;if(e&&(a().isArray(e)||(e=[e]),n)){const n=[],r={};if(e.forEach(e=>{r[e]=!0}),a().eachTree(S.afterGroupFullData,e=>{e.isAggregate&&r[e.groupField]&&n.push(e)},{children:o}),n.length)return vo(n,t)}return(0,K.nextTick)()},setAllRowGroupExpand(e){const{tableFullGroupData:t}=S,n=Ct.value,{mapChildrenField:r}=n,o={};return e&&r&&a().eachTree(t,e=>{e[r]&&e[r].length&&(o[Le(Fn,e)]=e)},{children:r}),S.rowGroupExpandedMaps=o,kr(),Fn.handleTableData(),Cr(),k.rowGroupExpandedFlag++,Kr(!0,!0,!0)},clearRowGroupExpand(){return S.rowGroupExpandedMaps={},kr(),Fn.handleTableData(),Cr(),k.rowGroupExpandedFlag++,Kr(!0,!0,!0)},getTreeExpandRecords(){const e=[];return a().each(S.treeExpandedMaps,t=>{t&&e.push(t)}),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=S,n=t[Le(Fn,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const{fullAllDataRowIdData:t,treeExpandedMaps:n}=S,r=hn.value,{transform:o}=r;return e?(a().isArray(e)||(e=[e]),e.forEach(e=>{const r=Le(Fn,e),o=t[r];o&&(o.treeLoaded=!1,n[r]&&delete n[r])})):a().each(t,e=>{e.treeLoaded=!1}),S.treeExpandedMaps={},o&&(kr(),Fn.handleTableData()),k.treeExpandedFlag++,(0,K.nextTick)()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=S,n=hn.value,r=n.hasChild||n.hasChildField,{transform:o,lazy:i}=n,a=Le(Fn,e);return i&&e[r]&&!t[a]?Fn.clearTreeExpandLoaded(e).then(()=>$r(e)).then(()=>{o&&(kr(),Fn.handleTableData()),k.treeExpandedFlag++}).then(()=>Fn.recalculate()):(0,K.nextTick)()},reloadTreeChilds(e){return Q("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),Fn.reloadTreeExpand(e)},toggleTreeExpand(e){return Fn.setTreeExpand(e,!Fn.isTreeExpandByRow(e))},setAllTreeExpand(e){const{tableFullData:t}=S,n=hn.value,{transform:r,lazy:o}=n,i=n.children||n.childrenField,l=[];return a().eachTree(t,e=>{const t=e[i];(o||t&&t.length)&&l.push(e)},{children:i}),Fn.setTreeExpand(l,e).then(()=>{if(r)return kr(),k.treeExpandedFlag++,Fn.recalculate()})},setTreeExpand(e,t){const n=hn.value,{transform:r}=n;return e&&(a().isArray(e)||(e=[e]),e.length)?r?mo(e,t):ho(e,t):(0,K.nextTick)()},isTreeExpandByRow(e){const{treeExpandedFlag:t}=k,{treeExpandedMaps:n}=S;return!!t&&!!n[Le(Fn,e)]},clearTreeExpand(){const{tableFullTreeData:e}=S,t=hn.value,n=t.children||t.childrenField,{transform:r,reserve:o}=t,i=Fn.getTreeExpandRecords();return S.treeExpandedMaps={},o&&a().eachTree(e,e=>zr(e,!1),{children:n}),Fn.handleTableData().then(()=>{r&&(kr(),Fn.handleTableData()),k.treeExpandedFlag++}).then(()=>{if(i.length)return Fn.recalculate()})},clearTreeExpandReserve(){return S.treeExpandedReserveRowMap={},(0,K.nextTick)()},getScroll(){const{scrollXLoad:e,scrollYLoad:t}=k,{elemStore:n}=S,r=tt(n["main-body-scroll"]);return{virtualX:e,virtualY:t,scrollTop:r?r.scrollTop:0,scrollLeft:r?r.scrollLeft:0}},scrollTo(e,t){const{elemStore:n}=S,r=tt(n["main-header-scroll"]),o=tt(n["main-body-scroll"]),i=tt(n["main-footer-scroll"]),l=tt(n["left-body-scroll"]),s=tt(n["right-body-scroll"]),c=ve.value,u=ke.value;return S.intoRunScroll=!0,e&&(a().isNumber(e)||(t=e.top,e=e.left)),a().isNumber(e)&&(Ce(c,e),Ce(o,e),Ce(r,e),Ce(i,e),lo()),a().isNumber(t)&&(we(u,t),we(o,t),we(l,t),we(s,t),yo()),k.scrollXLoad||k.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,K.nextTick)(()=>{S.intoRunScroll=!1,e()})},30)}):(0,K.nextTick)().then(()=>{S.intoRunScroll=!1})},scrollToRow(t,n){const{isAllOverflow:r,scrollYLoad:o,scrollXLoad:i}=k,a=[];return t&&(e.treeConfig?a.push(Fn.scrollToTreeRow(t)):a.push(xt(Fn,t))),n&&a.push(Io(n,t)),Promise.all(a).then(()=>{if(t)return r||!o&&!i||(xr(),gr()),(0,K.nextTick)()})},scrollToColumn(e){const{fullColumnIdData:t}=S,n=Ue(Fn,e);return n&&t[n.id]?yt(Fn,n):(0,K.nextTick)()},clearScroll(){const{elemStore:e,scrollXStore:t,scrollYStore:n}=S,r=tt(e["main-header-scroll"]),o=tt(e["main-body-scroll"]),i=tt(e["main-footer-scroll"]),a=tt(e["left-body-scroll"]),l=tt(e["right-body-scroll"]),s=ve.value,c=ke.value;return S.intoRunScroll=!0,Ce(s,0),Ce(o,0),Ce(r,0),Ce(i,0),we(c,0),we(o,0),we(a,0),we(l,0),t.startIndex=0,t.visibleStartIndex=0,t.endIndex=t.visibleSize,t.visibleEndIndex=t.visibleSize,n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,(0,K.nextTick)().then(()=>{S.intoRunScroll=!1})},updateFooter(){const{showFooter:t,footerData:n,footerMethod:r}=e,{visibleColumn:o,afterFullData:i}=S;let a=[];return t&&n&&n.length?a=n.slice(0):t&&r&&(a=o.length?r({columns:o,data:i,$table:Fn,$grid:b,$gantt:x}):[]),k.footerTableData=a,Fn.handleUpdateFooterMerge(),Fn.dispatchEvent("footer-data-change",{visibleColumn:S.visibleColumn,footData:a},null),(0,K.nextTick)()},updateStatus(t,n){return(0,K.nextTick)().then(()=>{const{editRules:r}=e;if(t&&r)return Fn.handleCellRuleUpdateStatus("change",t,n)})},setMergeCells(t){return e.spanMethod&&ee("vxe.error.errConflicts",["merge-cells","span-method"]),er(t),Fn.handleUpdateBodyMerge(),(0,K.nextTick)().then(()=>{const{expandColumn:e}=k,{mergeBodyList:t}=S;return e&&t.length&&Q("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),Fn.updateCellAreas(),Tr()})},removeMergeCells(t){e.spanMethod&&ee("vxe.error.errConflicts",["merge-cells","span-method"]);const n=tr(t);return Fn.handleUpdateBodyMerge(),(0,K.nextTick)().then(()=>(Fn.updateCellAreas(),Tr(),n))},getMergeCells(){return S.mergeBodyList.slice(0)},clearMergeCells(){return S.mergeBodyList=[],S.mergeBodyMaps={},S.mergeBodyCellMaps={},k.mergeBodyFlag++,(0,K.nextTick)().then(()=>Tr())},setMergeHeaderCells(e){return rr(e),Fn.handleUpdateHeaderMerge(),(0,K.nextTick)().then(()=>Tr())},removeMergeHeaderCells(e){const t=or(e);return Fn.handleUpdateHeaderMerge(),(0,K.nextTick)().then(()=>(Tr(),t))},getMergeHeaderCells(){return S.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return S.mergeHeaderList=[],S.mergeHeaderMaps={},S.mergeHeaderCellMaps={},k.mergeHeadFlag++,(0,K.nextTick)().then(()=>Tr())},setMergeFooterCells(t){return e.footerSpanMethod&&ee("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),ar(t),Fn.handleUpdateFooterMerge(),(0,K.nextTick)().then(()=>Tr())},setMergeFooterItems(e){return Fn.setMergeFooterCells(e)},removeMergeFooterCells(t){e.footerSpanMethod&&ee("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const n=lr(t);return Fn.handleUpdateFooterMerge(),(0,K.nextTick)().then(()=>(Tr(),n))},removeMergeFooterItems(e){return Fn.removeMergeFooterCells(e)},getMergeFooterCells(){return S.mergeFooterList.slice(0)},getMergeFooterItems(){return Fn.getMergeFooterCells()},clearMergeFooterCells(){return S.mergeFooterList=[],S.mergeFooterMaps={},S.mergeFooterCellMaps={},k.mergeFootFlag++,(0,K.nextTick)().then(()=>Tr())},clearMergeFooterItems(){return Fn.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:t}=e,n=Vt.value;return t&&n.area&&Fn.handleRecalculateCellAreaEvent?Fn.handleRecalculateCellAreaEvent():(0,K.nextTick)()},getCustomStoreData(){const{id:t}=e,n=xn.value,{isRowGroupStatus:r,rowGroupList:o}=k,{fullColumnFieldData:i,collectColumn:l}=S,{storage:s,checkMethod:c,storeOptions:u}=n,d=!0===s,p=d?{}:Object.assign({},s||{},u),f=Ln(p.resizable,d),h=Ln(p.visible,d),m=Ln(p.fixed,d),g=Ln(p.sort,d),v=Ln(p.aggGroup,d),b=Ln(p.aggFunc,d),x={},y=[],w={},C={},T={},E={},O={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!t)return s&&ee("vxe.error.reqProp",["id"]),O;let D=0,A=0,M=0,I=0,N=0;const R={};return a().eachTree(l,(e,t,n,r,o)=>{const i=e.getKey();if(i){if(o){if(g){const e=o.getKey(),t=R[e];if(A=1,t){const e={k:i};R[i]=e,t.c||(t.c=[]),t.c.push(e)}}}else{if(g){A=1;const e={k:i};R[i]=e,y.push(e)}m&&(e.fixed||"")!==(e.defaultFixed||"")&&(M=1,C[i]=e.fixed)}f&&e.resizeWidth&&(D=1,x[i]=e.renderWidth),!h||c&&!c({$table:Fn,column:e})||(!e.visible&&e.defaultVisible?(I=1,w[i]=!1):e.visible&&!e.defaultVisible&&(I=1,w[i]=!0)),b&&(e.aggFunc||"")!==(e.defaultAggFunc||"")&&(N=1,E[i]=e.aggFunc)}else ee("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])}),D&&(O.resizableData=x),A&&(O.sortData=y),M&&(O.fixedData=C),I&&(O.visibleData=w),v&&r&&(o.forEach(e=>{const t=i[e.field];t&&(T[t.column.getKey()]=!0)}),O.aggGroupData=T),N&&(O.aggFuncData=E),O},focus(){return S.isActivated=!0,(0,K.nextTick)()},blur(){return S.isActivated=!1,(0,K.nextTick)()},connect(e){return Fn.connectToolbar(e)},connectToolbar(e){return e?(Ne=e,Ne.syncUpdate({collectColumn:S.collectColumn,$table:Fn})):ee("vxe.error.barUnableLink"),(0,K.nextTick)()}};const $o=t=>{const{editStore:n,ctxMenuStore:r,filterStore:o,customStore:i}=k,{mouseConfig:a,editRules:l}=e,s=O.value,c=Lt.value,u=Be.value,d=Bt.value,{actived:p}=n,f=I.value,h=R.value,m=F.value,g=N.value;if(h&&(Se(t,s,"vxe-cell--filter").flag||Se(t,h.getRefMaps().refElem.value).flag||Se(t,document.body,"vxe-table--ignore-clear").flag||E.preventEvent(t,"event.clearFilter",o.args,T.closeFilter)),m&&(i.btnEl===t.target||Se(t,document.body,"vxe-toolbar-custom-target").flag||Se(t,m.getRefMaps().refElem.value).flag||Se(t,document.body,"vxe-table--ignore-clear").flag||E.preventEvent(t,"event.clearCustom",{},()=>{Fn.closeCustom&&Fn.closeCustom()})),p.row){if(!1!==c.autoClear){const n=p.args.cell;n&&Se(t,n).flag||f&&Se(t,f.$el).flag||(!S._lastCallTime||S._lastCallTime+50<Date.now())&&(Se(t,document.body,"vxe-table--ignore-clear").flag||E.preventEvent(t,"event.clearEdit",p.args,()=>{let n;if("row"===c.mode){const e=Se(t,s,"vxe-body--row"),r=e.flag?T.getRowNode(e.targetElem):null;n=!!r&&!Fn.eqRow(r.item,p.args.row)}else n=!Se(t,s,"col--edit").flag;if(n||(n=Se(t,s,"vxe-header--row").flag),n||(n=Se(t,s,"vxe-footer--row").flag),!n&&e.height&&!k.overflowY){const e=t.target;pe(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&Se(t,s).flag||setTimeout(()=>{Fn.handleClearEdit(t).then(()=>{!S.isActivated&&l&&u.autoClear&&(k.validErrorMaps={})})})}))}}else if(a&&!Se(t,s).flag&&(!y||!Se(t,y.getRefMaps().refElem.value).flag)&&(!g||!Se(t,g.getRefMaps().refElem.value).flag)&&(!Ne||!Se(t,Ne.getRefMaps().refElem.value).flag)&&(Fn.clearSelected&&Fn.clearSelected(),d.autoClear&&Fn.getCellAreas)){const e=Fn.getCellAreas();e&&e.length&&!Se(t,document.body,"vxe-table--ignore-areas-clear").flag&&E.preventEvent(t,"event.clearAreas",{},()=>{Fn.clearCellAreas(),Fn.clearCopyCellArea(),Mo("clear-cell-area-selection",{cellAreas:e},t)})}Fn.closeMenu&&r.visible&&g&&!Se(t,g.getRefMaps().refElem.value).flag&&Fn.closeMenu();const v=Se(t,y?y.getRefMaps().refElem.value:s).flag;!v&&l&&u.autoClear&&(k.validErrorMaps={}),S.isActivated=v},zo=()=>{T.closeFilter(),Fn.closeMenu&&Fn.closeMenu()},Vo=()=>{T.closeTooltip(),Fn.closeMenu&&Fn.closeMenu()},Bo=t=>{const{mouseConfig:n,keyboardConfig:r}=e,{filterStore:o,ctxMenuStore:i,editStore:a}=k,l=Vt.value,s=Ht.value,{actived:c}=a,u=ti.hasKey(t,ni.ESCAPE);u&&E.preventEvent(t,"event.keydown",null,()=>{if(Mo("keydown-start",{},t),r&&n&&l.area&&Fn.handleKeyboardCellAreaEvent)Fn.handleKeyboardCellAreaEvent(t);else if((c.row||o.visible||i.visible)&&(t.stopPropagation(),Fn.closeMenu&&Fn.closeMenu(),T.closeFilter(),r&&s.isEsc&&c.row)){const e=c.args;Fn.handleClearEdit(t),l.selected&&(0,K.nextTick)(()=>Fn.handleSelected(e,t))}Mo("keydown",{},t),Mo("keydown-end",{},t)})},Ho=t=>{S.isActivated&&Fn.preventEvent(t,"event.keydown",null,()=>{const{mouseConfig:n,keyboardConfig:r,treeConfig:o,editConfig:i,highlightCurrentRow:l,highlightCurrentColumn:c}=e,{ctxMenuStore:u,editStore:d,currentRow:p}=k,{afterFullData:h}=S,m=nn.value,g=Jt.value,v=Ht.value,y=Vt.value,w=Lt.value,C=hn.value,O=rn.value,D=wt.value,A=ft.value,{selected:M,actived:I}=d,N=C.children||C.childrenField,R=t.keyCode,F=ti.hasKey(t,ni.ESCAPE),_=ti.hasKey(t,ni.BACKSPACE),P=ti.hasKey(t,ni.TAB),j=ti.hasKey(t,ni.ENTER),L=ti.hasKey(t,ni.SPACEBAR),$=ti.hasKey(t,ni.ARROW_LEFT),z=ti.hasKey(t,ni.ARROW_UP),V=ti.hasKey(t,ni.ARROW_RIGHT),B=ti.hasKey(t,ni.ARROW_DOWN),H=ti.hasKey(t,ni.DELETE),W=ti.hasKey(t,ni.F2),q=ti.hasKey(t,ni.CONTEXT_MENU),U=me(t),G=t.shiftKey,Y=t.altKey,X=$||z||V||B,Z=m&&u.visible&&(j||L||X),J=s(i)&&I.column&&I.row,Q=w.beforeEditMethod||w.activeMethod;if(Z)t.preventDefault(),u.showChild&&f(u.selected)?Fn.moveCtxMenu(t,u,"selectChild",$,!1,u.selected.children):Fn.moveCtxMenu(t,u,"selected",V,!0,O);else if(r&&n&&y.area&&Fn.handleKeyboardCellAreaEvent)Fn.handleKeyboardCellAreaEvent(t);else if(F){if(Fn.closeMenu&&Fn.closeMenu(),Fn.closeFilter(),r&&v.isEsc&&I.row){const e=I.args;Fn.handleClearEdit(t),y.selected&&(0,K.nextTick)(()=>Fn.handleSelected(e,t))}}else if(L&&r&&v.isChecked&&M.row&&M.column&&("checkbox"===M.column.type||"radio"===M.column.type))t.preventDefault(),"checkbox"===M.column.type?E.handleToggleCheckRowEvent(t,M.args):E.triggerRadioRowEvent(t,M.args);else if(W&&s(i))J||M.row&&M.column&&(t.preventDefault(),Fn.handleEdit(M.args,t));else if(q)S._keyCtx=M.row&&M.column&&g.length,clearTimeout(S.keyCtxTimeout),S.keyCtxTimeout=setTimeout(()=>{S._keyCtx=!1},1e3);else if(j&&!Y&&r&&v.isEnter&&(M.row||I.row||o&&(D.isCurrent||l)&&p)){const{isLastEnterAppendRow:e,beforeEnterMethod:n,enterMethod:r}=v;if(U){if(I.row){const e=I.args;Fn.handleClearEdit(t),y.selected&&(0,K.nextTick)(()=>{Fn.handleSelected(e,t)})}}else if(M.row||I.row){const o=M.row?M.args:I.args;if(G)v.enterToTab?Fn.moveTabSelected(o,G,t):Fn.moveEnterSelected(o,$,!0,V,!1,t);else if(v.enterToTab)Fn.moveTabSelected(o,G,t);else{const i=M.row||I.row,a=M.column||I.column,l=Fn.getVTRowIndex(i),s={row:i,rowIndex:Fn.getRowIndex(i),$rowIndex:Fn.getVMRowIndex(i),_rowIndex:l,column:a,columnIndex:Fn.getColumnIndex(a),$columnIndex:Fn.getVMColumnIndex(a),_columnIndex:Fn.getVTColumnIndex(a),$table:Fn};if(!n||!1!==n(s)){if(e&&l>=h.length-1)return Fn.insertAt({},-1).then(({row:e})=>{Fn.scrollToRow(e,a),Fn.handleSelected(Object.assign(Object.assign({},o),{row:e}),t)}),void Fn.dispatchEvent("enter-append-row",s,t);Fn.moveEnterSelected(o,$,!1,V,!0,t),r&&r(s)}}}else if(o&&(D.isCurrent||l)&&p){const e=p[N];if(e&&e.length){t.preventDefault();const n=e[0],r={$table:Fn,row:n,rowIndex:Fn.getRowIndex(n),$rowIndex:Fn.getVMRowIndex(n)};Fn.setTreeExpand(p,!0).then(()=>Fn.scrollToRow(n)).then(()=>Fn.triggerCurrentRowEvent(t,r))}}}else if(X&&r&&v.isArrow)J||(y.selected&&M.row&&M.column?Fn.moveArrowSelected(M.args,$,z,V,B,t):((z||B)&&(D.isCurrent||l)&&Fn.moveCurrentRow(z,B,t),($||V)&&(A.isCurrent||c)&&Fn.moveCurrentColumn($,V,t)));else if(P&&r&&v.isTab)M.row||M.column?Fn.moveTabSelected(M.args,G,t):(I.row||I.column)&&Fn.moveTabSelected(I.args,G,t);else if(r&&v.isDel&&H&&s(i)&&(M.row||M.column)){if(!J){const{delMethod:e}=v,n={row:M.row,rowIndex:T.getRowIndex(M.row),column:M.column,columnIndex:T.getColumnIndex(M.column),$table:Fn,$grid:b,$gantt:x};Q&&!Q(n)||(e?e(n):et(M.row,M.column,null),T.updateFooter(),Mo("cell-delete-value",n,t))}}else if(_&&r&&v.isBack&&s(i)&&(M.row||M.column)){if(!J){const{backMethod:e}=v;if(v.isDel&&s(i)&&(M.row||M.column)){const n={row:M.row,rowIndex:Fn.getRowIndex(M.row),column:M.column,columnIndex:Fn.getColumnIndex(M.column),$table:Fn,$grid:b,$gantt:x};Q&&!Q(n)||(e?e(n):(et(M.row,M.column,null),Fn.handleEdit(M.args,t)),Mo("cell-backspace-value",n,t))}}}else if(_&&r&&o&&v.isBack&&(D.isCurrent||l)&&p){const{parent:e}=a().findTree(S.afterTreeFullData,e=>e===p,{children:N});if(e){t.preventDefault();const n={row:e,rowIndex:Fn.getRowIndex(e),$rowIndex:Fn.getVMRowIndex(e),$table:Fn,$grid:b,$gantt:x};Fn.setTreeExpand(e,!1).then(()=>Fn.scrollToRow(e)).then(()=>Fn.triggerCurrentRowEvent(t,n))}}else if(r&&s(i)&&v.isEdit&&!U&&(L||R>=48&&R<=57||R>=65&&R<=90||R>=96&&R<=111||R>=186&&R<=192||R>=219&&R<=222)){const{editMode:e,editMethod:n}=v;if(M.column&&M.row&&s(M.column.editRender)){const r=w.beforeEditMethod||w.activeMethod,o={row:M.row,rowIndex:Fn.getRowIndex(M.row),column:M.column,columnIndex:Fn.getColumnIndex(M.column),$table:Fn,$grid:b,$gantt:x};r&&!r(Object.assign(Object.assign({},M.args),{$table:Fn,$grid:b,$gantt:x}))||(n?n(o):("insert"!==e&&et(M.row,M.column,null),Fn.handleEdit(M.args,t)))}}Mo("keydown",{},t)})},Wo=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=k,{isActivated:a}=S,l=Vt.value,s=Ht.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Fn.handlePasteCellAreaEvent&&Fn.handlePasteCellAreaEvent(t),Mo("paste",{},t))},qo=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=k,{isActivated:a}=S,l=Vt.value,s=Ht.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Fn.handleCopyCellAreaEvent&&Fn.handleCopyCellAreaEvent(t),Mo("copy",{},t))},ui=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=k,{isActivated:a}=S,l=Vt.value,s=Ht.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Fn.handleCutCellAreaEvent&&Fn.handleCutCellAreaEvent(t),Mo("cut",{},t))},di=()=>{Fn.closeMenu&&Fn.closeMenu();const e=O.value;e&&e.clientWidth&&(Xr(),Fn.updateCellAreas())},pi=e=>{const t=A.value;clearTimeout(S.tooltipTimeout),e?T.closeTooltip():t&&t.setActived&&t.setActived(!0)},fi=()=>{ci=null,C.row=null},hi=()=>{const{dragRow:e,dragCol:t}=k;(e||t)&&(xi(),mi(),Ci(),fi(),k.dragRow=null,k.dragCol=null)},mi=()=>{const e=O.value;if(e){const t="row--drag-origin";a().arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,fe(e,t)})}},gi=e=>{const t=O.value;if(t){const n="row--drag-origin",r=Le(Fn,e);a().arrayEach(t.querySelectorAll(`[rowid="${r}"]`),e=>{he(e,n)})}},vi=t=>{const{dragConfig:n}=e,{dragRow:r}=k,o=Et.value,{tooltipMethod:i}=o,a=i||(n?n.rowTooltipMethod:null);let l="";if(a){const e={$table:Fn,row:r};l=`${a(e)||""}`}else l=Yo("vxe.table.dragTip",[t.textContent||""]);k.dragTipText=l},bi=e=>{const t=O.value;if(t){const n=[];a().eachTree([e],e=>{n.push(`[colid="${e.id}"]`)});const r="col--drag-origin";a().arrayEach(t.querySelectorAll(n.join(",")),e=>{he(e,r)})}},xi=()=>{const e=O.value;if(e){const t="col--drag-origin";a().arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,fe(e,t)})}},yi=e=>{const{dragCol:t}=k,n=Ot.value,{tooltipMethod:r}=n;let o="";if(r){const e={$table:Fn,column:t};o=`${r(e)||""}`}else o=Yo("vxe.table.dragTip",[e.textContent||""]);k.dragTipText=o},wi=(e,t,n,r,o)=>{let i=O.value;if(x&&t){const{refGanttContainerElem:e}=x.getRefMaps(),t=e.value;t&&(i=t)}if(!i)return;const{overflowX:a,scrollbarWidth:l,overflowY:s,scrollbarHeight:c}=k,{prevDragToChild:u}=S,d=i.getBoundingClientRect(),p=s?l:0,f=a?c:0,h=i.clientWidth,m=i.clientHeight;if(t){const e=ne.value;if(e)if(r){const n=lt.value,r=t.getBoundingClientRect();let i=t.clientHeight;const a=Math.max(1,r.y-d.y);a+i>m-f&&(i=m-a-f),e.style.display="block",e.style.left=`${n?p:0}px`,e.style.top=`${a}px`,e.style.height=`${i}px`,e.style.width=h-p+"px",e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}else if(n){const e=re.value;if(e)if(r){const t=at.value,r=G.value,i=r?r.clientWidth:0,a=Y.value,l=a?a.clientWidth:0,s=n.getBoundingClientRect();let c=n.clientWidth;const g=Math.max(0,s.y-d.y),v=i;let b=s.x-d.x;b<v&&(c-=v-b,b=v);const x=h-l-(l?0:p);b+c>x&&(c=x-b),e.style.display="block",e.style.top=`${g}px`,e.style.left=`${b}px`,e.style.width=`${c}px`,e.style.height=u?`${s.height}px`:m-g-(t?0:f)+"px",e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}const g=te.value;g&&(g.style.display="block",g.style.top=`${Math.min(i.clientHeight-i.scrollTop-g.clientHeight,e.clientY-d.y)}px`,g.style.left=`${Math.min(i.clientWidth-i.scrollLeft-g.clientWidth-16,e.clientX-d.x)}px`,g.setAttribute("drag-status",r?u?"sub":"normal":"disabled"))},Ci=()=>{const e=te.value,t=ne.value,n=re.value;e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="")},ki=()=>{let e=O.value;const t=[".vxe-body--row"];if(x){const{refGanttContainerElem:n}=x.getRefMaps(),r=n.value;r&&(e=r),t.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}Ci(),mi(),sn(e,t),S.prevDragToChild=!1,k.dragRow=null,k.dragCol=null},Si=(e,t,n,r,o,i,l)=>{const s=o||r;if(!s)return(0,K.nextTick)();l.cell=r;const{tooltipStore:c}=k,{column:u,row:d}=l,{showAll:p,contentMethod:f}=t,h=f?f(l):null,g=f&&!a().eqNull(h),v=g?h:a().toString("html"===u.type?s.innerText:s.textContent).trim(),b=s.scrollWidth>s.clientWidth;if(v&&(p||g||b)){const e=m(v);Object.assign(c,{row:d,column:u,visible:!0,content:e,type:n,currOpts:t}),(0,K.nextTick)(()=>{const t=A.value;t&&t.open&&t.open(b?s:i,e)})}return(0,K.nextTick)()},Ti=(e,t)=>{if(e){if(y)return y.callSlot(e,t);if(a().isFunction(e))return St(e(t))}return[]};E={getSetupOptions(){return Uo()},updateAfterDataIndex:Cr,callSlot:Ti,getParentElem(){const e=O.value;if(y){const e=y.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=O.value;if(n){const e=n.parentNode,r="100%"===t||"auto"===t?ye(e):0;let o=0;return e&&(o=x&&pe(e,"vxe-gantt--table-wrapper")?x.getParentHeight():b&&pe(e,"vxe-grid--table-wrapper")?b.getParentHeight():e.clientHeight),Math.floor(o-r)}return 0},getExcludeHeight(){return y?y.getExcludeHeight():0},defineField(t){const{treeConfig:n}=e,r=fn.value,o=hn.value,i=It.value,l=Nt.value,s=o.children||o.childrenField,c=je(Fn);return a().isArray(t)||(t=[t]),t.map(e=>{S.tableFullColumn.forEach(t=>{const{field:n,editRender:r}=t;if(n&&!a().has(e,n)&&!e[n]){let o=null;if(r){const{defaultValue:e}=r;a().isFunction(e)?o=e({column:t}):a().isUndefined(e)||(o=e)}a().set(e,n,o)}});const t=[i.labelField,l.checkField,l.labelField,r.labelField];return t.forEach(t=>{t&&g(a().get(e,t))&&a().set(e,t,null)}),n&&o.lazy&&a().isUndefined(e[s])&&(e[s]=null),g(a().get(e,c))&&a().set(e,c,_e()),e})},handleTableData(e){const{scrollYLoad:t}=k,{scrollYStore:n,fullDataRowIdData:r}=S,o=S.xeGanttView;let i=S.afterFullData;e&&(Sr(),i=kr());const a=t?i.slice(n.startIndex,n.endIndex):i.slice(0),l={};return a.forEach((e,t)=>{const n=Le(Fn,e),o=r[n];o&&(o.$index=t),l[n]=e}),k.tableData=a,S.visibleDataRowIdData=l,o&&o.updateViewData&&o.updateViewData(),(0,K.nextTick)()},cacheRowMap(t){const{treeConfig:n}=e,{isRowGroupStatus:r}=k,{currKeyField:o,fullAllDataRowIdData:i,tableFullData:l,tableFullTreeData:s,tableFullGroupData:c,treeExpandedMaps:u}=S,d=t?{}:Object.assign({},i),p={},f={},{handleUpdateRowId:h}=$e(Fn),m=(e,t,n,r,i,a,l,s)=>{let c=d[a];f[a]&&ee("vxe.error.repeatKey",[o,a]),c||(c={row:e,rowid:a,seq:s,index:-1,_index:-1,$index:-1,treeIndex:t,_tIndex:-1,items:n,parent:i,level:l,height:0,resizeHeight:0,oTop:0,expandHeight:0},p[a]=c,d[a]=c),c.treeLoaded=!1,c.expandLoaded=!1,c.row=e,c.items=n,c.parent=i,c.level=l,c.index=r,c.treeIndex=t,f[a]=!0,p[a]=c,d[a]=c};if(n){const e=hn.value,{lazy:t}=e,r=e.children||e.childrenField,o=e.hasChild||e.hasChildField;a().eachTree(s,(e,i,a,l,s,c)=>{const d=h(e);n&&t&&(e[o]&&void 0===e[r]&&(e[r]=null),u[d]&&(e[r]&&e[r].length||delete u[d])),m(e,i,a,s?-1:i,s,d,c.length-1,Je(l))},{children:r})}else if(r){const e=Ct.value,{mapChildrenField:t}=e;a().eachTree(c,(e,t,n,r,o,i)=>{const a=h(e);m(e,t,n,o?-1:t,o,a,i.length-1,Je(r))},{children:t})}else l.forEach((e,t,n)=>{m(e,t,n,t,null,h(e),0,t+1)});S.fullDataRowIdData=p,S.fullAllDataRowIdData=d,k.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:n}=e,r=hn.value,o=a().clone(t,!0),{handleUpdateRowId:i}=$e(Fn),l={},s=e=>{const t=i(e);l[t]=e};if(n){const e=r.children||r.childrenField;a().eachTree(o,s,{children:r.transform?r.mapChildrenField:e})}else o.forEach(s);S.sourceDataRowIdData=l,S.tableSourceData=o},analyColumnWidth(){const{tableFullColumn:e}=S,t=ft.value,{width:n,minWidth:r}=t,o=[],i=[],a=[],l=[],s=[],c=[],u=[],d=[];e.forEach(e=>{n&&!e.width&&(e.width=n),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?o.push(e):"auto"===e.width?u.push(e):ue(e.width)?i.push(e):de(e.width)?s.push(e):ue(e.minWidth)?a.push(e):"auto"===e.minWidth?l.push(e):de(e.minWidth)?c.push(e):d.push(e))}),Object.assign(k.columnStore,{resizeList:o,pxList:i,pxMinList:a,autoMinList:l,scaleList:s,scaleMinList:c,autoList:u,remainList:d})},handleColResizeMousedownEvent(e,t,n){e.stopPropagation(),e.preventDefault();const{column:r}=n,{columnStore:o,overflowX:i,scrollbarHeight:l}=k,{visibleColumn:s}=S,{leftList:c,rightList:u}=o,d=At.value,p=i?l:0,f=O.value,h=G.value,m=Y.value,g=X.value;if(!g)return;const v="left"===t,b="right"===t,x=g.firstElementChild,y=at.value,{clientX:w}=e,C=e.target;let T=C.parentElement,E=r;const D=r.children&&r.children.length;if(D&&(E=pt(r),D)){const e=T?T.parentElement:null,t=e?e.parentElement:null;T=t?t.querySelector(`.vxe-header--column[colid="${E.id}"]`):null}if(!T)return;const A=a().assign(n,{cell:T,$table:Fn});let M=0;const I=f.getBoundingClientRect(),N=m?m.getBoundingClientRect():null,R=T.getBoundingClientRect(),F=C.getBoundingClientRect(),_=C.clientWidth,P=a().floor(_/2),j=F.x-I.x+P,L=rt(A)-P,$=b?0:R.x-I.x+_+L,z=R.x-I.x+T.clientWidth-L;let V=0,B=0;if(v||b){let e=!1;const t=v?c:u;for(let n=0;n<t.length;n++){const r=t[n];e?V+=r.renderWidth:(e=r.id===E.id,e||(B+=r.renderWidth))}}const H=e=>{e.stopPropagation(),e.preventDefault();const t=f.clientHeight,n=e.clientX-w;let r=j+n;v?N&&(r=Math.min(r,N.x-I.x-V-L)):b&&(h&&(r=Math.max(r,h.clientWidth+B+L)),r=Math.min(r,z)),M=Math.max(r,$);const o=Math.max(1,M);if(g.style.left=`${o}px`,g.style.top=`${y?p:0}px`,g.style.height=`${y?t-p:t}px`,d.showDragTip&&x){x.textContent=Yo("vxe.table.resizeColTip",[Math.floor(E.renderWidth+(b?j-M:M-j))]);const n=f.clientWidth,r=g.clientWidth,i=x.clientWidth,a=x.clientHeight;let l=-i;o<i+r?l=0:o>n&&(l+=n-o),x.style.left=`${l}px`,x.style.top=`${Math.min(t-a,Math.max(0,e.clientY-I.y-a/2))}px`}k.isDragResize=!0};k.isDragResize=!0,he(f,"col-drag--resize"),g.style.display="block",document.onmousemove=H,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,g.style.display="none",S._lastResizeTime=Date.now(),setTimeout(()=>{k.isDragResize=!1},50);const t=E.renderWidth+(b?j-M:M-j),r=Object.assign(Object.assign({},n),{resizeWidth:t,resizeColumn:E});"fixed"===d.dragMode&&s.forEach(e=>{e.id!==E.id&&(e.resizeWidth||(e.resizeWidth=e.renderWidth))}),Fn.handleColResizeCellAreaEvent?Fn.handleColResizeCellAreaEvent(e,r):(E.resizeWidth=t,Ro(e,r)),fe(f,"col-drag--resize")},H(e),Fn.closeMenu&&Fn.closeMenu()},handleColResizeDblclickEvent(e,t){const n=At.value,{isDblclickAutoWidth:r}=n,o=O.value;if(r&&o){e.stopPropagation(),e.preventDefault();const{fullColumnIdData:n}=S,{column:r}=t;let i=r;r.children&&r.children.length&&a().eachTree(r.children,e=>{i=e});const l=i.id,s=n[l],c=e.target,u=c.parentNode,d=Object.assign(t,{cell:u,$table:Fn}),p=rt(d);o.setAttribute("data-calc-col","Y");let f=mr(i,o);o.removeAttribute("data-calc-col"),s&&(f=Math.max(f,s.width)),f=Math.max(p,f);const h=Object.assign(Object.assign({},t),{resizeWidth:f,resizeColumn:i});k.isDragResize=!1,S._lastResizeTime=Date.now(),Fn.handleColResizeDblclickCellAreaEvent?Fn.handleColResizeDblclickCellAreaEvent(e,h):(i.resizeWidth=f,Ro(e,h))}},handleRowResizeMousedownEvent(t,n){t.stopPropagation(),t.preventDefault();const{row:r}=n,{showOverflow:o}=e,{overflowX:i,scrollbarWidth:l,overflowY:s,scrollbarHeight:c}=k,{elemStore:u,fullAllDataRowIdData:d}=S,p=s?l:0,f=i?c:0,h=lt.value,m=At.value,g=wt.value,v=mt.value;let b=O.value;if(x){const{refGanttContainerElem:e}=x.getRefMaps(),t=e.value;t&&(b=t)}const y=Z.value;if(!y)return;const{clientY:w}=t,C=y.firstElementChild,T=t.currentTarget,E=T.parentNode,D=E.parentNode,A=tt(u["main-body-scroll"]);if(!A)return;const M=Le(Fn,r),I=d[M];if(!I)return;const N=dt.value;let R=I.resizeHeight||v.height||g.height||I.height||N;o||(R=E.clientHeight);const F=b.getBoundingClientRect(),_=D.getBoundingClientRect(),P=w-_.y-D.clientHeight;let j=R;const L=E.querySelector(".vxe-cell");let $=0;if(L){const e=getComputedStyle(L);$=Math.max(1,Math.ceil(a().toNumber(e.paddingTop)+a().toNumber(e.paddingBottom)))}const z=_.y-F.y+$,V=e=>{e.stopPropagation(),e.preventDefault();const t=b.clientWidth-p,n=b.clientHeight-f;let r=e.clientY-F.y-P;if(r<z?r=z:j=Math.max($,R+e.clientY-w),y.style.left=`${h?p:0}px`,y.style.top=`${r}px`,y.style.width=`${t}px`,m.showDragTip&&C){C.textContent=Yo("vxe.table.resizeRowTip",[j]);const o=C.clientWidth,i=C.clientHeight;let a=Math.max(2,e.clientX-F.x),l=0;a+o>=t-2&&(a=t-o-2),r+i>=n&&(l=n-(r+i)),C.style.left=`${a}px`,C.style.top=`${l}px`}k.isDragResize=!0};k.isDragResize=!0,he(b,"row-drag--resize"),y.style.display="block",document.onmousemove=V,document.onmouseup=function(e){if(document.onmousemove=null,document.onmouseup=null,y.style.display="none",S._lastResizeTime=Date.now(),setTimeout(()=>{k.isDragResize=!1},50),j!==R){const t=Object.assign(Object.assign({},n),{resizeHeight:j,resizeRow:r});S.isResizeCellHeight=!0,Fn.handleRowResizeCellAreaEvent?Fn.handleRowResizeCellAreaEvent(e,t):(I.resizeHeight=j,Fo(e,t),Po())}fe(b,"row-drag--resize")},V(t)},handleRowResizeDblclickEvent(e,t){const n=At.value,{isDblclickAutoHeight:r}=n,o=O.value;if(r&&o){e.stopPropagation(),e.preventDefault();const{editStore:n}=k,{fullAllDataRowIdData:r}=S,{actived:i}=n,{row:a}=t,l=Le(Fn,a),s=r[l];if(!s)return;const c=()=>{o.setAttribute("data-calc-row","Y");const n=br(s,o);o.removeAttribute("data-calc-row");const r=Object.assign(Object.assign({},t),{resizeHeight:n,resizeRow:a});k.isDragResize=!1,S._lastResizeTime=Date.now(),Fn.handleRowResizeDblclickCellAreaEvent?Fn.handleRowResizeDblclickCellAreaEvent(e,r):(s.resizeHeight=n,Fo(e,r))};i.row||i.column?Fn.clearEdit().then(c):c()}},saveCustomStore(t){const{customConfig:n}=e,r=Re.value,o=xn.value,{updateStore:i,storage:a,storeOptions:l}=o,c=!0===a,u=c?{}:Object.assign({},a||{},l),d=Ln(u.resizable,c),p=Ln(u.visible,c),f=Ln(u.fixed,c),h=Ln(u.sort,c),m=Ln(u.aggGroup,c),g=Ln(u.aggFunc,c);if("reset"!==t&&(k.isCustomStatus=!0),a&&(n?s(o):o.enabled)&&(d||p||f||h||m||g)){if(!r)return ee("vxe.error.reqProp",["id"]),(0,K.nextTick)();const e="reset"===t?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:T.getCustomStoreData();if(i)return i({$table:Fn,id:r,type:t,storeData:e});Hn(r,"reset"===t?null:e)}return(0,K.nextTick)()},handleCustom(){const{mouseConfig:t}=e;return t&&(Fn.clearSelected&&Fn.clearSelected(),Fn.clearCellAreas&&(Fn.clearCellAreas(),Fn.clearCopyCellArea())),E.analyColumnWidth(),T.refreshColumn(!0)},handleUpdateDataQueue(){k.upDataFlag++},handleRefreshColumnQueue(){k.reColumnFlag++},handleFilterOptions(e){const{filterStore:t}=k,{filters:n,filterMultiple:r,filterRender:o}=e,i=s(o)?Ko.get(o.name):null,a=e.filterRecoverMethod||(i?i.tableFilterRecoverMethod||i.filterRecoverMethod:null);t.multiple=r,t.options=n,t.column=e,t.options.forEach(t=>{const{_checked:n,checked:r}=t;t._checked=r,r||n===r||a&&a({option:t,column:e,$table:Fn})}),Fn.checkFilterOptions()},preventEvent(e,t,n,r,o){let i=Qo.get(t);i.length||"event.clearEdit"!==t||(i=Qo.get("event.clearActived"),i.length&&Q("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let a=null,l=!1;for(let s=0;s<i.length;s++){const t=i[s],r=t(Object.assign({$table:Fn,$grid:b,gantt:x,$event:e},n));if(!1===r){l=!0;break}if(r&&!1===r.status){a=r.result,l=!0;break}}return l||r&&(a=r()),o&&o(),a},updateCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=k,{afterTreeFullData:r,afterGroupFullData:o,selectCheckboxMaps:i,treeIndeterminateRowMaps:l}=S,s=Ct.value,c=hn.value,u=c.children||c.childrenField,d=Nt.value,{checkField:p,indeterminateField:f,checkStrictly:h,checkMethod:m}=d;if(!h){if(n||t){const{handleGetRowId:e}=ze(Fn),d={},h=[];if(n){const t=s.mapChildrenField;t&&a().eachTree(o,n=>{const r=e(n),o=n[t];o&&o.length&&!d[r]&&(d[r]=1,h.unshift([n,r,o]))},{children:t})}else if(t){const{transform:t,mapChildrenField:n}=c;a().eachTree(r,r=>{const o=e(r),i=r[t?n:u];i&&i.length&&!d[o]?(d[o]=1,h.unshift([r,o,i])):f&&a().set(r,f,!1)},{children:t?n:u})}h.forEach(t=>{const n=t[0],r=t[1],o=t[2];let s=0,c=0,u=0;const d=o.length;o.forEach(m?t=>{const n=e(t),r=p?a().get(t,p):i[n];m({$table:Fn,row:t})?(r?s++:l[n]&&c++,u++):r?s++:l[n]&&c++}:t=>{const n=e(t),r=p?a().get(t,p):i[n];r?s++:l[n]&&c++,u++});let h=!1;h=d>0?u>0?(s>0||c>0)&&s>=u:s>0&&s>=u||!!i[r]:i[r];const g=!h&&(s>0||c>0);p&&a().set(n,p,h),f&&a().set(n,f,g),h?(p||(i[r]=n),l[r]&&delete l[r]):(p||i[r]&&delete i[r],g?l[r]=n:l[r]&&delete l[r])})}k.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=k,{afterFullData:r,afterTreeFullData:o,afterGroupFullData:i,checkboxReserveRowMap:l,selectCheckboxMaps:s,treeIndeterminateRowMaps:c}=S,u=Ct.value,{mapChildrenField:d}=u,p=Nt.value,{checkField:f,checkMethod:h,showReserveStatus:m}=p,{handleGetRowId:g}=ze(Fn);let v=0,b=0,x=0,y=0,w=0;const C=t?o:n?i:r;C.forEach(h?e=>{const t=g(e),r=f?a().get(e,f):s[t];if(n&&Fn.isAggregateRecord(e)){const n=e[d||""];r?(w++,v++):c[t]?(w++,x++):n&&n.length&&n.some(e=>h({$table:Fn,row:e}))&&w++}else h({$table:Fn,row:e})?(r?v++:c[t]&&x++,w++):r?b++:c[t]&&y++}:e=>{const t=g(e),n=f?a().get(e,f):s[t];n?v++:c[t]&&x++,w++});const T=C.length>0&&(w>0?v>=w:v>=C.length);let E=!T&&(v>0||x>0||b>0||y>0);T||E||!m||(E=!a().isEmpty(l)),k.isAllSelected=T,k.isIndeterminate=E},checkSelectionStatus(){Fn.updateCheckboxStatus(),Fn.updateAllCheckboxStatus()},handleBatchSelectRows(t,n,r){const{treeConfig:o}=e,{isRowGroupStatus:i}=k,{selectCheckboxMaps:l}=S,s=Ct.value,c=hn.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,f=Nt.value,{checkField:h,checkStrictly:m,checkMethod:g}=f,{handleGetRowId:v}=ze(Fn),b=f.indeterminateField||f.halfField;if(h)return!o&&!i||m?(t.forEach(e=>{(r||!g||g({$table:Fn,row:e}))&&(a().set(e,h,n),Rr(e,n))}),void k.updateCheckboxFlag++):(a().eachTree(t,e=>{(r||!g||g({$table:Fn,row:e}))&&(a().set(e,h,n),b&&a().set(e,b,!1),Rr(e,n))},{children:u?d:p}),void k.updateCheckboxFlag++);if(!m){if(i)return a().eachTree(t,e=>{const t=v(e);(r||!g||g({$table:Fn,row:e}))&&(n?l[t]=e:l[t]&&delete l[t],Rr(e,n))},{children:s.mapChildrenField}),void k.updateCheckboxFlag++;if(o)return a().eachTree(t,e=>{const t=v(e);(r||!g||g({$table:Fn,row:e}))&&(n?l[t]=e:l[t]&&delete l[t],Rr(e,n))},{children:u?d:p}),void k.updateCheckboxFlag++}t.forEach(e=>{const t=v(e);(r||!g||g({$table:Fn,row:e}))&&(n?l[t]||(l[t]=e):l[t]&&delete l[t],Rr(e,n),k.updateCheckboxFlag++)})},handleSelectRow({row:e},t,n){Fn.handleBatchSelectRows([e],t,n)},handleUpdateBodyMerge(){const{mergeBodyList:e}=S;S.mergeBodyCellMaps=Jn(e),k.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:e}=S;S.mergeHeaderCellMaps=Jn(e),k.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:e}=S;S.mergeFooterCellMaps=Jn(e),k.mergeFootFlag++},handleAggregateSummaryData(){return eo()},triggerHeaderTitleEvent(e,t,n){const r=t.content||t.message;if(r){const{tooltipStore:o}=k,{column:i}=n,a=h(r);pi(!0),o.row=null,o.column=i,o.visible=!0,o.currOpts=t,(0,K.nextTick)(()=>{const t=A.value;t&&t.open&&t.open(e.currentTarget,a)})}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=k,r=Ft.value,{column:o}=t;pi(!0);const i=e.currentTarget;if(!i)return;const a=i.parentElement;if(!a)return;const l=a.parentElement;if(!l)return;const s=l.parentElement;if(s&&(n.column!==o||!n.visible)){const n=s.querySelector(".vxe-cell--title");Si(e,r,"header",s,(pe(s,"col--ellipsis")?n:a)||a,n||l,t)}},triggerBodyTooltipEvent(t,n){const{editConfig:r}=e,{editStore:o}=k,{tooltipStore:i}=k,a=Rt.value,l=Lt.value,{actived:c}=o,{row:u,column:d}=n,p=t.currentTarget;if(pi(i.column!==d||i.row!==u),d.editRender&&s(r)){if("row"===l.mode&&c.row===u)return;if(c.row===u&&c.column===d)return}if(i.column!==d||i.row!==u||!i.visible){const e=p.querySelector(".vxe-cell--wrapper");let r=null,o=p.querySelector("html"===d.type?".vxe-cell--html":".vxe-cell--label");d.treeNode&&(r=p.querySelector(".vxe-tree-cell")),o||(o=e),Si(t,a,"body",p,r||e,o,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:r}=k,o=_t.value,i=e.currentTarget;if(pi(r.column!==n||!!r.row),r.column!==n||!r.visible){const r=i.querySelector(".vxe-cell--wrapper");let a=null,l=i.querySelector("html"===n.type?".vxe-cell--html":".vxe-cell--label");"html"===n.type&&(a=i.querySelector(".vxe-cell--html")),l||(l=r),Si(e,o,"footer",i,a||r,l,t)}},handleTargetLeaveEvent(){const e=Rt.value;let t=A.value;t&&t.setActived&&t.setActived(!1),e.enterable?S.tooltipTimeout=setTimeout(()=>{t=A.value,t&&t.isActived&&!t.isActived()&&Fn.closeTooltip()},e.leaveDelay):Fn.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:r}=S,o=$t.value,i=ft.value,a=ht.value,{column:l}=n,s=t.currentTarget,c=r&&r>Date.now()-300,u=Se(t,s,"vxe-cell--sort").flag,d=Se(t,s,"vxe-cell--filter").flag;"cell"!==o.trigger||c||u||d||Fn.triggerSortEvent(t,l,zn(l)),Mo("header-cell-click",Object.assign({triggerResizable:c,triggerSort:u,triggerFilter:d,cell:s},n),t),!i.isCurrent&&!e.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||Fn.triggerCurrentColumnEvent(t,n)},triggerHeaderCellDblclickEvent(e,t){Mo("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{treeConfig:r,highlightCurrentRow:o,highlightCurrentColumn:i,editConfig:a,aggregateConfig:l,rowGroupConfig:c}=e,{editStore:u,isDragResize:d,expandColumn:p,checkboxColumn:f,radioColumn:h}=k;if(d)return;const m=fn.value,g=Lt.value,v=hn.value,b=It.value,x=Nt.value,y=Ht.value,w=Ct.value,C=wt.value,S=ft.value,T=ht.value,{actived:E,focused:O}=u,{row:D,column:A}=n,{type:M,treeNode:I,rowGroupNode:N}=A,R="radio"===M,F="checkbox"===M,_="expand"===M,P=t.currentTarget,j=R&&Se(t,P,"vxe-cell--radio").flag,L=F&&Se(t,P,"vxe-cell--checkbox").flag,$=I&&Se(t,P,"vxe-cell--tree-btn").flag,z=_&&Se(t,P,"vxe-table--expanded").flag,V=_&&Se(t,P,"vxe-row-group--node-btn").flag;n=Object.assign({cell:P,triggerRadio:j,triggerCheckbox:L,triggerTreeNode:$,triggerExpandNode:z},n),L||j||(!z&&(p&&"row"===m.trigger||_&&"cell"===m.trigger)&&Fn.triggerRowExpandEvent(t,n),r&&("row"===v.trigger||I&&"cell"===v.trigger)&&Fn.triggerTreeExpandEvent(t,n),(l||c)&&("row"===w.trigger||N&&"cell"===w.trigger)&&Fn.triggerRowGroupExpandEvent(t,n)),$||(z||V||((C.isCurrent||o)&&(L||j||Fn.triggerCurrentRowEvent(t,n)),!S.isCurrent&&!i||T.trigger&&!["cell","default"].includes(T.trigger)||L||j||Fn.triggerCurrentColumnEvent(t,n),!j&&(h&&"row"===b.trigger||R&&"cell"===b.trigger)&&Fn.triggerRadioRowEvent(t,n),!L&&(f&&"row"===x.trigger||F&&"cell"===x.trigger)&&Fn.handleToggleCheckRowEvent(t,n)),s(a)&&(y.arrowCursorLock&&t&&"cell"===g.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(O.column=A,O.row=D),"manual"===g.trigger?E.args&&E.row===D&&A!==E.column&&Or(t,n):E.args&&D===E.row&&A===E.column||("click"===g.trigger||"dblclick"===g.trigger&&"row"===g.mode&&E.row===D)&&Or(t,n))),s(a)&&"dblclick"===g.trigger&&E.row&&E.column&&("row"===g.mode?Fn.eqRow(E.row,D)||Fn.handleClearEdit(t):"cell"===g.mode&&(Fn.eqRow(E.row,D)&&E.column.id===A.id||Fn.handleClearEdit(t))),Mo("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:r}=e,{editStore:o,isDragResize:i}=k;if(i)return;const a=Lt.value,{actived:l}=o,c=t.currentTarget;n=Object.assign({cell:c},n),s(r)&&"dblclick"===a.trigger&&(l.args&&t.currentTarget===l.args.cell||("row"===a.mode?Er("blur").catch(e=>e).then(()=>{Fn.handleEdit(n,t).then(()=>Er("change")).catch(e=>e)}):"cell"===a.mode&&Fn.handleEdit(n,t).then(()=>Er("change")).catch(e=>e))),Mo("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=S,r=Nt.value,{checkField:o,trigger:i}=r,{row:l}=t;if("manual"===i)return;let s=!1;s=o?!a().get(l,o):!n[Le(Fn,l)],e?Fn.triggerCheckRowEvent(e,t,s):(Fn.handleBatchSelectRows([l],s),Fn.checkSelectionStatus())},triggerCheckRowEvent(t,n,r){const{treeConfig:o}=e,{row:i}=n,{isRowGroupStatus:a}=k,{afterFullData:l}=S,s=Nt.value,{checkMethod:c,trigger:u}=s;if("manual"!==u){if(t.stopPropagation(),s.isShiftKey&&t.shiftKey&&!o&&!a){const e=Fn.getCheckboxRecords();if(e.length){const r=e[0],o=Fn.getVTRowIndex(i),a=Fn.getVTRowIndex(r);if(o!==a){Fn.setAllCheckboxRow(!1);const e=o<a?l.slice(o,a+1):l.slice(a,o+1);return(0,K.nextTick)(()=>{_r(e,!0,!1)}),void Mo("checkbox-range-select",Object.assign({rangeRecords:e},n),t)}}}(a||!c||c({$table:Fn,row:i}))&&(Fn.handleBatchSelectRows([i],r),Fn.checkSelectionStatus(),Mo("checkbox-change",Object.assign({records:()=>Fn.getCheckboxRecords(),reserves:()=>Fn.getCheckboxReserveRecords(),indeterminates:()=>Fn.getCheckboxIndeterminateRecords(),checked:r},n),t))}},triggerCheckAllEvent(e,t){const n=Nt.value,{trigger:r}=n;"manual"!==r&&(e&&e.stopPropagation(),xo(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=k,{row:r}=t,o=It.value,{trigger:i,checkMethod:a}=o;if("manual"!==i&&(e.stopPropagation(),!a||a({$table:Fn,row:r}))){let i=r,a=n!==i;a?Fr(i):o.strict||(a=n===i,a&&(i=null,Fn.clearRadioRow())),a&&Mo("radio-change",Object.assign({oldValue:n,newValue:i},t),e)}},triggerCurrentColumnEvent(e,t){const{currentColumn:n}=k,r=ft.value,o=ht.value,i=o.beforeSelectMethod||r.currentMethod,{column:a}=t,{trigger:l}=o;if("manual"===l)return;const s=n!==a;!i||i({column:a,$table:Fn})?(Fn.setCurrentColumn(a),s&&Mo("current-column-change",Object.assign({oldValue:n,newValue:a},t),e)):Mo("current-column-disabled",t,e)},triggerCurrentRowEvent(e,t){const{currentRow:n}=k,r=wt.value,o=Tt.value,i=o.beforeSelectMethod||r.currentMethod,{row:a}=t,{trigger:l}=o;if("manual"===l)return;const s=n!==a;!i||i({row:a,$table:Fn})?(Fn.setCurrentRow(a),s&&(Mo("current-row-change",Object.assign({oldValue:n,newValue:a},t),e),Mo("current-change",Object.assign({oldValue:n,newValue:a},t),e))):Mo("current-row-disabled",t,e)},triggerRowExpandEvent(e,t){const{expandColumn:n}=k,{rowExpandLazyLoadedMaps:r}=S,o=fn.value,{row:i}=t,{lazy:a,trigger:l}=o;if("manual"===l)return;e.stopPropagation();const s=Le(Fn,i);if(!a||!r[s]){const t=!Fn.isRowExpandByRow(i),r=n?Fn.getColumnIndex(n):-1,o=n?Fn.getVMColumnIndex(n):-1;Fn.setRowExpand(i,t),Mo("toggle-row-expand",{expanded:t,column:n,columnIndex:r,$columnIndex:o,row:i,rowIndex:Fn.getRowIndex(i),$rowIndex:Fn.getVMRowIndex(i)},e)}},triggerRowGroupExpandEvent(e,t){const{rowGroupExpandedMaps:n}=S,r=Ct.value,{row:o,column:i}=t,{trigger:a}=r;if("manual"===a)return;e.stopPropagation();const l=Le(Fn,o),s=!n[l],c=Fn.getColumnIndex(i),u=Fn.getVMColumnIndex(i);Fn.setRowGroupExpand(o,s),Mo("toggle-row-group-expand",{expanded:s,column:i,columnIndex:c,$columnIndex:u,row:o},e)},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n,treeEATime:r}=S,o=hn.value,{row:i,column:a}=t,{lazy:l,trigger:s,accordion:c}=o;if("manual"===s)return;e.stopPropagation();const u=Le(Fn,i);if(!l||!n[u]){const t=!Fn.isTreeExpandByRow(i),n=Fn.getColumnIndex(a),o=Fn.getVMColumnIndex(a);r&&clearTimeout(r),Fn.setTreeExpand(i,t).then(()=>{c&&(S.treeEATime=setTimeout(()=>{S.treeEATime=void 0,Fn.scrollToRow(i)},30))}),Mo("toggle-tree-expand",{expanded:t,column:a,columnIndex:n,$columnIndex:o,row:i},e)}},handleColumnSortEvent(t,n){const{mouseConfig:r}=e,o=Vt.value,{field:i,sortable:a,order:l}=n;if(a){const e={$table:Fn,$event:t,column:n,field:i,property:i,order:l,sortList:T.getSortColumns(),sortTime:n.sortTime};r&&o.area&&Fn.handleSortEvent&&Fn.handleSortEvent(t,e),l||Mo("clear-sort",e,t),Mo("sort-change",e,t)}},triggerSortEvent(e,t,n){const r=$t.value,{multiple:o,allowClear:i}=r,{field:a,sortable:l}=t;l&&(n&&t.order!==n?Fn.sort({field:a,order:n}):i&&Fn.clearSort(o?t:null),Fn.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,t,n){const{validStore:r}=k,{row:o,column:i}=t;if(Fn.hasCellRules&&Fn.hasCellRules(e,o,i)){const t=Fn.getCellElement(o,i);if(t){const l=!a().isUndefined(n);return Fn.validCellRules(e,o,i,n).then(()=>{l&&r.visible&&et(o,i,n),Fn.clearValidate(o,i)}).catch(({rule:e})=>{l&&et(o,i,n),Fn.showValidTooltip({rule:e,row:o,column:i,cell:t})})}}return(0,K.nextTick)()},triggerHeaderCellMousedownEvent(t,n){const{mouseConfig:r}=e,o=Vt.value,i=ft.value,a=Ot.value,{trigger:l,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=t.currentTarget,p=d&&d.tagName&&"input"===d.tagName.toLowerCase(),f=Se(t,d,"vxe-cell--checkbox").flag,h=Se(t,d,"vxe-cell--sort").flag,m=Se(t,d,"vxe-cell--filter").flag;let g=!1;const v=i.drag&&"cell"===l;if(!(p||f||h||m)){const{column:e}=n;!v||e.fixed||!s&&!c&&e.parentId||u&&u(n)||(g=!0,Fn.handleHeaderCellDragMousedownEvent(t,n))}!g&&r&&o.area&&Fn.handleHeaderCellAreaModownEvent&&Fn.handleHeaderCellAreaModownEvent(t,Object.assign({cell:d,triggerSort:h,triggerFilter:m},n)),Fn.focus(),Fn.closeMenu&&Fn.closeMenu()},triggerCellMousedownEvent(e,t){const{column:n}=t,{type:r,treeNode:o}=n,i="radio"===r,a="checkbox"===r,l="expand"===r,s=wt.value,c=Et.value,{trigger:u,isCrossDrag:d,isPeerDrag:p,disabledMethod:f}=c,h=e.currentTarget;t.cell=h;const m=h&&h.tagName&&"input"===h.tagName.toLowerCase(),g=i&&Se(e,h,"vxe-cell--radio").flag,v=a&&Se(e,h,"vxe-cell--checkbox").flag,b=o&&Se(e,h,"vxe-cell--tree-btn").flag,x=l&&Se(e,h,"vxe-table--expanded").flag;let y=!1;s.drag&&(y="row"===u||n.dragSort&&"cell"===u);let w=!1;m||g||v||b||x||!y||!d&&!p&&t.level||f&&f(t)||(w=!0,Fn.handleCellDragMousedownEvent(e,t)),!w&&Fn.handleCellMousedownEvent&&Fn.handleCellMousedownEvent(e,t),Fn.focus(),Fn.closeFilter(),Fn.closeMenu&&Fn.closeMenu()},triggerCellMouseupEvent(){hi()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(le(),0,0)},handleRowDragSwapEvent(t,n,r,i,l,s){const{treeConfig:c,dragConfig:u}=e,d=Et.value,{afterFullData:p,tableFullData:f,fullAllDataRowIdData:h}=S,m=S.xeGanttView,{animation:g,isPeerDrag:v,isCrossDrag:b,isSelfToChildDrag:y,dragEndMethod:w,dragToChildMethod:C}=d,T=hn.value,E=mt.value,D=wt.value,A=dt.value,{transform:M,rowField:I,mapChildrenField:N,parentField:R}=T,F=T.children||T.childrenField,_=w||(u?u.dragEndMethod:null),P="bottom"===l?1:0,j=O.value,L={status:!1};if(!(j&&i&&r))return Promise.resolve(L);if(i!==r){const e={oldRow:r,newRow:i,dragRow:r,dragPos:l,dragToChild:!!s,offsetIndex:P},n=y&&C?C(e):s;return Promise.resolve(!_||_(e)).then(e=>{if(!e)return L;const s=Le(Fn,r),u=h[s]||{},d=u._index;let w=0,C=-1;if(g){w=Ye(u,E,D,A);const e=j.querySelector(`.vxe-body--row[rowid="${s}"]`);e&&(C=e.offsetTop)}let T=-1,O=-1;if(c){if(M){const e=u,t=Le(Fn,i),l=h[t];if(e&&l){const{level:s}=e,{level:c}=l,u={};a().eachTree([r],e=>{u[Le(Fn,e)]=e},{children:N});let d=!1;if(s&&c)if(v&&!b){if(e.row[R]!==l.row[R])return L}else{if(!b)return L;if(u[t]&&(d=!0,!b||!y))return o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.error.treeDragChild")}),L}else if(s){if(!b)return L}else if(c){if(!b)return L;if(u[t]&&(d=!0,!b||!y))return o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.error.treeDragChild")}),L}const p=a().toTreeArray(S.afterTreeFullData,{key:I,parentKey:R,children:N}),f=Fn.findRowIndexOf(p,r);p.splice(f,1);const h=Fn.findRowIndexOf(p,i),m=h+P;p.splice(m,0,r),d&&b&&y&&a().each(r[F],e=>{e[R]=r[R]}),r[R]=n?i[I]:i[R],S.tableFullTreeData=a().toArrayTree(p,{key:I,parentKey:R,children:F,mapChildren:N})}}}else{T=Fn.findRowIndexOf(p,r);const e=Fn.findRowIndexOf(f,r);p.splice(T,1),f.splice(e,1);const t=Fn.findRowIndexOf(p,i),n=Fn.findRowIndexOf(f,i);O=t+P;const o=n+P;p.splice(O,0,r),f.splice(o,0,r)}return Fn.handleTableData(c&&M),Fn.cacheRowMap(!1),fo(),c&&M||Fn.updateAfterDataIndex(),Fn.checkSelectionStatus(),k.scrollYLoad&&Fn.updateScrollYSpace(),t&&Mo("row-dragend",{oldRow:r,newRow:i,dragRow:r,dragPos:l,dragToChild:n,offsetIndex:P,_index:{newIndex:O,oldIndex:T}},t),(0,K.nextTick)().then(()=>{if(g){const{tableData:e}=k,t=h[s],n=t._index,r=e[0],o=h[Le(Fn,r)];let i=j;if(x&&m){const{refGanttContainerElem:e}=x.getRefMaps(),t=e.value;t&&(i=t)}if(o){const r=o._index,a=r+e.length;let l=-1,s=-1,c=1;if(d<r)l=0,s=n-r;else if(d>a){const n=t.$index;l=n+1,s=e.length,c=-1}else n>d?(l=d-r,s=l+n-d):(l=n-r,s=l+d-n+1,c=-1);const u=e.slice(l,s);if(u.length){const e=[];u.forEach(t=>{const n=Le(Fn,t);e.push(`.vxe-body--row[rowid="${n}"]`),x&&e.push(`.vxe-gantt-view--body-row[rowid="${n}"]`,`.vxe-gantt-view--chart-row[rowid="${n}"]`)});const t=i.querySelectorAll(e.join(","));ln(t,c*w)}}const a=[`.vxe-body--row[rowid="${s}"]`];x&&a.push(`.vxe-gantt-view--body-row[rowid="${s}"]`,`.vxe-gantt-view--chart-row[rowid="${s}"]`);const l=i.querySelectorAll(a.join(",")),c=l[0];C>-1&&c&&ln(l,C-c.offsetTop)}Po(),jo(),Fn.updateCellAreas(),Fn.recalculate()}).then(()=>({status:!0}))}).catch(()=>L)}return Promise.resolve(L)},handleCrossTableRowDragFinishEvent(e){const{tableData:t}=k,{fullAllDataRowIdData:n}=S,r=wt.value,o=mt.value,i=dt.value,l=Et.value,{animation:s,isCrossTableDrag:c}=l,u=hn.value,{mapChildrenField:d}=u,p=O.value;if(c&&ci&&C){const{row:l}=C;if(l){const c=Le(Fn,l),u=n[c];let f=0,h=-1;u&&(s&&(f=Ye(u,o,r,i)),h=u.$index);const m=h>-1&&h<t.length-1?t.slice(h+1):[],g=a().toTreeArray([l],{updated:!0,children:d});Fn.remove(g).then(()=>{if(s&&f&&m.length){const e=S.xeGanttView;let t=p;if(x&&e){const{refGanttContainerElem:e}=x.getRefMaps(),n=e.value;n&&(t=n)}const n=[];m.forEach(e=>{const t=Le(Fn,e);n.push(`.vxe-body--row[rowid="${t}"]`),x&&n.push(`.vxe-gantt-view--body-row[rowid="${t}"]`,`.vxe-gantt-view--chart-row[rowid="${t}"]`)});const r=t.querySelectorAll(n.join(","));ln(r,f)}}),Mo("row-remove-dragend",{row:l},e),ki(),fi()}}},handleCrossTableRowDragoverEmptyEvent(e){const{tableData:t}=k,n=Et.value,{isCrossTableDrag:r}=n;if(r&&ci&&!t.length){const{$oldTable:t,$newTable:n}=ci;if(t){const r=t.reactData;t.xID!==Fn.xID&&(n&&n.xID!==Fn.xID&&n.hideCrossTableRowDropClearStatus(),e.preventDefault(),t.hideCrossTableRowDropClearStatus(),ci.$newTable=Fn,S.prevDragRow=null,k.dragTipText=r.dragTipText,wi(e,e.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(t){const{treeConfig:n}=e,{prevDragRow:r,prevDragPos:o,prevDragToChild:i}=S,l=Et.value,{animation:s,isSelfToChildDrag:c,isCrossTableDrag:u,dragEndMethod:d,dragToChildMethod:p}=l,f=wt.value,h=mt.value,m=dt.value,g=hn.value,{parentField:v,mapChildrenField:b}=g,y=g.children||g.childrenField;if(u&&ci&&C){const{row:e}=C,{$oldTable:l}=ci,u=O.value;if(l&&e){const g=e;let w=-1;r&&(w="bottom"===o?1:0);const C={oldRow:g,newRow:r,dragRow:g,dragPos:o,dragToChild:!!i,offsetIndex:w},T=c&&p?p(C):i,E={status:!1};Promise.resolve(!d||d(C)).then(i=>{if(!i)return E;let c=Promise.resolve();if(n){const e=a().toTreeArray([g],{updated:!0,children:b});l.handleCrossTableRowDragFinishEvent(t),g[v]=r?r[v]:null,e.forEach(e=>{e[y]=void 0,e[b]=void 0}),c=r?"bottom"===o?Fn.insertNextAt(e,r):Fn.insertAt(e,r):Fn.insert(e)}else l.handleCrossTableRowDragFinishEvent(t),c=r?"bottom"===o?Fn.insertNextAt(g,r):Fn.insertAt(g,r):Fn.insert(g);Mo("row-insert-dragend",{oldRow:e,newRow:r,dragRow:g,dragPos:o,dragToChild:T,offsetIndex:w},t),ki(),c.then(()=>{const{tableData:e}=k,{fullAllDataRowIdData:t}=S,n=Le(Fn,g),r=t[n];let o=0,i=-1;r&&(s&&(o=Ye(r,h,f,m)),i=r.$index);const a=i>-1?e.slice(i):[];if(s&&o&&a.length){const e=S.xeGanttView;let t=u;if(x&&e){const{refGanttContainerElem:e}=x.getRefMaps(),n=e.value;n&&(t=n)}const n=[];a.forEach(e=>{const t=Le(Fn,e);n.push(`.vxe-body--row[rowid="${t}"]`),x&&n.push(`.vxe-gantt-view--body-row[rowid="${t}"]`,`.vxe-gantt-view--chart-row[rowid="${t}"]`)});const r=t.querySelectorAll(n.join(","));ln(r,-o)}})})}}},hideCrossTableRowDropClearStatus(){Ci()},handleRowDragDragendEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r,prevDragToChild:o}=S,{dragRow:i}=k,a=hn.value,{lazy:l}=a,s=a.hasChild||a.hasChildField,{prevDragRow:c,prevDragPos:u}=S,d=Et.value,{isCrossTableDrag:p}=d;if(p&&ci){const{$newTable:e}=ci;if(e&&e.xID!==Fn.xID)return void e.handleCrossTableRowDragInsertEvent(t)}if(n&&l&&o){const e=Le(Fn,c),n=r[e];c[s]?n&&n.treeLoaded&&Fn.handleRowDragSwapEvent(t,!0,i,c,u,o):Fn.handleRowDragSwapEvent(t,!0,i,c,u,o)}else Fn.handleRowDragSwapEvent(t,!0,i,c,u,o);ki(),fi()},handleRowDragDragoverEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=S,{dragRow:o}=k,i=hn.value,{lazy:a,transform:l,parentField:s}=i,c=i.hasChild||i.hasChildField,u=Et.value,{isPeerDrag:d,isCrossDrag:p,isToChildDrag:f,isCrossTableDrag:h}=u;if(!o&&(!h||n&&!p||!ci))return void t.preventDefault();const m=me(t),g=t.currentTarget,v=g.getAttribute("rowid")||"",b=r[v];if(b){t.preventDefault();const e=b.row,i=Le(Fn,e),u=r[i],v=t.clientY-g.getBoundingClientRect().y,x=v<g.clientHeight/2?"top":"bottom";if(S.prevDragToChild=!!(n&&l&&p&&f&&m),S.prevDragRow=e,S.prevDragPos=x,h&&(!n||p)&&ci){const{$oldTable:e,$newTable:n}=ci;if(e){const r=e.reactData;if(e.xID!==Fn.xID)return n&&n.xID!==Fn.xID&&n.hideCrossTableRowDropClearStatus(),e.hideCrossTableRowDropClearStatus(),r.isCrossDragRow=!0,k.dragTipText=r.dragTipText,ci.$newTable=Fn,void wi(t,g,null,!0,x);n&&n.hideCrossTableRowDropClearStatus(),k.isCrossDragRow=!1,r.isCrossDragRow=!1,ci.$newTable=null}}if(Fn.eqRow(o,e)||m&&n&&a&&e[c]&&u&&!u.treeLoaded||!p&&n&&l&&(d?o[s]!==e[s]:b.level))return void wi(t,g,null,!1,x);wi(t,g,null,!0,x),Mo("row-dragover",{oldRow:o,targetRow:e,dragPos:x},t)}},handleCellDragMousedownEvent(t,n){var r;t.stopPropagation();const{dragConfig:o}=e,i=Et.value,{isCrossTableDrag:a,trigger:l,dragStartMethod:s}=i,{row:c}=n,u=t.currentTarget,d="cell"===l||"row"===l?u:null===(r=u.parentElement)||void 0===r?void 0:r.parentElement,p=d.parentElement,f=s||(o?o.dragStartMethod:null);if(mi(),f&&!f(n))return p.draggable=!1,k.dragRow=null,k.dragCol=null,fi(),void Ci();a&&(C.row=c,ci={$oldTable:Fn,$newTable:null}),k.dragRow=c,k.isCrossDragRow=!1,k.dragCol=null,p.draggable=!0,gi(c),vi(d),Mo("row-dragstart",n,t)},handleCellDragMouseupEvent(){hi()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(le(),0,0)},handleColDragSwapColumn(){return ao(),so(!1).then(()=>{Fn.updateCellAreas(),Fn.saveCustomStore("update:sort")})},handleColDragSwapEvent(t,n,r,i,l,s){const{mouseConfig:c}=e,u=Ot.value,{animation:d,isPeerDrag:p,isCrossDrag:f,isSelfToChildDrag:h,isToChildDrag:m,dragEndMethod:g,dragToChildMethod:v}=u,{collectColumn:b,fullColumnIdData:x}=S,y=O.value,w="right"===l?1:0,C={status:!1};if(!(y&&i&&r))return Promise.resolve(C);if(i!==r){const e=r,u=i,T={oldColumn:e,newColumn:u,dragColumn:e,dragPos:l,dragToChild:!!s,offsetIndex:w},E=h&&v?v(T):s;return Promise.resolve(!g||g(T)).then(r=>{if(!r)return C;let i=null;const s=[];let g=0;d&&a().eachTree([e],e=>{i||e.children&&e.children.length||(i=e,g+=e.renderWidth),s.push(e)}),i||(i=e);const v=x[i.id]||{},T=v._index;let O=-1;if(d){const e=y.querySelector(`.vxe-table--column[colid="${i.id}"]`);e&&(O=e.offsetLeft)}let D=-1,A=-1;const M={};a().eachTree([e],e=>{M[e.id]=e});let I=!1;if(e.parentId&&u.parentId)if(p&&!f){if(e.parentId!==u.parentId)return C}else{if(!f)return C;if(M[u.id]&&(I=!0,!f||!h))return o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.error.treeDragChild")}),C}else if(e.parentId){if(!f)return C}else if(u.parentId){if(!f)return C;if(M[u.id]&&(I=!0,!f||!h))return o.OE.modal&&o.OE.modal.message({status:"error",content:Yo("vxe.error.treeDragChild")}),C}const N=a().findTree(b,t=>t.id===e.id);if(I&&f&&h){if(N){const{items:t,index:n}=N,r=e.children||[];r.forEach(t=>{t.parentId=e.parentId}),t.splice(n,1,...r),e.children=[]}}else if(N){const{items:e,index:t,parent:n}=N;e.splice(t,1),n||(D=t)}const R=a().findTree(b,e=>e.id===u.id);if(R){const{items:t,index:n,parent:r}=R;f&&m&&E?(e.parentId=u.id,u.children=(u.children||[]).concat([e])):(e.parentId=u.parentId,t.splice(n+w,0,e)),r||(A=n)}return a().eachTree(b,(e,t,n,r,o)=>{if(!o){const n=t+1;e.renderSortNumber=n}}),c&&(Fn.clearSelected&&Fn.clearSelected(),Fn.clearCellAreas&&(Fn.clearCellAreas(),Fn.clearCopyCellArea())),t&&Mo("column-dragend",{oldColumn:e,newColumn:u,dragColumn:e,dragPos:l,dragToChild:E,offsetIndex:w,_index:{newIndex:A,oldIndex:D}},t),(0,K.nextTick)().then(()=>{if(n)return Fn.handleColDragSwapColumn()}).then(()=>{if(d){const{tableColumn:t}=k,{visibleColumn:n,fullColumnIdData:r}=S;let o=null;const i={};if(a().eachTree([e],e=>{o||e.children&&e.children.length||(o=e),i[e.id]=e}),o||(o=e),g&&s.length){const e=a().findIndexOf(n,e=>!!o&&e.id===o.id),l=t[0],c=r[l.id];if(c){const n=c._index,r=n+t.length;let o=-1,l=-1,s=1;if(T<n)o=0,l=e-n;else if(T>r){const e=v.$index;o=e+1,l=t.length,s=-1}else e>T?(o=T-n,l=o+e-T):(o=e-n+1,l=o+T-e,s=-1);const d=[],p={};for(let e=o;e<l;e++){const n=t[e];p[n.id]||i[n.id]||(p[n.id]=n,d.push(n))}if(a().eachTree([u],e=>{p[e.id]||(p[e.id]=e,d.push(e))}),d.length){const e=y.querySelectorAll(d.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(","));cn(e,s*g)}}const d=y.querySelectorAll(s.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(",")),p=d[0];O>-1&&p&&cn(d,O-p.offsetLeft)}}return _o(),lo(),Fn.updateCellAreas(),{status:!0}})}).catch(()=>C)}return Promise.resolve(C)},handleHeaderCellDragDragendEvent(e){const{dragCol:t}=k,{prevDragCol:n,prevDragPos:r,prevDragToChild:o}=S,i=O.value;Fn.handleColDragSwapEvent(e,!0,t,n,r,o),Ci(),xi(),un(i,[".vxe-table--column"]),S.prevDragToChild=!1,k.dragRow=null,k.dragCol=null,fi()},handleHeaderCellDragDragoverEvent(e){const{dragCol:t}=k,n=Ot.value,{isToChildDrag:r,isPeerDrag:o,isCrossDrag:i}=n;if(!t)return void e.preventDefault();const a=me(e),l=e.currentTarget,s=l.getAttribute("colid"),c=Fn.getColumnById(s);if(c){e.preventDefault();const{clientX:n}=e,s=n-l.getBoundingClientRect().x,u=s<l.clientWidth/2?"left":"right";if(S.prevDragToChild=!!(i&&r&&a),S.prevDragCol=c,S.prevDragPos=u,c.fixed||t&&t.id===c.id||!i&&(o?t.parentId!==c.parentId:c.parentId))return void wi(e,null,l,!1,u);wi(e,null,l,!0,u),Mo("column-dragover",{oldColumn:t,targetColumn:c,dragPos:u},e);const d=O.value;if(!d)return;const p=ve.value,f=j.value,h=f?f.$el:null,m=p||h;if(m){const e=d.getBoundingClientRect(),t=d.clientWidth,r=G.value,o=r?r.clientWidth:0,i=Y.value,a=i?i.clientWidth:0,l=e.x+o,s=e.x+t-a,c=28,u=n-l,p=s-n;if(u>0&&u<=c){const e=Math.floor(t/(u>c/2?240:120));m.scrollLeft-=e*(c-u)}else if(p>0&&p<=c){const e=Math.floor(t/(p>c/2?240:120));m.scrollLeft+=e*(c-p)}}}},handleHeaderCellDragMousedownEvent(e,t){var n;e.stopPropagation();const r=Ot.value,{trigger:o,dragStartMethod:i}=r,{column:a}=t,l=e.currentTarget,s="cell"===o?l:null===(n=l.parentElement)||void 0===n?void 0:n.parentElement;if(xi(),i&&!i(t))return s.draggable=!1,k.dragRow=null,k.dragCol=null,fi(),void Ci();k.dragCol=a,k.dragRow=null,s.draggable=!0,fi(),bi(a),yi(s),Mo("column-dragstart",t,e)},handleHeaderCellDragMouseupEvent(){xi(),Ci(),fi(),k.dragRow=null,k.dragCol=null},handleScrollEvent(t,n,r,o,i,a){const{highlightHoverRow:l}=e,{lastScrollLeft:s,lastScrollTop:c}=S,u=ve.value,d=ke.value;if(!u||!d)return;const p=wt.value,f=I.value,h=A.value,m=d.clientHeight,g=u.clientWidth,v=d.scrollHeight,b=u.scrollWidth;let x=!1,y=!1,w=!1,C=!1,T="",E=!1,O=!1,D=!1,M=!1;if(r){const e=We.value;w=i<=0,w||(C=i+g>=b),i>s?(T="right",i+g>=b-e&&(M=!0)):(T="left",i<=e&&(D=!0)),Fn.checkScrolling(),S.lastScrollLeft=i}if(n){const e=st.value;x=o<=1,x||(y=o+m>=v-1),o>c?(T="bottom",o+m>=v-e&&(O=!0)):(T="top",o<=e&&(E=!0)),S.lastScrollTop=o}k.lastScrollTime=Date.now();const N=Object.assign({scrollTop:o,scrollLeft:i,bodyHeight:m,bodyWidth:g,scrollHeight:v,scrollWidth:b,isX:r,isY:n,isTop:x,isBottom:y,isLeft:w,isRight:C,direction:T},a);jo(),To(r,n),r&&Fn.closeFilter(),(p.isHover||l)&&Fn.clearHoverRow(),f&&f.reactData.visible&&f.close(),h&&h.reactData.visible&&h.close(),(O||E||M||D)&&Mo("scroll-boundary",N,t),Mo("scroll",N,t)},triggerScrollXEvent(){const e=Ke.value;e.immediate?lo():ko()},triggerScrollYEvent(){const e=Xe.value;e.immediate?yo():So()},triggerBodyScrollEvent(e,t){const{scrollYLoad:n,scrollXLoad:r}=k,{elemStore:o,intoRunScroll:i,lastScrollTop:a,lastScrollLeft:l,inWheelScroll:s,inVirtualScroll:c,inHeaderScroll:u,inBodyScroll:d,scrollRenderType:p,inFooterScroll:f}=S;if(s||c||u||f)return;const h=ve.value,m=ke.value,g=tt(o["left-body-scroll"]),v=tt(o["main-body-scroll"]),b=tt(o["right-body-scroll"]),x=tt(o["main-header-scroll"]),y=tt(o["main-footer-scroll"]),w=oe.value;if(i)return;if(!v)return;if(!h)return;if(!m)return;if(d&&p!==t)return;let C=m.scrollTop,T=h.scrollLeft;g&&"left"===t?C=g.scrollTop:b&&"right"===t?C=b.scrollTop:(C=v.scrollTop,T=v.scrollLeft);const E=T!==l,O=C!==a;S.inBodyScroll=!0,S.scrollRenderType=t,O&&("left"===t?(we(v,C),we(b,C)):"right"===t?(we(v,C),we(g,C)):(we(g,C),we(b,C)),we(m,C),we(w,C),Ao(C),n&&Fn.triggerScrollYEvent(e)),E&&(Ce(h,T),Ce(x,T),Ce(y,T),r&&Fn.triggerScrollXEvent(e)),Fn.handleScrollEvent(e,O,E,C,T,{type:"body",fixed:t})},triggerHeaderScrollEvent(e,t){const{scrollXLoad:n}=k,{elemStore:r,intoRunScroll:o,inWheelScroll:i,inVirtualScroll:a,inBodyScroll:l,inFooterScroll:s}=S;if(i||a||l||s)return;const c=ke.value,u=ve.value,d=tt(r["main-body-scroll"]),p=tt(r["main-header-scroll"]),f=tt(r["main-footer-scroll"]);if(o)return;if(!p)return;if(!u)return;if(!c)return;const h=c.scrollTop,m=p.scrollLeft,g=!0,v=!1;S.inHeaderScroll=!0,Ce(u,m),Ce(f,m),Ce(d,m),n&&Fn.triggerScrollXEvent(e),Fn.handleScrollEvent(e,v,g,h,m,{type:"header",fixed:t})},triggerFooterScrollEvent(e,t){const{scrollXLoad:n}=k,{elemStore:r,intoRunScroll:o,inWheelScroll:i,inVirtualScroll:a,inHeaderScroll:l,inBodyScroll:s}=S;if(i||a||l||s)return;const c=ke.value,u=ve.value,d=tt(r["main-body-scroll"]),p=tt(r["main-header-scroll"]),f=tt(r["main-footer-scroll"]);if(o)return;if(!f)return;if(!u)return;if(!c)return;const h=c.scrollTop,m=f.scrollLeft,g=!0,v=!1;S.inFooterScroll=!0,Ce(u,m),Ce(p,m),Ce(d,m),n&&Fn.triggerScrollXEvent(e),Fn.handleScrollEvent(e,v,g,h,m,{type:"footer",fixed:t})},triggerBodyWheelEvent(e){const{target:t,deltaY:n,deltaX:r,shiftKey:o}=e;if(t&&/^textarea$/i.test(t.tagName))return;if(!n&&!r)return;const{highlightHoverRow:i}=Qt,{scrollXLoad:a,scrollYLoad:s,expandColumn:c}=k,u=Kt.value,d=Xt.value;if(!(u||d||c))return;const{elemStore:p,lastScrollTop:f,lastScrollLeft:h}=S,m=wt.value,g=ve.value,v=ke.value,b=tt(p["left-body-scroll"]),x=tt(p["main-header-scroll"]),y=tt(p["main-body-scroll"]),w=tt(p["main-footer-scroll"]),C=tt(p["right-body-scroll"]),T=oe.value;if(!g)return;if(!v)return;if(!y)return;const E=Eo(k.lastScrollTime),O=o?0:Math.ceil(n*E),D=o?Math.ceil((o&&n||r)*E):0,A=O<0,M=y.scrollTop;if(A?M<=0:M>=y.scrollHeight-y.clientHeight)return;const I=M+O,N=y.scrollLeft+D,R=N!==h,F=I!==f;if((m.isHover||i)&&Fn.clearHoverRow(),R)if(e.preventDefault(),S.inWheelScroll=!0,l.firefox||l.safari){const t=N;Ce(g,t),Ce(y,t),Ce(x,t),Ce(w,t),a&&Fn.triggerScrollXEvent(e),Fn.handleScrollEvent(e,F,R,y.scrollTop,t,{type:"table",fixed:""})}else Oo(N,t=>{S.inWheelScroll=!0;const n=t;Ce(g,n),Ce(y,n),Ce(x,n),Ce(w,n),a&&Fn.triggerScrollXEvent(e),Fn.handleScrollEvent(e,F,R,y.scrollTop,n,{type:"table",fixed:""})});if(F)if(e.preventDefault(),S.inWheelScroll=!0,l.firefox||l.safari){const t=I;we(v,t),we(y,t),we(b,t),we(C,t),we(T,t),Ao(t),s&&Fn.triggerScrollYEvent(e),Fn.handleScrollEvent(e,F,R,t,y.scrollLeft,{type:"table",fixed:""})}else Do(I-M,t=>{S.inWheelScroll=!0;const n=y.scrollTop+t;we(v,n),we(y,n),we(b,n),we(C,n),we(T,n),Ao(n),s&&Fn.triggerScrollYEvent(e),Fn.handleScrollEvent(e,F,R,n,y.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(e){const{scrollXLoad:t}=k,{elemStore:n,inWheelScroll:r,lastScrollTop:o,inHeaderScroll:i,inBodyScroll:a,inFooterScroll:l}=S;if(i||a||l)return;if(r)return;const s=tt(n["main-header-scroll"]),c=tt(n["main-body-scroll"]),u=tt(n["main-footer-scroll"]),d=ke.value,p=e.currentTarget,{scrollLeft:f}=p,h=d||c;let m=0;h&&(m=h.scrollTop);const g=!0,v=m!==o;S.inVirtualScroll=!0,Ce(c,f),Ce(s,f),Ce(u,f),t&&Fn.triggerScrollXEvent(e),Fn.handleScrollEvent(e,v,g,m,f,{type:"table",fixed:""})},triggerVirtualScrollYEvent(e){const{scrollYLoad:t}=k,{elemStore:n,inWheelScroll:r,lastScrollLeft:o,inHeaderScroll:i,inBodyScroll:a,inFooterScroll:l}=S;if(i||a||l)return;if(r)return;const s=tt(n["left-body-scroll"]),c=tt(n["main-body-scroll"]),u=tt(n["right-body-scroll"]),d=oe.value,p=ve.value,f=e.currentTarget,{scrollTop:h}=f,m=p||c;let g=0;m&&(g=m.scrollLeft);const v=g!==o,b=!0;S.inVirtualScroll=!0,we(c,h),we(s,h),we(u,h),we(d,h),Ao(h),t&&Fn.triggerScrollYEvent(e),Fn.handleScrollEvent(e,b,v,h,g,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:n}=e,{isRowGroupStatus:r}=k,{tableFullData:o}=S,i=[];if(n||r){const e=Ct.value,n=hn.value,l=n.children||n.childrenField,s=a().findTree(o,e=>Fn.eqRow(e,t),{children:r?e.mapChildrenField:l});if(s){const e=s.nodes;e.forEach((t,n)=>{n<e.length-1&&!Fn.isTreeExpandByRow(t)&&i.push(Fn.setTreeExpand(t,!0))})}}return Promise.all(i).then(()=>xt(Fn,t))},updateScrollYStatus:fo,updateScrollXSpace(){const{scrollXLoad:e,overflowX:t,scrollXWidth:n}=k,{visibleColumn:r,scrollXStore:o,elemStore:i,fullColumnIdData:a}=S,l=S.xeGanttView,s=Vt.value,c=j.value,u=c?c.$el:null;if(u){const c=tt(i["main-body-scroll"]),u=tt(i["main-body-table"]),d=tt(i["main-header-table"]),p=tt(i["main-footer-table"]);let f=0;const h=r[o.startIndex];if(h){const e=a[h.id]||{};f=e.oLeft}let m=0;c&&(m=c.clientWidth);let g=!1,v=n;n>si&&(f=c&&u&&c.scrollLeft+m>=si?si-u.clientWidth:f/(n-m)*(si-m),v=si,g=!0),e&&t||(f=0),d&&(d.style.transform=d.getAttribute("xvm")?`translate(${f}px, 0px)`:""),u&&(u.style.transform=`translate(${f}px, ${k.scrollYTop||0}px)`),p&&(p.style.transform=p.getAttribute("xvm")?`translate(${f}px, 0px)`:"");const b=["main"];b.forEach(t=>{const n=["header","body","footer"];n.forEach(n=>{const r=tt(i[`${t}-${n}-xSpace`]);r&&(r.style.width=e?`${v}px`:"")})}),k.scrollXLeft=f,k.scrollXWidth=v,k.isScrollXBig=g;const x=Ae.value;return x&&(x.style.width=`${v}px`),Gr(),g&&s.area&&ee("vxe.error.notProp",["mouse-config.area"]),l&&l.handleUpdateSXSpace&&l.handleUpdateSXSpace(),(0,K.nextTick)().then(()=>{Tr()})}},updateScrollYSpace(){const{isAllOverflow:e,overflowY:t,scrollYLoad:n,expandColumn:r}=k,{scrollYStore:o,elemStore:i,isResizeCellHeight:a,afterFullData:l,fullAllDataRowIdData:s,rowExpandedMaps:c}=S,u=S.xeGanttView,{startIndex:d}=o,p=Vt.value,f=fn.value,h=wt.value,m=mt.value,g=dt.value,v=tt(i["main-body-scroll"]),b=tt(i["main-body-table"]),x=tt(i["left-body-table"]),y=tt(i["right-body-table"]),w=["main","left","right"];let C=0,T=0,E=!1;if(n){const t=a||m.height||h.height;if(t||r||!e){const e=l[d];let t=Le(Fn,e),n=s[t]||{};C=n.oTop||0;const o=l[l.length-1];t=Le(Fn,o),n=s[t]||{},T=(n.oTop||0)+(n.resizeHeight||m.height||h.height||n.height||g),r&&c[t]&&(T+=n.expandHeight||f.height||0),T>li&&(E=!0)}else T=l.length*g,T>li&&(E=!0),C=Math.max(0,d*g)}else b&&(T=b.clientHeight);let O=0;v&&(O=v.clientHeight);let D=T,A=C;E&&(A=v&&b&&v.scrollTop+O>=li?li-b.clientHeight:C/(T-O)*(li-O),D=li),n&&t||(A=0),x&&(x.style.transform=`translate(0px, ${A}px)`),b&&(b.style.transform=`translate(${k.scrollXLeft||0}px, ${A}px)`),y&&(y.style.transform=`translate(0px, ${A}px)`),w.forEach(e=>{const t=["header","body","footer"];t.forEach(t=>{const n=tt(i[`${e}-${t}-ySpace`]);n&&(n.style.height=D?`${D}px`:"")})});const M=Ie.value;M&&(M.style.height=D?`${D}px`:"");const I=ie.value;return I&&(I.style.height=D?`${D}px`:""),k.scrollYTop=A,k.scrollYHeight=T,k.isScrollYBig=E,Gr(),E&&p.area&&ee("vxe.error.notProp",["mouse-config.area"]),u&&u.handleUpdateSYSpace&&u.handleUpdateSYSpace(),(0,K.nextTick)().then(()=>{Tr()})},updateScrollXData(){const{isAllOverflow:e}=k;return io(),Fn.updateScrollXSpace(),(0,K.nextTick)().then(()=>{io(),Fn.updateScrollXSpace(),e||Fn.updateScrollYSpace()})},updateScrollYData(){return Fn.handleTableData(),Fn.updateScrollYSpace(),(0,K.nextTick)().then(()=>{Fn.handleTableData(),Fn.updateScrollYSpace()})},checkScrolling(){const{elemStore:e}=S,t=tt(e["main-body-scroll"]),n=G.value,r=Y.value,o=ve.value,i=o||t;i&&(n&&(i.scrollLeft>0?he(n,"scrolling--middle"):fe(n,"scrolling--middle")),r&&(i.clientWidth<i.scrollWidth-Math.ceil(i.scrollLeft)?he(r,"scrolling--middle"):fe(r,"scrolling--middle")))},handleUpdateAggData(){return no(S.tableSynchData,!0)},updateZindex(){e.zIndex?S.tZindex=e.zIndex:S.tZindex<p()&&(S.tZindex=d())},handleCheckedCheckboxRow:_r,triggerHoverEvent(e,{row:t}){E.setHoverRow(t)},setHoverRow(e){const t=S.xeGanttView,n=Le(Fn,e),r=O.value;E.clearHoverRow(),r&&a().arrayEach(r.querySelectorAll(`.vxe-body--row[rowid="${n}"]`),e=>he(e,"row--hover")),S.hoverRow=e,t&&t.handleUpdateHoverRow&&t.handleUpdateHoverRow(e)},clearHoverRow(){const e=S.xeGanttView,t=O.value;t&&a().arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),e=>fe(e,"row--hover")),S.hoverRow=null,e&&e.handleUpdateHoverRow&&e.handleUpdateHoverRow()},getCell(e,t){return T.getCellElement(e,t)},findRowIndexOf(e,t){return t?a().findIndexOf(e,e=>Fn.eqRow(e,t)):-1},eqRow(e,t){return!(!e||!t)&&(e===t||Le(Fn,e)===Le(Fn,t))},handleConnectGanttView(e){return e&&e.connectUpdate&&(e.connectUpdate({$table:Fn}),S.xeGanttView=e),(0,K.nextTick)()}},Object.assign(Fn,T,E);const Ei=t=>{const{showHeader:n,showFooter:r}=e,{tableData:o,tableColumn:i,tableGroupColumn:a,columnStore:l,footerTableData:s}=k,c="left"===t,u=c?l.leftList:l.rightList;return(0,K.h)("div",{ref:c?G:Y,class:`vxe-table--fixed-${t}-wrapper`},[n?(0,K.h)(kn,{ref:c?$:B,fixedType:t,tableData:o,tableColumn:i,tableGroupColumn:a,fixedColumn:u}):oi(Fn),(0,K.h)(vn,{ref:c?z:H,fixedType:t,tableData:o,tableColumn:i,fixedColumn:u}),r?(0,K.h)(On,{ref:c?V:W,footerTableData:s,tableColumn:i,fixedColumn:u,fixedType:t}):oi(Fn)])},Oi=()=>{const t=mn.value,r=n.empty,o={$table:Fn,$grid:b,gantt:x};if(r)return r(o);{const e=t.name?Ko.get(t.name):null,n=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(n)return St(n(t,o))}return h(e.emptyText)||Yo("vxe.table.emptyText")},Di=()=>{const{dragConfig:t}=e,{dragRow:n,dragCol:r,dragTipText:o}=k,i=Ot.value,a=Et.value,l=a.slots||{},s=l.tip||(t&&t.slots?t.slots.rowTip:null),c=i.slots||{},u=c.tip,d=n||(a.isCrossTableDrag?C.row:null);return d&&s?Ti(s,{row:d}):r&&u?Ti(u,{column:r}):[(0,K.h)("span",o)]},Ai=()=>{const{dragRow:e,dragCol:t}=k,n=wt.value,r=ft.value,o=Et.value,i=Ot.value,a=e||(o.isCrossTableDrag?C.row:null);return n.drag||r.drag?(0,K.h)("div",{class:"vxe-table--drag-wrapper"},[(0,K.h)("div",{ref:ne,class:["vxe-table--drag-row-line",{"is--guides":o.showGuidesStatus}]}),(0,K.h)("div",{ref:re,class:["vxe-table--drag-col-line",{"is--guides":i.showGuidesStatus}]}),a&&o.showDragTip||t&&i.showDragTip?(0,K.h)("div",{ref:te,class:"vxe-table--drag-sort-tip"},[(0,K.h)("div",{class:"vxe-table--drag-sort-tip-wrapper"},[(0,K.h)("div",{class:"vxe-table--drag-sort-tip-status"},[(0,K.h)("span",{class:["vxe-table--drag-sort-tip-normal-status",a?Go().TABLE_DRAG_STATUS_ROW:Go().TABLE_DRAG_STATUS_COLUMN]}),(0,K.h)("span",{class:["vxe-table--drag-sort-tip-sub-status",Go().TABLE_DRAG_STATUS_SUB_ROW]}),(0,K.h)("span",{class:["vxe-table--drag-sort-tip-disabled-status",Go().TABLE_DRAG_DISABLED]})]),(0,K.h)("div",{class:"vxe-table--drag-sort-tip-content"},Di())])]):oi(Fn)]):oi(Fn)},Mi=()=>{const{treeConfig:t}=e,{expandColumn:n,isRowGroupStatus:r}=k,o=yn.value,i=fn.value,{mode:l}=i;if("fixed"!==l)return oi(Fn);const s=[(0,K.h)("div",{key:"repY",ref:ie})];if(n){const{handleGetRowId:e}=ze(Fn);o.forEach(o=>{const i=fn.value,{height:l,padding:c,indent:u}=i,{fullAllDataRowIdData:d,fullColumnIdData:p}=S,f=hn.value,{transform:h,seqMode:m}=f,g={},v=e(o),y=d[v],w=n.id,C=p[w]||{};let k=0,T=-1,E=-1,O=-1,D=-1;y&&(O=y.index,D=y.$index,E=y._index,k=y.level,T=y.seq,r||t&&h&&"increasing"===m?T=y._index+1:t&&"fixed"===m&&(T=y._tIndex+1)),l&&(g.height=`${l}px`),(r||t)&&(g.paddingLeft=k*(a().isNumber(u)?u:f.indent)+30+"px");let A=-1,M=-1,I=-1;C&&(A=C.index,M=C.$index,I=C._index);const N={$table:Fn,$grid:b,$gantt:x,seq:T,column:n,columnIndex:A,$columnIndex:M,_columnIndex:I,fixed:"",type:"body",level:k,rowid:v,row:o,rowIndex:O,$rowIndex:D,_rowIndex:E,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};s.push((0,K.h)("div",{key:v,class:["vxe-body--row-expanded-cell",{"is--padding":c,"is--ellipsis":l}],rowid:v,style:g},n.renderData(N)))})}return(0,K.h)("div",{ref:oe,class:"vxe-table--row-expanded-wrapper"},s)},Ii=()=>(0,K.h)("div",{key:"vsx",ref:se,class:"vxe-table--scroll-x-virtual"},[(0,K.h)("div",{ref:be,class:"vxe-table--scroll-x-left-corner"}),(0,K.h)("div",{ref:Ee,class:"vxe-table--scroll-x-wrapper"},[(0,K.h)("div",{ref:ve,class:"vxe-table--scroll-x-handle",onScroll:Fn.triggerVirtualScrollXEvent},[(0,K.h)("div",{ref:Ae,class:"vxe-table--scroll-x-space"})]),(0,K.h)("div",{class:"vxe-table--scroll-x-handle-appearance"})]),(0,K.h)("div",{ref:xe,class:"vxe-table--scroll-x-right-corner"})]),Ni=()=>(0,K.h)("div",{ref:ce,class:"vxe-table--scroll-y-virtual"},[(0,K.h)("div",{ref:Te,class:"vxe-table--scroll-y-top-corner"}),(0,K.h)("div",{ref:Oe,class:"vxe-table--scroll-y-wrapper"},[(0,K.h)("div",{ref:ke,class:"vxe-table--scroll-y-handle",onScroll:Fn.triggerVirtualScrollYEvent},[(0,K.h)("div",{ref:Ie,class:"vxe-table--scroll-y-space"})]),(0,K.h)("div",{class:"vxe-table--scroll-y-handle-appearance"})]),(0,K.h)("div",{ref:De,class:"vxe-table--scroll-y-bottom-corner"})]),Ri=()=>{const{showHeader:t,showFooter:n}=e,{overflowX:r,tableData:o,tableColumn:i,tableGroupColumn:a,footerTableData:l,columnStore:s}=k,{leftList:c,rightList:u}=s;return(0,K.h)("div",{ref:_,class:"vxe-table--viewport-wrapper"},[(0,K.h)("div",{class:"vxe-table--main-wrapper"},[t?(0,K.h)(kn,{ref:P,tableData:o,tableColumn:i,tableGroupColumn:a}):oi(Fn),(0,K.h)(vn,{ref:j,tableData:o,tableColumn:i}),n?(0,K.h)(On,{ref:L,footerTableData:l,tableColumn:i}):oi(Fn)]),(0,K.h)("div",{class:"vxe-table--fixed-wrapper"},[c&&c.length&&r?Ei("left"):oi(Fn),u&&u.length&&r?Ei("right"):oi(Fn)]),Mi()])},Fi=()=>{const e=lt.value;return(0,K.h)("div",{class:"vxe-table--layout-wrapper"},e?[Ni(),Ri()]:[Ri(),Ni()])},_i=()=>{const{loading:t,stripe:r,showHeader:o,height:a,treeConfig:l,mouseConfig:s,showFooter:d,highlightCell:p,highlightHoverRow:f,highlightHoverColumn:h,editConfig:m,editRules:g}=e,{isGroup:v,overflowX:C,overflowY:T,scrollXLoad:E,scrollYLoad:_,tableData:P,initStore:j,isRowGroupStatus:L,columnStore:$,filterStore:z,customStore:V,tooltipStore:B}=k,{teleportToWrapperElem:H,popupToWrapperElem:W}=S,{leftList:G,rightList:Y}=$,Q=n.loading,ee={header:n.headerTooltip||n["header-tooltip"],body:n.tooltip,footer:n.footerTooltip||n["footer-tooltip"]},te=B.visible&&B.type?ee[B.type]:null,ne=Et.value,re=Pt.value,oe=jt.value,ie=Be.value,ae=Nt.value,le=hn.value,se=wt.value,ce=ft.value,ue=w.value,de=Tn.value,pe=Vt.value,fe=Bt.value,he=gn.value,me=nn.value,ge=k.isColLoading||k.isRowLoading||t,ve=At.value,be=s&&pe.area,xe=Ot.value,ye=at.value,we=lt.value,{isCrossTableDrag:Ce}=ne,ke={onKeydown:Bo};return Ce&&!P.length&&(ke.onDragover=Fn.handleCrossTableRowDragoverEmptyEvent),(0,K.h)("div",Object.assign({ref:O,class:["vxe-table","vxe-table--render-default",`tid_${i}`,`border--${de}`,"sx-pos--"+(ye?"top":"bottom"),"sy-pos--"+(we?"left":"right"),{[`size--${ue}`]:ue,[`valid-msg--${ie.msgMode}`]:!!g,"vxe-editable":!!m,"old-cell-valid":g&&"obsolete"===Uo().cellVaildMode,"cell--highlight":p,"cell--selected":s&&pe.selected,"cell--area":be,"header-cell--area":be&&fe.selectCellByHeader,"body-cell--area":be&&fe.selectCellByBody,"row--highlight":se.isHover||f,"column--highlight":ce.isHover||h,"checkbox--range":ae.range,"col--drag-cell":ce.drag&&"cell"===xe.trigger,"is--header":o,"is--footer":d,"is--group":v,"is-row-group":L,"is--tree-line":l&&(le.showLine||le.line),"is--fixed-left":G.length,"is--fixed-right":Y.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!l&&r,"is--loading":ge,"is--empty":!ge&&!P.length,"is--scroll-y":T,"is--scroll-x":C,"is--virtual-x":E,"is--virtual-y":_}],spellcheck:!1},ke),[(0,K.h)("div",{class:"vxe-table-slots"},n.default?n.default({}):[]),(0,K.h)("div",{ref:D,class:"vxe-table-vars"},[(0,K.h)("div",{class:"vxe-table-var-default"}),(0,K.h)("div",{class:"vxe-table-var-medium"}),(0,K.h)("div",{class:"vxe-table-var-small"}),(0,K.h)("div",{class:"vxe-table-var-mini"})]),(0,K.h)("div",{key:"tw",class:"vxe-table--render-wrapper"},ye?[Ii(),Fi()]:[Fi(),Ii()]),(0,K.h)("div",{key:"tn",ref:J,class:"vxe-table--empty-placeholder"},[(0,K.h)("div",{class:"vxe-table--empty-content"},Oi())]),(0,K.h)("div",{key:"tl",class:"vxe-table--border-line"}),(0,K.h)("div",{key:"tcl",ref:X,class:"vxe-table--resizable-col-bar"},ve.showDragTip?[(0,K.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),(0,K.h)("div",{key:"ttw"},[(0,K.h)(K.Teleport,{to:H,disabled:!(x&&H)},[(0,K.h)("div",{ref:q},[(0,K.h)("div",{key:"trl",ref:Z,class:"vxe-table--resizable-row-bar"},ve.showDragTip?[(0,K.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),j.custom?(0,K.h)(Nn,{key:"cs",ref:F,customStore:V}):oi(Fn),c?(0,K.h)(c,{key:"lg",class:"vxe-table--loading",modelValue:ge,icon:he.icon,text:he.text},Q?{default:()=>Ti(Q,{$table:Fn,$grid:b,$gantt:x,loading:ge})}:{}):Q?(0,K.h)("div",{class:["vxe-loading--custom-wrapper",{"is--visible":ge}]},Ti(Q,{$table:Fn,$grid:b,$gantt:x,loading:ge})):oi(Fn),Ai()])])]),(0,K.h)("div",{key:"tpw"},[(0,K.h)(K.Teleport,{to:W,disabled:!(y&&W)},[(0,K.h)("div",{ref:U},[j.filter?(0,K.h)(Pn,{key:"tf",ref:R,filterStore:z}):oi(Fn),me?(0,K.h)(qn,{key:"tm",ref:N}):oi(Fn)])])]),j.import&&e.importConfig?(0,K.h)($n,{key:"it",defaultOptions:k.importParams,storeData:k.importStore}):oi(Fn),j.export&&(e.exportConfig||e.printConfig)?(0,K.h)(Bn,{key:"et",defaultOptions:k.exportParams,storeData:k.exportStore}):oi(Fn),u?(0,K.h)("div",{},[(0,K.h)(u,{key:"ctp",ref:M,isArrow:!1,enterable:!1}),(0,K.h)(u,{key:"btp",ref:A,theme:re.theme,enterable:re.enterable,enterDelay:re.enterDelay,leaveDelay:re.leaveDelay,useHTML:re.useHTML,width:re.width,height:re.height,minWidth:re.minWidth,minHeight:re.minHeight,maxWidth:re.maxWidth,maxHeight:re.maxHeight},te?{content:()=>{const{type:e,row:t,column:n,content:r}=B;if(te){if(n&&"header"===e)return(0,K.h)("div",{key:e},te({column:n,tooltipContent:r,$table:Fn,$grid:b,$gantt:x}));if(t&&n&&"body"===e)return(0,K.h)("div",{key:e},te({row:t,column:n,tooltipContent:r,$table:Fn,$grid:b,$gantt:x}));if(t&&n&&"footer"===e)return(0,K.h)("div",{key:e},te({row:t,column:n,tooltipContent:r,$table:Fn,$grid:b,$gantt:x}))}return oi(Fn)}}:{}),e.editRules&&ie.showMessage&&("default"===ie.message?!a:"tooltip"===ie.message)?(0,K.h)(u,{key:"vtp",ref:I,class:[{"old-cell-valid":g&&"obsolete"===Uo().cellVaildMode},"vxe-table--valid-error"],theme:oe.theme,enterable:oe.enterable,enterDelay:oe.enterDelay,leaveDelay:oe.leaveDelay}):oi(Fn)]):oi(Fn)])},Pi=(0,K.ref)(0);(0,K.watch)(()=>e.data?e.data.length:-1,()=>{Pi.value++}),(0,K.watch)(()=>e.data,()=>{Pi.value++}),(0,K.watch)(Pi,()=>{const{initStatus:t}=S,n=e.data||[];n&&n.length>=5e4&&Q("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),no(n,!0).then(()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:r}=k,o=fn.value;return S.inited=!0,S.initStatus=!0,t||ro(),(e||n)&&r&&"fixed"!==o.mode&&Q("vxe.error.scrollErrProp",["column.type=expand"]),T.recalculate()})});const ji=(0,K.ref)(0);(0,K.watch)(()=>k.staticColumns.length,()=>{ji.value++}),(0,K.watch)(()=>k.staticColumns,()=>{ji.value++}),(0,K.watch)(ji,()=>{(0,K.nextTick)(()=>uo(a().clone(k.staticColumns)))});const Li=(0,K.ref)(0);(0,K.watch)(()=>k.tableColumn.length,()=>{Li.value++}),(0,K.watch)(()=>k.tableColumn,()=>{Li.value++}),(0,K.watch)(Li,()=>{E.analyColumnWidth()}),(0,K.watch)(()=>k.upDataFlag,()=>{(0,K.nextTick)(()=>{T.updateData()})}),(0,K.watch)(()=>k.reColumnFlag,()=>{(0,K.nextTick)(()=>{T.refreshColumn()})});const $i=(0,K.ref)(0);(0,K.watch)(w,()=>{$i.value++}),(0,K.watch)(()=>e.showHeader,()=>{$i.value++}),(0,K.watch)(()=>e.showFooter,()=>{$i.value++}),(0,K.watch)(()=>k.overflowX,()=>{$i.value++}),(0,K.watch)(()=>k.overflowY,()=>{$i.value++}),(0,K.watch)(()=>e.height,()=>{$i.value++}),(0,K.watch)(()=>e.maxHeight,()=>{$i.value++}),(0,K.watch)(at,()=>{$i.value++}),(0,K.watch)(lt,()=>{$i.value++}),(0,K.watch)(()=>o.OE.getLanguage(),()=>{$i.value++}),(0,K.watch)($i,()=>{Fn.recalculate(!0)});const zi=(0,K.ref)(0);(0,K.watch)(()=>e.footerData?e.footerData.length:-1,()=>{zi.value++}),(0,K.watch)(()=>e.footerData,()=>{zi.value++}),(0,K.watch)(zi,()=>{Fn.updateFooter()}),(0,K.watch)(()=>e.syncResize,e=>{e&&(No(),(0,K.nextTick)(()=>{No(),setTimeout(()=>No())}))});const Vi=(0,K.ref)(0);(0,K.watch)(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Vi.value++}),(0,K.watch)(()=>e.mergeCells,()=>{Vi.value++}),(0,K.watch)(Vi,()=>{Qn(e.mergeCells||[])});const Bi=(0,K.ref)(0);(0,K.watch)(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{Bi.value++}),(0,K.watch)(()=>e.mergeHeaderCells,()=>{Bi.value++}),(0,K.watch)(Bi,()=>{nr(e.mergeHeaderCells||[])});const Hi=(0,K.ref)(0);let Wi;return(0,K.watch)(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{Hi.value++}),(0,K.watch)(()=>e.mergeFooterCells,()=>{Hi.value++}),(0,K.watch)(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Hi.value++}),(0,K.watch)(()=>e.mergeFooterItems,()=>{Hi.value++}),(0,K.watch)(Hi,()=>{const t=e.mergeFooterCells||e.mergeFooterItems;ir(t||[])}),(0,K.watch)(An,e=>{Jr(e)}),(0,K.watch)(Ve,()=>{const{inited:e,tableFullData:t}=S;e&&(jn(),k.tableData=[],(0,K.nextTick)(()=>{Fn.reloadData(t)}))}),v&&(0,K.watch)(()=>v?v.reactData.resizeFlag:null,()=>{di()}),jn(),ei.forEach(e=>{const{setupTable:t}=e;if(t){const e=t(Fn);e&&a().isObject(e)&&Object.assign(Fn,e)}}),E.preventEvent(null,"created",{$table:Fn}),(0,K.onActivated)(()=>{T.recalculate().then(()=>T.refreshScroll()),E.preventEvent(null,"activated",{$table:Fn})}),(0,K.onDeactivated)(()=>{const{filterStore:e}=k;e.visible&&Fn.clearFilter(),Fn.closeTooltip(),S.isActivated=!1,E.preventEvent(null,"deactivated",{$table:Fn})}),(0,K.onMounted)(()=>{const t=ft.value,n=wt.value,r=xn.value,o=Ct.value,i=Xe.value,{groupFields:l}=o;if(x){const{refClassifyWrapperElem:e}=x.getRefMaps(),t=e.value;t&&(S.teleportToWrapperElem=t)}if(y){const{refPopupContainerElem:e}=y.getRefMaps(),t=e.value;t&&(S.popupToWrapperElem=t)}if((t.drag||n.drag||r.allowSort)&&ae(),Jr(l),(0,K.nextTick)(()=>{const{data:n,exportConfig:r,importConfig:o,treeConfig:i,showOverflow:l,highlightCurrentRow:c,highlightCurrentColumn:u}=e,{scrollXStore:d,scrollYStore:p}=S,f=Lt.value,h=hn.value,m=It.value,g=Nt.value,v=fn.value,b=wt.value,x=xn.value,y=Vt.value,w=on.value,C=an.value,k=Tt.value,T=ht.value,D=Ht.value,A=Ct.value,M=Et.value;if(e.rowId&&Q("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&Q("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&Q("vxe.error.delProp",["column-id","column-config.useKey"]),e.rowId||b.keyField||!(g.reserve||g.checkRowKeys||m.reserve||m.checkRowKey||v.expandRowKeys||h.expandRowKeys)||Q("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(f.showStatus||f.showUpdateStatus||f.showInsertStatus)&&!e.keepSource&&Q("vxe.error.reqProp",["keep-source"]),i&&(h.showLine||h.line)&&!l&&Q("vxe.error.reqProp",["show-overflow"]),i&&!h.transform&&e.stripe&&Q("vxe.error.noTree",["stripe"]),!e.showFooter||e.footerMethod||e.footerData||Q("vxe.error.reqProp",["footer-data | footer-method"]),b.height&&Q("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&Q("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&Q("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&Q("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&Q("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&Q("vxe.error.delProp",["resizable","column-config.resizable"]),e.virtualXConfig&&e.scrollX&&Q("vxe.error.notSupportProp",["virtual-x-config","scroll-x","scroll-x=null"]),e.virtualYConfig&&e.scrollY&&Q("vxe.error.notSupportProp",["virtual-y-config","scroll-y","scroll-y=null"]),e.aggregateConfig&&e.rowGroupConfig&&Q("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),o&&C.types&&!C.importMethod&&!a().includeArrays(a().keys(C._typeMaps),C.types)&&Q("vxe.error.errProp",[`export-config.types=${C.types.join(",")}`,C.types.filter(e=>a().includes(a().keys(C._typeMaps),e)).join(",")||a().keys(C._typeMaps).join(",")]),r&&w.types&&!w.exportMethod&&!a().includeArrays(a().keys(w._typeMaps),w.types)&&Q("vxe.error.errProp",[`export-config.types=${w.types.join(",")}`,w.types.filter(e=>a().includes(a().keys(w._typeMaps),e)).join(",")||a().keys(w._typeMaps).join(",")]),e.id||(e.customConfig?s(x):x.enabled)&&x.storage&&ee("vxe.error.reqProp",["id"]),e.treeConfig&&g.range&&ee("vxe.error.noTree",["checkbox-config.range"]),b.height&&!e.showOverflow&&Q("vxe.error.notProp",["table.show-overflow"]),Fn.triggerCellAreaModnEvent||(e.areaConfig&&Q("vxe.error.notProp",["area-config"]),e.clipConfig&&Q("vxe.error.notProp",["clip-config"]),e.fnrConfig&&Q("vxe.error.notProp",["fnr-config"]),!y.area)){if(!Fn.handlePivotTableAggregateData){if(x.allowGroup)return void ee("vxe.error.notProp",["custom-config.allowGroup"]);if(x.allowValues)return void ee("vxe.error.notProp",["custom-config.allowValues"])}if(i&&b.drag&&!h.transform&&ee("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),i&&M.isCrossTableDrag&&!M.isCrossDrag&&ee("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&Q("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&Q("vxe.error.delProp",["row-group-config","aggregate-config"]),A.countFields&&Q("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),A.aggregateMethod&&Q("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),A.countMethod&&Q("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&h.children&&Q("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&h.line&&Q("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),y.area&&y.selected&&Q("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),y.area&&e.treeConfig&&!h.transform&&ee("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&f.activeMethod&&Q("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&g.isShiftKey&&ee("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),g.halfField&&Q("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),i&&a().arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],e=>{const t=h[e];t&&t.indexOf(".")>-1&&ee("vxe.error.errProp",[`${e}=${t}`,`${e}=${t.split(".")[0]}`])}),b.currentMethod&&Q("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),t.currentMethod&&Q("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(b.isCurrent||c)&&e.keyboardConfig&&D.isArrow&&!a().isBoolean(k.isFollowSelected)&&Q("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(t.isCurrent||u)&&e.keyboardConfig&&D.isArrow&&!a().isBoolean(T.isFollowSelected)&&Q("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),Object.assign(p,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(d,{startIndex:0,endIndex:0,visibleSize:0}),no(n||[],!0).then(()=>{n&&n.length&&(S.inited=!0,S.initStatus=!0,ro()),oo(),Tr()}),e.autoResize){const t=O.value,n=E.getParentElem();Wi=Jo.create(()=>{e.autoResize&&Xr()}),t&&Wi.observe(t),n&&Wi.observe(n)}}else ee("vxe.error.notProp",["mouse-config.area"])}),"scroll"!==i.mode){const e=_.value;e&&e.addEventListener("wheel",Fn.triggerBodyWheelEvent,{passive:!1})}ti.on(Fn,"paste",Wo),ti.on(Fn,"copy",qo),ti.on(Fn,"cut",ui),ti.on(Fn,"mousedown",$o),ti.on(Fn,"blur",zo),ti.on(Fn,"mousewheel",Vo),ti.on(Fn,"keydown",Ho),ti.on(Fn,"resize",di),ti.on(Fn,"contextmenu",Fn.handleGlobalContextmenuEvent),Fn.preventEvent(null,"mounted",{$table:Fn})}),(0,K.onBeforeUnmount)(()=>{const e=_.value;e&&e.removeEventListener("wheel",Fn.triggerBodyWheelEvent),S.cvCacheMaps={},S.prevDragRow=null,S.prevDragCol=null,Wi&&Wi.disconnect(),T.closeFilter(),Fn.closeMenu&&Fn.closeMenu(),ti.off(Fn,"paste"),ti.off(Fn,"copy"),ti.off(Fn,"cut"),ti.off(Fn,"mousedown"),ti.off(Fn,"blur"),ti.off(Fn,"mousewheel"),ti.off(Fn,"keydown"),ti.off(Fn,"resize"),ti.off(Fn,"contextmenu"),E.preventEvent(null,"beforeUnmount",{$table:Fn})}),(0,K.onUnmounted)(()=>{E.preventEvent(null,"unmounted",{$table:Fn}),a().assign(S,Me())}),(0,K.nextTick)(()=>{e.loading&&(c||n.loading||(ee("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),ee("vxe.error.reqComp",["vxe-loading"]))),(!0===e.showOverflow||"tooltip"===e.showOverflow||!0===e.showHeaderOverflow||"tooltip"===e.showHeaderOverflow||!0===e.showFooterOverflow||"tooltip"===e.showFooterOverflow||e.tooltipConfig||e.editRules)&&(u||(!0===e.showOverflow&&ee("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),"tooltip"===e.showOverflow&&ee("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),!0===e.showHeaderOverflow&&ee("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),"tooltip"===e.showHeaderOverflow&&ee("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),!0===e.showFooterOverflow&&ee("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),"tooltip"===e.showFooterOverflow&&ee("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),ee("vxe.error.reqComp",["vxe-tooltip"])))}),(0,K.provide)("$xeColgroup",null),(0,K.provide)("$xeTable",Fn),Fn.renderVN=_i,Fn},render(){return this.renderVN()}});const{getConfig:di,getIcon:pi,getI18n:fi,renderer:hi,commands:mi,createEvent:gi,useFns:vi}=o.OE;function bi(){return{connectTable:null}}var xi=X({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>di().toolbar.buttons},tools:{type:Array,default:()=>di().toolbar.tools},perfect:{type:Boolean,default:()=>di().toolbar.perfect},size:{type:String,default:()=>di().toolbar.size||di().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:n,emit:r}=t,i=a().uniqueId(),l=o.OE.getComponent("VxeButton"),s=(0,K.inject)("$xeGrid",null),c=(0,K.inject)("$xeGantt",null),u=s||c,{computeSize:d}=vi.useSize(e),p=(0,K.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),f=bi(),h=(0,K.ref)(),m={refElem:h},g={xID:i,props:e,context:t,reactData:p,internalData:f,getRefMaps:()=>m};let v={};const b=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.refresh,!0),e.refreshOptions,e.refresh)),x=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.import,!0),e.importOptions,e.import)),y=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.export,!0),e.exportOptions,e.export)),w=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.print,!0),e.printOptions,e.print)),C=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.zoom,!0),e.zoomOptions,e.zoom)),k=(0,K.computed)(()=>Object.assign({},a().clone(di().toolbar.custom,!0),e.customOptions,e.custom)),S=(0,K.computed)(()=>{const{connectTable:e}=f,t=e;if((p.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}}),T=(0,K.computed)(()=>{const e=S.value;return e.trigger}),E=()=>{const{connectTable:e}=f,t=e;if(t)return!0;ee("vxe.error.barUnableLink")},O=({$event:e})=>{const{connectTable:t}=f,n=t;n&&n.triggerCustomEvent&&n.triggerCustomEvent(e)},D=({$event:e})=>{const{connectTable:t}=f,n=t;n&&n.customOpenEvent(e)},A=({$event:e})=>{const{connectTable:t}=f,n=t;if(n){const{customStore:t}=n.reactData;t.activeBtn=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||n.customCloseEvent(e)},350)}},M=({$event:e})=>{const{isRefresh:t}=p,n=b.value;if(!t){const t=n.queryMethod||n.query;if(t){p.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{p.isRefresh=!1})}catch(r){p.isRefresh=!1}}else u&&(p.isRefresh=!0,u.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch(()=>{}).then(()=>{p.isRefresh=!1}))}},I=({$event:e})=>{u?u.triggerZoomEvent(e):Q("vxe.error.notProp",["[toolbar] zoom"])},N=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.importData()}},R=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openImport()}},F=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.exportData()}},_=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openExport()}},P=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.print()}},j=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openPrint()}},L=(e,t,n)=>{switch(t.code){case"print":P();break;case"open_print":j();break;case"custom":O(e);break;case"export":F();break;case"open_export":_();break;case"import":N();break;case"open_import":R();break;case"zoom":I(e);break;case"refresh":M(e);break;default:n();break}},$=(e,t)=>{const{$event:n}=e,{connectTable:r}=f,o=r,{code:i}=t;i&&L(e,t,()=>{if(u)u.triggerToolbarBtnEvent(t,n);else{const e=mi.get(i),r={code:i,button:t,$table:o,$grid:s,$gantt:c,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(r):ee("vxe.error.notCommands",[`[toolbar] ${i}`])}g.dispatchEvent("button-click",r,n)}})},z=(e,t)=>{const{$event:n}=e,{connectTable:r}=f,o=r,{code:i}=t;i&&L(e,t,()=>{if(u)u.triggerToolbarTolEvent(t,n);else{const e=mi.get(i),r={code:i,button:null,tool:t,$table:o,$grid:s,$gantt:c,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(r):ee("vxe.error.notCommands",[`[toolbar] ${i}`])}g.dispatchEvent("tool-click",r,n)}})},V=(e,t,n)=>{r(e,gi(n,{$toolbar:g},t))};v={dispatchEvent:V,syncUpdate(e){f.connectTable=e.$table,p.columns=e.collectColumn,p.connectFlag++}},Object.assign(g,v);const B=(e,t)=>{const{dropdowns:n}=e,r=[];return n?n.map((e,n)=>!1===e.visible?(0,K.createCommentVNode)():l?(0,K.h)(l,Object.assign(Object.assign({key:n},Object.assign({},e,{content:e.name,options:void 0})),{onClick:n=>t?$(n,e):z(n,e)})):(0,K.createCommentVNode)()):r},H=()=>{const{buttons:t}=e,{connectTable:r}=f,o=r,i=n.buttonPrefix||n["button-prefix"],u=n.buttonSuffix||n["button-suffix"],d=[];return i&&d.push(...St(i({buttons:t||[],$grid:s,$gantt:c,$table:o}))),t&&t.forEach((e,t)=>{const{dropdowns:n,buttonRender:r}=e;if(!1!==e.visible){const i=r?hi.get(r.name):null;if(r&&i&&i.renderToolbarButton){const n=i.toolbarButtonClassName,l={$grid:s,$gantt:c,$table:o,button:e};d.push((0,K.h)("span",{key:`br${e.code||t}`,class:["vxe-button--item",n?a().isFunction(n)?n(l):n:""]},St(i.renderToolbarButton(r,l))))}else l&&d.push((0,K.h)(l,Object.assign(Object.assign({key:`bd${e.code||t}`},Object.assign({},e,{content:e.name,options:void 0})),{onClick:t=>$(t,e)}),n&&n.length?{dropdowns:()=>B(e,!0)}:{}))}}),u&&d.push(...St(u({buttons:t||[],$grid:s,$gantt:c,$table:o}))),d},W=()=>{const{tools:t}=e,{connectTable:r}=f,o=r,i=n.toolPrefix||n["tool-prefix"],u=n.toolSuffix||n["tool-suffix"],d=[];return i&&d.push(...St(i({tools:t||[],$grid:s,$gantt:c,$table:o}))),t&&t.forEach((e,t)=>{const{dropdowns:n,toolRender:r}=e;if(!1!==e.visible){const i=r?r.name:null,u=r?hi.get(i):null;if(r&&u&&u.renderToolbarTool){const t=u.toolbarToolClassName,n={$grid:s,$gantt:c,$table:o,tool:e};d.push((0,K.h)("span",{key:i,class:["vxe-tool--item",t?a().isFunction(t)?t(n):t:""]},St(u.renderToolbarTool(r,n))))}else l&&d.push((0,K.h)(l,Object.assign(Object.assign({key:t},Object.assign({},e,{content:e.name,options:void 0})),{onClick:t=>z(t,e)}),n&&n.length?{dropdowns:()=>B(e,!1)}:{}))}}),u&&d.push(...St(u({tools:t||[],$grid:s,$gantt:c,$table:o}))),d},q=()=>{const e=x.value;return l?(0,K.h)(l,{key:"import",circle:!0,icon:e.icon||pi().TOOLBAR_TOOLS_IMPORT,title:fi("vxe.toolbar.import"),onClick:R}):(0,K.createCommentVNode)()},U=()=>{const e=y.value;return l?(0,K.h)(l,{key:"export",circle:!0,icon:e.icon||pi().TOOLBAR_TOOLS_EXPORT,title:fi("vxe.toolbar.export"),onClick:_}):(0,K.createCommentVNode)()},G=()=>{const e=w.value;return l?(0,K.h)(l,{key:"print",circle:!0,icon:e.icon||pi().TOOLBAR_TOOLS_PRINT,title:fi("vxe.toolbar.print"),onClick:j}):(0,K.createCommentVNode)()},Y=()=>{const e=b.value;return l?(0,K.h)(l,{key:"refresh",circle:!0,icon:p.isRefresh?e.iconLoading||pi().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||pi().TOOLBAR_TOOLS_REFRESH,title:fi("vxe.toolbar.refresh"),onClick:M}):(0,K.createCommentVNode)()},X=()=>{const e=C.value;return u&&l?(0,K.h)(l,{key:"zoom",circle:!0,icon:u.isMaximized()?e.iconOut||pi().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||pi().TOOLBAR_TOOLS_FULLSCREEN,title:fi("vxe.toolbar.zoom"+(u.isMaximized()?"Out":"In")),onClick:I}):(0,K.createCommentVNode)()},Z=()=>{const e=k.value,t=T.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=D,n.onMouseleave=A):n.onClick=O),l?(0,K.h)(l,Object.assign({key:"custom",circle:!0,icon:e.icon||pi().TOOLBAR_TOOLS_CUSTOM,title:fi("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n)):(0,K.createCommentVNode)()},J=()=>{const{perfect:t,loading:r,refresh:o,zoom:i,custom:l,className:p}=e,{connectTable:m}=f,v=d.value,b=n.tools,x=n.buttons,y=m;return(0,K.h)("div",{ref:h,class:["vxe-toolbar",p?a().isFunction(p)?p({$toolbar:g}):p:"",{[`size--${v}`]:v,"is--perfect":t,"is--loading":r}]},[(0,K.h)("div",{class:"vxe-buttons--wrapper"},x?x({$grid:s,$gantt:c,$table:y}):H()),(0,K.h)("div",{class:"vxe-tools--wrapper"},b?b({$grid:s,$gantt:c,$table:y}):W()),(0,K.h)("div",{class:"vxe-tools--operate"},[e.import?q():(0,K.createCommentVNode)(),e.export?U():(0,K.createCommentVNode)(),e.print?G():(0,K.createCommentVNode)(),o?Y():(0,K.createCommentVNode)(),i&&u?X():(0,K.createCommentVNode)(),l?Z():(0,K.createCommentVNode)()])])};return g.renderVN=J,(0,K.nextTick)(()=>{const t=b.value,n=t.queryMethod||t.query;!e.refresh||u||n||Q("vxe.error.notFunc",["[toolbar] queryMethod"]),a().isPlainObject(e.custom)&&Q("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),a().isPlainObject(e.print)&&Q("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),a().isPlainObject(e.export)&&Q("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),a().isPlainObject(e.import)&&Q("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),a().isPlainObject(e.refresh)&&Q("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),a().isPlainObject(e.refresh)&&Q("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const r=k.value;r.isFooter&&Q("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),r.showFooter&&Q("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),r.immediate&&Q("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),r.trigger&&Q("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(l||ee("vxe.error.reqComp",["vxe-button"]))}),(0,K.onUnmounted)(()=>{a().assign(f,bi())}),g},render(){return this.renderVN()}});const{getConfig:yi,getI18n:wi,commands:Ci,hooks:ki,useFns:Si,createEvent:Ti,globalEvents:Ei,GLOBAL_EVENT_KEYS:Oi,renderEmptyElement:Di}=o.OE,Ai=Object.keys(Qt),Mi=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function Ii(){return{}}var Ni=X({name:"VxeGrid",props:tn,emits:rn,setup(e,t){var n;const{slots:r,emit:i}=t,l=a().uniqueId(),c=o.OE.getComponent("VxeForm"),u=o.OE.getComponent("VxePager"),f=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:h}=Si.useSize(e),m=(0,K.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:(null===(n=yi().pager)||void 0===n?void 0:n.pageSize)||10,currentPage:1}}),g=Ii(),v=(0,K.ref)(),b=(0,K.ref)(),x=(0,K.ref)(),y=(0,K.ref)(),w=(0,K.ref)(),C=(0,K.ref)(),k=(0,K.ref)(),S=(0,K.ref)(),T=(0,K.ref)(),E=(0,K.ref)(),O=(0,K.ref)(),D=e=>{const t={};return e.forEach(e=>{t[e]=(...t)=>{const n=b.value;if(n&&n[e])return n[e](...t)}}),t},A=D(Mi);Mi.forEach(e=>{A[e]=(...t)=>{const n=b.value;if(n&&n[e])return n&&n[e](...t)}});const M=(0,K.computed)(()=>a().merge({},a().clone(yi().grid.proxyConfig,!0),e.proxyConfig)),I=(0,K.computed)(()=>{const e=M.value;return!!(a().isBoolean(e.message)?e.message:e.showResponseMsg)}),N=(0,K.computed)(()=>{const e=M.value;return a().isBoolean(e.showActionMsg)?e.showActionMsg:!!e.showActiveMsg}),R=(0,K.computed)(()=>Object.assign({},yi().grid.pagerConfig,e.pagerConfig)),F=(0,K.computed)(()=>Object.assign({},yi().grid.formConfig,e.formConfig)),_=(0,K.computed)(()=>Object.assign({},yi().grid.toolbarConfig,e.toolbarConfig)),P=(0,K.computed)(()=>Object.assign({},yi().grid.zoomConfig,e.zoomConfig)),j=(0,K.computed)(()=>{const{height:t,maxHeight:n}=e,{isZMax:r,tZindex:o}=m,i={};return r?i.zIndex=o:(t&&(i.height="auto"===t||"100%"===t?"100%":ge(t)),n&&(i.maxHeight="auto"===n||"100%"===n?"100%":ge(n))),i}),L=(0,K.computed)(()=>{const t={};return Ai.forEach(n=>{t[n]=e[n]}),t}),$=(0,K.computed)(()=>{const{seqConfig:t,pagerConfig:n,editConfig:r,proxyConfig:o}=e,{isZMax:i,tablePage:a}=m,l=L.value,c=M.value,u=R.value,d=q.value,p=Object.assign({},l);return i&&(l.maxHeight?p.maxHeight="100%":p.height="100%"),o&&s(c)&&(p.loading=d,n&&c.seq&&s(u)&&(p.seqConfig=Object.assign({},t,{startIndex:(a.currentPage-1)*a.pageSize}))),r&&(p.editConfig=Object.assign({},r)),p}),z=(0,K.computed)(()=>{const{layouts:t}=e;let n=[];n=t&&t.length?t:yi().grid.layouts||f;let r=[],o=[],i=[];return n.length&&(a().isArray(n[0])?(r=n[0],o=n[1]||[],i=n[2]||[]):o=n),{headKeys:r,bodyKeys:o,footKeys:i}}),V=(0,K.computed)(()=>{const e=R.value;return e.currentPage}),B=(0,K.computed)(()=>{const e=R.value;return e.pageSize}),H=(0,K.computed)(()=>{const e=R.value;return e.total}),W=(0,K.computed)(()=>{const{tablePage:e}=m;return Math.max(Math.ceil(e.total/e.pageSize),1)}),q=(0,K.computed)(()=>{const{loading:t,proxyConfig:n}=e,{tableLoading:r}=m,o=M.value,{showLoading:i}=o;return t||r&&i&&n&&s(o)}),U={refElem:v,refTable:b,refForm:x,refToolbar:y,refPager:w,refPopupContainerElem:C},G={computeProxyOpts:M,computePagerOpts:R,computeFormOpts:F,computeToolbarOpts:_,computeZoomOpts:P},Y={xID:l,props:e,context:t,reactData:m,internalData:g,getRefMaps:()=>U,getComputeMaps:()=>G},X=()=>{const t=_.value;e.toolbarConfig&&s(t)&&(0,K.nextTick)(()=>{const e=b.value,t=y.value;e&&t&&e.connectToolbar(t)})},Z=()=>{const{proxyConfig:t}=e,{formData:n}=m,r=M.value,o=F.value;return t&&s(r)&&r.form?n:o.data},J=t=>{const{tablePage:n}=m,{pagerConfig:r}=e,o=R.value;if(r&&s(o))if(t)o[t]&&(n[t]=a().toNumber(o[t]));else{const{currentPage:e,pageSize:t,total:r}=o;e&&(n.currentPage=e),t&&(n.pageSize=t),r&&(n.total=r)}},te=e=>{const t=N.value,n=b.value,r=n?n.getCheckboxRecords():[];r.length?(n&&n.togglePendingRow(r),Y.clearCheckboxRow()):t&&o.OE.modal&&o.OE.modal.message({id:e,content:wi("vxe.grid.selectOneRecord"),status:"warning"})},ne=(e,t)=>{const n=M.value,r=n.response||n.props||{},o=r.message,i=b.value;let l;return e&&o&&(l=a().isFunction(o)?o({data:e,$table:i,$grid:Y,$gantt:null}):a().get(e,o)),l||wi(t)},re=(e,t,n)=>{const r=N.value,i=Y.getCheckboxRecords();if(r)if(i.length){if(o.OE.modal)return o.OE.modal.confirm({id:`cfm_${e}`,content:wi(t),escClosable:!0}).then(e=>{if("confirm"===e)return n()})}else o.OE.modal&&o.OE.modal.message({id:`msg_${e}`,content:wi("vxe.grid.selectOneRecord"),status:"warning"});else i.length&&n();return Promise.resolve()},oe=t=>{const{proxyConfig:n}=e,{tablePage:r}=m,{$event:o,currentPage:i,pageSize:a}=t,l=M.value;r.currentPage=i,r.pageSize=a,Y.dispatchEvent("page-change",t,o),n&&s(l)&&Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,o)})},ie=t=>{const n=b.value,{proxyConfig:r}=e;if(!n)return;const{computeSortOpts:o}=n.getComputeMaps(),i=M.value,a=o.value;a.remote&&(m.sortData=t.sortList,r&&s(i)&&(m.tablePage.currentPage=1,Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,t.$event)})))},ae=e=>{ie(e),Y.dispatchEvent("sort-change",e,e.$event)},le=e=>{ie(e),Y.dispatchEvent("clear-all-sort",e,e.$event)},se=t=>{const n=b.value,{proxyConfig:r}=e;if(!n)return;const{computeFilterOpts:o}=n.getComputeMaps(),i=M.value,a=o.value;a.remote&&(m.filterData=t.filterList,r&&s(i)&&(m.tablePage.currentPage=1,Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,t.$event)})))},ce=e=>{se(e),Y.dispatchEvent("filter-change",e,e.$event)},ue=e=>{se(e),Y.dispatchEvent("clear-all-filter",e,e.$event)},de=t=>{const{proxyConfig:n}=e,r=M.value;m.tableLoading||(n&&s(r)&&Y.commitProxy("reload").then(e=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)}),Y.dispatchEvent("form-submit",t,t.$event))},pe=t=>{const n=b.value,{proxyConfig:r}=e,{$event:o}=t,i=M.value;r&&s(i)&&(n&&n.clearScroll(),Y.commitProxy("reload").then(e=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),o)})),Y.dispatchEvent("form-reset",t,o)},fe=e=>{Y.dispatchEvent("form-submit-invalid",e,e.$event)},he=e=>{const{$event:t}=e;Y.dispatchEvent("form-toggle-collapse",e,t),Y.dispatchEvent("form-collapse",e,t)},me=e=>{const{isZMax:t}=m;return(e?!t:t)&&(m.isZMax=!t,m.tZindex<p()&&(m.tZindex=d())),(0,K.nextTick)().then(()=>Y.recalculate(!0)).then(()=>(setTimeout(()=>Y.recalculate(!0),15),m.isZMax))},ve=(e,t)=>{const n=e[t];if(n){if(!a().isString(n))return n;if(r[n])return r[n];ee("vxe.error.notSlot",[`[grid] ${n}`])}return null},we=e=>{const t={};return a().objectMap(e,(e,n)=>{e&&(a().isString(e)?r[e]?t[n]=r[e]:ee("vxe.error.notSlot",[`[grid] ${e}`]):t[n]=e)}),t},Ce=()=>{const{formConfig:t,proxyConfig:n}=e,{formData:o}=m,i=M.value,l=F.value;if(t&&s(l)||r.form){let e=[];if(r.form)e=r.form({$grid:Y,$gantt:null});else if(l.items){const t={};if(!l.inited){l.inited=!0;const e=i.beforeItem;i&&e&&l.items.forEach(t=>{e({$grid:Y,$gantt:null,item:t})})}l.items.forEach(e=>{a().each(e.slots,e=>{a().isFunction(e)||r[e]&&(t[e]=r[e])})}),c&&e.push((0,K.h)(c,Object.assign(Object.assign({ref:x},Object.assign({},l,{data:n&&s(i)&&i.form?o:l.data})),{onSubmit:de,onReset:pe,onSubmitInvalid:fe,onCollapse:he}),t))}return(0,K.h)("div",{ref:k,key:"form",class:"vxe-grid--form-wrapper"},e)}return Di(Y)},ke=()=>{const{toolbarConfig:t}=e,n=_.value,o=r.toolbar;if(t&&s(n)||o){let e=[];if(o)e=o({$grid:Y,$gantt:null});else{const t=n.slots,r={};if(t){const e=ve(t,"buttons"),n=ve(t,"buttonPrefix"),o=ve(t,"buttonSuffix"),i=ve(t,"tools"),a=ve(t,"toolPrefix"),l=ve(t,"toolSuffix");e&&(r.buttons=e),n&&(r.buttonPrefix=n),o&&(r.buttonSuffix=o),i&&(r.tools=i),a&&(r.toolPrefix=a),l&&(r.toolSuffix=l)}e.push((0,K.h)(xi,Object.assign(Object.assign({ref:y},n),{slots:void 0}),r))}return(0,K.h)("div",{ref:S,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return Di(Y)},Se=()=>{const e=r.top;return e?(0,K.h)("div",{ref:T,key:"top",class:"vxe-grid--top-wrapper"},e({$grid:Y,$gantt:null})):Di(Y)},Te=()=>{const e=r.left;return e?(0,K.h)("div",{class:"vxe-grid--left-wrapper"},e({$grid:Y,$gantt:null})):Di(Y)},Ee=()=>{const e=r.right;return e?(0,K.h)("div",{class:"vxe-grid--right-wrapper"},e({$grid:Y,$gantt:null})):Di(Y)},Oe=()=>{const{proxyConfig:t}=e,n=$.value,o=M.value,i=Object.assign({},Ne),a=r.empty,l=r.loading,c=r.rowDragIcon||r["row-drag-icon"],u=r.columnDragIcon||r["column-drag-icon"],d=r.headerTooltip||r["header-tooltip"],p=r.tooltip,f=r.footerTooltip||r["footer-tooltip"];t&&s(o)&&(o.sort&&(i.onSortChange=ae,i.onClearAllSort=le),o.filter&&(i.onFilterChange=ce,i.onClearAllFilter=ue));const h={};return a&&(h.empty=a),l&&(h.loading=l),c&&(h.rowDragIcon=c),u&&(h.columnDragIcon=u),d&&(h.headerTooltip=d),p&&(h.tooltip=p),f&&(h.footerTooltip=f),(0,K.h)("div",{class:"vxe-grid--table-wrapper"},[(0,K.h)(ui,Object.assign(Object.assign({ref:b},n),i),h)])},De=()=>r.bottom?(0,K.h)("div",{ref:E,key:"bottom",class:"vxe-grid--bottom-wrapper"},r.bottom({$grid:Y,$gantt:null})):Di(Y),Ae=()=>{const{proxyConfig:t,pagerConfig:n}=e,o=M.value,i=R.value,a=r.pager;return n&&s(i)||r.pager?(0,K.h)("div",{ref:O,key:"pager",class:"vxe-grid--pager-wrapper"},a?a({$grid:Y,$gantt:null}):[u?(0,K.h)(u,Object.assign(Object.assign(Object.assign({ref:w},i),t&&s(o)?m.tablePage:{}),{onPageChange:oe}),we(i.slots)):Di(Y)]):Di(Y)},Me=e=>{const t=[];return e.forEach(e=>{switch(e){case"Form":t.push(Ce());break;case"Toolbar":t.push(ke());break;case"Top":t.push(Se());break;case"Table":t.push((0,K.h)("div",{key:"table",class:"vxe-grid--table-container"},[Te(),Oe(),Ee()]));break;case"Bottom":t.push(De());break;case"Pager":t.push(Ae());break;default:ee("vxe.error.notProp",[`[grid] layouts -> ${e}`]);break}}),t},Ie=()=>{const e=z.value,{headKeys:t,bodyKeys:n,footKeys:o}=e,i=r.asideLeft||r["aside-left"],a=r.asideRight||r["aside-right"];return[(0,K.h)("div",{class:"vxe-grid--layout-header-wrapper"},Me(t)),(0,K.h)("div",{class:"vxe-grid--layout-body-wrapper"},[i?(0,K.h)("div",{class:"vxe-grid--layout-aside-left-wrapper"},i({})):Di(Y),(0,K.h)("div",{class:"vxe-grid--layout-body-content-wrapper"},Me(n)),a?(0,K.h)("div",{class:"vxe-grid--layout-aside-right-wrapper"},a({})):Di(Y)]),(0,K.h)("div",{class:"vxe-grid--layout-footer-wrapper"},Me(o)),(0,K.h)("div",{ref:C})]},Ne={};nn.forEach(e=>{const t=a().camelCase(`on-${e}`);Ne[t]=(...t)=>i(e,...t)});const Re=()=>{const e=F.value;if(e.items){const t={};return e.items.forEach(e=>{const{field:n,itemRender:r}=e;if(n){let o=null;if(r){const{startField:n,endField:i,defaultValue:l}=r;a().isFunction(l)?o=l({item:e}):a().isUndefined(l)||(o=l),n&&i&&(a().set(t,n,null),a().set(t,i,null))}t[n]=o}}),t}return{}},Fe=()=>{const{proxyConfig:t,formConfig:n}=e,{proxyInited:r}=m,o=M.value,i=F.value;t&&s(o)&&(n&&s(i)&&o.form&&i.items&&(m.formData=Re()),r||(m.proxyInited=!0,!1!==o.autoLoad&&(0,K.nextTick)().then(()=>Y.commitProxy("initial")).then(e=>{Pe("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("initial"))})))},_e=e=>{const t=P.value,n=Ei.hasKey(e,Oi.ESCAPE);n&&m.isZMax&&!1!==t.escRestore&&Y.triggerZoomEvent(e)},Pe=(e,t,n)=>{i(e,Ti(n,{$grid:Y,$gantt:null},t))},je={dispatchEvent:Pe,getEl(){return v.value},commitProxy(t,...n){const{proxyConfig:r,toolbarConfig:i,pagerConfig:l,editRules:c,validConfig:u}=e,{tablePage:d}=m,p=N.value,f=I.value,h=M.value,g=R.value,v=_.value,{beforeQuery:x,afterQuery:y,beforeDelete:w,afterDelete:C,beforeSave:k,afterSave:S,ajax:T={}}=h,E=h.response||h.props||{},O=b.value;if(!O)return(0,K.nextTick)();let D=Z(),A=null,F=null;if(a().isString(t)){const{buttons:e}=v,n=i&&s(v)&&e?a().findTree(e,e=>e.code===t,{children:"dropdowns"}):null;A=n?n.item:null,F=t}else A=t,F=A.code;const P=A?A.params:null;switch(F){case"insert":return O.insert({});case"insert_edit":return O.insert({}).then(({row:e})=>O.setEditRow(e,!0));case"insert_actived":return O.insert({}).then(({row:e})=>O.setEditRow(e,!0));case"mark_cancel":te(F);break;case"remove":return re(F,"vxe.grid.removeSelectRecord",()=>O.removeCheckboxRow());case"import":O.importData(P);break;case"open_import":O.openImport(P);break;case"export":O.exportData(P);break;case"open_export":O.openExport(P);break;case"reset_custom":return O.resetCustom(!0);case"initial":case"reload":case"query":{const e=T.query,t=T.querySuccess,o=T.queryError;if(e){const i="initial"===F,c="reload"===F;if(!i&&m.tableLoading)return(0,K.nextTick)();let u=[],p=[],f={};if(l&&((i||c)&&(d.currentPage=1),s(g)&&(f=Object.assign({},d))),i){if(r&&s(h)&&h.form&&(D=Re(),m.formData=D),O){const e=O.internalData,{tableFullColumn:t,fullColumnFieldData:n}=e,{computeSortOpts:r}=O.getComputeMaps(),o=r.value;let i=o.defaultSort;t.forEach(e=>{e.order=null}),i&&(a().isArray(i)||(i=[i]),u=i.map(e=>{const{field:t,order:r}=e,o=n[t];if(o){const e=o.column;e&&(e.order=r)}return{field:t,property:t,order:r}})),p=O.getCheckedFilters()}}else O&&(c?O.clearAll():(u=O.getSortColumns(),p=O.getCheckedFilters()));const v={$table:O,$grid:Y,$gantt:null,code:F,button:A,isInited:i,isReload:c,page:f,sort:u.length?u[0]:{},sorts:u,filters:p,form:D,options:e};return m.sortData=u,m.filterData=p,m.tableLoading=!0,Promise.resolve((x||e)(v,...n)).then(e=>{let r=[];if(m.tableLoading=!1,e)if(l&&s(g)){const t=E.total,n=(a().isFunction(t)?t({data:e,$table:O,$grid:Y,$gantt:null}):a().get(e,t||"page.total"))||0;d.total=a().toNumber(n);const o=E.result;r=(a().isFunction(o)?o({data:e,$table:O,$grid:Y,$gantt:null}):a().get(e,o||"result"))||[];const i=Math.max(Math.ceil(n/d.pageSize),1);d.currentPage>i&&(d.currentPage=i)}else{const t=E.list;r=(t?a().isFunction(t)?t({data:e,$table:O,$grid:Y,$gantt:null}):a().get(e,t):e)||[]}return O?O.loadData(r):(0,K.nextTick)(()=>{O&&O.loadData(r)}),y&&y(v,...n),t&&t(Object.assign(Object.assign({},v),{response:e})),{status:!0}}).catch(e=>(m.tableLoading=!1,o&&o(Object.assign(Object.assign({},v),{response:e})),{status:!1}))}ee("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"delete":{const e=T.delete,t=T.deleteSuccess,r=T.deleteError;if(e){const i=Y.getCheckboxRecords(),a=i.filter(e=>!O.isInsertByRow(e)),l={removeRecords:a},s={$table:O,$grid:Y,$gantt:null,code:F,button:A,body:l,form:D,options:e};if(i.length)return re(F,"vxe.grid.deleteSelectRecord",()=>a.length?(m.tableLoading=!0,Promise.resolve((w||e)(s,...n)).then(e=>(m.tableLoading=!1,O.setPendingRow(a,!1),f&&o.OE.modal&&o.OE.modal.message({content:ne(e,"vxe.grid.delSuccess"),status:"success"}),C?C(s,...n):Y.commitProxy("query"),t&&t(Object.assign(Object.assign({},s),{response:e})),{status:!0})).catch(e=>(m.tableLoading=!1,f&&o.OE.modal&&o.OE.modal.message({id:F,content:ne(e,"vxe.grid.operError"),status:"error"}),r&&r(Object.assign(Object.assign({},s),{response:e})),{status:!1}))):O.remove(i));p&&o.OE.modal&&o.OE.modal.message({id:F,content:wi("vxe.grid.selectOneRecord"),status:"warning"})}else ee("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const e=T.save,t=T.saveSuccess,r=T.saveError;if(e){const i=O.getRecordset(),{insertRecords:a,removeRecords:l,updateRecords:s,pendingRecords:d}=i,h={$table:O,$grid:Y,$gantt:null,code:F,button:A,body:i,form:D,options:e};a.length&&(i.pendingRecords=d.filter(e=>-1===O.findRowIndexOf(a,e))),d.length&&(i.insertRecords=a.filter(e=>-1===O.findRowIndexOf(d,e)));let g=Promise.resolve();return c&&(g=O[u&&"full"===u.msgMode?"fullValidate":"validate"](i.insertRecords.concat(s))),g.then(a=>{if(!a)return i.insertRecords.length||l.length||s.length||i.pendingRecords.length?(m.tableLoading=!0,Promise.resolve((k||e)(h,...n)).then(e=>(m.tableLoading=!1,O.clearPendingRow(),f&&o.OE.modal&&o.OE.modal.message({content:ne(e,"vxe.grid.saveSuccess"),status:"success"}),S?S(h,...n):Y.commitProxy("query"),t&&t(Object.assign(Object.assign({},h),{response:e})),{status:!0})).catch(e=>(m.tableLoading=!1,f&&o.OE.modal&&o.OE.modal.message({id:F,content:ne(e,"vxe.grid.operError"),status:"error"}),r&&r(Object.assign(Object.assign({},h),{response:e})),{status:!1}))):void(p&&o.OE.modal&&o.OE.modal.message({id:F,content:wi("vxe.grid.dataUnchanged"),status:"info"}))})}ee("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const e=Ci.get(F);if(e){const t=e.tableCommandMethod||e.commandMethod;t?t({code:F,button:A,$grid:Y,$table:O,$gantt:null},...n):ee("vxe.error.notCommands",[`[grid] ${F}`])}}}return(0,K.nextTick)()},getParams(){return e.params},zoom(){return m.isZMax?Y.revert():Y.maximize()},isMaximized(){return m.isZMax},maximize(){return me(!0)},revert(){return me()},getFormData:Z,getFormItems(t){const n=F.value,{formConfig:r}=e,{items:o}=n,i=[];return a().eachTree(r&&s(n)&&o?o:[],e=>{i.push(e)},{children:"children"}),a().isUndefined(t)?i:i[t]},resetForm(){const e=x.value;return e?e.reset():(0,K.nextTick)()},validateForm(){const e=x.value;return e?e.validate():(0,K.nextTick)()},validateFormField(e){const t=x.value;return t?t.validateField(e):(0,K.nextTick)()},clearFormValidate(e){const t=x.value;return t?t.clearValidate(e):(0,K.nextTick)()},homePage(){const{tablePage:e}=m;return e.currentPage=1,(0,K.nextTick)()},homePageByEvent(e){const t=w.value;t&&t.homePageByEvent(e)},endPage(){const{tablePage:e}=m,t=W.value;return e.currentPage=t,(0,K.nextTick)()},endPageByEvent(e){const t=w.value;t&&t.endPageByEvent(e)},setCurrentPage(e){const{tablePage:t}=m,n=W.value;return t.currentPage=Math.min(n,Math.max(1,a().toNumber(e))),(0,K.nextTick)()},setCurrentPageByEvent(e,t){const n=w.value;n&&n.setCurrentPageByEvent(e,t)},setPageSize(e){const{tablePage:t}=m;return t.pageSize=Math.max(1,a().toNumber(e)),(0,K.nextTick)()},setPageSizeByEvent(e,t){const n=w.value;n&&n.setPageSizeByEvent(e,t)},getProxyInfo(){const t=b.value;if(e.proxyConfig){const{sortData:e}=m;return{data:t?t.getFullData():[],filter:m.filterData,form:Z(),sort:e.length?e[0]:{},sorts:e,pager:m.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}},Le={extendTableMethods:D,callSlot(e,t){return e&&(a().isString(e)&&(e=r[e]||null),a().isFunction(e))?St(e(t)):[]},getExcludeHeight(){const{isZMax:e}=m,t=v.value;if(t){const n=k.value,r=S.value,o=T.value,i=E.value,a=O.value,l=t.parentElement,s=e?0:l?ye(l):0;return s+ye(t)+xe(n)+xe(r)+xe(o)+xe(i)+xe(a)}return 0},getParentHeight(){const e=v.value;if(e){const t=e.parentElement;return(m.isZMax?be().visibleHeight:t?a().toNumber(getComputedStyle(t).height):0)-Le.getExcludeHeight()}return 0},triggerToolbarCommitEvent(e,t){const{code:n}=e;return Y.commitProxy(e,t).then(e=>{n&&e&&e.status&&["query","reload","delete","save"].includes(n)&&Y.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)})},triggerToolbarBtnEvent(e,t){Y.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){Y.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){Y.zoom(),Y.dispatchEvent("zoom",{type:m.isZMax?"max":"revert"},e)}};Object.assign(Y,A,je,Le,{loadColumn(e){const t=b.value;return a().eachTree(e,e=>{e.slots&&a().each(e.slots,e=>{a().isFunction(e)||r[e]||ee("vxe.error.notSlot",[`[grid] ${e}`])})}),t?t.loadColumn(e):(0,K.nextTick)()},reloadColumn(e){return Y.clearAll(),Y.loadColumn(e)}});const $e=()=>{const t=h.value,n=j.value,r=q.value;return(0,K.h)("div",{ref:v,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":m.isZMax,"is--loading":r}],style:n},Ie())},ze=(0,K.ref)(0);return(0,K.watch)(()=>e.columns?e.columns.length:-1,()=>{ze.value++}),(0,K.watch)(()=>e.columns,()=>{ze.value++}),(0,K.watch)(ze,()=>{(0,K.nextTick)(()=>Y.loadColumn(e.columns||[]))}),(0,K.watch)(()=>e.toolbarConfig,()=>{X()}),(0,K.watch)(V,()=>{J("currentPage")}),(0,K.watch)(B,()=>{J("pageSize")}),(0,K.watch)(H,()=>{J("total")}),(0,K.watch)(()=>e.proxyConfig,()=>{Fe()}),ki.forEach(e=>{const{setupGrid:t}=e;if(t){const e=t(Y);e&&a().isObject(e)&&Object.assign(Y,e)}}),J(),(0,K.onMounted)(()=>{(0,K.nextTick)(()=>{const{columns:t}=e,n=M.value;e.formConfig&&(c||ee("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(u||ee("vxe.error.reqComp",["vxe-pager"])),n.props&&Q("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),t&&t.length&&Y.loadColumn(t),X(),Fe()}),Ei.on(Y,"keydown",_e)}),(0,K.onUnmounted)(()=>{Ei.off(Y,"keydown"),a().assign(g,Ii())}),Y.renderVN=$e,(0,K.provide)("$xeGrid",Y),(0,K.provide)("$xeGantt",null),Y},render(){return this.renderVN()}});const Ri=Object.assign({},Ni,{install(e){e.component(Ni.name,Ni)}});o.OE.dynamicApp&&o.OE.dynamicApp.component(Ni.name,Ni),o.OE.component(Ni);const Fi=Ri;function _i(e){const t=(0,K.computed)(()=>{const{renderParams:t}=e;return t.column}),n=(0,K.computed)(()=>{const{renderParams:t}=e;return t.row}),r=(0,K.computed)(()=>{const{renderOpts:t}=e;return t.props||{}}),o=(0,K.computed)({get(){const{renderParams:t}=e,{row:n,column:r}=t;return a().get(n,r.field)},set(t){const{renderParams:n}=e,{row:r,column:o}=n;return a().set(r,o.field,t)}});return{currColumn:t,currRow:n,cellModel:o,cellOptions:r}}const Pi=Object.assign({},ui,{install(e){e.component(ui.name,ui)}}),ji={useCellView:_i};o.OE.dynamicApp&&o.OE.dynamicApp.component(ui.name,ui),o.OE.component(ui),o.OE.tableHandle=ji;const Li=Pi;const $i=Object.assign({},xi,{install(e){e.component(xi.name,xi)}});o.OE.dynamicApp&&o.OE.dynamicApp.component(xi.name,xi),o.OE.component(xi);const zi=$i;var Vi={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};const Bi=[Gt,Xt,Ri,Pi,$i];function Hi(e,t){o.OE.setConfig(t),Bi.forEach(t=>t.install(e))}if(!o.OE.hasLanguage("zh-CN")){const e="zh-CN";o.OE.setI18n(e,Vi),o.OE.setLanguage(e)}o.OE.setTheme("light");var Wi=r},9830:function(e,t,n){"use strict";var r=n(7434),o=n(5326),i=n(6676),a=n(2371),l=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,l(e))}},9858:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return i(t,function(t,r){if(e(t,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9868:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9926:function(e,t,n){"use strict";var r=n(3359),o=TypeError;e.exports=function(e){if(r(e))throw new o("ArrayBuffer is detached");return e}},9963:function(e){"use strict";e.exports=Function.prototype.apply},9988:function(e){"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}}}]);