(self["webpackChunkcimo"]=self["webpackChunkcimo"]||[]).push([[558],{13986:function(e,o,l){"use strict";var a=l(74413),t=l(27454),n=l.n(t),s=l(76661),r=l(57695);const i=a.A.create({baseURL:s.c.baseURL,timeout:s.c.timeOut});i.interceptors.request.use(e=>{const o=sessionStorage.getItem("access_token");if(o&&(e.headers.Authorization="Bearer "+o),e.type)switch(e.type){case"FORM-DATA":e.transformRequest=[e=>"args="+JSON.stringify(e)];break;case"FORM":e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=n().stringify(e.data);break;default:break}return e},e=>Promise.reject(e)),i.interceptors.response.use(e=>("object"==typeof e.data&&Object.keys(e.data).includes("Success")&&!0!==e.data.Success&&r.oR.error(e.data.Message||`请求失败:${e.request.responseURL}`,{autoClose:3e3,position:"top-center"}),e.data),e=>{if("ECONNABORTED"===e.code||e.message&&-1!==e.message.indexOf("timeout")||"Network Error"===e.message)return r.oR.error("网络异常",{autoClose:3e3,position:"top-center"}),Promise.reject(e);if(e.response)switch(e.response.status){case 400:r.oR.error("请求错误:"+e.response.data.Message||0,{autoClose:3e3,position:"top-center"});break;case 403:r.oR.error("拒绝访问(403)",{autoClose:3e3,position:"top-center"});break;case 404:r.oR.error("资源不存在(404)",{autoClose:3e3,position:"top-center"});break;case 408:r.oR.error("请求超时(408)",{autoClose:3e3,position:"top-center"});break;case 500:r.oR.error("服务器错误(500)",{autoClose:3e3,position:"top-center"});break;case 501:r.oR.error("服务未实现(501)",{autoClose:3e3,position:"top-center"});break;case 502:r.oR.error("网络错误(502)",{autoClose:3e3,position:"top-center"});break;case 503:r.oR.error("服务不可用(503)",{autoClose:3e3,position:"top-center"});break;case 504:r.oR.error("网络超时(504)",{autoClose:3e3,position:"top-center"});break;case 505:r.oR.error("HTTP版本不受支持(505)",{autoClose:3e3,position:"top-center"});break;default:break}return Promise.reject(e)}),o.A=i},19165:function(e,o,l){"use strict";l.r(o),l.d(o,{default:function(){return Ue}});var a=l(74220),t=l(46732),n=l(97700),s=l(39798),r=l(57695),i=l(13986),u=l(76661);const c={class:"menu-container"},d={class:"q-mb-lg"},p={class:"row items-center justify-between"},m={class:"col-auto"},v={class:"q-gutter-sm"},b={class:"col-auto"},k={class:"row items-center full-width menu-node"},f={class:"col"},g={class:"row items-center q-gutter-sm"},h={class:"text-weight-bold"},C=["href"],y={key:1,class:"text-grey-8"},F={class:"text-caption text-grey-7 q-mt-xs"},_={key:0},L={key:1,class:"q-ml-md"},x={key:2,class:"q-ml-md"},w=["src"],q={class:"col-auto"},R={class:"q-gutter-xs"},I={class:"text-subtitle2"},U={class:"row"},A={class:"col text-h6 flex items-center"},V={class:"form-section"},Q={class:"section-title"},S={class:"row q-gutter-md q-mb-md"},N={class:"col-12"},W={class:"row q-gutter-md q-mb-md"},T={class:"col-12"},M={class:"row q-gutter-md q-mb-md"},D={class:"col-12"},E={class:"text-caption"},K={class:"form-section"},P={class:"section-title"},z={class:"row q-gutter-md q-mb-md"},X={class:"col"},$={class:"col"},O={class:"row q-mb-md"},j={class:"col-12"},B={class:"row items-center"},H={class:"form-section"},J={class:"section-title"},G={class:"row q-gutter-md q-mb-md"},Y={class:"col"},Z={key:0,class:"icon-preview-card"},ee={class:"icon-preview-container"},oe=["src"],le={class:"text-caption text-grey-6 q-mt-sm"},ae={key:1,class:"text-center q-py-md"};var te=(0,a.pM)({__name:"index",setup(e){const o=(0,t.KR)(!1),l=(0,t.KR)(!1),te=(0,t.KR)(!1),ne=(0,t.KR)(""),se=(0,t.KR)([]),re=(0,t.KR)([]),ie=(0,t.KR)(!1),ue=(0,t.KR)(!1),ce=(0,t.KR)(""),de=(0,t.KR)({}),pe=(0,t.KR)(!1),me=(0,t.KR)(null),ve=(0,t.KR)([]),be=(0,t.KR)([]),ke=(0,t.KR)(null),fe=(0,a.EW)(()=>ne.value?ge(se.value,ne.value):se.value),ge=(e,o)=>e.reduce((e,l)=>{const a=l.Name.toLowerCase().includes(o.toLowerCase()),t=l.Children?ge(l.Children,o):[];return(a||t.length>0)&&e.push({...l,Children:t}),e},[]),he=(e,o)=>e.Name.toLowerCase().includes(o.toLowerCase()),Ce=e=>{const o=ve.value.find(o=>o.e===e);return o?o.name:"未知"},ye=(e,o)=>{for(const l of e){if(l.Id===o)return l;if(l.Children){const e=ye(l.Children,o);if(e)return e}}return null},Fe=(e,o,l)=>{const a=ye(l,e);if(!a||!a.Children)return!1;for(const t of a.Children){if(t.Id===o)return!0;if(t.Children&&Fe(t.Id,o,l))return!0}return!1},_e=e=>{const o=[{label:"无（根级菜单）",value:null}],l=(a,t=[])=>{a.forEach(a=>{const n=[...t,a.Name];if(e&&a.Id===e)a.Children&&a.Children.length>0&&l(a.Children,n);else if(!e||!Fe(e,a.Id,se.value)){if(!a.Url||"#"===a.Url){const e=n.join(" > ");o.push({label:`${e}`,value:a.Id})}a.Children&&a.Children.length>0&&l(a.Children,n)}})};return l(se.value),o},Le=async()=>{o.value=!0;try{const e=await i.A.get("/menu/getmenus");e?.Data&&(se.value=e.Data,0===re.value.length&&(re.value=se.value.map(e=>e.Id)))}catch(e){console.error("加载菜单失败:",e),r.oR.error("加载菜单失败",{autoClose:3e3,position:"top-center"})}finally{o.value=!1}},xe=async()=>{try{const e=await i.A.get("/menu/getmenutype");e?.Data&&(ve.value=e.Data)}catch(e){console.error("加载菜单类型失败:",e),r.oR.error("加载菜单类型失败",{autoClose:3e3,position:"top-center"})}},we=()=>{const e=[],o=l=>{l.forEach(l=>{e.push(l.Id),l.Children&&o(l.Children)})};o(se.value),re.value=e},qe=()=>{te.value=!te.value,te.value?we():re.value=[]},Re=e=>{re.value=e},Ie=()=>{},Ue=(e,o,l=null)=>{for(let a=0;a<e.length;a++){if(e[a].Id===o)return{menu:e[a],parent:l,siblings:e,index:a};if(e[a].Children){const l=Ue(e[a].Children,o,e[a]);if(l)return l}}return null},Ae=async(e,o)=>{try{const l={...e,Sort:o},a=await i.A.post("/menu/save",l);!0!==a?.Success&&r.oR.error("排序更新失败",{autoClose:3e3,position:"top-center"})}catch(l){console.error("更新排序失败:",l),r.oR.error("更新排序失败",{autoClose:3e3,position:"top-center"})}},Ve=async e=>{const o=Ue(se.value,e.Id);if(!o||0===o.index)return;const{siblings:l,index:a}=o,t=l[a-1],n=e.Sort;await Ae(e,t.Sort),await Ae(t,n),Le()},Qe=async e=>{const o=Ue(se.value,e.Id);if(!o||o.index===o.siblings.length-1)return;const{siblings:l,index:a}=o,t=l[a+1],n=e.Sort;await Ae(e,t.Sort),await Ae(t,n),Le()},Se=()=>{const e=se.value[se.value.length-1];de.value={Name:"",Url:"",Sort:e?e.Sort+10*(e.Children?.length||1):10,MenuType:0,NewTab:!1,Icon:"",ParentId:null},be.value=_e(),ce.value="新增根菜单",ie.value=!0},Ne=e=>{e.Url&&"#"!==e.Url?r.oR.error(`菜单【${e.Name}】是一个有链接的菜单，不能作为父级菜单`,{autoClose:3e3,position:"top-center"}):(de.value={Name:"",Url:"",Sort:10*(e.Sort+(e.Children?.length||0)+1),MenuType:e.MenuType,NewTab:!1,Icon:"",ParentId:e.Id},be.value=_e(),ce.value=`新增子菜单到 "${e.Name}"`,ie.value=!0)},We=e=>{de.value={...e},be.value=_e(e.Id),ce.value="编辑菜单",ie.value=!0},Te=()=>{ie.value=!1,de.value={}},Me=async()=>{if(de.value.Name?.trim()){if(de.value.ParentId){const e=ye(se.value,de.value.ParentId);if(e&&e.Url&&"#"!==e.Url)return void r.oR.error("所选父级菜单有链接地址，不能作为父级菜单",{autoClose:3e3,position:"top-center"})}l.value=!0;try{de.value.Icon&&""!==de.value.Icon.trim()||(de.value.Icon=null);const e=await i.A.post("/menu/save",de.value);!1!==e?.Success?(r.oR.success(e?.Message||"操作成功",{autoClose:3e3,position:"top-center"}),ie.value=!1,de.value={},await Le()):r.oR.error(e?.Message||"操作失败",{autoClose:3e3,position:"top-center"})}catch(e){console.error("保存菜单失败:",e),r.oR.error("保存菜单失败",{autoClose:3e3,position:"top-center"})}finally{l.value=!1}}else r.oR.error("请输入菜单名称",{autoClose:3e3,position:"top-center"})},De=async e=>{try{const o=await i.A.post(`/menu/delete/${e.Id}`);r.oR.success(o?.Message||"删除成功",{autoClose:3e3,position:"top-center"}),await Le()}catch(o){console.error("删除菜单失败:",o),r.oR.error("删除菜单失败",{autoClose:3e3,position:"top-center"})}},Ee=e=>{me.value=e},Ke=e=>{const o=e.target;o.style.display="none"},Pe=e=>{const o=e.target;o.style.display="block"},ze=async()=>{if(me.value){pe.value=!0;try{const e=new FormData;e.append("file",me.value);const o=await i.A.post("/Upload",e,{headers:{"Content-Type":"multipart/form-data"}});o?.Data?(de.value.Icon=o.Data,r.oR.success("图片上传成功",{autoClose:3e3,position:"top-center"}),ue.value=!1,me.value=null):r.oR.error("图片上传失败",{autoClose:3e3,position:"top-center"})}catch(e){console.error("上传图片失败:",e),r.oR.error("上传图片失败",{autoClose:3e3,position:"top-center"})}finally{pe.value=!1}}else r.oR.error("请选择图片文件",{autoClose:3e3,position:"top-center"})};return(0,a.sV)(()=>{Le(),xe()}),(e,r)=>{const i=(0,a.g2)("q-btn"),se=(0,a.g2)("q-icon"),ge=(0,a.g2)("q-input"),ye=(0,a.g2)("q-chip"),Fe=(0,a.g2)("q-tooltip"),_e=(0,a.g2)("q-card-section"),xe=(0,a.g2)("q-card-actions"),Ue=(0,a.g2)("q-card"),Ae=(0,a.g2)("q-popup-proxy"),Xe=(0,a.g2)("q-tree"),$e=(0,a.g2)("q-item-section"),Oe=(0,a.g2)("q-item"),je=(0,a.g2)("q-select"),Be=(0,a.g2)("q-checkbox"),He=(0,a.g2)("q-space"),Je=(0,a.g2)("q-form"),Ge=(0,a.g2)("q-separator"),Ye=(0,a.g2)("q-dialog"),Ze=(0,a.g2)("q-file"),eo=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",c,[r[35]||(r[35]=(0,a.Lk)("div",{class:"text-h4 q-mb-lg"},"导航菜单管理",-1)),(0,a.Lk)("div",d,[(0,a.Lk)("div",p,[(0,a.Lk)("div",m,[(0,a.Lk)("div",v,[(0,a.bF)(i,{color:"positive",icon:"add",label:"新增菜单",onClick:Se}),(0,a.bF)(i,{color:"info",icon:"unfold_more",label:te.value?"收起全部":"展开全部",onClick:qe},null,8,["label"]),(0,a.bF)(i,{color:"primary",icon:"refresh",label:"刷新",onClick:Le,loading:o.value},null,8,["loading"])])]),(0,a.Lk)("div",b,[(0,a.bF)(ge,{modelValue:ne.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>ne.value=e),we],outlined:"",dense:"",placeholder:"搜索菜单名称",autofocus:"",debounce:"100"},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"search"})]),_:1},8,["modelValue"])])])]),(0,a.bF)(Ue,null,{default:(0,a.k6)(()=>[(0,a.bF)(_e,null,{default:(0,a.k6)(()=>[(0,a.bF)(Xe,{ref_key:"treeRef",ref:ke,nodes:fe.value,"node-key":"Id","label-key":"Name","children-key":"Children",expanded:re.value,"onUpdate:expanded":[r[2]||(r[2]=e=>re.value=e),Re],filter:ne.value,"filter-method":he,"no-connectors":"",onLazyLoad:Ie},{"default-header":(0,a.k6)(e=>[(0,a.Lk)("div",k,[(0,a.Lk)("div",f,[(0,a.Lk)("div",g,[(0,a.Lk)("div",h,[e.node.Url&&"#"!==e.node.Url?((0,a.uX)(),(0,a.CE)("a",{key:0,href:e.node.Url.startsWith("http")?e.node.Url:(0,t.R1)(u.A).baseURL+e.node.Url,target:"_blank",class:"text-primary"},(0,n.v_)(e.node.Id)+"："+(0,n.v_)(e.node.Name),9,C)):((0,a.uX)(),(0,a.CE)("span",y,(0,n.v_)(e.node.Id)+"："+(0,n.v_)(e.node.Name),1))]),void 0!==e.node.MenuType?((0,a.uX)(),(0,a.Wv)(ye,{key:0,label:Ce(e.node.MenuType),size:"sm",color:"blue-grey-3","text-color":"white"},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",F,[e.node.Url?((0,a.uX)(),(0,a.CE)("span",_,"URL："+(0,n.v_)(e.node.Url),1)):(0,a.Q3)("",!0),e.node.Sort?((0,a.uX)(),(0,a.CE)("span",L,"排序："+(0,n.v_)(e.node.Sort),1)):(0,a.Q3)("",!0),e.node.Icon?((0,a.uX)(),(0,a.CE)("span",x,[(0,a.Lk)("img",{src:e.node.Icon,style:{height:"20px","vertical-align":"middle"},class:"q-mr-xs"},null,8,w),r[15]||(r[15]=(0,a.eW)(" 图标 ",-1))])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",q,[(0,a.Lk)("div",R,[e.node.Url&&"#"!==e.node.Url?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(i,{key:0,size:"sm",color:"primary",icon:"add",dense:"",round:"",onClick:(0,s.D$)(o=>Ne(e.node),["stop"])},{default:(0,a.k6)(()=>[(0,a.bF)(Fe,null,{default:(0,a.k6)(()=>[...r[16]||(r[16]=[(0,a.eW)("添加子菜单",-1)])]),_:1})]),_:1},8,["onClick"])),(0,a.bF)(i,{size:"sm",color:"purple",icon:"arrow_upward",dense:"",round:"",class:"sort-btn",onClick:(0,s.D$)(o=>Ve(e.node),["stop"])},{default:(0,a.k6)(()=>[(0,a.bF)(Fe,null,{default:(0,a.k6)(()=>[...r[17]||(r[17]=[(0,a.eW)("上移",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.bF)(i,{size:"sm",color:"purple",icon:"arrow_downward",dense:"",round:"",class:"sort-btn",onClick:(0,s.D$)(o=>Qe(e.node),["stop"])},{default:(0,a.k6)(()=>[(0,a.bF)(Fe,null,{default:(0,a.k6)(()=>[...r[18]||(r[18]=[(0,a.eW)("下移",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.bF)(i,{size:"sm",color:"info",icon:"edit",dense:"",round:"",onClick:(0,s.D$)(o=>We(e.node),["stop"])},{default:(0,a.k6)(()=>[(0,a.bF)(Fe,null,{default:(0,a.k6)(()=>[...r[19]||(r[19]=[(0,a.eW)("编辑菜单",-1)])]),_:1})]),_:1},8,["onClick"]),(0,a.bF)(i,{size:"sm",color:"negative",icon:"delete",dense:"",round:"",onClick:r[1]||(r[1]=(0,s.D$)(()=>{},["stop"]))},{default:(0,a.k6)(()=>[(0,a.bF)(Fe,null,{default:(0,a.k6)(()=>[...r[20]||(r[20]=[(0,a.eW)("删除菜单",-1)])]),_:1}),(0,a.bF)(Ae,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(()=>[(0,a.bF)(Ue,{style:{"min-width":"300px"}},{default:(0,a.k6)(()=>[(0,a.bF)(_e,{class:"row items-center"},{default:(0,a.k6)(()=>[(0,a.bF)(se,{name:"warning",color:"red",size:"2rem",class:"q-mr-sm"}),(0,a.Lk)("div",null,[r[23]||(r[23]=(0,a.Lk)("div",{class:"text-h6"},"确认删除",-1)),(0,a.Lk)("div",I,[(0,a.eW)("确认删除菜单【"+(0,n.v_)(e.node.Name)+"】吗？",1),r[21]||(r[21]=(0,a.Lk)("br",null,null,-1)),r[22]||(r[22]=(0,a.eW)("此操作将同时删除其所有子菜单！",-1))])])]),_:2},1024),(0,a.bF)(xe,{align:"right"},{default:(0,a.k6)(()=>[(0,a.bo)((0,a.bF)(i,{flat:"",label:"确认",color:"negative",onClick:o=>De(e.node)},null,8,["onClick"]),[[eo]]),(0,a.bo)((0,a.bF)(i,{flat:"",label:"取消",color:"primary"},null,512),[[eo]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])])]),_:1},8,["nodes","expanded","filter"])]),_:1})]),_:1}),(0,a.bF)(Ye,{modelValue:ie.value,"onUpdate:modelValue":r[11]||(r[11]=e=>ie.value=e),persistent:""},{default:(0,a.k6)(()=>[(0,a.bF)(Ue,{style:{"min-width":"650px","max-width":"800px"}},{default:(0,a.k6)(()=>[(0,a.bF)(_e,{class:"bg-primary text-white"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",U,[(0,a.Lk)("div",A,[(0,a.bF)(se,{name:"edit",class:"q-mr-sm"}),(0,a.eW)(" "+(0,n.v_)(ce.value),1)]),(0,a.bo)((0,a.bF)(i,{color:"primary",round:"",icon:"close",class:"text-right"},null,512),[[eo]])])]),_:1}),(0,a.bF)(_e,{class:"q-pa-lg"},{default:(0,a.k6)(()=>[(0,a.bF)(Je,{onSubmit:Me,class:"menu-form"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",V,[(0,a.Lk)("div",Q,[(0,a.bF)(se,{name:"info",class:"q-mr-xs"}),r[24]||(r[24]=(0,a.eW)(" 基本信息 ",-1))]),(0,a.Lk)("div",S,[(0,a.Lk)("div",N,[(0,a.bF)(ge,{modelValue:de.value.Name,"onUpdate:modelValue":r[3]||(r[3]=e=>de.value.Name=e),label:"菜单名称",outlined:"",rules:[e=>!!e||"请输入菜单名称"],"lazy-rules":""},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"label"})]),_:1},8,["modelValue","rules"])])]),(0,a.Lk)("div",W,[(0,a.Lk)("div",T,[(0,a.bF)(je,{modelValue:de.value.ParentId,"onUpdate:modelValue":r[4]||(r[4]=e=>de.value.ParentId=e),options:be.value,"option-label":"label","option-value":"value","emit-value":"","map-options":"",label:"父级菜单",outlined:"",hint:de.value.ParentId?"已选择父级菜单，此菜单将成为子菜单":"未选择父级菜单，此菜单将是根级菜单"},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"account_tree"})]),"no-option":(0,a.k6)(()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)(()=>[(0,a.bF)($e,{class:"text-grey"},{default:(0,a.k6)(()=>[...r[25]||(r[25]=[(0,a.eW)(" 暂无可用的父级菜单（只有无链接的菜单才能作为父级） ",-1)])]),_:1})]),_:1})]),"after-options":(0,a.k6)(()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)(()=>[(0,a.bF)($e,{class:"text-caption text-blue-grey-6"},{default:(0,a.k6)(()=>[(0,a.bF)(se,{name:"info",size:"xs",class:"q-mr-xs"}),r[26]||(r[26]=(0,a.eW)(' 提示：只有URL为空或"#"的菜单才能作为父级菜单 ',-1))]),_:1})]),_:1})]),_:1},8,["modelValue","options","hint"])])]),(0,a.Lk)("div",M,[(0,a.Lk)("div",D,[(0,a.bF)(ge,{modelValue:de.value.Url,"onUpdate:modelValue":r[5]||(r[5]=e=>de.value.Url=e),label:"URL地址",outlined:"",hint:"留空或#表示父级菜单"},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"link"})]),hint:(0,a.k6)(()=>[(0,a.Lk)("div",E,[(0,a.bF)(se,{name:"info",size:"xs",class:"q-mr-xs"}),r[27]||(r[27]=(0,a.eW)(' 留空或填写"#"表示这是一个父级菜单，可以包含子菜单 ',-1))])]),_:1},8,["modelValue"])])])]),(0,a.Lk)("div",K,[(0,a.Lk)("div",P,[(0,a.bF)(se,{name:"settings",class:"q-mr-xs"}),r[28]||(r[28]=(0,a.eW)(" 配置信息 ",-1))]),(0,a.Lk)("div",z,[(0,a.Lk)("div",X,[(0,a.bF)(ge,{modelValue:de.value.Sort,"onUpdate:modelValue":r[6]||(r[6]=e=>de.value.Sort=e),modelModifiers:{number:!0},label:"排序号",outlined:"",type:"number",min:"0",step:"10"},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"sort"})]),hint:(0,a.k6)(()=>[...r[29]||(r[29]=[(0,a.eW)(" 数值越小排序越靠前 ",-1)])]),_:1},8,["modelValue"])]),(0,a.Lk)("div",$,[(0,a.bF)(je,{modelValue:de.value.MenuType,"onUpdate:modelValue":r[7]||(r[7]=e=>de.value.MenuType=e),options:ve.value,"option-label":"name","option-value":"e","emit-value":"","map-options":"",label:"菜单类型",outlined:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"category"})]),_:1},8,["modelValue","options"])])]),(0,a.Lk)("div",O,[(0,a.Lk)("div",j,[(0,a.bF)(Ue,{flat:"",bordered:"",class:"bg-grey-1 q-pa-md"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",B,[(0,a.bF)(Be,{modelValue:de.value.NewTab,"onUpdate:modelValue":r[8]||(r[8]=e=>de.value.NewTab=e),label:"在新标签页中打开链接",class:"text-weight-medium"},null,8,["modelValue"]),(0,a.bF)(He),(0,a.bF)(se,{name:"open_in_new",color:"grey-6"})]),r[30]||(r[30]=(0,a.Lk)("div",{class:"text-caption text-grey-7 q-mt-xs"}," 启用后，点击此菜单链接将在新的浏览器标签页中打开 ",-1))]),_:1})])])]),(0,a.Lk)("div",H,[(0,a.Lk)("div",J,[(0,a.bF)(se,{name:"image",class:"q-mr-xs"}),r[31]||(r[31]=(0,a.eW)(" 图标设置 ",-1))]),(0,a.Lk)("div",G,[(0,a.Lk)("div",Y,[(0,a.bF)(ge,{modelValue:de.value.Icon,"onUpdate:modelValue":r[10]||(r[10]=e=>de.value.Icon=e),label:"图标地址",outlined:"",hint:"请输入图标URL或上传图片",clearable:""},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"insert_photo"})]),append:(0,a.k6)(()=>[(0,a.bF)(i,{color:"positive",icon:"upload",label:"上传图片",onClick:r[9]||(r[9]=e=>ue.value=!0)})]),_:1},8,["modelValue"])])]),de.value.Icon?((0,a.uX)(),(0,a.CE)("div",Z,[(0,a.bF)(Ue,{flat:"",bordered:"",class:"bg-grey-1"},{default:(0,a.k6)(()=>[(0,a.bF)(_e,{class:"text-center q-py-md"},{default:(0,a.k6)(()=>[r[32]||(r[32]=(0,a.Lk)("div",{class:"text-caption text-grey-7 q-mb-sm"},"图标预览",-1)),(0,a.Lk)("div",ee,[(0,a.Lk)("img",{src:de.value.Icon?.startsWith("http")?de.value.Icon:(0,t.R1)(u.A).baseURL+de.value.Icon,class:"icon-preview-image",onError:Ke,onLoad:Pe,style:{"min-height":"160px","max-width":"100%",height:"auto"}},null,40,oe)]),(0,a.Lk)("div",le,(0,n.v_)(de.value.Icon),1)]),_:1})]),_:1})])):((0,a.uX)(),(0,a.CE)("div",ae,[(0,a.bF)(se,{name:"image",size:"48px",color:"grey-4"}),r[33]||(r[33]=(0,a.Lk)("div",{class:"text-caption text-grey-6 q-mt-sm"}," 暂无图标，可上传图片或输入图标URL ",-1))]))])]),_:1})]),_:1}),(0,a.bF)(Ge),(0,a.bF)(xe,{align:"right",class:"q-pa-lg bg-grey-1"},{default:(0,a.k6)(()=>[(0,a.bF)(i,{flat:"",label:"取消",color:"grey-7",onClick:Te,class:"q-mr-sm"}),(0,a.bF)(i,{label:"保存",color:"primary",onClick:Me,loading:l.value,unelevated:"",icon:"save"},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,a.bF)(Ye,{modelValue:ue.value,"onUpdate:modelValue":r[14]||(r[14]=e=>ue.value=e),persistent:""},{default:(0,a.k6)(()=>[(0,a.bF)(Ue,{style:{"min-width":"400px"}},{default:(0,a.k6)(()=>[(0,a.bF)(_e,null,{default:(0,a.k6)(()=>[...r[34]||(r[34]=[(0,a.Lk)("div",{class:"text-h6"},"上传图标",-1)])]),_:1}),(0,a.bF)(_e,{class:"q-pt-none"},{default:(0,a.k6)(()=>[(0,a.bF)(Ze,{modelValue:me.value,"onUpdate:modelValue":r[12]||(r[12]=e=>me.value=e),label:"选择图片文件",outlined:"",accept:"image/*",onInput:Ee},{prepend:(0,a.k6)(()=>[(0,a.bF)(se,{name:"image"})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(xe,{align:"right"},{default:(0,a.k6)(()=>[(0,a.bF)(i,{flat:"",label:"取消",color:"grey",onClick:r[13]||(r[13]=e=>ue.value=!1)}),(0,a.bF)(i,{label:"上传",color:"primary",onClick:ze,loading:pe.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),ne=l(1317),se=l(20407),re=l(38622),ie=l(64503),ue=l(63663),ce=l(17180),de=l(26455),pe=l(97491),me=l(76997),ve=l(34854),be=l(71248),ke=l(51375),fe=l(93483),ge=l(40975),he=l(93359),Ce=l(91484),ye=l(78495),Fe=l(25915),_e=l(5861),Le=l(61929),xe=l(45855),we=l(60515),qe=l(22110),Re=l.n(qe);const Ie=(0,ne.A)(te,[["__scopeId","data-v-7e36c16f"]]);var Ue=Ie;Re()(te,"components",{QBtn:se.A,QInput:re.A,QIcon:ie.A,QCard:ue.A,QCardSection:ce.A,QTree:de.A,QChip:pe.A,QTooltip:me.A,QPopupProxy:ve.A,QCardActions:be.A,QDialog:ke.A,QForm:fe.A,QSelect:ge.A,QItem:he.A,QItemSection:Ce.A,QCheckbox:ye.A,QSpace:Fe.A,QSeparator:_e.A,QFile:Le.A,QField:xe.A}),Re()(te,"directives",{ClosePopup:we.A})},42634:function(){}}]);